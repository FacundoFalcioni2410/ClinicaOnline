<div class="container text-white">
    <ul class="nav nav-pills nav-fill">
        <li class="nav-item mx-2 my-1 noselect">
          <a class="nav-link bg-info text-dark" (click)='cambiarTipoUser("Pacientes")'>Pacientes</a>
        </li>
        <li class="nav-item mx-2 my-1 noselect">
          <a class="nav-link bg-info text-dark" (click)='cambiarTipoUser("Especialistas")'>Especialistas</a>
        </li>
        <li class="nav-item mx-2 mt-1 mb-2 noselect">
          <a class="nav-link bg-info text-dark" (click)='cambiarTipoUser("Administradores")'>Administradores</a>
        </li>
        <li class="nav-item mx-2 mt-1 mb-2 noselect" *ngIf="this.tipoUser === 'Administradores'">
            <a class="nav-link bg-warning text-dark" (click)='this.registroAdministrador = true;'>Agregar administrador</a>
        </li>
      </ul>

    <div class="row justify-content-center aling-items-center">
        <div class="col-12 col-md-6 d-flex justify-content-center">
            <button class="btn btn-warning mb-2" (click)="downloadExcel()">Descargar excel con todos los usuarios</button>
        </div>
        <!-- <div class="col-12 col-md-6 d-flex justify-content-center">
            <button *ngIf="this.usuarios !== null" class="btn btn-info w-50 d-block m-auto mt-2" (click)="toggleDetalle()">Ver {{this.tipoUser}} {{botonDetalle}}</button>
        </div> -->
    </div>
	<div class="row">
        <div class="col-12 text-light" *ngIf="!this.detalle">
            <h2>{{tipoUser}}</h2>

            <span *ngFor="let item of usuarios" class="d-inline-flex flex-column me-2"
                (click)="seleccionarPaciente(item)">
                <img [src]="item?.imagenes[0]" alt="" class="m-auto" width="80px" height="80px" style="border-radius: 50%">
                <p>{{item.nombre}} {{item.apellido}}</p>
            </span>
        </div>
        <!-- <div *ngIf="this.usuarios !== null && !registroAdministrador && !this.detalle">
            <div class="p-0" *ngIf="this.tipoUser === 'Pacientes' && !historiaClinica">
                <app-tabla-paciente [pacientes]="this.pacientes"></app-tabla-paciente>
            </div>
            <div *ngIf="this.tipoUser === 'Especialistas'">
                <app-tabla-especialista [especialistas]="this.especialistas"></app-tabla-especialista>
            </div>
            <div *ngIf="this.tipoUser === 'Administradores'">
                <app-tabla-admin [admins]="this.administradores"></app-tabla-admin>
            </div>
        </div> -->
        <div *ngIf="this.registroAdministrador">
            <app-registro [tipo]="this.tipoUser" (finalizado)="recibirEstado($event)" ></app-registro>
        </div>
        <!-- <div *ngIf="this.usuarios !== null && !registroAdministrador && this.detalle && !historiaClinica">
            <h2>{{tipoUser}}</h2>
            <div *ngFor='let usuario of usuarios; let i = index'>
               <div class="col-md-7">
                <div class="panel panel-default">
                <div class="panel-heading">{{usuario?.nombre}} {{usuario?.apellido}}</div>
                <div class="panel-body">
                    <div class="box box-info">
                        <div class="box-body">
                            <div class="col-sm-6">
                                <div  align="center">
                                    <div *ngIf="usuario?.perfil === 'paciente'">
                                            <div [id]="'carousel'+i"  class="carousel slide" data-bs-ride="carousel">
                                                <div class="carousel-inner">
                                                    <div class="carousel-item active">
                                                        <img [defaultImage]="defaultImage" [lazyLoad]="usuario.imagenes[0]" alt="" class="img-circle img-responsive profile-image">
                                                    </div>
                                                    <div class="carousel-item">
                                                        <img [src]="usuario.imagenes[1]" alt="" class="img-circle img-responsive profile-image noselect">
                                                    </div>
                                                </div>
                                                <button class="carousel-control-prev" type="button" [attr.data-bs-target]="'#carousel'+i" data-bs-slide="prev">
                                                <span class="fas fa-chevron-left" style='color:white;' aria-hidden="true"></span>
                                                <span class="visually-hidden">Previous</span>
                                                </button>
                                                
                                                <button class="carousel-control-next" type="button" [attr.data-bs-target]="'#carousel'+i" data-bs-slide="next">
                                                <span class="fas fa-chevron-right" style='color:white;' aria-hidden="true"></span>
                                                <span class="visually-hidden">Next</span>
                                                </button>
                                            </div>
                                        </div>   
                                    </div>
                                    <div *ngIf="usuario?.perfil !== 'paciente'">
                                            <img [defaultImage]="defaultImage" [lazyLoad]='usuario?.imagen' alt="" class="img-circle img-responsive profile-image d-block m-auto noselect">
                                    </div>   
                                    </div>
                                </div>
                                    <br>
                                </div>
                                <div class="clearfix"></div>
                                <hr style="margin:5px 0 5px 0;">
                                <div class="col-sm-5 col-xs-6 title " >
                                    Nombre:
                                </div>
                                <div class="col-sm-7 col-xs-6 ">
                                    {{usuario?.nombre}}
                                </div>
    
                                <div class="clearfix"></div>
                                <div class="bot-border"></div>
    
                                <div class="col-sm-5 col-xs-6 title">
                                    Apellido:
                                </div>
                                <div class="col-sm-7">
                                    {{usuario?.apellido}}
                                </div>
    
                                <div class="clearfix"></div>
                                <div class="bot-border"></div>
    
                                <div>
                                    <div class="col-sm-5 col-xs-6 title " >
                                        Edad:
                                    </div>
                                    <div class="col-sm-7">
                                        {{usuario?.edad}}
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="bot-border"></div>
                                </div>
    
                                <div *ngIf="usuario?.perfil === 'paciente'">
                                    <div class="col-sm-5 col-xs-6 title " >
                                        Obra social:
                                    </div>
                                    <div class="col-sm-7">
                                        {{usuario?.obraSocial}}
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="bot-border"></div>
                                </div>

                                <div *ngIf="usuario?.perfil === 'especialista'">
                                    <div class="col-sm-5 col-xs-6 title " >
                                        Especialidad:
                                    </div>
                                    <div class="col-sm-7">
                                        {{usuario?.especialidad}}
                                    </div>
                                    <div class="clearfix"></div>
                                    <div class="bot-border"></div>
                                </div>
                                
                                <div class="col-sm-5 col-xs-6 title">
                                    Correo electronico:
                                </div>
                                <div class="col-sm-7">
                                    {{usuario?.email}}
                                </div>
                                    
                                <div class="clearfix"></div>
                                <div class="bot-border"></div>
                            </div>
                        </div>            
                    </div> 
            </div>
        </div> -->
        <div *ngIf="this.tipoUser === 'Pacientes' && this.pacienteSeleccionado && !this.detalle">
            <app-historia-clinica [pacienteInput]="this.pacienteSeleccionado"></app-historia-clinica>
        </div>
        <div *ngIf="this.usuarios === null">
            <app-spinner></app-spinner>
        </div>
</div>