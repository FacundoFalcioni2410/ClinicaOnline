(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{8255:Ht=>{function tt(Z){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+Z+"'");throw _.code="MODULE_NOT_FOUND",_})}tt.keys=()=>[],tt.resolve=tt,tt.id=8255,Ht.exports=tt},7238:(Ht,tt,Z)=>{"use strict";Z.d(tt,{l3:()=>te,_j:()=>_,LC:()=>f,ZN:()=>fe,jt:()=>Re,vP:()=>ze,SB:()=>ye,oB:()=>he,eR:()=>le,X$:()=>Ue,ZE:()=>dt,k1:()=>_t});class _{}class f{}const te="*";function Ue(ut,Ie){return{type:7,name:ut,definitions:Ie,options:{}}}function Re(ut,Ie=null){return{type:4,styles:Ie,timings:ut}}function ze(ut,Ie=null){return{type:2,steps:ut,options:Ie}}function he(ut){return{type:6,styles:ut,offset:null}}function ye(ut,Ie,At){return{type:0,name:ut,styles:Ie,options:At}}function le(ut,Ie,At=null){return{type:1,expr:ut,animation:Ie,options:At}}function pt(ut){Promise.resolve(null).then(ut)}class fe{constructor(Ie=0,At=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Ie+At}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}onStart(Ie){this._onStartFns.push(Ie)}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){pt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Ie){this._position=this.totalTime?Ie*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Ie){const At="start"==Ie?this._onStartFns:this._onDoneFns;At.forEach(Zt=>Zt()),At.length=0}}class dt{constructor(Ie){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Ie;let At=0,Zt=0,Xt=0;const Xe=this.players.length;0==Xe?pt(()=>this._onFinish()):this.players.forEach(Le=>{Le.onDone(()=>{++At==Xe&&this._onFinish()}),Le.onDestroy(()=>{++Zt==Xe&&this._onDestroy()}),Le.onStart(()=>{++Xt==Xe&&this._onStart()})}),this.totalTime=this.players.reduce((Le,nt)=>Math.max(Le,nt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Ie=>Ie()),this._onDoneFns=[])}init(){this.players.forEach(Ie=>Ie.init())}onStart(Ie){this._onStartFns.push(Ie)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Ie=>Ie()),this._onStartFns=[])}onDone(Ie){this._onDoneFns.push(Ie)}onDestroy(Ie){this._onDestroyFns.push(Ie)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Ie=>Ie.play())}pause(){this.players.forEach(Ie=>Ie.pause())}restart(){this.players.forEach(Ie=>Ie.restart())}finish(){this._onFinish(),this.players.forEach(Ie=>Ie.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Ie=>Ie.destroy()),this._onDestroyFns.forEach(Ie=>Ie()),this._onDestroyFns=[])}reset(){this.players.forEach(Ie=>Ie.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Ie){const At=Ie*this.totalTime;this.players.forEach(Zt=>{const Xt=Zt.totalTime?Math.min(1,At/Zt.totalTime):1;Zt.setPosition(Xt)})}getPosition(){const Ie=this.players.reduce((At,Zt)=>null===At||Zt.totalTime>At.totalTime?Zt:At,null);return null!=Ie?Ie.getPosition():0}beforeDestroy(){this.players.forEach(Ie=>{Ie.beforeDestroy&&Ie.beforeDestroy()})}triggerCallback(Ie){const At="start"==Ie?this._onStartFns:this._onDoneFns;At.forEach(Zt=>Zt()),At.length=0}}const _t="!"},8583:(Ht,tt,Z)=>{"use strict";Z.d(tt,{mr:()=>dt,ez:()=>cs,K0:()=>ze,uU:()=>Oi,Do:()=>ut,V_:()=>ne,Ye:()=>Ie,S$:()=>pt,mk:()=>an,sg:()=>Nn,O5:()=>Ki,b0:()=>_t,lw:()=>he,gd:()=>Ds,EM:()=>fs,JF:()=>vs,PM:()=>hs,w_:()=>pe,bD:()=>ki,q:()=>te,Mx:()=>gt,HT:()=>Re});var _=Z(7716);let f=null;function te(){return f}function Re(L){f||(f=L)}class pe{}const ze=new _.OlP("DocumentToken");let he=(()=>{class L{historyGo(H){throw new Error("Not implemented")}}return L.\u0275fac=function(H){return new(H||L)},L.\u0275prov=(0,_.Yz7)({factory:ye,token:L,providedIn:"platform"}),L})();function ye(){return(0,_.LFG)(le)}const ne=new _.OlP("Location Initialized");let le=(()=>{class L extends he{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(H){const ie=te().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("popstate",H,!1),()=>ie.removeEventListener("popstate",H)}onHashChange(H){const ie=te().getGlobalEventTarget(this._doc,"window");return ie.addEventListener("hashchange",H,!1),()=>ie.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,ie,we){ue()?this._history.pushState(H,ie,we):this.location.hash=we}replaceState(H,ie,we){ue()?this._history.replaceState(H,ie,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return L.\u0275fac=function(H){return new(H||L)(_.LFG(ze))},L.\u0275prov=(0,_.Yz7)({factory:Ve,token:L,providedIn:"platform"}),L})();function ue(){return!!window.history.pushState}function Ve(){return new le((0,_.LFG)(ze))}function Pe(L,ee){if(0==L.length)return ee;if(0==ee.length)return L;let H=0;return L.endsWith("/")&&H++,ee.startsWith("/")&&H++,2==H?L+ee.substring(1):1==H?L+ee:L+"/"+ee}function Ke(L){const ee=L.match(/#|\?|$/),H=ee&&ee.index||L.length;return L.slice(0,H-("/"===L[H-1]?1:0))+L.slice(H)}function Ze(L){return L&&"?"!==L[0]?"?"+L:L}let pt=(()=>{class L{historyGo(H){throw new Error("Not implemented")}}return L.\u0275fac=function(H){return new(H||L)},L.\u0275prov=(0,_.Yz7)({factory:fe,token:L,providedIn:"root"}),L})();function fe(L){const ee=(0,_.LFG)(ze).location;return new _t((0,_.LFG)(he),ee&&ee.origin||"")}const dt=new _.OlP("appBaseHref");let _t=(()=>{class L extends pt{constructor(H,ie){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==ie&&(ie=this._platformLocation.getBaseHrefFromDOM()),null==ie)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ie}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return Pe(this._baseHref,H)}path(H=!1){const ie=this._platformLocation.pathname+Ze(this._platformLocation.search),we=this._platformLocation.hash;return we&&H?`${ie}${we}`:ie}pushState(H,ie,we,st){const Tt=this.prepareExternalUrl(we+Ze(st));this._platformLocation.pushState(H,ie,Tt)}replaceState(H,ie,we,st){const Tt=this.prepareExternalUrl(we+Ze(st));this._platformLocation.replaceState(H,ie,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ie,we;null===(we=(ie=this._platformLocation).historyGo)||void 0===we||we.call(ie,H)}}return L.\u0275fac=function(H){return new(H||L)(_.LFG(he),_.LFG(dt,8))},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac}),L})(),ut=(()=>{class L extends pt{constructor(H,ie){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=ie&&(this._baseHref=ie)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let ie=this._platformLocation.hash;return null==ie&&(ie="#"),ie.length>0?ie.substring(1):ie}prepareExternalUrl(H){const ie=Pe(this._baseHref,H);return ie.length>0?"#"+ie:ie}pushState(H,ie,we,st){let Tt=this.prepareExternalUrl(we+Ze(st));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.pushState(H,ie,Tt)}replaceState(H,ie,we,st){let Tt=this.prepareExternalUrl(we+Ze(st));0==Tt.length&&(Tt=this._platformLocation.pathname),this._platformLocation.replaceState(H,ie,Tt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var ie,we;null===(we=(ie=this._platformLocation).historyGo)||void 0===we||we.call(ie,H)}}return L.\u0275fac=function(H){return new(H||L)(_.LFG(he),_.LFG(dt,8))},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac}),L})(),Ie=(()=>{class L{constructor(H,ie){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const we=this._platformStrategy.getBaseHref();this._platformLocation=ie,this._baseHref=Ke(Xt(we)),this._platformStrategy.onPopState(st=>{this._subject.emit({url:this.path(!0),pop:!0,state:st.state,type:st.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,ie=""){return this.path()==this.normalize(H+Ze(ie))}normalize(H){return L.stripTrailingSlash(function(L,ee){return L&&ee.startsWith(L)?ee.substring(L.length):ee}(this._baseHref,Xt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,ie="",we=null){this._platformStrategy.pushState(we,"",H,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(ie)),we)}replaceState(H,ie="",we=null){this._platformStrategy.replaceState(we,"",H,ie),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+Ze(ie)),we)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var ie,we;null===(we=(ie=this._platformStrategy).historyGo)||void 0===we||we.call(ie,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ie=>{this._notifyUrlChangeListeners(ie.url,ie.state)}))}_notifyUrlChangeListeners(H="",ie){this._urlChangeListeners.forEach(we=>we(H,ie))}subscribe(H,ie,we){return this._subject.subscribe({next:H,error:ie,complete:we})}}return L.\u0275fac=function(H){return new(H||L)(_.LFG(pt),_.LFG(he))},L.normalizeQueryParams=Ze,L.joinWithSlash=Pe,L.stripTrailingSlash=Ke,L.\u0275prov=(0,_.Yz7)({factory:At,token:L,providedIn:"root"}),L})();function At(){return new Ie((0,_.LFG)(pt),(0,_.LFG)(he))}function Xt(L){return L.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Zero=0]="Zero",nt[nt.One=1]="One",nt[nt.Two=2]="Two",nt[nt.Few=3]="Few",nt[nt.Many=4]="Many",nt[nt.Other=5]="Other",nt))(),Qe=(()=>((Qe=Qe||{})[Qe.Format=0]="Format",Qe[Qe.Standalone=1]="Standalone",Qe))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),We=(()=>((We=We||{})[We.Short=0]="Short",We[We.Medium=1]="Medium",We[We.Long=2]="Long",We[We.Full=3]="Full",We))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function lt(L,ee){return en((0,_.cg1)(L)[_.wAp.DateFormat],ee)}function Ae(L,ee){return en((0,_.cg1)(L)[_.wAp.TimeFormat],ee)}function qe(L,ee){return en((0,_.cg1)(L)[_.wAp.DateTimeFormat],ee)}function Et(L,ee){const H=(0,_.cg1)(L),ie=H[_.wAp.NumberSymbols][ee];if(void 0===ie){if(ee===Ee.CurrencyDecimal)return H[_.wAp.NumberSymbols][Ee.Decimal];if(ee===Ee.CurrencyGroup)return H[_.wAp.NumberSymbols][Ee.Group]}return ie}const Ln=_.kL8;function xt(L){if(!L[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${L[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function en(L,ee){for(let H=ee;H>-1;H--)if(void 0!==L[H])return L[H];throw new Error("Locale data API: locale data undefined")}function sn(L){const[ee,H]=L.split(":");return{hours:+ee,minutes:+H}}const vn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Yn={},Sr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var tr=(()=>((tr=tr||{})[tr.Short=0]="Short",tr[tr.ShortGMT=1]="ShortGMT",tr[tr.Long=2]="Long",tr[tr.Extended=3]="Extended",tr))(),kt=(()=>((kt=kt||{})[kt.FullYear=0]="FullYear",kt[kt.Month=1]="Month",kt[kt.Date=2]="Date",kt[kt.Hours=3]="Hours",kt[kt.Minutes=4]="Minutes",kt[kt.Seconds=5]="Seconds",kt[kt.FractionalSeconds=6]="FractionalSeconds",kt[kt.Day=7]="Day",kt))(),wn=(()=>((wn=wn||{})[wn.DayPeriods=0]="DayPeriods",wn[wn.Days=1]="Days",wn[wn.Months=2]="Months",wn[wn.Eras=3]="Eras",wn))();function Gr(L,ee,H,ie){let we=function(L){if(Jn(L))return L;if("number"==typeof L&&!isNaN(L))return new Date(L);if("string"==typeof L){if(L=L.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(L)){const[we,st=1,Tt=1]=L.split("-").map(U=>+U);return Ri(we,st-1,Tt)}const H=parseFloat(L);if(!isNaN(L-H))return new Date(H);let ie;if(ie=L.match(vn))return function(L){const ee=new Date(0);let H=0,ie=0;const we=L[8]?ee.setUTCFullYear:ee.setFullYear,st=L[8]?ee.setUTCHours:ee.setHours;L[9]&&(H=Number(L[9]+L[10]),ie=Number(L[9]+L[11])),we.call(ee,Number(L[1]),Number(L[2])-1,Number(L[3]));const Tt=Number(L[4]||0)-H,U=Number(L[5]||0)-ie,k=Number(L[6]||0),N=Math.floor(1e3*parseFloat("0."+(L[7]||0)));return st.call(ee,Tt,U,k,N),ee}(ie)}const ee=new Date(L);if(!Jn(ee))throw new Error(`Unable to convert "${L}" into a date`);return ee}(L);ee=Sn(H,ee)||ee;let U,Tt=[];for(;ee;){if(U=Sr.exec(ee),!U){Tt.push(ee);break}{Tt=Tt.concat(U.slice(1));const J=Tt.pop();if(!J)break;ee=J}}let k=we.getTimezoneOffset();ie&&(k=Fr(ie,k),we=function(L,ee,H){const we=L.getTimezoneOffset();return function(L,ee){return(L=new Date(L.getTime())).setMinutes(L.getMinutes()+ee),L}(L,-1*(Fr(ee,we)-we))}(we,ie));let N="";return Tt.forEach(J=>{const Ye=function(L){if(Hn[L])return Hn[L];let ee;switch(L){case"G":case"GG":case"GGG":ee=ke(wn.Eras,Te.Abbreviated);break;case"GGGG":ee=ke(wn.Eras,Te.Wide);break;case"GGGGG":ee=ke(wn.Eras,Te.Narrow);break;case"y":ee=Me(kt.FullYear,1,0,!1,!0);break;case"yy":ee=Me(kt.FullYear,2,0,!0,!0);break;case"yyy":ee=Me(kt.FullYear,3,0,!1,!0);break;case"yyyy":ee=Me(kt.FullYear,4,0,!1,!0);break;case"Y":ee=Bn(1);break;case"YY":ee=Bn(2,!0);break;case"YYY":ee=Bn(3);break;case"YYYY":ee=Bn(4);break;case"M":case"L":ee=Me(kt.Month,1,1);break;case"MM":case"LL":ee=Me(kt.Month,2,1);break;case"MMM":ee=ke(wn.Months,Te.Abbreviated);break;case"MMMM":ee=ke(wn.Months,Te.Wide);break;case"MMMMM":ee=ke(wn.Months,Te.Narrow);break;case"LLL":ee=ke(wn.Months,Te.Abbreviated,Qe.Standalone);break;case"LLLL":ee=ke(wn.Months,Te.Wide,Qe.Standalone);break;case"LLLLL":ee=ke(wn.Months,Te.Narrow,Qe.Standalone);break;case"w":ee=Gn(1);break;case"ww":ee=Gn(2);break;case"W":ee=Gn(1,!0);break;case"d":ee=Me(kt.Date,1);break;case"dd":ee=Me(kt.Date,2);break;case"c":case"cc":ee=Me(kt.Day,1);break;case"ccc":ee=ke(wn.Days,Te.Abbreviated,Qe.Standalone);break;case"cccc":ee=ke(wn.Days,Te.Wide,Qe.Standalone);break;case"ccccc":ee=ke(wn.Days,Te.Narrow,Qe.Standalone);break;case"cccccc":ee=ke(wn.Days,Te.Short,Qe.Standalone);break;case"E":case"EE":case"EEE":ee=ke(wn.Days,Te.Abbreviated);break;case"EEEE":ee=ke(wn.Days,Te.Wide);break;case"EEEEE":ee=ke(wn.Days,Te.Narrow);break;case"EEEEEE":ee=ke(wn.Days,Te.Short);break;case"a":case"aa":case"aaa":ee=ke(wn.DayPeriods,Te.Abbreviated);break;case"aaaa":ee=ke(wn.DayPeriods,Te.Wide);break;case"aaaaa":ee=ke(wn.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":ee=ke(wn.DayPeriods,Te.Abbreviated,Qe.Standalone,!0);break;case"bbbb":ee=ke(wn.DayPeriods,Te.Wide,Qe.Standalone,!0);break;case"bbbbb":ee=ke(wn.DayPeriods,Te.Narrow,Qe.Standalone,!0);break;case"B":case"BB":case"BBB":ee=ke(wn.DayPeriods,Te.Abbreviated,Qe.Format,!0);break;case"BBBB":ee=ke(wn.DayPeriods,Te.Wide,Qe.Format,!0);break;case"BBBBB":ee=ke(wn.DayPeriods,Te.Narrow,Qe.Format,!0);break;case"h":ee=Me(kt.Hours,1,-12);break;case"hh":ee=Me(kt.Hours,2,-12);break;case"H":ee=Me(kt.Hours,1);break;case"HH":ee=Me(kt.Hours,2);break;case"m":ee=Me(kt.Minutes,1);break;case"mm":ee=Me(kt.Minutes,2);break;case"s":ee=Me(kt.Seconds,1);break;case"ss":ee=Me(kt.Seconds,2);break;case"S":ee=Me(kt.FractionalSeconds,1);break;case"SS":ee=Me(kt.FractionalSeconds,2);break;case"SSS":ee=Me(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=et(tr.Short);break;case"ZZZZZ":ee=et(tr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=et(tr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=et(tr.Long);break;default:return null}return Hn[L]=ee,ee}(J);N+=Ye?Ye(we,H,k):"''"===J?"'":J.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),N}function Ri(L,ee,H){const ie=new Date(0);return ie.setFullYear(L,ee,H),ie.setHours(0,0,0),ie}function Sn(L,ee){const H=function(L){return(0,_.cg1)(L)[_.wAp.LocaleId]}(L);if(Yn[H]=Yn[H]||{},Yn[H][ee])return Yn[H][ee];let ie="";switch(ee){case"shortDate":ie=lt(L,We.Short);break;case"mediumDate":ie=lt(L,We.Medium);break;case"longDate":ie=lt(L,We.Long);break;case"fullDate":ie=lt(L,We.Full);break;case"shortTime":ie=Ae(L,We.Short);break;case"mediumTime":ie=Ae(L,We.Medium);break;case"longTime":ie=Ae(L,We.Long);break;case"fullTime":ie=Ae(L,We.Full);break;case"short":const we=Sn(L,"shortTime"),st=Sn(L,"shortDate");ie=dr(qe(L,We.Short),[we,st]);break;case"medium":const Tt=Sn(L,"mediumTime"),U=Sn(L,"mediumDate");ie=dr(qe(L,We.Medium),[Tt,U]);break;case"long":const k=Sn(L,"longTime"),N=Sn(L,"longDate");ie=dr(qe(L,We.Long),[k,N]);break;case"full":const J=Sn(L,"fullTime"),Ye=Sn(L,"fullDate");ie=dr(qe(L,We.Full),[J,Ye])}return ie&&(Yn[H][ee]=ie),ie}function dr(L,ee){return ee&&(L=L.replace(/\{([^}]+)}/g,function(H,ie){return null!=ee&&ie in ee?ee[ie]:H})),L}function zr(L,ee,H="-",ie,we){let st="";(L<0||we&&L<=0)&&(we?L=1-L:(L=-L,st=H));let Tt=String(L);for(;Tt.length<ee;)Tt="0"+Tt;return ie&&(Tt=Tt.substr(Tt.length-ee)),st+Tt}function Me(L,ee,H=0,ie=!1,we=!1){return function(st,Tt){let U=function(L,ee){switch(L){case kt.FullYear:return ee.getFullYear();case kt.Month:return ee.getMonth();case kt.Date:return ee.getDate();case kt.Hours:return ee.getHours();case kt.Minutes:return ee.getMinutes();case kt.Seconds:return ee.getSeconds();case kt.FractionalSeconds:return ee.getMilliseconds();case kt.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${L}".`)}}(L,st);if((H>0||U>-H)&&(U+=H),L===kt.Hours)0===U&&-12===H&&(U=12);else if(L===kt.FractionalSeconds)return function(L,ee){return zr(L,3).substr(0,ee)}(U,ee);const k=Et(Tt,Ee.MinusSign);return zr(U,ee,k,ie,we)}}function ke(L,ee,H=Qe.Format,ie=!1){return function(we,st){return function(L,ee,H,ie,we,st){switch(H){case wn.Months:return function(L,ee,H){const ie=(0,_.cg1)(L),st=en([ie[_.wAp.MonthsFormat],ie[_.wAp.MonthsStandalone]],ee);return en(st,H)}(ee,we,ie)[L.getMonth()];case wn.Days:return function(L,ee,H){const ie=(0,_.cg1)(L),st=en([ie[_.wAp.DaysFormat],ie[_.wAp.DaysStandalone]],ee);return en(st,H)}(ee,we,ie)[L.getDay()];case wn.DayPeriods:const Tt=L.getHours(),U=L.getMinutes();if(st){const N=function(L){const ee=(0,_.cg1)(L);return xt(ee),(ee[_.wAp.ExtraData][2]||[]).map(ie=>"string"==typeof ie?sn(ie):[sn(ie[0]),sn(ie[1])])}(ee),J=function(L,ee,H){const ie=(0,_.cg1)(L);xt(ie);const st=en([ie[_.wAp.ExtraData][0],ie[_.wAp.ExtraData][1]],ee)||[];return en(st,H)||[]}(ee,we,ie),Ye=N.findIndex(Mt=>{if(Array.isArray(Mt)){const[Cn,cr]=Mt,fi=Tt>=Cn.hours&&U>=Cn.minutes,Br=Tt<cr.hours||Tt===cr.hours&&U<cr.minutes;if(Cn.hours<cr.hours){if(fi&&Br)return!0}else if(fi||Br)return!0}else if(Mt.hours===Tt&&Mt.minutes===U)return!0;return!1});if(-1!==Ye)return J[Ye]}return function(L,ee,H){const ie=(0,_.cg1)(L),st=en([ie[_.wAp.DayPeriodsFormat],ie[_.wAp.DayPeriodsStandalone]],ee);return en(st,H)}(ee,we,ie)[Tt<12?0:1];case wn.Eras:return function(L,ee){return en((0,_.cg1)(L)[_.wAp.Eras],ee)}(ee,ie)[L.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(we,st,L,ee,H,ie)}}function et(L){return function(ee,H,ie){const we=-1*ie,st=Et(H,Ee.MinusSign),Tt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(L){case tr.Short:return(we>=0?"+":"")+zr(Tt,2,st)+zr(Math.abs(we%60),2,st);case tr.ShortGMT:return"GMT"+(we>=0?"+":"")+zr(Tt,1,st);case tr.Long:return"GMT"+(we>=0?"+":"")+zr(Tt,2,st)+":"+zr(Math.abs(we%60),2,st);case tr.Extended:return 0===ie?"Z":(we>=0?"+":"")+zr(Tt,2,st)+":"+zr(Math.abs(we%60),2,st);default:throw new Error(`Unknown zone width "${L}"`)}}}function Tr(L){return Ri(L.getFullYear(),L.getMonth(),L.getDate()+(4-L.getDay()))}function Gn(L,ee=!1){return function(H,ie){let we;if(ee){const st=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,Tt=H.getDate();we=1+Math.floor((Tt+st)/7)}else{const st=Tr(H),Tt=function(L){const ee=Ri(L,0,1).getDay();return Ri(L,0,1+(ee<=4?4:11)-ee)}(st.getFullYear()),U=st.getTime()-Tt.getTime();we=1+Math.round(U/6048e5)}return zr(we,L,Et(ie,Ee.MinusSign))}}function Bn(L,ee=!1){return function(H,ie){return zr(Tr(H).getFullYear(),L,Et(ie,Ee.MinusSign),ee)}}const Hn={};function Fr(L,ee){L=L.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+L)/6e4;return isNaN(H)?ee:H}function Jn(L){return L instanceof Date&&!isNaN(L.valueOf())}class $e{}let me=(()=>{class L extends $e{constructor(H){super(),this.locale=H}getPluralCategory(H,ie){switch(Ln(ie||this.locale)(H)){case nt.Zero:return"zero";case nt.One:return"one";case nt.Two:return"two";case nt.Few:return"few";case nt.Many:return"many";default:return"other"}}}return L.\u0275fac=function(H){return new(H||L)(_.LFG(_.soG))},L.\u0275prov=_.Yz7({token:L,factory:L.\u0275fac}),L})();function gt(L,ee){ee=encodeURIComponent(ee);for(const H of L.split(";")){const ie=H.indexOf("="),[we,st]=-1==ie?[H,""]:[H.slice(0,ie),H.slice(ie+1)];if(we.trim()===ee)return decodeURIComponent(st)}return null}let an=(()=>{class L{constructor(H,ie,we,st){this._iterableDiffers=H,this._keyValueDiffers=ie,this._ngEl=we,this._renderer=st,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),H.forEachChangedItem(ie=>this._toggleClass(ie.key,ie.currentValue)),H.forEachRemovedItem(ie=>{ie.previousValue&&this._toggleClass(ie.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(ie=>{if("string"!=typeof ie.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(ie.item)}`);this._toggleClass(ie.item,!0)}),H.forEachRemovedItem(ie=>this._toggleClass(ie.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ie=>this._toggleClass(ie,!0)):Object.keys(H).forEach(ie=>this._toggleClass(ie,!!H[ie])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(ie=>this._toggleClass(ie,!1)):Object.keys(H).forEach(ie=>this._toggleClass(ie,!1)))}_toggleClass(H,ie){(H=H.trim())&&H.split(/\s+/g).forEach(we=>{ie?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return L.\u0275fac=function(H){return new(H||L)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),L})();class lr{constructor(ee,H,ie,we){this.$implicit=ee,this.ngForOf=H,this.index=ie,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Nn=(()=>{class L{constructor(H,ie,we){this._viewContainer=H,this._template=ie,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(ie){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function(L){return L.name||typeof L}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const ie=[];H.forEachOperation((we,st,Tt)=>{if(null==we.previousIndex){const U=this._viewContainer.createEmbeddedView(this._template,new lr(null,this._ngForOf,-1,-1),null===Tt?void 0:Tt),k=new Is(we,U);ie.push(k)}else if(null==Tt)this._viewContainer.remove(null===st?void 0:st);else if(null!==st){const U=this._viewContainer.get(st);this._viewContainer.move(U,Tt);const k=new Is(we,U);ie.push(k)}});for(let we=0;we<ie.length;we++)this._perViewChange(ie[we].view,ie[we].record);for(let we=0,st=this._viewContainer.length;we<st;we++){const Tt=this._viewContainer.get(we);Tt.context.index=we,Tt.context.count=st,Tt.context.ngForOf=this._ngForOf}H.forEachIdentityChange(we=>{this._viewContainer.get(we.currentIndex).context.$implicit=we.item})}_perViewChange(H,ie){H.context.$implicit=ie.item}static ngTemplateContextGuard(H,ie){return!0}}return L.\u0275fac=function(H){return new(H||L)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),L})();class Is{constructor(ee,H){this.record=ee,this.view=H}}let Ki=(()=>{class L{constructor(H,ie){this._viewContainer=H,this._context=new Ur,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ie}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){mi("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){mi("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,ie){return!0}}return L.\u0275fac=function(H){return new(H||L)(_.Y36(_.s_b),_.Y36(_.Rgc))},L.\u0275dir=_.lG2({type:L,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),L})();class Ur{constructor(){this.$implicit=null,this.ngIf=null}}function mi(L,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${L} must be a TemplateRef, but received '${(0,_.AaK)(ee)}'.`)}function ur(L,ee){return Error(`InvalidPipeArgument: '${ee}' for pipe '${(0,_.AaK)(L)}'`)}let Ds=(()=>{class L{transform(H){if(null==H)return null;if("string"!=typeof H)throw ur(L,H);return H.toUpperCase()}}return L.\u0275fac=function(H){return new(H||L)},L.\u0275pipe=_.Yjl({name:"uppercase",type:L,pure:!0}),L})(),Oi=(()=>{class L{constructor(H){this.locale=H}transform(H,ie="mediumDate",we,st){if(null==H||""===H||H!=H)return null;try{return Gr(H,ie,st||this.locale,we)}catch(Tt){throw ur(L,Tt.message)}}}return L.\u0275fac=function(H){return new(H||L)(_.Y36(_.soG,16))},L.\u0275pipe=_.Yjl({name:"date",type:L,pure:!0}),L})(),cs=(()=>{class L{}return L.\u0275fac=function(H){return new(H||L)},L.\u0275mod=_.oAB({type:L}),L.\u0275inj=_.cJS({providers:[{provide:$e,useClass:me}]}),L})();const ki="browser";function hs(L){return"server"===L}let fs=(()=>{class L{}return L.\u0275prov=(0,_.Yz7)({token:L,providedIn:"root",factory:()=>new Xi((0,_.LFG)(ze),window)}),L})();class Xi{constructor(ee,H){this.document=ee,this.window=H,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const H=function(L,ee){const H=L.getElementById(ee)||L.getElementsByName(ee)[0];if(H)return H;if("function"==typeof L.createTreeWalker&&L.body&&(L.body.createShadowRoot||L.body.attachShadow)){const ie=L.createTreeWalker(L.body,NodeFilter.SHOW_ELEMENT);let we=ie.currentNode;for(;we;){const st=we.shadowRoot;if(st){const Tt=st.getElementById(ee)||st.querySelector(`[name="${ee}"]`);if(Tt)return Tt}we=ie.nextNode()}}return null}(this.document,ee);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ee)}}scrollToElement(ee){const H=ee.getBoundingClientRect(),ie=H.left+this.window.pageXOffset,we=H.top+this.window.pageYOffset,st=this.offset();this.window.scrollTo(ie-st[0],we-st[1])}attemptFocus(ee){return ee.focus(),this.document.activeElement===ee}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=Bs(this.window.history)||Bs(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function Bs(L){return Object.getOwnPropertyDescriptor(L,"scrollRestoration")}class vs{}},7716:(Ht,tt,Z)=>{"use strict";Z.d(tt,{deG:()=>yn,tb:()=>aE,AFp:()=>iE,ip1:()=>a0,CZH:()=>jf,hGG:()=>VA,z2F:()=>Jg,sBO:()=>ST,Sil:()=>Qg,_Vd:()=>Of,EJc:()=>uE,SBq:()=>Iu,qLn:()=>m,vpe:()=>Du,gxx:()=>Fc,tBr:()=>Cl,XFs:()=>at,OlP:()=>Yt,zs3:()=>is,ZZ4:()=>Wy,aQg:()=>Ky,soG:()=>o_,YKP:()=>Ww,v3s:()=>yA,h0i:()=>rh,PXZ:()=>dA,R0b:()=>Ja,FiY:()=>So,Lbi:()=>oE,g9A:()=>sE,Qsj:()=>fT,FYo:()=>zy,JOm:()=>Ui,Tiy:()=>Ov,q3G:()=>Ai,tp0:()=>Oa,EAV:()=>bA,Rgc:()=>Ug,dDg:()=>fE,DyG:()=>Jt,q4F:()=>Pv,GfV:()=>jw,s_b:()=>Jy,ifc:()=>kt,eFA:()=>_E,G48:()=>iA,Gpc:()=>le,X6Q:()=>p0,_c5:()=>MA,VLi:()=>rA,c2e:()=>lE,zSh:()=>Ea,wAp:()=>ir,vHH:()=>Ke,EiD:()=>Zs,mCW:()=>Al,qzn:()=>Dl,JVY:()=>Ps,pB0:()=>Cs,eBb:()=>yc,L6k:()=>kr,LAX:()=>yh,cg1:()=>Tv,Tjo:()=>xA,kL8:()=>uw,yhl:()=>il,dqk:()=>dr,sIi:()=>gf,CqO:()=>Tg,QGY:()=>Cg,F4k:()=>Ty,RDi:()=>es,AaK:()=>he,z3N:()=>Go,qOj:()=>Bi,TTD:()=>cs,_Bn:()=>Fw,xp6:()=>Cd,uIk:()=>lg,Tol:()=>Ly,ekj:()=>Sf,Suo:()=>kb,Xpm:()=>Bn,lG2:()=>Jn,Yz7:()=>Ae,cJS:()=>Et,oAB:()=>bn,Yjl:()=>Wi,Y36:()=>Kd,_UZ:()=>bg,BQk:()=>Eg,ynx:()=>Yd,qZA:()=>wg,TgZ:()=>vg,EpF:()=>Cy,n5z:()=>M,Ikx:()=>Ev,LFG:()=>Es,$8M:()=>b,NdJ:()=>Ig,CRH:()=>Fb,O4$:()=>Dr,oxw:()=>Dg,ALo:()=>Rb,lcZ:()=>Mb,Q6J:()=>_g,DdM:()=>Eb,VKq:()=>Cb,WLB:()=>Tb,iGM:()=>Pb,MAs:()=>sy,CHM:()=>Co,oJD:()=>va,LSH:()=>Bu,kYT:()=>ji,Udp:()=>Qc,d8E:()=>Cv,YNc:()=>_f,W1O:()=>Bb,_uU:()=>j,Oqu:()=>Q,hij:()=>ce,AsE:()=>ve,lnq:()=>Ge});var _=Z(9765),f=Z(5319),te=Z(7574),Ue=Z(6682),Re=Z(8819);function pe(r){for(let i in r)if(r[i]===pe)return i;throw Error("Could not find renamed property on target object.")}function ze(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toLowerCase().toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function ye(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const ne=pe({__forward_ref__:pe});function le(r){return r.__forward_ref__=le,r.toString=function(){return he(this())},r}function ue(r){return Ve(r)?r():r}function Ve(r){return"function"==typeof r&&r.hasOwnProperty(ne)&&r.__forward_ref__===le}class Ke extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function dt(r){return"function"==typeof r?r.name||r.toLowerCase().toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toLowerCase().toString():fe(r)}function At(r,i){const s=i?` in ${i}`:"";throw new Ke("201",`No provider for ${dt(r)} found${s}`)}function Ft(r,i){null==r&&function(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Ae(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Et(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ut(r){return An(r,Ln)||An(r,He)}function An(r,i){return r.hasOwnProperty(i)?r[i]:null}function er(r){return r&&(r.hasOwnProperty(xt)||r.hasOwnProperty(ot))?r[xt]:null}const Ln=pe({\u0275prov:pe}),xt=pe({\u0275inj:pe}),He=pe({ngInjectableDef:pe}),ot=pe({ngInjectorDef:pe});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let en;function _n(r){const i=en;return en=r,i}function un(r,i,s){const l=Ut(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&at.Optional?null:void 0!==i?i:void At(he(r),"Injector")}function vn(r){return{toString:r}.toLowerCase().toString()}var Yn=(()=>((Yn=Yn||{})[Yn.OnPush=0]="OnPush",Yn[Yn.Default=1]="Default",Yn))(),kt=(()=>((kt=kt||{})[kt.Emulated=0]="Emulated",kt[kt.None=2]="None",kt[kt.ShadowDom=3]="ShadowDom",kt))();const wn="undefined"!=typeof globalThis&&globalThis,Gr="undefined"!=typeof window&&window,Ri="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dr=wn||"undefined"!=typeof global&&global||Gr||Ri,Me={},Ce=[],ke=pe({\u0275cmp:pe}),bt=pe({\u0275dir:pe}),et=pe({\u0275pipe:pe}),jt=pe({\u0275mod:pe}),pn=pe({\u0275loc:pe}),qn=pe({\u0275fac:pe}),Tr=pe({__NG_ELEMENT_ID__:pe});let Gn=0;function Bn(r){return vn(()=>{const s={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Yn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ce,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||kt.Emulated,id:"c",styles:r.styles||Ce,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,y=r.pipes;return l.id+=Gn++,l.inputs=os(r.inputs,s),l.outputs=os(r.outputs),h&&h.forEach(E=>E(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(Wr):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Fr):null,l})}function Wr(r){return _r(r)||function(r){return r[bt]||null}(r)}function Fr(r){return function(r){return r[et]||null}(r)}const ss={};function bn(r){return vn(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ce,declarations:r.declarations||Ce,imports:r.imports||Ce,exports:r.exports||Ce,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ss[r.id]=r.type),i})}function ji(r,i){return vn(()=>{const s=br(r,!0);s.declarations=i.declarations||Ce,s.imports=i.imports||Ce,s.exports=i.exports||Ce})}function os(r,i){if(null==r)return Me;const s={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}const Jn=Bn;function Wi(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function _r(r){return r[ke]||null}function br(r,i){const s=r[jt]||null;if(!s&&!0===i)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return s}function Ni(r){return Array.isArray(r)&&"object"==typeof r[1]}function rr(r){return Array.isArray(r)&&!0===r[1]}function ri(r){return 0!=(8&r.flags)}function Ls(r){return 2==(2&r.flags)}function Yr(r){return 1==(1&r.flags)}function Lr(r){return null!==r.template}function ur(r){return 0!=(512&r[2])}function ls(r,i){return r.hasOwnProperty(qn)?r[qn]:null}class us{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function cs(){return ki}function ki(r){return r.type.prototype.ngOnChanges&&(r.setInput=Eo),vo}function vo(){const r=As(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===Me)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function Eo(r,i,s,l){const c=As(r)||function(r,i){return r[ds]=i}(r,{previous:Me,current:null}),h=c.current||(c.current={}),y=c.previous,E=this.declaredInputs[s],R=y[E];h[E]=new us(R&&R.currentValue,i,y===Me),r[l]=i}cs.ngInherit=!0;const ds="__ngSimpleChanges__";function As(r){return r[ds]||null}const fs="http://www.w3.org/2000/svg";let Bs;function es(r){Bs=r}function ts(){return void 0!==Bs?Bs:"undefined"!=typeof document?document:void 0}function L(r){return!!r.listen}const H={createRenderer:(r,i)=>ts()};function we(r){for(;Array.isArray(r);)r=r[0];return r}function U(r,i){return we(i[r])}function k(r,i){return we(i[r.index])}function J(r,i){return r.data[i]}function Ye(r,i){return r[i]}function Mt(r,i){const s=i[r];return Ni(s)?s:s[0]}function Cn(r){return 4==(4&r[2])}function cr(r){return 128==(128&r[2])}function Br(r,i){return null==i?null:r[i]}function pi(r){r[18]=0}function ns(r,i){r[5]+=i;let s=r,l=r[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const Tn={lFrame:rt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Qs(){return Tn.bindingsEnabled}function It(){return Tn.lFrame.lView}function or(){return Tn.lFrame.tView}function Co(r){return Tn.lFrame.contextLView=r,r[8]}function li(){let r=ha();for(;null!==r&&64===r.type;)r=r.parent;return r}function ha(){return Tn.lFrame.currentTNode}function xs(r,i){const s=Tn.lFrame;s.currentTNode=r,s.isParent=i}function Xs(){return Tn.lFrame.isParent}function To(){Tn.lFrame.isParent=!1}function Oo(){return Tn.isInCheckNoChangesMode}function Do(r){Tn.isInCheckNoChangesMode=r}function Ii(){const r=Tn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function jr(){return Tn.lFrame.bindingIndex}function ws(){return Tn.lFrame.bindingIndex++}function $i(r){const i=Tn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function lo(r,i){const s=Tn.lFrame;s.bindingIndex=s.bindingRootIndex=r,Hr(i)}function Hr(r){Tn.lFrame.currentDirectiveIndex=r}function uo(r){const i=Tn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}function sa(){return Tn.lFrame.currentQueryIndex}function q(r){Tn.lFrame.currentQueryIndex=r}function B(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function K(r,i,s){if(s&at.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||s&at.Host||(c=B(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=Tn.lFrame=Se();return l.currentTNode=i,l.lView=r,!0}function ae(r){const i=Se(),s=r[1];Tn.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function Se(){const r=Tn.lFrame,i=null===r?null:r.child;return null===i?rt(r):i}function rt(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ft(){const r=Tn.lFrame;return Tn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const cn=ft;function Lt(){const r=ft();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function On(){return Tn.lFrame.selectedIndex}function Xn(r){Tn.lFrame.selectedIndex=r}function Wn(){const r=Tn.lFrame;return J(r.tView,r.selectedIndex)}function Dr(){Tn.lFrame.currentNamespace=fs}function xr(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:R,ngAfterViewChecked:F,ngOnDestroy:W}=h;y&&(r.contentHooks||(r.contentHooks=[])).push(-s,y),E&&((r.contentHooks||(r.contentHooks=[])).push(s,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,E)),R&&(r.viewHooks||(r.viewHooks=[])).push(-s,R),F&&((r.viewHooks||(r.viewHooks=[])).push(s,F),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,F)),null!=W&&(r.destroyHooks||(r.destroyHooks=[])).push(s,W)}}function Fi(r,i,s){no(r,i,3,s)}function Hs(r,i,s,l){(3&r[2])===s&&no(r,i,s,l)}function Po(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function no(r,i,s,l){const h=null!=l?l:-1,y=i.length-1;let E=0;for(let R=void 0!==l?65535&r[18]:0;R<y;R++)if("number"==typeof i[R+1]){if(E=i[R],null!=l&&E>=l)break}else i[R]<0&&(r[18]+=65536),(E<h||-1==h)&&(ro(r,s,i,R),r[18]=(4294901760&r[18])+R+2),R++}function ro(r,i,s,l){const c=s[l]<0,h=s[l+1],E=r[c?-s[l]:s[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class Jr{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Qn(r,i,s){const l=L(r);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const y=s[c++],E=s[c++],R=s[c++];l?r.setAttribute(i,E,R,y):i.setAttributeNS(y,E,R)}else{const y=h,E=s[++c];Gi(y)?l&&r.setProperty(i,y,E):l?r.setAttribute(i,y,E):i.setAttribute(y,E),c++}}return c}function rs(r){return 3===r||4===r||6===r}function Gi(r){return 64===r.charCodeAt(0)}function Li(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||fa(r,s,c,null,-1===s||2===s?i[++l]:null)}}return r}function fa(r,i,s,l,c){let h=0,y=r.length;if(-1===i)y=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){y=-1;break}if(E>i){y=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===s){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(r.splice(y,0,i),h=y+1),r.splice(h++,0,s),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function wi(r){return-1!==r}function xa(r){return 32767&r}function pa(r,i){let s=function(r){return r>>16}(r),l=i;for(;s>0;)l=l[15],s--;return l}let Ra=!0;function Ha(r){const i=Ra;return Ra=r,i}let Fo=0;function co(r,i){const s=Bt(r,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,Ma(l.data,r),Ma(i,null),Ma(l.blueprint,null));const c=ui(r,i),h=r.injectorIndex;if(wi(c)){const y=xa(c),E=pa(c,i),R=E[1].data;for(let F=0;F<8;F++)i[h+F]=E[y+F]|R[y+F]}return i[h+8]=c,h}function Ma(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Bt(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function ui(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){const h=c[1],y=h.type;if(l=2===y?h.declTNode:1===y?c[6]:null,null===l)return-1;if(s++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function Ao(r,i,s){!function(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Tr)&&(l=s[Tr]),null==l&&(l=s[Tr]=Fo++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,s)}function In(r,i,s){if(s&at.Optional)return r;At(i,"NodeInjector")}function Un(r,i,s,l){if(s&at.Optional&&void 0===l&&(l=null),0==(s&(at.Self|at.Host))){const c=r[9],h=_n(void 0);try{return c?c.get(i,l,s&at.Optional):un(i,l,s&at.Optional)}finally{_n(h)}}return In(l,i,s)}function yl(r,i,s,l=at.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Tr)?r[Tr]:void 0;return"number"==typeof i?i>=0?255&i:D:i}(s);if("function"==typeof h){if(!K(i,r,l))return l&at.Host?In(c,s,l):Un(i,s,l,c);try{const y=h(l);if(null!=y||l&at.Optional)return y;At(s)}finally{cn()}}else if("number"==typeof h){let y=null,E=Bt(r,i),R=-1,F=l&at.Host?i[16][6]:null;for((-1===E||l&at.SkipSelf)&&(R=-1===E?ui(r,i):i[E+8],-1!==R&&be(l,!1)?(y=i[1],E=xa(R),i=pa(R,i)):E=-1);-1!==E;){const W=i[1];if(re(h,E,W.data)){const oe=T(E,i,s,y,l,F);if(oe!==Wt)return oe}R=i[E+8],-1!==R&&be(l,i[1].data[E+8]===F)&&re(h,E,i)?(y=W,E=xa(R),i=pa(R,i)):E=-1}}}return Un(i,s,l,c)}const Wt={};function D(){return new Fe(li(),It())}function T(r,i,s,l,c,h){const y=i[1],E=y.data[r+8],W=I(E,y,s,null==l?Ls(E)&&Ra:l!=y&&0!=(3&E.type),c&at.Host&&h===E);return null!==W?V(i,y,W,E):Wt}function I(r,i,s,l,c){const h=r.providerIndexes,y=i.data,E=1048575&h,R=r.directiveStart,W=h>>20,de=c?E+W:r.directiveEnd;for(let De=l?E:E+W;De<de;De++){const je=y[De];if(De<R&&s===je||De>=R&&je.type===s)return De}if(c){const De=y[R];if(De&&Lr(De)&&De.type===s)return R}return null}function V(r,i,s,l){let c=r[s];const h=i.data;if(function(r){return r instanceof Jr}(c)){const y=c;y.resolving&&function(r,i){throw new Ke("200",`Circular dependency in DI detected for ${r}`)}(dt(h[s]));const E=Ha(y.canSeeViewProviders);y.resolving=!0;const R=y.injectImpl?_n(y.injectImpl):null;K(r,l,at.Default);try{c=r[s]=y.factory(void 0,h,r,l),i.firstCreatePass&&s>=l.directiveStart&&function(r,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const y=ki(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,h))}(s,h[s],i)}finally{null!==R&&_n(R),Ha(E),y.resolving=!1,cn()}}return c}function re(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function be(r,i){return!(r&at.Self||r&at.Host&&i)}class Fe{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return yl(this._tNode,this._lView,i,void 0,s)}}function M(r){return vn(()=>{const i=r.prototype.constructor,s=i[qn]||v(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[qn]||v(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function v(r){return Ve(r)?()=>{const i=v(ue(r));return i&&i()}:ls(r)}function b(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(rs(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(li(),r)}const $="__parameters__";function xe(r,i,s){return vn(()=>{const l=function(r){return function(...s){if(r){const l=r(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return E.annotation=y,E;function E(R,F,W){const oe=R.hasOwnProperty($)?R[$]:Object.defineProperty(R,$,{value:[]})[$];for(;oe.length<=W;)oe.push(null);return(oe[W]=oe[W]||[]).push(y),R}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Yt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Ae({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toLowerCase().toString(){return`InjectionToken ${this._desc}`}}const yn=new Yt("AnalyzeForEntryComponents"),Jt=Function;function hn(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let l=r[s];Array.isArray(l)?(i===r&&(i=r.slice(0,s)),hn(l,i)):i!==r&&i.push(l)}return i}function kn(r,i){r.forEach(s=>Array.isArray(s)?kn(s,i):i(s))}function vr(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function ci(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Rr(r,i,s){let l=Mr(r,i);return l>=0?r[1|l]=s:(l=~l,function(r,i,s,l){let c=r.length;if(c==i)r.push(s,l);else if(1===c)r.push(l,r[0]),r[0]=s;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function oa(r,i){const s=Mr(r,i);if(s>=0)return r[1|s]}function Mr(r,i){return function(r,i,s){let l=0,c=r.length>>s;for(;c!==l;){const h=l+(c-l>>1),y=r[h<<s];if(i===y)return h<<s;y>i?c=h:l=h+1}return~(c<<s)}(r,i,1)}const Kl={},rd="__NG_DI_FLAG__",Xa="ngTempTokenPath",Wf=/\n/gm,Yl="__source",Ql=pe({provide:String,useValue:pe});let el;function tl(r){const i=el;return el=r,i}function ga(r,i=at.Default){if(void 0===el)throw new Error("inject() must be called from an injection context");return null===el?un(r,void 0,i):el.get(r,i&at.Optional?null:void 0,i)}function Es(r,i=at.Default){return(en||ga)(ue(r),i)}function ma(r){const i=[];for(let s=0;s<r.length;s++){const l=ue(r[s]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,h=at.Default;for(let y=0;y<l.length;y++){const E=l[y],R=pc(E);"number"==typeof R?-1===R?c=E.token:h|=R:c=E}i.push(Es(c,h))}else i.push(Es(l))}return i}function bl(r,i){return r[rd]=i,r.prototype[rd]=i,r}function pc(r){return r[rd]}function Jl(r,i,s,l){const c=r[Xa];throw i[Yl]&&c.unshift(i[Yl]),r.message=function(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=he(i);if(Array.isArray(i))c=i.map(he).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let E=i[y];h.push(y+":"+("string"==typeof E?JSON.stringify(E):he(E)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${r.replace(Wf,"\n  ")}`}("\n"+r.message,c,s,l),r.ngTokenPath=c,r[Xa]=null,r}const Cl=bl(xe("Inject",r=>({token:r})),-1),So=bl(xe("Optional"),8),Oa=bl(xe("SkipSelf"),4);let iu,Il;function su(r){var i;return(null===(i=function(){if(void 0===iu&&(iu=null,dr.trustedTypes))try{iu=dr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return iu}())||void 0===i?void 0:i.createHTML(r))||r}function mc(r){var i;return(null===(i=function(){if(void 0===Il&&(Il=null,dr.trustedTypes))try{Il=dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Il}())||void 0===i?void 0:i.createHTML(r))||r}class ka{constructor(i){this.changingThisBreaksApplicationSecurity=i}toLowerCase().toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pu extends ka{getTypeName(){return"HTML"}}class rl extends ka{getTypeName(){return"Style"}}class ph extends ka{getTypeName(){return"Script"}}class gh extends ka{getTypeName(){return"URL"}}class mh extends ka{getTypeName(){return"ResourceURL"}}function Go(r){return r instanceof ka?r.changingThisBreaksApplicationSecurity:r}function Dl(r,i){const s=il(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function il(r){return r instanceof ka&&r.getTypeName()||null}function Ps(r){return new Pu(r)}function kr(r){return new rl(r)}function yc(r){return new ph(r)}function yh(r){return new gh(r)}function Cs(r){return new mh(r)}class po{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(su(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class zi{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=su(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=su(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let c=s.length-1;0<c;c--){const y=s.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Al(r){return(r=String(r)).match(Yf)||r.match(Qf)?r:"unsafe:"+r}function _a(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function Fu(...r){const i={};for(const s of r)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const ei=_a("area,br,col,hr,img,wbr"),_c=_a("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Lu=_a("rp,rt"),wc=Fu(ei,Fu(_c,_a("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fu(Lu,_a("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fu(Lu,_c)),bc=_a("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sl=_a("srcset"),ld=Fu(bc,Sl,_a("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_a("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wh=_a("script,style,template");class Xf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!wc.hasOwnProperty(s))return this.sanitizedSomething=!0,!wh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),y=h.name,E=y.toLowerCase();if(!ld.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let R=h.value;bc[E]&&(R=Al(R)),Sl[E]&&(r=R,R=(r=String(r)).split(",").map(i=>Al(i.trim())).join(", ")),this.buf.push(" ",y,'="',ud(R),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();wc.hasOwnProperty(s)&&!ei.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(ud(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const ep=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Uu=/([^\#-~ |!])/g;function ud(r){return r.replace(/&/g,"&amp;").replace(ep,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Uu,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xl;function Zs(r,i){let s=null;try{xl=xl||function(r){const i=new zi(r);return function(){try{return!!(new window.DOMParser).parseFromString(su(""),"text/html")}catch(r){return!1}}()?new po(i):i}(r);let l=i?String(i):"";s=xl.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=xl.getInertBodyElement(l)}while(l!==h);return su((new Xf).sanitizeChildren(au(s)||s))}finally{if(s){const l=au(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function au(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ai=(()=>((Ai=Ai||{})[Ai.NONE=0]="NONE",Ai[Ai.HTML=1]="HTML",Ai[Ai.STYLE=2]="STYLE",Ai[Ai.SCRIPT=3]="SCRIPT",Ai[Ai.URL=4]="URL",Ai[Ai.RESOURCE_URL=5]="RESOURCE_URL",Ai))();function va(r){const i=ju();return i?mc(i.sanitize(Ai.HTML,r)||""):Dl(r,"HTML")?mc(Go(r)):Zs(ts(),fe(r))}function Bu(r){const i=ju();return i?i.sanitize(Ai.URL,r)||"":Dl(r,"URL")?Go(r):Al(fe(r))}function ju(){const r=It();return r&&r[12]}const pd="__ngContext__";function go(r,i){r[pd]=i}function Hu(r){const i=function(r){return r[pd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Gs(r){return r.ngOriginalError}function g(r,...i){r.error(...i)}class m{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=this._findContext(i),c=(r=i)&&r.ngErrorLogger||g;var r;c(this._console,"ERROR",i),s&&c(this._console,"ORIGINAL ERROR",s),l&&c(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?i.ngDebugContext||this._findContext(Gs(i)):null}_findOriginalError(i){let s=i&&Gs(i);for(;s&&Gs(s);)s=Gs(s);return s||null}}const uu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dr))();function wa(r){return r instanceof Function?r():r}var Ui=(()=>((Ui=Ui||{})[Ui.Important=1]="Important",Ui[Ui.DashCase=2]="DashCase",Ui))();function yd(r,i){return undefined(r,i)}function Gu(r){const i=r[3];return rr(i)?i[3]:i}function Ah(r){return zu(r[13])}function hu(r){return zu(r[4])}function zu(r){for(;null!==r&&!rr(r);)r=r[4];return r}function ol(r,i,s,l,c){if(null!=l){let h,y=!1;rr(l)?h=l:Ni(l)&&(y=!0,l=l[0]);const E=we(l);0===r&&null!==s?null==c?cm(i,s,E):ba(i,s,E,c||null,!0):1===r&&null!==s?ba(i,s,E,c||null,!0):2===r?function(r,i,s){const l=Za(r,i);l&&function(r,i,s,l){L(r)?r.removeChild(i,s,l):i.removeChild(s)}(r,l,i,s)}(i,E,y):3===r&&i.destroyNode(E),null!=h&&function(r,i,s,l,c){const h=s[7];h!==we(s)&&ol(i,r,l,h,c);for(let E=10;E<s.length;E++){const R=s[E];Dc(R[1],R,r,i,l,h)}}(i,r,h,s,c)}}function Rh(r,i,s){return L(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function Xo(r,i){const s=r[9],l=s.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,ns(c,-1)),s.splice(l,1)}function Mh(r,i){if(r.length<=10)return;const s=10+i,l=r[s];if(l){const c=l[17];null!==c&&c!==r&&Xo(c,l),i>0&&(r[s-1][4]=l[4]);const h=ci(r,10+i);!function(r,i){Dc(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const y=h[19];null!==y&&y.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function vd(r,i){if(!(256&i[2])){const s=i[11];L(s)&&s.destroyNode&&Dc(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return wd(r[1],r);for(;i;){let s=null;if(Ni(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==r;)Ni(i)&&wd(i[1],i),i=i[3];null===i&&(i=r),Ni(i)&&wd(i[1],i),s=i&&i[4]}i=s}}(i)}}function wd(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Jr)){const h=s[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const E=c[h[y]],R=h[y+1];try{R.call(E)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,l=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],E="function"==typeof y?y(i):we(i[y]),R=l[c=s[h+2]],F=s[h+3];"boolean"==typeof F?E.removeEventListener(s[h],R,F):F>=0?l[c=F]():l[c=-F].unsubscribe(),h+=2}else{const y=l[c=s[h+1]];s[h].call(y)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();i[7]=null}}(r,i),1===i[1].type&&L(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&rr(i[3])){s!==i[3]&&Xo(s,i);const l=i[19];null!==l&&l.detachView(r)}}}function Wu(r,i,s){return function(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===kt.None||c===kt.Emulated)return null}return k(l,s)}(r,i.parent,s)}function ba(r,i,s,l,c){L(r)?r.insertBefore(i,s,l,c):i.insertBefore(s,l,c)}function cm(r,i,s){L(r)?r.appendChild(i,s):i.appendChild(s)}function Ku(r,i,s,l,c){null!==l?ba(r,i,s,l,c):cm(r,i,s)}function Za(r,i){return L(r)?r.parentNode(i):i.parentNode}let hm=function(r,i,s){return 40&r.type?k(r,s):null};function Oh(r,i,s,l){const c=Wu(r,l,i),h=i[11],E=function(r,i,s){return hm(r,i,s)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(s))for(let R=0;R<s.length;R++)Ku(h,c,s[R],E,!1);else Ku(h,c,s,E,!1)}function Qu(r,i){if(null!==i){const s=i.type;if(3&s)return k(i,r);if(4&s)return Ph(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return Qu(r,l);{const c=r[i.index];return rr(c)?Ph(-1,c):we(c)}}if(32&s)return yd(i,r)()||we(r[i.index]);{const l=Ju(r,i);return null!==l?Array.isArray(l)?l[0]:Qu(Gu(r[16]),l):Qu(r,i.next)}}return null}function Ju(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Ph(r,i){const s=10+r+1;if(s<i.length){const l=i[s],c=l[1].firstChild;if(null!==c)return Qu(l,c)}return i[7]}function cp(r,i,s,l,c,h,y){for(;null!=s;){const E=l[s.index],R=s.type;if(y&&0===i&&(E&&go(we(E),l),s.flags|=4),64!=(64&s.flags))if(8&R)cp(r,i,s.child,l,c,h,!1),ol(i,r,c,E,h);else if(32&R){const F=yd(s,l);let W;for(;W=F();)ol(i,r,c,W,h);ol(i,r,c,E,h)}else 16&R?bd(r,i,l,s,c,h):ol(i,r,c,E,h);s=y?s.projectionNext:s.next}}function Dc(r,i,s,l,c,h){cp(s,l,r.firstChild,i,c,h,!1)}function bd(r,i,s,l,c,h){const y=s[16],R=y[6].projection[l.projection];if(Array.isArray(R))for(let F=0;F<R.length;F++)ol(i,r,c,R[F],h);else cp(r,i,R,y[3],c,h,!0)}function kh(r,i,s){L(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function Ed(r,i,s){L(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function Ac(r,i,s){let l=r.length;for(;;){const c=r.indexOf(i,s);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}s=c+1}}const Fh="ng-template";function b_(r,i,s){let l=0;for(;l<r.length;){let c=r[l++];if(s&&"class"===c){if(c=r[l],-1!==Ac(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function hp(r){return 4===r.type&&r.value!==Fh}function fp(r,i,s){return i===(4!==r.type||s?r.value:Fh)}function mm(r,i,s){let l=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(rs(r[i]))return i;return r.length}(c);let y=!1;for(let E=0;E<i.length;E++){const R=i[E];if("number"!=typeof R){if(!y)if(4&l){if(l=2|1&l,""!==R&&!fp(r,R,s)||""===R&&1===i.length){if(qa(l))return!1;y=!0}}else{const F=8&l?R:i[++E];if(8&l&&null!==r.attrs){if(!b_(r.attrs,F,s)){if(qa(l))return!1;y=!0}continue}const oe=ym(8&l?"class":R,c,hp(r),s);if(-1===oe){if(qa(l))return!1;y=!0;continue}if(""!==F){let de;de=oe>h?"":c[oe+1].toLowerCase();const De=8&l?de:null;if(De&&-1!==Ac(De,F,0)||2&l&&F!==de){if(qa(l))return!1;y=!0}}}}else{if(!y&&!qa(l)&&!qa(R))return!1;if(y&&qa(R))continue;y=!1,l=R|1&l}}return qa(l)||y}function qa(r){return 0==(1&r)}function ym(r,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const y=i[c];if(y===r)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let E=i[++c];for(;"string"==typeof E;)E=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function pp(r,i,s=!1){for(let l=0;l<i.length;l++)if(mm(r,i[l],s))return!0;return!1}function mp(r,i){return r?":not("+i.trim()+")":i}function T_(r){let i=r[0],s=1,l=2,c="",h=!1;for(;s<r.length;){let y=r[s];if("string"==typeof y)if(2&l){const E=r[++s];c+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!qa(y)&&(i+=mp(h,c),c=""),l=y,h=h||!qa(l);s++}return""!==c&&(i+=mp(h,c)),i}const pr={};function Cd(r){yp(or(),It(),On()+r,Oo())}function yp(r,i,s,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&Fi(i,h,s)}else{const h=r.preOrderHooks;null!==h&&Hs(i,h,0,s)}Xn(s)}function Td(r,i){return r<<17|i<<2}function Ga(r){return r>>17&32767}function Id(r){return 2|r}function kl(r){return(131068&r)>>2}function Dd(r,i){return-131069&r|i<<2}function Ad(r){return 1|r}function qh(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const c=s[l],h=s[l+1];if(-1!==h){const y=r.data[h];q(c),y.contentQueries(2,i[h],h)}}}function Od(r,i,s,l,c,h,y,E,R,F){const W=i.blueprint.slice();return W[0]=c,W[2]=140|l,pi(W),W[3]=W[15]=r,W[8]=s,W[10]=y||r&&r[10],W[11]=E||r&&r[11],W[12]=R||r&&r[12]||null,W[9]=F||r&&r[9]||null,W[6]=h,W[16]=2==i.type?r[16]:W,W}function yu(r,i,s,l,c){let h=r.data[i];if(null===h)h=function(r,i,s,l,c){const h=ha(),y=Xs(),R=r.data[i]=function(r,i,s,l,c,h){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,i,l,c);return null===r.firstChild&&(r.firstChild=R),null!==h&&(y?null==h.child&&null!==R.parent&&(h.child=R):null===h.next&&(h.next=R)),R}(r,i,s,l,c),Tn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const y=function(){const r=Tn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return xs(h,!0),h}function _u(r,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Pd(r,i,s){ae(i);try{const l=r.viewQuery;null!==l&&Zp(1,l,s);const c=r.template;null!==c&&zh(r,i,c,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&qh(r,i),r.staticViewQueries&&Zp(2,r.viewQuery,s);const h=r.components;null!==h&&function(r,i){for(let s=0;s<i.length;s++)Lp(r,i[s])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Lt()}}function vu(r,i,s,l){const c=i[2];if(256==(256&c))return;ae(i);const h=Oo();try{pi(i),function(r){Tn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&zh(r,i,s,2,l);const y=3==(3&c);if(!h)if(y){const F=r.preOrderCheckHooks;null!==F&&Fi(i,F,null)}else{const F=r.preOrderHooks;null!==F&&Hs(i,F,0,null),Po(i,0)}if(function(r){for(let i=Ah(r);null!==i;i=hu(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const c=s[l],h=c[3];0==(1024&c[2])&&ns(h,1),c[2]|=1024}}}(i),function(r){for(let i=Ah(r);null!==i;i=hu(i))for(let s=10;s<i.length;s++){const l=i[s],c=l[1];cr(l)&&vu(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&qh(r,i),!h)if(y){const F=r.contentCheckHooks;null!==F&&Fi(i,F)}else{const F=r.contentHooks;null!==F&&Hs(i,F,1),Po(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)Xn(~c);else{const h=c,y=s[++l],E=s[++l];lo(y,h),E(2,i[h])}}}finally{Xn(-1)}}(r,i);const E=r.components;null!==E&&function(r,i){for(let s=0;s<i.length;s++)B_(r,i[s])}(i,E);const R=r.viewQuery;if(null!==R&&Zp(2,R,l),!h)if(y){const F=r.viewCheckHooks;null!==F&&Fi(i,F)}else{const F=r.viewHooks;null!==F&&Hs(i,F,2),Po(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,ns(i[3],-1))}finally{Lt()}}function Gh(r,i,s,l){const c=i[10],h=!Oo(),y=Cn(i);try{h&&!y&&c.begin&&c.begin(),y&&Pd(r,i,l),vu(r,i,s,l)}finally{h&&!y&&c.end&&c.end()}}function zh(r,i,s,l,c){const h=On(),y=2&l;try{Xn(-1),y&&i.length>20&&yp(r,i,20,Oo()),s(l,c)}finally{Xn(h)}}function Dp(r,i,s){if(ri(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const y=r.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function wu(r,i,s){!Qs()||(function(r,i,s,l){const c=s.directiveStart,h=s.directiveEnd;r.firstCreatePass||co(s,i),go(l,i);const y=s.initialInputs;for(let E=c;E<h;E++){const R=r.data[E],F=Lr(R);F&&F_(i,s,R);const W=V(i,r,E,s);go(W,i),null!==y&&Nm(0,E-c,W,R,0,y),F&&(Mt(s.index,i)[8]=W)}}(r,i,s,k(s,i)),128==(128&s.flags)&&function(r,i,s){const l=s.directiveStart,c=s.directiveEnd,y=s.index,E=Tn.lFrame.currentDirectiveIndex;try{Xn(y);for(let R=l;R<c;R++){const F=r.data[R],W=i[R];Hr(R),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Jh(F,W)}}finally{Xn(-1),Hr(E)}}(r,i,s))}function kd(r,i,s=k){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],E=-1===y?s(i,r):r[y];r[c++]=E}}}function Sm(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Wh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Wh(r,i,s,l,c,h,y,E,R,F){const W=20+l,oe=W+c,de=function(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:pr);return s}(W,oe),De="function"==typeof F?F():F;return de[1]={type:r,blueprint:de,template:s,queries:null,viewQuery:E,declTNode:i,data:de.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:R,consts:De,incompleteFirstPass:!1}}function Rm(r,i,s,l){const c=nf(i);null===s?c.push(l):(c.push(s),r.firstCreatePass&&Fm(r).push(l,c.length-1))}function Mm(r,i,s){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,c):s[l]=[i,c]}return s}function ea(r,i,s,l,c,h,y,E){const R=k(i,s);let W,F=i.inputs;!E&&null!=F&&(W=F[l])?(sf(r,s,W,l,c),Ls(i)&&function(r,i){const s=Mt(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=y?y(c,i.value||"",l):c,L(h)?h.setProperty(R,l,c):Gi(l)||(R.setProperty?R.setProperty(l,c):R[l]=c))}function Qh(r,i,s,l){let c=!1;if(Qs()){const h=function(r,i,s){const l=r.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const y=l[h];pp(s,y.selectors,!1)&&(c||(c=[]),Ao(co(s,i),r,y.type),Lr(y)?(Xh(r,s),c.unshift(y)):c.push(y))}return c}(r,i,s),y=null===l?null:{"":-1};if(null!==h){c=!0,ef(s,r.data.length,h.length);for(let W=0;W<h.length;W++){const oe=h[W];oe.providersResolver&&oe.providersResolver(oe)}let E=!1,R=!1,F=_u(r,i,h.length,null);for(let W=0;W<h.length;W++){const oe=h[W];s.mergedAttrs=Li(s.mergedAttrs,oe.hostAttrs),tf(r,s,i,F,oe),k_(F,oe,y),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const de=oe.type.prototype;!E&&(de.ngOnChanges||de.ngOnInit||de.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),E=!0),!R&&(de.ngOnChanges||de.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),R=!0),F++}!function(r,i){const l=i.directiveEnd,c=r.data,h=i.attrs,y=[];let E=null,R=null;for(let F=i.directiveStart;F<l;F++){const W=c[F],oe=W.inputs,de=null===h||hp(i)?null:Om(oe,h);y.push(de),E=Mm(oe,F,E),R=Mm(W.outputs,F,R)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=E,i.outputs=R}(r,s)}y&&function(r,i,s){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Ke("301",`Export of name '${i[c+1]}' not found!`);l.push(i[c],h)}}}(s,l,y)}return s.mergedAttrs=Li(s.mergedAttrs,s.attrs),c}function ec(r,i,s,l,c,h){const y=h.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const R=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=R&&E.push(R),E.push(l,c,y)}}function Jh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Xh(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function k_(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;Lr(i)&&(s[""]=r)}}function ef(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function tf(r,i,s,l,c){r.data[l]=c;const h=c.factory||(c.factory=ls(c.type)),y=new Jr(h,Lr(c),null);r.blueprint[l]=y,s[l]=y,ec(r,i,0,l,_u(r,s,c.hostVars,pr),c)}function F_(r,i,s){const l=k(i,r),c=Sm(s),h=r[10],y=Oc(r,Od(r,c,null,s.onPush?64:16,l,i,h,h.createRenderer(l,s),null,null));r[i.index]=y}function za(r,i,s,l,c,h){const y=k(r,i);!function(r,i,s,l,c,h,y){if(null==h)L(r)?r.removeAttribute(i,c,s):i.removeAttribute(c);else{const E=null==y?fe(h):y(h,l||"",c);L(r)?r.setAttribute(i,c,E,s):s?i.setAttributeNS(s,c,E):i.setAttribute(c,E)}}(i[11],y,h,r.value,s,l,c)}function Nm(r,i,s,l,c,h){const y=h[i];if(null!==y){const E=l.setInput;for(let R=0;R<y.length;){const F=y[R++],W=y[R++],oe=y[R++];null!==E?l.setInput(s,oe,F,W):s[W]=oe}}}function Om(r,i){let s=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return s}function kp(r,i,s,l){return new Array(r,!0,!1,i,null,0,l,s,null,null)}function B_(r,i){const s=Mt(i,r);if(cr(s)){const l=s[1];80&s[2]?vu(l,s,l.template,s[8]):s[5]>0&&Fp(s)}}function Fp(r){for(let l=Ah(r);null!==l;l=hu(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const y=h[1];vu(y,h,y.template,h[8])}else h[5]>0&&Fp(h)}const s=r[1].components;if(null!==s)for(let l=0;l<s.length;l++){const c=Mt(s[l],r);cr(c)&&c[5]>0&&Fp(c)}}function Lp(r,i){const s=Mt(i,r),l=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(l,s),Pd(l,s,s[8])}function Oc(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Up(r){for(;r;){r[2]|=64;const i=Gu(r);if(ur(r)&&!i)return r;r=i}return null}function Vd(r,i,s){const l=i[10];l.begin&&l.begin();try{vu(r,i,r.template,s)}catch(c){throw Lm(i,c),c}finally{l.end&&l.end()}}function Hp(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],l=Hu(s),c=l[1];Gh(c,l,c.template,s)}}(r[8])}function Zp(r,i,s){q(0),i(r,s)}const j_=(()=>Promise.resolve(null))();function nf(r){return r[7]||(r[7]=[])}function Fm(r){return r.cleanup||(r.cleanup=[])}function Lm(r,i){const s=r[9],l=s?s.get(m,null):null;l&&l.handleError(i)}function sf(r,i,s,l,c){for(let h=0;h<s.length;){const y=s[h++],E=s[h++],R=i[y],F=r.data[y];null!==F.setInput?F.setInput(R,c,l,E):R[E]=c}}function Wa(r,i,s){const l=U(i,r);!function(r,i,s){L(r)?r.setValue(i,s):i.textContent=s}(r[11],l,s)}function Pc(r,i,s){let l=s?r.styles:null,c=s?r.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const E=i[y];"number"==typeof E?h=E:1==h?c=ye(c,E):2==h&&(l=ye(l,E+": "+i[++y]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=c:r.classesWithoutHost=c}const Fc=new Yt("INJECTOR",-1);class of{get(i,s=Kl){if(s===Kl){const l=new Error(`NullInjectorError: No provider for ${he(i)}!`);throw l.name="NullInjectorError",l}return s}}const Ea=new Yt("Set Injector scope."),tc={},H_={};let Ud;function Bm(){return void 0===Ud&&(Ud=new of),Ud}function af(r,i=null,s=null,l){return new Z_(r,s,i||Bm(),l)}class Z_{constructor(i,s,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&kn(s,E=>this.processProvider(E,i,s)),kn([i],E=>this.processInjectorType(E,[],h)),this.records.set(Fc,bu(void 0,this));const y=this.records.get(Ea);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof i?null:he(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Kl,l=at.Default){this.assertNotDestroyed();const c=tl(this),h=_n(void 0);try{if(!(l&at.SkipSelf)){let E=this.records.get(i);if(void 0===E){const R=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Yt)&&Ut(i);E=R&&this.injectableDefInScope(R)?bu(Bd(i),tc):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&at.Self?Bm():this.parent).get(i,s=l&at.Optional&&s===Kl?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Xa]=y[Xa]||[]).unshift(he(i)),c)throw y;return Jl(y,i,"R3InjectorError",this.source)}throw y}finally{_n(h),tl(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toLowerCase().toString(){const i=[];return this.records.forEach((l,c)=>i.push(he(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,l){if(!(i=ue(i)))return!1;let c=er(i);const h=null==c&&i.ngModule||void 0,y=void 0===h?i:h,E=-1!==l.indexOf(y);if(void 0!==h&&(c=er(h)),null==c)return!1;if(null!=c.imports&&!E){let W;l.push(y);try{kn(c.imports,oe=>{this.processInjectorType(oe,s,l)&&(void 0===W&&(W=[]),W.push(oe))})}finally{}if(void 0!==W)for(let oe=0;oe<W.length;oe++){const{ngModule:de,providers:De}=W[oe];kn(De,je=>this.processProvider(je,de,De||Ce))}}this.injectorDefTypes.add(y);const R=ls(y)||(()=>new y);this.records.set(y,bu(R,tc));const F=c.providers;if(null!=F&&!E){const W=i;kn(F,oe=>this.processProvider(oe,W,F))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,l){let c=Lc(i=ue(i))?i:ue(i&&i.provide);const h=Gp(r=i)?bu(void 0,r.useValue):bu(jm(r),tc);var r;if(Lc(i)||!0!==i.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=bu(void 0,tc,!0),y.factory=()=>ma(y.multi),this.records.set(c,y)),c=i,y.multi.push(i)}this.records.set(c,h)}hydrate(i,s){return s.value===tc&&(s.value=H_,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=ue(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Bd(r){const i=Ut(r),s=null!==i?i.factory:ls(r);if(null!==s)return s;if(r instanceof Yt)throw new Error(`Token ${he(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const l=function(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}(i,"?");throw new Error(`Can't resolve all parameters for ${he(r)}: (${l.join(", ")}).`)}const s=function(r){const i=r&&(r[Ln]||r[He]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function jm(r,i,s){let l;if(Lc(r)){const c=ue(r);return ls(c)||Bd(c)}if(Gp(r))l=()=>ue(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...ma(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))l=()=>Es(ue(r.useExisting));else{const c=ue(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return ls(c)||Bd(c);l=()=>new c(...ma(r.deps))}return l}function bu(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function Gp(r){return null!==r&&"object"==typeof r&&Ql in r}function Lc(r){return"function"==typeof r}const Zm=function(r,i,s){return function(r,i=null,s=null,l){const c=af(r,i,s,l);return c._resolveInjectorDefTypes(),c}({name:s},i,r,s)};let is=(()=>{class r{static create(s,l){return Array.isArray(s)?Zm(s,l,""):Zm(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=Kl,r.NULL=new of,r.\u0275prov=Ae({token:r,providedIn:"any",factory:()=>Es(Fc)}),r.__NG_ELEMENT_ID__=-1,r})();function Km(r,i){xr(Hu(r)[1],li())}function Bi(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let c;if(Lr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(s){l.push(c);const y=r;y.inputs=Fa(r.inputs),y.declaredInputs=Fa(r.declaredInputs),y.outputs=Fa(r.outputs);const E=c.hostBindings;E&&pf(r,E);const R=c.viewQuery,F=c.contentQueries;if(R&&Qm(r,R),F&&rv(r,F),ze(r.inputs,c.inputs),ze(r.declaredInputs,c.declaredInputs),ze(r.outputs,c.outputs),Lr(c)&&c.data.animation){const W=r.data;W.animation=(W.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const E=h[y];E&&E.ngInherit&&E(r),E===Bi&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=Li(c.hostAttrs,s=Li(s,c.hostAttrs))}}(l)}function Fa(r){return r===Me?{}:r===Ce?[]:r}function Qm(r,i){const s=r.viewQuery;r.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function rv(r,i){const s=r.contentQueries;r.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function pf(r,i){const s=r.hostBindings;r.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}let jc=null;function Hc(){if(!jc){const r=dr.Symbol;if(r&&r.iterator)jc=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(jc=l)}}}return jc}class si{constructor(i){this.wrapped=i}static wrap(i){return new si(i)}static unwrap(i){return si.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof si}}function gf(r){return!!mf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Hc()in r)}function mf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ll(r,i,s){return r[i]=s}function Mo(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function ic(r,i,s,l){const c=Mo(r,i,s);return Mo(r,i+1,l)||c}function lg(r,i,s,l){const c=It();return Mo(c,ws(),i)&&(or(),za(Wn(),c,r,i,s,l)),lg}function sc(r,i,s,l,c,h,y,E){const F=function(r,i,s,l,c){const h=ic(r,i,s,l);return Mo(r,i+2,c)||h}(r,jr(),s,c,y);return $i(3),F?i+fe(s)+l+fe(c)+h+fe(y)+E:pr}function _f(r,i,s,l,c,h,y,E){const R=It(),F=or(),W=r+20,oe=F.firstCreatePass?function(r,i,s,l,c,h,y,E,R){const F=i.consts,W=yu(i,r,4,y||null,Br(F,E));Qh(i,s,W,Br(F,R)),xr(i,W);const oe=W.tViews=Wh(2,W,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,F);return null!==i.queries&&(i.queries.template(i,W),oe.queries=i.queries.embeddedTView(W)),W}(W,F,R,i,s,l,c,h,y):F.data[W];xs(oe,!1);const de=R[11].createComment("");Oh(F,R,de,oe),go(de,R),Oc(R,R[W]=kp(de,R,de,oe)),Yr(oe)&&wu(F,R,oe),null!=y&&kd(R,oe,E)}function sy(r){return Ye(Tn.lFrame.contextLView,20+r)}function Kd(r,i=at.Default){const s=It();return null===s?Es(r,i):yl(li(),s,ue(r),i)}function _g(r,i,s){const l=It();return Mo(l,ws(),i)&&ea(or(),Wn(),l,r,i,l[11],s,!1),_g}function If(r,i,s,l,c){const y=c?"class":"style";sf(r,s,i.inputs[y],y,l)}function vg(r,i,s,l){const c=It(),h=or(),y=20+r,E=c[11],R=c[y]=Rh(E,i,Tn.lFrame.currentNamespace),F=h.firstCreatePass?function(r,i,s,l,c,h,y){const E=i.consts,F=yu(i,r,2,c,Br(E,h));return Qh(i,s,F,Br(E,y)),null!==F.attrs&&Pc(F,F.attrs,!1),null!==F.mergedAttrs&&Pc(F,F.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,F),F}(y,h,c,0,i,s,l):h.data[y];xs(F,!0);const W=F.mergedAttrs;null!==W&&Qn(E,R,W);const oe=F.classes;null!==oe&&Ed(E,R,oe);const de=F.styles;null!==de&&kh(E,R,de),64!=(64&F.flags)&&Oh(h,c,R,F),0===Tn.lFrame.elementDepthCount&&go(R,c),Tn.lFrame.elementDepthCount++,Yr(F)&&(wu(h,c,F),Dp(h,F,c)),null!==l&&kd(c,F)}function wg(){let r=li();Xs()?To():(r=r.parent,xs(r,!1));const i=r;Tn.lFrame.elementDepthCount--;const s=or();s.firstCreatePass&&(xr(s,r),ri(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&If(s,i,It(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&If(s,i,It(),i.stylesWithoutHost,!1)}function bg(r,i,s,l){vg(r,i,s,l),wg()}function Yd(r,i,s){const l=It(),c=or(),h=r+20,y=c.firstCreatePass?function(r,i,s,l,c){const h=i.consts,y=Br(h,l),E=yu(i,r,8,"ng-container",y);return null!==y&&Pc(E,y,!0),Qh(i,s,E,Br(h,c)),null!==i.queries&&i.queries.elementStart(i,E),E}(h,c,l,i,s):c.data[h];xs(y,!0);const E=l[h]=l[11].createComment("");Oh(c,l,E,y),go(E,l),Yr(y)&&(wu(c,l,y),Dp(c,y,l)),null!=s&&kd(l,y)}function Eg(){let r=li();const i=or();Xs()?To():(r=r.parent,xs(r,!1)),i.firstCreatePass&&(xr(i,r),ri(r)&&i.queries.elementEnd(r))}function Cy(){return It()}function Cg(r){return!!r&&"function"==typeof r.then}function Ty(r){return!!r&&"function"==typeof r.subscribe}const Tg=Ty;function Ig(r,i,s,l){const c=It(),h=or(),y=li();return function(r,i,s,l,c,h,y,E){const R=Yr(l),W=r.firstCreatePass&&Fm(r),oe=i[8],de=nf(i);let De=!0;if(3&l.type||E){const it=k(l,i),Vt=E?E(it):it,Ct=de.length,jn=E?gr=>E(we(gr[l.index])):l.index;if(L(s)){let gr=null;if(!E&&R&&(gr=function(r,i,s,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===l){const E=i[7],R=c[h+2];return E.length>R?E[R]:null}"string"==typeof y&&(h+=2)}return null}(r,i,c,l.index)),null!==gr)(gr.__ngLastListenerFn__||gr).__ngNextListenerFn__=h,gr.__ngLastListenerFn__=h,De=!1;else{h=Qd(l,i,oe,h,!1);const Vr=s.listen(Vt,c,h);de.push(h,Vr),W&&W.push(c,jn,Ct,Ct+1)}}else h=Qd(l,i,oe,h,!0),Vt.addEventListener(c,h,y),de.push(h),W&&W.push(c,jn,Ct,y)}else h=Qd(l,i,oe,h,!1);const je=l.outputs;let ht;if(De&&null!==je&&(ht=je[c])){const it=ht.length;if(it)for(let Vt=0;Vt<it;Vt+=2){const No=i[ht[Vt]][ht[Vt+1]].subscribe(h),pl=de.length;de.push(h,No),W&&W.push(c,l.index,pl,-(pl+1))}}}(h,c,c[11],y,r,i,!!s,l),Ig}function Dy(r,i,s,l){try{return!1!==s(l)}catch(c){return Lm(r,c),!1}}function Qd(r,i,s,l,c){return function h(y){if(y===Function)return l;const E=2&r.flags?Mt(r.index,i):i;0==(32&i[2])&&Up(E);let R=Dy(i,0,l,y),F=h.__ngNextListenerFn__;for(;F;)R=Dy(i,0,F,y)&&R,F=F.__ngNextListenerFn__;return c&&!1===R&&(y.preventDefault(),y.returnValue=!1),R}}function Dg(r=1){return function(r){return(Tn.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,Tn.lFrame.contextLView))[8]}(r)}function Wc(r,i,s,l,c){const h=r[s+1],y=null===i;let E=l?Ga(h):kl(h),R=!1;for(;0!==E&&(!1===R||y);){const W=r[E+1];na(r[E],i)&&(R=!0,r[E+1]=l?Ad(W):Id(W)),E=l?Ga(W):kl(W)}R&&(r[s+1]=l?Id(h):Ad(h))}function na(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Mr(r,i)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Df(r){return r.substring(yo.key,yo.keyEnd)}function Af(r,i){const s=yo.textEnd;return s===i?-1:(i=yo.keyEnd=function(r,i,s){for(;i<s&&r.charCodeAt(i)>32;)i++;return i}(r,yo.key=i,s),Yc(r,i,s))}function Yc(r,i,s){for(;i<s&&r.charCodeAt(i)<=32;)i++;return i}function Qc(r,i,s){return Ua(r,i,s,!1),Qc}function Sf(r,i){return Ua(r,i,null,!0),Sf}function Ly(r){!function(r,i,s,l){const c=or(),h=$i(2);c.firstUpdatePass&&Uy(c,null,h,l);const y=It();if(s!==pr&&Mo(y,h,s)){const E=c.data[On()];if(A(E,l)&&!Vy(c,h)){let R=l?E.classesWithoutHost:E.stylesWithoutHost;null!==R&&(s=ye(R,s||"")),If(c,E,y,s,l)}else!function(r,i,s,l,c,h,y,E){c===pr&&(c=Ce);let R=0,F=0,W=0<c.length?c[0]:null,oe=0<h.length?h[0]:null;for(;null!==W||null!==oe;){const de=R<c.length?c[R+1]:void 0,De=F<h.length?h[F+1]:void 0;let ht,je=null;W===oe?(R+=2,F+=2,de!==De&&(je=oe,ht=De)):null===oe||null!==W&&W<oe?(R+=2,je=W):(F+=2,je=oe,ht=De),null!==je&&o(r,i,s,l,je,ht,y,E),W=R<c.length?c[R]:null,oe=F<h.length?h[F]:null}}(c,E,y,y[11],y[h+1],y[h+1]=function(r,i,s){if(null==s||""===s)return Ce;const l=[],c=Go(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)r(l,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&r(l,h,c[h]);else"string"==typeof c&&i(l,c);return l}(r,i,s),l,h)}}(Rr,Ya,r,!0)}function Ya(r,i){for(let s=function(r){return function(r){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=r.length}(r),Af(r,Yc(r,0,yo.textEnd))}(i);s>=0;s=Af(i,s))Rr(r,Df(i),!0)}function Ua(r,i,s,l){const c=It(),h=or(),y=$i(2);h.firstUpdatePass&&Uy(h,r,y,l),i!==pr&&Mo(c,y,i)&&o(h,h.data[On()],c,c[11],r,c[y+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=he(Go(r)))),r}(i,s),l,y)}function Vy(r,i){return i>=r.expandoStartIndex}function Uy(r,i,s,l){const c=r.data;if(null===c[s+1]){const h=c[On()],y=Vy(r,s);A(h,l)&&null===i&&!y&&(i=!1),i=function(r,i,s,l){const c=uo(r);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=xf(s=Og(null,r,i,s,l),i.attrs,l),h=null);else{const y=i.directiveStylingLast;if(-1===y||r[y]!==c)if(s=Og(c,r,i,s,l),null===h){let R=function(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==kl(l))return r[Ga(l)]}(r,i,l);void 0!==R&&Array.isArray(R)&&(R=Og(null,r,i,R[1],l),R=xf(R,i.attrs,l),function(r,i,s,l){r[Ga(s?i.classBindings:i.styleBindings)]=l}(r,i,l,R))}else h=function(r,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=xf(l,r[h].hostAttrs,s);return xf(l,i.attrs,s)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function(r,i,s,l,c,h){let y=h?i.classBindings:i.styleBindings,E=Ga(y),R=kl(y);r[l]=s;let W,F=!1;if(Array.isArray(s)){const oe=s;W=oe[1],(null===W||Mr(oe,W)>0)&&(F=!0)}else W=s;if(c)if(0!==R){const de=Ga(r[E+1]);r[l+1]=Td(de,E),0!==de&&(r[de+1]=Dd(r[de+1],l)),r[E+1]=function(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=Td(E,0),0!==E&&(r[E+1]=Dd(r[E+1],l)),E=l;else r[l+1]=Td(R,0),0===E?E=l:r[R+1]=Dd(r[R+1],l),R=l;F&&(r[l+1]=Id(r[l+1])),Wc(r,W,l,!0),Wc(r,W,l,!1),function(r,i,s,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Mr(h,i)>=0&&(s[l+1]=Ad(s[l+1]))}(i,W,r,l,h),y=Td(E,R),h?i.classBindings=y:i.styleBindings=y}(c,h,i,s,y,l)}}function Og(r,i,s,l,c){let h=null;const y=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<y&&(h=i[E],l=xf(l,h.hostAttrs,c),h!==r);)E++;return null!==r&&(s.directiveStylingLast=E),l}function xf(r,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Rr(r,y,!!s||i[++h]))}return void 0===r?null:r}function o(r,i,s,l,c,h,y,E){if(!(3&i.type))return;const R=r.data,F=R[E+1];d(function(r){return 1==(1&r)}(F)?u(R,i,s,c,kl(F),y):void 0)||(d(h)||function(r){return 2==(2&r)}(F)&&(h=u(R,null,s,c,E,y)),function(r,i,s,l,c){const h=L(r);if(i)c?h?r.addClass(s,l):s.classList.add(l):h?r.removeClass(s,l):s.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Ui.DashCase;if(null==c)h?r.removeStyle(s,l,y):s.style.removeProperty(l);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),y|=Ui.Important),h?r.setStyle(s,l,c,y):s.style.setProperty(l,c,E?"important":"")}}}(l,y,U(On(),s),c,h))}function u(r,i,s,l,c,h){const y=null===i;let E;for(;c>0;){const R=r[c],F=Array.isArray(R),W=F?R[1]:R,oe=null===W;let de=s[c+1];de===pr&&(de=oe?Ce:void 0);let De=oe?oa(de,l):W===l?de:void 0;if(F&&!d(De)&&(De=oa(R,l)),d(De)&&(E=De,y))return E;const je=r[c+1];c=y?Ga(je):kl(je)}if(null!==i){let R=h?i.residualClasses:i.residualStyles;null!=R&&(E=oa(R,l))}return E}function d(r){return void 0!==r}function A(r,i){return 0!=(r.flags&(i?16:32))}function j(r,i=""){const s=It(),l=or(),c=r+20,h=l.firstCreatePass?yu(l,c,1,i,null):l.data[c],y=s[c]=function(r,i){return L(r)?r.createText(i):r.createTextNode(i)}(s[11],i);Oh(l,s,y,h),xs(h,!1)}function Q(r){return ce("",r,""),Q}function ce(r,i,s){const l=It(),c=function(r,i,s,l){return Mo(r,ws(),s)?i+fe(s)+l:pr}(l,r,i,s);return c!==pr&&Wa(l,On(),c),ce}function ve(r,i,s,l,c){const h=It(),y=function(r,i,s,l,c,h){const E=ic(r,jr(),s,c);return $i(2),E?i+fe(s)+l+fe(c)+h:pr}(h,r,i,s,l,c);return y!==pr&&Wa(h,On(),y),ve}function Ge(r,i,s,l,c,h,y){const E=It(),R=sc(E,r,i,s,l,c,h,y);return R!==pr&&Wa(E,On(),R),Ge}function Ev(r,i,s){const l=It();return Mo(l,ws(),i)&&ea(or(),Wn(),l,r,i,l[11],s,!0),Ev}function Cv(r,i,s){const l=It();if(Mo(l,ws(),i)){const h=or(),y=Wn();ea(h,y,l,r,i,function(r,i,s){return(null===r||Lr(r))&&(s=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(s[i.index])),s[11]}(uo(h.data),y,l),s,!0)}return Cv}const nh=void 0;var uC=["en",[["a","p"],["AM","PM"],nh],[["AM","PM"],nh,nh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nh,"{1} 'at' {0}",nh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toLowerCase().toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Mf={};function Tv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=cw(i);if(s)return s;const l=i.split("-")[0];if(s=cw(l),s)return s;if("en"===l)return uC;throw new Error(`Missing locale data for the locale "${r}".`)}function uw(r){return Tv(r)[ir.PluralCase]}function cw(r){return r in Mf||(Mf[r]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[r]),Mf[r]}var ir=(()=>((ir=ir||{})[ir.LocaleId=0]="LocaleId",ir[ir.DayPeriodsFormat=1]="DayPeriodsFormat",ir[ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",ir[ir.DaysFormat=3]="DaysFormat",ir[ir.DaysStandalone=4]="DaysStandalone",ir[ir.MonthsFormat=5]="MonthsFormat",ir[ir.MonthsStandalone=6]="MonthsStandalone",ir[ir.Eras=7]="Eras",ir[ir.FirstDayOfWeek=8]="FirstDayOfWeek",ir[ir.WeekendRange=9]="WeekendRange",ir[ir.DateFormat=10]="DateFormat",ir[ir.TimeFormat=11]="TimeFormat",ir[ir.DateTimeFormat=12]="DateTimeFormat",ir[ir.NumberSymbols=13]="NumberSymbols",ir[ir.NumberFormats=14]="NumberFormats",ir[ir.CurrencyCode=15]="CurrencyCode",ir[ir.CurrencySymbol=16]="CurrencySymbol",ir[ir.CurrencyName=17]="CurrencyName",ir[ir.Currencies=18]="Currencies",ir[ir.Directionality=19]="Directionality",ir[ir.PluralCase=20]="PluralCase",ir[ir.ExtraData=21]="ExtraData",ir))();const jy="en-US";let dw=jy;function Iv(r){Ft(r,"Expected localeId to be defined"),"string"==typeof r&&(dw=r.toLowerCase().replace(/_/g,"-"))}function Sv(r,i,s,l,c){if(r=ue(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sv(r[h],i,s,l,c);else{const h=or(),y=It();let E=Lc(r)?r:ue(r.provide),R=jm(r);const F=li(),W=1048575&F.providerIndexes,oe=F.directiveStart,de=F.providerIndexes>>20;if(Lc(r)||!r.multi){const De=new Jr(R,c,Kd),je=Rv(E,i,c?W:W+de,oe);-1===je?(Ao(co(F,y),h,E),xv(h,r,i.length),i.push(E),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),s.push(De),y.push(De)):(s[je]=De,y[je]=De)}else{const De=Rv(E,i,W+de,oe),je=Rv(E,i,W,W+de),ht=De>=0&&s[De],it=je>=0&&s[je];if(c&&!it||!c&&!ht){Ao(co(F,y),h,E);const Vt=function(r,i,s,l,c){const h=new Jr(r,s,Kd);return h.multi=[],h.index=i,h.componentProviders=0,kw(h,c,l&&!s),h}(c?oT:sT,s.length,c,l,R);!c&&it&&(s[je].providerFactory=Vt),xv(h,r,i.length,0),i.push(E),F.directiveStart++,F.directiveEnd++,c&&(F.providerIndexes+=1048576),s.push(Vt),y.push(Vt)}else xv(h,r,De>-1?De:je,kw(s[c?je:De],R,!c&&l));!c&&l&&it&&s[je].componentProviders++}}}function xv(r,i,s,l){const c=Lc(i);if(c||function(r){return!!r.useClass}(i)){const y=(i.useClass||i).prototype.ngOnDestroy;if(y){const E=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const R=E.indexOf(s);-1===R?E.push(s,[l,y]):E[R+1].push(l,y)}else E.push(s,y)}}}function kw(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Rv(r,i,s,l){for(let c=s;c<l;c++)if(i[c]===r)return c;return-1}function sT(r,i,s,l){return Mv(this.multi,[])}function oT(r,i,s,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=V(s,s[1],this.providerFactory.index,l);h=E.slice(0,y),Mv(c,h);for(let R=y;R<E.length;R++)h.push(E[R])}else h=[],Mv(c,h);return h}function Mv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function Fw(r,i=[]){return s=>{s.providersResolver=(l,c)=>function(r,i,s){const l=or();if(l.firstCreatePass){const c=Lr(r);Sv(s,l.data,l.blueprint,c,!0),Sv(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class Lw{}const Uw="ngComponent";class uT{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return i[Uw]=r,i}(i)}}let Of=(()=>{class r{}return r.NULL=new uT,r})();function Gy(...r){}function Pf(r,i){return new Iu(k(r,i))}const hT=function(){return Pf(li(),It())};let Iu=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=hT,r})();function Bw(r){return r instanceof Iu?r.nativeElement:r}class zy{}let fT=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>gT(),r})();const gT=function(){const r=It(),s=Mt(li().index,r);return function(r){return r[11]}(Ni(s)?s:r)};let Ov=(()=>{class r{}return r.\u0275prov=Ae({token:r,providedIn:"root",factory:()=>null}),r})();class jw{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Pv=new jw("12.2.10");class Hw{constructor(){}supports(i){return gf(i)}create(i){return new vT(i)}}const _T=(r,i)=>i;class vT{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_T}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const y=!l||s&&s.currentIndex<Zw(l,c,h)?s:l,E=Zw(y,c,h),R=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const F=E-c,W=R-c;if(F!=W){for(let de=0;de<F;de++){const De=de<h.length?h[de]:h[de]=0,je=De+de;W<=je&&je<F&&(h[de]=De+1)}h[y.previousIndex]=W-F}}E!==R&&i(y,E,R)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!gf(i))throw new Error(`Error trying to diff '${he(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],y=this._trackByFn(E,h),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,h,y,E)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,E),l=!0),s=s._next}else c=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Hc()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,E=>{y=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,E,y,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,y,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new wT(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new $w),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $w),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wT{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class $w{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new bT,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zw(r,i,s){const l=r.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class qw{constructor(){}supports(i){return i instanceof Map||mf(i)}create(){return new ET}}class ET{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||mf(i)))throw new Error(`Error trying to diff '${he(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new CT(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class CT{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gw(){return new Wy([new Hw])}let Wy=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||Gw()),deps:[[r,new Oa,new So]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=Ae({token:r,providedIn:"root",factory:Gw}),r})();function zw(){return new Ky([new qw])}let Ky=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||zw()),deps:[[r,new Oa,new So]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=Ae({token:r,providedIn:"root",factory:zw}),r})();function Yy(r,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(we(h)),rr(h))for(let E=10;E<h.length;E++){const R=h[E],F=R[1].firstChild;null!==F&&Yy(R[1],R,F,l)}const y=s.type;if(8&y)Yy(r,i,s.child,l);else if(32&y){const E=yd(s,i);let R;for(;R=E();)l.push(R)}else if(16&y){const E=Ju(i,s);if(Array.isArray(E))l.push(...E);else{const R=Gu(i[16]);Yy(R[1],R,E,l,!0)}}s=c?s.projectionNext:s.next}return l}class Vg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Yy(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(rr(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(Mh(i,l),ci(s,l))}this._attachedToViewContainer=!1}vd(this._lView[1],this._lView)}onDestroy(i){Rm(this._lView[1],this._lView,null,i)}markForCheck(){Up(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){Do(!0);try{Vd(r,i,s)}finally{Do(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Dc(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class IT extends Vg{constructor(i){super(i),this._view=i}detectChanges(){Hp(this._view)}checkNoChanges(){!function(r){Do(!0);try{Hp(r)}finally{Do(!1)}}(this._view)}get context(){return null}}const AT=function(r){return function(r,i,s){if(Ls(r)&&!s){const l=Mt(r.index,i);return new Vg(l,l)}return 47&r.type?new Vg(i[16],i):null}(li(),It(),16==(16&r))};let ST=(()=>{class r{}return r.__NG_ELEMENT_ID__=AT,r})();const MT=[new qw],OT=new Wy([new Hw]),PT=new Ky(MT),FT=function(){return Qy(li(),It())};let Ug=(()=>{class r{}return r.__NG_ELEMENT_ID__=FT,r})();const LT=Ug,VT=class extends LT{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=Od(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(s)),Pd(s,l,i),new Vg(l)}};function Qy(r,i){return 4&r.type?new VT(i,r,Pf(r,i)):null}class rh{}class Ww{}const jT=function(){return Qw(li(),It())};let Jy=(()=>{class r{}return r.__NG_ELEMENT_ID__=jT,r})();const $T=Jy,Kw=class extends $T{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Pf(this._hostTNode,this._hostLView)}get injector(){return new Fe(this._hostTNode,this._hostLView)}get parentInjector(){const i=ui(this._hostTNode,this._hostLView);if(wi(i)){const s=pa(i,this._hostLView),l=xa(i);return new Fe(s[1].data[l+8],s)}return new Fe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Yw(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const c=i.createEmbeddedView(s||{});return this.insert(c,l),c}createComponent(i,s,l,c,h){const y=l||this.parentInjector;if(!h&&null==i.ngModule&&y){const R=y.get(rh,null);R&&(h=R)}const E=i.create(y,c,void 0,h);return this.insert(E.hostView,s),E}insert(i,s){const l=i._lView,c=l[1];if(rr(l[3])){const W=this.indexOf(i);if(-1!==W)this.detach(W);else{const oe=l[3],de=new Kw(oe,oe[6],oe[3]);de.detach(de.indexOf(i))}}const h=this._adjustIndex(s),y=this._lContainer;!function(r,i,s,l){const c=10+l,h=s.length;l>0&&(s[c-1][4]=i),l<h-10?(i[4]=s[c],vr(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const y=i[17];null!==y&&s!==y&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(y,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(c,l,y,h);const E=Ph(h,y),R=l[11],F=Za(R,y[7]);return null!==F&&function(r,i,s,l,c,h){l[0]=c,l[6]=i,Dc(r,l,s,1,c,h)}(c,y[6],R,l,F,E),i.attachToViewContainerRef(),vr(kv(y),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Yw(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Mh(this._lContainer,s);l&&(ci(kv(this._lContainer),s),vd(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=Mh(this._lContainer,s);return l&&null!=ci(kv(this._lContainer),s)?new Vg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Yw(r){return r[8]}function kv(r){return r[8]||(r[8]=[])}function Qw(r,i){let s;const l=i[r.index];if(rr(l))s=l;else{let c;if(8&r.type)c=we(l);else{const h=i[11];c=h.createComment("");const y=k(r,i);ba(h,Za(h,y),c,function(r,i){return L(r)?r.nextSibling(i):i.nextSibling}(h,y),!1)}i[r.index]=s=kp(l,i,c,r),Oc(i,s)}return new Kw(s,r,i)}const Vf={};class yb extends Of{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=_r(i);return new vb(s,this.ngModule)}}function _b(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const UI=new Yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>uu});class vb extends Lw{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(T_).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _b(this.componentDef.inputs)}get outputs(){return _b(this.componentDef.outputs)}create(i,s,l,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(s,l,c)=>{const h=r.get(s,Vf,c);return h!==Vf||l===Vf?h:i.get(s,l,c)}}}(i,c.injector):i,y=h.get(zy,H),E=h.get(Ov,null),R=y.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",W=l?function(r,i,s){if(L(r))return r.selectRootElement(i,s===kt.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(R,l,this.componentDef.encapsulation):Rh(y.createRenderer(null,this.componentDef),F,function(r){const i=r.toLowerCase();return"svg"===i?fs:"math"===i?"http://www.w3.org/1998/MathML/":null}(F)),oe=this.componentDef.onPush?576:528,de=function(r,i){return{components:[],scheduler:r||uu,clean:j_,playerHandler:i||null,flags:0}}(),De=Wh(0,null,null,1,0,null,null,null,null,null),je=Od(null,De,de,oe,null,null,y,R,E,h);let ht,it;ae(je);try{const Vt=function(r,i,s,l,c,h){const y=s[1];s[20]=r;const R=yu(y,20,2,"#host",null),F=R.mergedAttrs=i.hostAttrs;null!==F&&(Pc(R,F,!0),null!==r&&(Qn(c,r,F),null!==R.classes&&Ed(c,r,R.classes),null!==R.styles&&kh(c,r,R.styles)));const W=l.createRenderer(r,i),oe=Od(s,Sm(i),null,i.onPush?64:16,s[20],R,l,W,h||null,null);return y.firstCreatePass&&(Ao(co(R,s),y,i.type),Xh(y,R),ef(R,s.length,1)),Oc(s,oe),s[20]=oe}(W,this.componentDef,je,y,R);if(W)if(l)Qn(R,W,["ng-version",Pv.full]);else{const{attrs:Ct,classes:jn}=function(r){const i=[],s=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&s.push(h);else{if(!qa(c))break;c=h}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);Ct&&Qn(R,W,Ct),jn&&jn.length>0&&Ed(R,W,jn.join(" "))}if(it=J(De,20),void 0!==s){const Ct=it.projection=[];for(let jn=0;jn<this.ngContentSelectors.length;jn++){const gr=s[jn];Ct.push(null!=gr?Array.from(gr):null)}}ht=function(r,i,s,l,c){const h=s[1],y=function(r,i,s){const l=li();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),tf(r,l,i,_u(r,i,1,null),s));const c=V(i,r,l.directiveStart,l);go(c,i);const h=k(l,i);return h&&go(h,i),c}(h,s,i);if(l.components.push(y),r[8]=y,c&&c.forEach(R=>R(y,i)),i.contentQueries){const R=li();i.contentQueries(1,y,R.directiveStart)}const E=li();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Xn(E.index),ec(s[1],E,0,E.directiveStart,E.directiveEnd,i),Jh(i,y)),y}(Vt,this.componentDef,je,de,[Km]),Pd(De,je,null)}finally{Lt()}return new HI(this.componentType,ht,Pf(it,je),je,it)}}class HI extends class{}{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new IT(c),this.componentType=i}get injector(){return new Fe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Uf=new Map;class qI extends rh{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yb(this);const l=br(i),c=i[pn]||null;c&&Iv(c),this._bootstrapComponents=wa(l.bootstrap),this._r3Injector=af(i,s,[{provide:rh,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],he(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=is.THROW_IF_NOT_FOUND,l=at.Default){return i===is||i===rh||i===Fc?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Wv extends Ww{constructor(i){super(),this.moduleType=i,null!==br(i)&&function(r){const i=new Set;!function s(l){const c=br(l,!0),h=c.id;null!==h&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${he(i)} vs ${he(i.name)}`)}(h,Uf.get(h),l),Uf.set(h,l));const y=wa(c.imports);for(const E of y)i.has(E)||(i.add(E),s(E))}(r)}(i)}create(i){return new qI(this.moduleType,i)}}function Eb(r,i,s){const l=Ii()+r,c=It();return c[l]===pr?ll(c,l,s?i.call(s):i()):function(r,i){return r[i]}(c,l)}function Cb(r,i,s,l){return Ib(It(),Ii(),r,i,s,l)}function Tb(r,i,s,l,c){return function(r,i,s,l,c,h,y){const E=i+s;return ic(r,E,c,h)?ll(r,E+2,y?l.call(y,c,h):l(c,h)):zg(r,E+2)}(It(),Ii(),r,i,s,l,c)}function zg(r,i){const s=r[i];return s===pr?void 0:s}function Ib(r,i,s,l,c,h){const y=i+s;return Mo(r,y,c)?ll(r,y+1,h?l.call(h,c):l(c)):zg(r,y+1)}function Rb(r,i){const s=or();let l;const c=r+20;s.firstCreatePass?(l=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(r===l.name)return l}throw new Ke("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=ls(l.type)),y=_n(Kd);try{const E=Ha(!1),R=h();return Ha(E),function(r,i,s,l){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=l}(s,It(),c,R),R}finally{_n(y)}}function Mb(r,i,s){const l=r+20,c=It(),h=Ye(c,l);return function(r,i){si.isWrapped(i)&&(i=si.unwrap(i),r[jr()]=pr);return i}(c,function(r,i){return r[1].data[i].pure}(c,l)?Ib(c,Ii(),i,h.transform,s,h):h.transform(s))}function Kv(r){return i=>{setTimeout(r,void 0,i)}}const Du=class extends _.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var c,h,y;let E=i,R=s||(()=>null),F=l;if(i&&"object"==typeof i){const oe=i;E=null===(c=oe.next)||void 0===c?void 0:c.bind(oe),R=null===(h=oe.error)||void 0===h?void 0:h.bind(oe),F=null===(y=oe.complete)||void 0===y?void 0:y.bind(oe)}this.__isAsync&&(R=Kv(R),E&&(E=Kv(E)),F&&(F=Kv(F)));const W=super.subscribe({next:E,error:R,complete:F});return i instanceof f.w&&i.add(W),W}};function sD(){return this._results[Hc()]()}class r_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Hc(),l=r_.prototype;l[s]||(l[s]=sD)}get changes(){return this._changes||(this._changes=new Du)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toLowerCase().toString(){return this._results.toLowerCase().toString()}reset(i,s){const l=this;l.dirty=!1;const c=hn(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Qv(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Ub(i,s).matches&&this.queries[s].setDirty()}}class Nb{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class Jv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new Jv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Xv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Xv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,lD(s,h)),this.matchTNodeWithReadOption(i,s,I(s,i,h,!1,!1))}else l===Ug?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,I(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Iu||c===Jy||c===Ug&&4&s.type)this.addMatch(s.index,-2);else{const h=I(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function lD(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function cD(r,i,s,l){return-1===s?function(r,i){return 11&r.type?Pf(r,i):4&r.type?Qy(r,i):null}(i,r):-2===s?function(r,i,s){return s===Iu?Pf(i,r):s===Ug?Qy(i,r):s===Jy?Qw(i,r):void 0}(r,i,l):V(r,r[1],s,i)}function Ob(r,i,s,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,y=s.matches,E=[];for(let R=0;R<y.length;R+=2){const F=y[R];E.push(F<0?null:cD(i,h[F],y[R+1],s.metadata.read))}c.matches=E}return c.matches}function e0(r,i,s,l){const c=r.queries.getByIndex(s),h=c.matches;if(null!==h){const y=Ob(r,i,c,s);for(let E=0;E<h.length;E+=2){const R=h[E];if(R>0)l.push(y[E/2]);else{const F=h[E+1],W=i[-R];for(let oe=10;oe<W.length;oe++){const de=W[oe];de[17]===de[3]&&e0(de[1],de,F,l)}if(null!==W[9]){const oe=W[9];for(let de=0;de<oe.length;de++){const De=oe[de];e0(De[1],De,F,l)}}}}}return l}function Pb(r){const i=It(),s=or(),l=sa();q(l+1);const c=Ub(s,l);if(r.dirty&&Cn(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?e0(s,i,l,[]):Ob(s,i,c,l);r.reset(h,Bw),r.notifyOnChanges()}return!0}return!1}function kb(r,i,s,l){const c=or();if(c.firstCreatePass){const h=li();(function(r,i,s){null===r.queries&&(r.queries=new Jv),r.queries.track(new Xv(i,s))})(c,new Nb(i,s,l),h.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(c,r),2==(2&s)&&(c.staticContentQueries=!0)}!function(r,i,s){const l=new r_(4==(4&s));Rm(r,i,l,l.destroy),null===i[19]&&(i[19]=new Qv),i[19].queries.push(new Yv(l))}(c,It(),s)}function Fb(){return r=It(),i=sa(),r[19].queries[i].queryList;var r,i}function Ub(r,i){return r.queries.getByIndex(i)}function Bb(r,i){return Qy(r,i)}const a0=new Yt("Application Initializer");let jf=(()=>{class r{constructor(s){this.appInits=s,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Cg(h))s.push(h);else if(Tg(h)){const y=new Promise((E,R)=>{h.subscribe({complete:E,error:R})});s.push(y)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(Es(a0,8))},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();const iE=new Yt("AppId"),jD={provide:iE,useFactory:function(){return`${l0()}${l0()}${l0()}`},deps:[]};function l0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new Yt("Platform Initializer"),oE=new Yt("Platform ID"),aE=new Yt("appBootstrapListener");let lE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();const o_=new Yt("LocaleId"),uE=new Yt("DefaultCurrencyCode");class $D{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const u0=function(r){return new Wv(r)},ZD=u0,qD=function(r){return Promise.resolve(u0(r))},cE=function(r){const i=u0(r),l=wa(br(r).declarations).reduce((c,h)=>{const y=_r(h);return y&&c.push(new vb(y)),c},[]);return new $D(i,l)},GD=cE,zD=function(r){return Promise.resolve(cE(r))};let Qg=(()=>{class r{constructor(){this.compileModuleSync=ZD,this.compileModuleAsync=qD,this.compileModuleAndAllComponentsSync=GD,this.compileModuleAndAllComponentsAsync=zD}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();const YD=(()=>Promise.resolve(0))();function c0(r){"undefined"==typeof Zone?YD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ja{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Du(!1),this.onMicrotaskEmpty=new Du(!1),this.onStable=new Du(!1),this.onError=new Du(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=dr.requestAnimationFrame,i=dr.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(dr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,h0(r),r.isCheckStableRunning=!0,d0(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),h0(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,y,E)=>{try{return dE(r),s.invokeTask(c,h,y,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),hE(r)}},onInvoke:(s,l,c,h,y,E,R)=>{try{return dE(r),s.invoke(c,h,y,E,R)}finally{r.shouldCoalesceRunChangeDetection&&i(),hE(r)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,h0(r),d0(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,JD,Gy,Gy);try{return h.runTask(y,s,l)}finally{h.cancelTask(y)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const JD={};function d0(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function h0(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function dE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function hE(r){r._nesting--,d0(r)}class tA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Du,this.onMicrotaskEmpty=new Du,this.onStable=new Du,this.onError=new Du}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}let fE=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ja.assertNotInAngularZone(),c0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())c0(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,c){return[]}}return r.\u0275fac=function(s){return new(s||r)(Es(Ja))},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})(),pE=(()=>{class r{constructor(){this._applications=new Map,f0.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return f0.findTestabilityInTree(this,s,l)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();class nA{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function rA(r){f0=r}let f0=new nA,gE=!0,mE=!1;function p0(){return mE=!0,gE}function iA(){if(mE)throw new Error("Cannot enable prod mode after platform setup.");gE=!1}let Zl;const yE=new Yt("AllowMultipleToken");class dA{constructor(i,s){this.name=i,this.token=s}}function _E(r,i,s=[]){const l=`Platform: ${i}`,c=new Yt(l);return(h=[])=>{let y=vE();if(!y||y.injector.get(yE,!1))if(r)r(s.concat(h).concat({provide:c,useValue:!0}));else{const E=s.concat(h).concat({provide:c,useValue:!0},{provide:Ea,useValue:"platform"});!function(r){if(Zl&&!Zl.destroyed&&!Zl.injector.get(yE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Zl=r.get(wE);const i=r.get(sE,null);i&&i.forEach(s=>s())}(is.create({providers:E,name:l}))}return function(r){const i=vE();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function vE(){return Zl&&!Zl.destroyed?Zl:null}let wE=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const E=function(r,i){let s;return s="noop"===r?new tA:("zone.js"===r?void 0:r)||new Ja({enableLongStackTrace:p0(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),R=[{provide:Ja,useValue:E}];return E.run(()=>{const F=is.create({providers:R,parent:this.injector,name:s.moduleType.name}),W=s.create(F),oe=W.injector.get(m,null);if(!oe)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const de=E.onError.subscribe({next:De=>{oe.handleError(De)}});W.onDestroy(()=>{g0(this._modules,W),de.unsubscribe()})}),function(r,i,s){try{const l=s();return Cg(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(oe,E,()=>{const de=W.injector.get(jf);return de.runInitializers(),de.donePromise.then(()=>(Iv(W.injector.get(o_,jy)||jy),this._moduleDoBootstrap(W),W))})})}bootstrapModule(s,l=[]){const c=bE({},l);return function(r,i,s){const l=new Wv(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(Jg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${he(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(Es(is))},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();function bE(r,i){return Array.isArray(i)?i.reduce(bE,r):Object.assign(Object.assign({},r),i)}let Jg=(()=>{class r{constructor(s,l,c,h,y){this._zone=s,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new te.y(F=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{F.next(this._stable),F.complete()})}),R=new te.y(F=>{let W;this._zone.runOutsideAngular(()=>{W=this._zone.onStable.subscribe(()=>{Ja.assertNotInAngularZone(),c0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,F.next(!0))})})});const oe=this._zone.onUnstable.subscribe(()=>{Ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{F.next(!1)}))});return()=>{W.unsubscribe(),oe.unsubscribe()}});this.isStable=(0,Ue.T)(E,R.pipe((0,Re.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof Lw?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(rh),E=c.create(is.NULL,[],l||c.selector,h),R=E.location.nativeElement,F=E.injector.get(fE,null),W=F&&E.injector.get(pE);return F&&W&&W.registerApplication(R,F),E.onDestroy(()=>{this.detachView(E.hostView),g0(this.components,E),W&&W.unregisterApplication(R)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;g0(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(aE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(Es(Ja),Es(is),Es(m),Es(Of),Es(jf))},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();function g0(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class yA{}class vA{}const wA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bA=(()=>{class r{constructor(s,l){this._compiler=s,this._config=l||wA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[l,c]=s.split("#");return void 0===c&&(c="default"),Z(8255)(l).then(h=>h[c]).then(h=>IE(h,l,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(s){let[l,c]=s.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),Z(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[c+h]).then(y=>IE(y,l,c))}}return r.\u0275fac=function(s){return new(s||r)(Es(Qg),Es(vA,8))},r.\u0275prov=Ae({token:r,factory:r.\u0275fac}),r})();function IE(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const xA=function(r){return null},MA=_E(null,"core",[{provide:oE,useValue:"unknown"},{provide:wE,deps:[is]},{provide:pE,deps:[]},{provide:lE,deps:[]}]),FA=[{provide:Jg,useClass:Jg,deps:[Ja,is,m,Of,jf]},{provide:UI,deps:[Ja],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:jf,useClass:jf,deps:[[new So,a0]]},{provide:Qg,useClass:Qg,deps:[]},jD,{provide:Wy,useFactory:function(){return OT},deps:[]},{provide:Ky,useFactory:function(){return PT},deps:[]},{provide:o_,useFactory:function(r){return Iv(r=r||"undefined"!=typeof $localize&&$localize.locale||jy),r},deps:[[new Cl(o_),new So,new Oa]]},{provide:uE,useValue:"USD"}];let VA=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(Es(Jg))},r.\u0275mod=bn({type:r}),r.\u0275inj=Et({providers:FA}),r})()},7057:(Ht,tt,Z)=>{"use strict";Z.d(tt,{zQ:()=>Qe,rT:()=>Xt,f7:()=>Le,L6:()=>At,_Q:()=>Zt,lh:()=>Xe,Qv:()=>Ie,nw:()=>nt});var _=Z(7716),f=Z(9765),te=Z(5917),Ue=Z(7574),Re=Z(4402),pe=Z(6682),ze=Z(8229);function he(We,Ee,wt){let Pt;return Pt=We&&"object"==typeof We?We:{bufferSize:We,windowTime:Ee,refCount:!1,scheduler:wt},qt=>qt.lift(function({bufferSize:We=Number.POSITIVE_INFINITY,windowTime:Ee=Number.POSITIVE_INFINITY,refCount:wt,scheduler:Pt}){let qt,Ft,Gt=0,Kt=!1,Rn=!1;return function(lt){let Ae;Gt++,!qt||Kt?(Kt=!1,qt=new ze.t(We,Ee,Pt),Ae=qt.subscribe(this),Ft=lt.subscribe({next(qe){qt.next(qe)},error(qe){Kt=!0,qt.error(qe)},complete(){Rn=!0,Ft=void 0,qt.complete()}}),Rn&&(Ft=void 0)):Ae=qt.subscribe(this),this.add(()=>{Gt--,Ae.unsubscribe(),Ae=void 0,Ft&&!Rn&&wt&&0===Gt&&(Ft.unsubscribe(),Ft=void 0,qt=void 0)})}}(Pt))}var ne=Z(3190);function le(We,Ee){return Ee?(0,ne.w)(()=>We,Ee):(0,ne.w)(()=>We)}var ue=Z(309),Ve=Z(8002),Pe=Z(8049),Ke=Z(3101),Ze=Z(5435),pt=Z(9126),fe=Z(8939),dt=Z(8583);Z(7841);const Ie=new _.OlP("angularfire2.auth.use-emulator"),At=new _.OlP("angularfire2.auth.settings"),Zt=new _.OlP("angularfire2.auth.tenant-id"),Xt=new _.OlP("angularfire2.auth.langugage-code"),Xe=new _.OlP("angularfire2.auth.use-device-language"),Le=new _.OlP("angularfire.auth.persistence"),nt=(We,Ee,wt,Pt,qt,Gt,Ft,Kt)=>(0,pt.cc)(`${We.name}.auth`,"AngularFireAuth",We.name,()=>{const Rn=Ee.runOutsideAngular(()=>We.auth());if(wt&&Rn.useEmulator(...wt),Pt&&(Rn.tenantId=Pt),Rn.languageCode=qt,Gt&&Rn.useDeviceLanguage(),Ft)for(const[ct,lt]of Object.entries(Ft))Rn.settings[ct]=lt;return Kt&&Rn.setPersistence(Kt),Rn},[wt,Pt,qt,Gt,Ft,Kt]);let Qe=(()=>{class We{constructor(wt,Pt,qt,Gt,Ft,Kt,Rn,ct,lt,Ae,qe){const Et=new f.xQ,Ut=(0,te.of)(void 0).pipe((0,ue.QV)(Ft.outsideAngular),(0,ne.w)(()=>Gt.runOutsideAngular(()=>Promise.resolve().then(Z.bind(Z,5841)))),(0,Ve.U)(()=>(0,fe.on)(wt,Gt,Pt)),(0,Ve.U)(An=>nt(An,Gt,Kt,ct,lt,Ae,Rn,qe)),he({bufferSize:1,refCount:!1}));if((0,dt.PM)(qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,te.of)(null);else{Ut.pipe((0,Pe.P)()).subscribe();const sr=Ut.pipe((0,ne.w)(Ln=>Ln.getRedirectResult().then(xt=>xt,()=>null)),pt.iC,he({bufferSize:1,refCount:!1})),gn=Ut.pipe((0,ne.w)(Ln=>new Ue.y(xt=>({unsubscribe:Gt.runOutsideAngular(()=>Ln.onAuthStateChanged(He=>xt.next(He),He=>xt.error(He),()=>xt.complete()))})))),er=Ut.pipe((0,ne.w)(Ln=>new Ue.y(xt=>({unsubscribe:Gt.runOutsideAngular(()=>Ln.onIdTokenChanged(He=>xt.next(He),He=>xt.error(He),()=>xt.complete()))}))));this.authState=sr.pipe(le(gn),(0,Ke.R)(Ft.outsideAngular),(0,ue.QV)(Ft.insideAngular)),this.user=sr.pipe(le(er),(0,Ke.R)(Ft.outsideAngular),(0,ue.QV)(Ft.insideAngular)),this.idToken=this.user.pipe((0,ne.w)(Ln=>Ln?(0,Re.D)(Ln.getIdToken()):(0,te.of)(null))),this.idTokenResult=this.user.pipe((0,ne.w)(Ln=>Ln?(0,Re.D)(Ln.getIdTokenResult()):(0,te.of)(null))),this.credential=(0,pe.T)(sr,Et,this.authState.pipe((0,Ze.h)(Ln=>!Ln))).pipe((0,Ve.U)(Ln=>(null==Ln?void 0:Ln.user)?Ln:null),(0,Ke.R)(Ft.outsideAngular),(0,ue.QV)(Ft.insideAngular))}return(0,fe.pX)(this,Ut,Gt,{spy:{apply:(An,sr,gn)=>{(An.startsWith("signIn")||An.startsWith("createUser"))&&gn.then(er=>Et.next(er))}}})}}return We.\u0275fac=function(wt){return new(wt||We)(_.LFG(fe.Dh),_.LFG(fe.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(pt.HU),_.LFG(Ie,8),_.LFG(At,8),_.LFG(Zt,8),_.LFG(Xt,8),_.LFG(Xe,8),_.LFG(Le,8))},We.\u0275prov=_.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"}),We})()},8939:(Ht,tt,Z)=>{"use strict";Z.d(tt,{hO:()=>Ve,xv:()=>ye,Dh:()=>he,GT:()=>pe,on:()=>ne,pX:()=>Re});var _=Z(7716),f=Z(7841),te=Z(9126);Ht=Z.hmd(Ht);const Ue=["ngOnDestroy"],Re=(Pe,Ke,Ze,pt={})=>new Proxy(Pe,{get:(fe,dt)=>Ze.runOutsideAngular(()=>{var _t;if(Pe[dt])return(null===(_t=null==pt?void 0:pt.spy)||void 0===_t?void 0:_t.get)&&pt.spy.get(dt,Pe[dt]),Pe[dt];if(Ue.indexOf(dt)>-1)return()=>{};const ut=Ke.toPromise().then(Ie=>{const At=Ie&&Ie[dt];return"function"==typeof At?At.bind(Ie):At&&At.then?At.then(Zt=>Ze.run(()=>Zt)):Ze.run(()=>At)});return new Proxy(()=>{},{get:(Ie,At)=>ut[At],apply:(Ie,At,Zt)=>ut.then(Xt=>{var Xe;const Le=Xt&&Xt(...Zt);return(null===(Xe=null==pt?void 0:pt.spy)||void 0===Xe?void 0:Xe.apply)&&pt.spy.apply(dt,Zt,Le),Le})})})}),pe=(Pe,Ke)=>{Ke.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach(pt=>{Object.defineProperty(Pe.prototype,pt,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,pt))})})};class ze{constructor(Ke){return Ke}}const he=new _.OlP("angularfire2.app.options"),ye=new _.OlP("angularfire2.app.name");function ne(Pe,Ke,Ze){const fe="object"==typeof Ze&&Ze||{};fe.name=fe.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const _t=f.Z.apps.filter(ut=>ut&&ut.name===fe.name)[0]||Ke.runOutsideAngular(()=>f.Z.initializeApp(Pe,fe));try{JSON.stringify(Pe)!==JSON.stringify(_t.options)&&le("error",`${_t.name} Firebase App already initialized with different options${Ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ut){}return new ze(_t)}const le=(Pe,...Ke)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Pe](...Ke)},ue={provide:ze,useFactory:ne,deps:[he,_.R0b,[new _.FiY,ye]]};let Ve=(()=>{class Pe{constructor(Ze){f.Z.registerVersion("angularfire",te.q4.full,"core"),f.Z.registerVersion("angularfire",te.q4.full,"app-compat"),f.Z.registerVersion("angular",_.q4F.full,Ze.toLowerCase().toString())}static initializeApp(Ze,pt){return{ngModule:Pe,providers:[{provide:he,useValue:Ze},{provide:ye,useValue:pt}]}}}return Pe.\u0275fac=function(Ze){return new(Ze||Pe)(_.LFG(_.Lbi))},Pe.\u0275mod=_.oAB({type:Pe}),Pe.\u0275inj=_.cJS({providers:[ue]}),Pe})()},9126:(Ht,tt,Z)=>{"use strict";Z.d(tt,{q4:()=>ne,iC:()=>Le,fc:()=>Xt,HU:()=>ut,cc:()=>Ve});var _=Z(7716);(0,Z(5452).registerVersion)("firebase","9.1.2","app");var Re=Z(7771),pe=Z(3637),ze=Z(8307),he=Z(309),ye=Z(3101);Ht=Z.hmd(Ht);const ne=new _.GfV("7.0.4"),le=!!Ht.hot,ue=(We,...Ee)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[We](...Ee)};function Ve(We,Ee,wt,Pt,qt){const[,Gt,Ft]=globalThis.\u0275AngularfireInstanceCache.find(Kt=>Kt[0]===We)||[];if(Gt)return function(We,Ee){try{return We.toLowerCase().toString()===Ee.toLowerCase().toString()}catch(wt){return We===Ee}}(qt,Ft)||(ue("error",`${Ee} was already initialized on the ${wt} Firebase App with different settings.${le?" You may need to reload as Firebase is not HMR aware.":""}`),ue("warn",{is:qt,was:Ft})),Gt;{const Kt=Pt();return globalThis.\u0275AngularfireInstanceCache.push([We,Kt,qt]),Kt}}function fe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class dt{constructor(Ee,wt=Re.N){this.zone=Ee,this.delegate=wt}now(){return this.delegate.now()}schedule(Ee,wt,Pt){const qt=this.zone;return this.delegate.schedule(function(Ft){qt.runGuarded(()=>{Ee.apply(this,[Ft])})},wt,Pt)}}class _t{constructor(Ee){this.zone=Ee,this.task=null}call(Ee,wt){const Pt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),wt.pipe((0,ze.b)({next:Pt,complete:Pt,error:Pt})).subscribe(Ee).add(Pt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ut=(()=>{class We{constructor(wt){this.ngZone=wt,this.outsideAngular=wt.runOutsideAngular(()=>new dt(Zone.current)),this.insideAngular=wt.run(()=>new dt(Zone.current,pe.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return We.\u0275fac=function(wt){return new(wt||We)(_.LFG(_.R0b))},We.\u0275prov=_.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Ie(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("AngularFireModule has not been provided");return We}function Xt(We){return We.pipe((0,he.QV)(Ie().outsideAngular))}function Le(We){return Ie(),function(We){return function(wt){return(wt=wt.lift(new _t(We.ngZone))).pipe((0,ye.R)(We.outsideAngular),(0,he.QV)(We.insideAngular))}}(Ie())(We)}},665:(Ht,tt,Z)=>{"use strict";Z.d(tt,{Wl:()=>Pe,Fj:()=>fe,qu:()=>st,u:()=>Ds,sg:()=>Qr,u5:()=>H,JJ:()=>_n,JL:()=>un,F:()=>$e,wV:()=>ni,UX:()=>ie,Q7:()=>ds,kI:()=>Zt,_Y:()=>Ur});var _=Z(7716),f=Z(8583),te=Z(7574),Ue=Z(9796),Re=Z(8002),pe=Z(1555),ze=Z(4402);function ye(U,k){return new te.y(N=>{const J=U.length;if(0===J)return void N.complete();const Ye=new Array(J);let Mt=0,Cn=0;for(let cr=0;cr<J;cr++){const fi=(0,ze.D)(U[cr]);let Br=!1;N.add(fi.subscribe({next:pi=>{Br||(Br=!0,Cn++),Ye[cr]=pi},error:pi=>N.error(pi),complete:()=>{Mt++,(Mt===J||!Br)&&(Cn===J&&N.next(k?k.reduce((pi,ns,Tn)=>(pi[ns]=Ye[Tn],pi),{}):Ye),N.complete())}}))}})}let ne=(()=>{class U{constructor(N,J){this._renderer=N,this._elementRef=J,this.onChange=Ye=>{},this.onTouched=()=>{}}setProperty(N,J){this._renderer.setProperty(this._elementRef.nativeElement,N,J)}registerOnTouched(N){this.onTouched=N}registerOnChange(N){this.onChange=N}setDisabledState(N){this.setProperty("disabled",N)}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(_.Qsj),_.Y36(_.SBq))},U.\u0275dir=_.lG2({type:U}),U})(),le=(()=>{class U extends ne{}return U.\u0275fac=function(){let k;return function(J){return(k||(k=_.n5z(U)))(J||U)}}(),U.\u0275dir=_.lG2({type:U,features:[_.qOj]}),U})();const ue=new _.OlP("NgValueAccessor"),Ve={provide:ue,useExisting:(0,_.Gpc)(()=>Pe),multi:!0};let Pe=(()=>{class U extends le{writeValue(N){this.setProperty("checked",N)}}return U.\u0275fac=function(){let k;return function(J){return(k||(k=_.n5z(U)))(J||U)}}(),U.\u0275dir=_.lG2({type:U,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(N,J){1&N&&_.NdJ("change",function(Mt){return J.onChange(Mt.target.checked)})("blur",function(){return J.onTouched()})},features:[_._Bn([Ve]),_.qOj]}),U})();const Ke={provide:ue,useExisting:(0,_.Gpc)(()=>fe),multi:!0},pt=new _.OlP("CompositionEventMode");let fe=(()=>{class U extends ne{constructor(N,J,Ye){super(N,J),this._compositionMode=Ye,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const U=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(U.toLowerCase())}())}writeValue(N){this.setProperty("value",null==N?"":N)}_handleInput(N){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(N)}_compositionStart(){this._composing=!0}_compositionEnd(N){this._composing=!1,this._compositionMode&&this.onChange(N)}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(pt,8))},U.\u0275dir=_.lG2({type:U,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(N,J){1&N&&_.NdJ("input",function(Mt){return J._handleInput(Mt.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(Mt){return J._compositionEnd(Mt.target.value)})},features:[_._Bn([Ke]),_.qOj]}),U})();function dt(U){return null==U||0===U.length}function _t(U){return null!=U&&"number"==typeof U.length}const ut=new _.OlP("NgValidators"),Ie=new _.OlP("NgAsyncValidators"),At=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zt{static min(k){return U=k,k=>{if(dt(k.value)||dt(U))return null;const N=parseFloat(k.value);return!isNaN(N)&&N<U?{min:{min:U,actual:k.value}}:null};var U}static max(k){return U=k,k=>{if(dt(k.value)||dt(U))return null;const N=parseFloat(k.value);return!isNaN(N)&&N>U?{max:{max:U,actual:k.value}}:null};var U}static required(k){return Le(k)}static requiredTrue(k){return!0===k.value?null:{required:!0}}static email(k){return dt((U=k).value)||At.test(U.value)?null:{email:!0};var U}static minLength(k){return U=k,k=>dt(k.value)||!_t(k.value)?null:k.value.length<U?{minlength:{requiredLength:U,actualLength:k.value.length}}:null;var U}static maxLength(k){return U=k,k=>_t(k.value)&&k.value.length>U?{maxlength:{requiredLength:U,actualLength:k.value.length}}:null;var U}static pattern(k){return function(U){if(!U)return wt;let k,N;return"string"==typeof U?(N="","^"!==U.charAt(0)&&(N+="^"),N+=U,"$"!==U.charAt(U.length-1)&&(N+="$"),k=new RegExp(N)):(N=U.toLowerCase().toString(),k=U),J=>{if(dt(J.value))return null;const Ye=J.value;return k.test(Ye)?null:{pattern:{requiredPattern:N,actualValue:Ye}}}}(k)}static nullValidator(k){return null}static compose(k){return ct(k)}static composeAsync(k){return Ae(k)}}function Le(U){return dt(U.value)?{required:!0}:null}function wt(U){return null}function Pt(U){return null!=U}function qt(U){const k=(0,_.QGY)(U)?(0,ze.D)(U):U;return(0,_.CqO)(k),k}function Gt(U){let k={};return U.forEach(N=>{k=null!=N?Object.assign(Object.assign({},k),N):k}),0===Object.keys(k).length?null:k}function Ft(U,k){return k.map(N=>N(U))}function Rn(U){return U.map(k=>function(U){return!U.validate}(k)?k:N=>k.validate(N))}function ct(U){if(!U)return null;const k=U.filter(Pt);return 0==k.length?null:function(N){return Gt(Ft(N,k))}}function lt(U){return null!=U?ct(Rn(U)):null}function Ae(U){if(!U)return null;const k=U.filter(Pt);return 0==k.length?null:function(N){return function(...U){if(1===U.length){const k=U[0];if((0,Ue.k)(k))return ye(k,null);if((0,pe.K)(k)&&Object.getPrototypeOf(k)===Object.prototype){const N=Object.keys(k);return ye(N.map(J=>k[J]),N)}}if("function"==typeof U[U.length-1]){const k=U.pop();return ye(U=1===U.length&&(0,Ue.k)(U[0])?U[0]:U,null).pipe((0,Re.U)(N=>k(...N)))}return ye(U,null)}(Ft(N,k).map(qt)).pipe((0,Re.U)(Gt))}}function qe(U){return null!=U?Ae(Rn(U)):null}function Et(U,k){return null===U?[k]:Array.isArray(U)?[...U,k]:[U,k]}function Ut(U){return U._rawValidators}function An(U){return U._rawAsyncValidators}function sr(U){return U?Array.isArray(U)?U:[U]:[]}function gn(U,k){return Array.isArray(U)?U.includes(k):U===k}function er(U,k){const N=sr(k);return sr(U).forEach(Ye=>{gn(N,Ye)||N.push(Ye)}),N}function Ln(U,k){return sr(k).filter(N=>!gn(U,N))}let xt=(()=>{class U{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(N){this._rawValidators=N||[],this._composedValidatorFn=lt(this._rawValidators)}_setAsyncValidators(N){this._rawAsyncValidators=N||[],this._composedAsyncValidatorFn=qe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(N){this._onDestroyCallbacks.push(N)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(N=>N()),this._onDestroyCallbacks=[]}reset(N){this.control&&this.control.reset(N)}hasError(N,J){return!!this.control&&this.control.hasError(N,J)}getError(N,J){return this.control?this.control.getError(N,J):null}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=_.lG2({type:U}),U})(),He=(()=>{class U extends xt{get formDirective(){return null}get path(){return null}}return U.\u0275fac=function(){let k;return function(J){return(k||(k=_.n5z(U)))(J||U)}}(),U.\u0275dir=_.lG2({type:U,features:[_.qOj]}),U})();class ot extends xt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class at{constructor(k){this._cd=k}is(k){var N,J,Ye;return"submitted"===k?!!(null===(N=this._cd)||void 0===N?void 0:N.submitted):!!(null===(Ye=null===(J=this._cd)||void 0===J?void 0:J.control)||void 0===Ye?void 0:Ye[k])}}let _n=(()=>{class U extends at{constructor(N){super(N)}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(ot,2))},U.\u0275dir=_.lG2({type:U,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(N,J){2&N&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))},features:[_.qOj]}),U})(),un=(()=>{class U extends at{constructor(N){super(N)}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(He,10))},U.\u0275dir=_.lG2({type:U,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(N,J){2&N&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))("ng-submitted",J.is("submitted"))},features:[_.qOj]}),U})();function Me(U,k){et(U,k),k.valueAccessor.writeValue(U.value),function(U,k){k.valueAccessor.registerOnChange(N=>{U._pendingValue=N,U._pendingChange=!0,U._pendingDirty=!0,"change"===U.updateOn&&Tr(U,k)})}(U,k),function(U,k){const N=(J,Ye)=>{k.valueAccessor.writeValue(J),Ye&&k.viewToModelUpdate(J)};U.registerOnChange(N),k._registerOnDestroy(()=>{U._unregisterOnChange(N)})}(U,k),function(U,k){k.valueAccessor.registerOnTouched(()=>{U._pendingTouched=!0,"blur"===U.updateOn&&U._pendingChange&&Tr(U,k),"submit"!==U.updateOn&&U.markAsTouched()})}(U,k),function(U,k){if(k.valueAccessor.setDisabledState){const N=J=>{k.valueAccessor.setDisabledState(J)};U.registerOnDisabledChange(N),k._registerOnDestroy(()=>{U._unregisterOnDisabledChange(N)})}}(U,k)}function Ce(U,k,N=!0){const J=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(J),k.valueAccessor.registerOnTouched(J)),jt(U,k),U&&(k._invokeOnDestroyCallbacks(),U._registerOnCollectionChange(()=>{}))}function ke(U,k){U.forEach(N=>{N.registerOnValidatorChange&&N.registerOnValidatorChange(k)})}function et(U,k){const N=Ut(U);null!==k.validator?U.setValidators(Et(N,k.validator)):"function"==typeof N&&U.setValidators([N]);const J=An(U);null!==k.asyncValidator?U.setAsyncValidators(Et(J,k.asyncValidator)):"function"==typeof J&&U.setAsyncValidators([J]);const Ye=()=>U.updateValueAndValidity();ke(k._rawValidators,Ye),ke(k._rawAsyncValidators,Ye)}function jt(U,k){let N=!1;if(null!==U){if(null!==k.validator){const Ye=Ut(U);if(Array.isArray(Ye)&&Ye.length>0){const Mt=Ye.filter(Cn=>Cn!==k.validator);Mt.length!==Ye.length&&(N=!0,U.setValidators(Mt))}}if(null!==k.asyncValidator){const Ye=An(U);if(Array.isArray(Ye)&&Ye.length>0){const Mt=Ye.filter(Cn=>Cn!==k.asyncValidator);Mt.length!==Ye.length&&(N=!0,U.setAsyncValidators(Mt))}}}const J=()=>{};return ke(k._rawValidators,J),ke(k._rawAsyncValidators,J),N}function Tr(U,k){U._pendingDirty&&U.markAsDirty(),U.setValue(U._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(U._pendingValue),U._pendingChange=!1}function Bn(U,k){et(U,k)}function ji(U,k){U._syncPendingControls(),k.forEach(N=>{const J=N.control;"submit"===J.updateOn&&J._pendingChange&&(N.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}function Jn(U,k){const N=U.indexOf(k);N>-1&&U.splice(N,1)}const _r="VALID",En="INVALID",nn="PENDING",br="DISABLED";function zn(U){return(ti(U)?U.validators:U)||null}function Nt(U){return Array.isArray(U)?lt(U):U||null}function Mn(U,k){return(ti(k)?k.asyncValidators:U)||null}function hr(U){return Array.isArray(U)?qe(U):U||null}function ti(U){return null!=U&&!Array.isArray(U)&&"object"==typeof U}class nr{constructor(k,N){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=N,this._composedValidatorFn=Nt(this._rawValidators),this._composedAsyncValidatorFn=hr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===_r}get invalid(){return this.status===En}get pending(){return this.status==nn}get disabled(){return this.status===br}get enabled(){return this.status!==br}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=Nt(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=hr(k)}addValidators(k){this.setValidators(er(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(er(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(Ln(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(Ln(k,this._rawAsyncValidators))}hasValidator(k){return gn(this._rawValidators,k)}hasAsyncValidator(k){return gn(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(N=>{N.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(N=>{N.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=nn,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const N=this._parentMarkedDirty(k.onlySelf);this.status=br,this.errors=null,this._forEachChild(J=>{J.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:N})),this._onDisabledChange.forEach(J=>J(!0))}enable(k={}){const N=this._parentMarkedDirty(k.onlySelf);this.status=_r,this._forEachChild(J=>{J.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:N})),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_r||this.status===nn)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(N=>N._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?br:_r}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const N=qt(this.asyncValidator(this));this._asyncValidationSubscription=N.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,N={}){this.errors=k,this._updateControlsErrors(!1!==N.emitEvent)}get(k){return function(U,k,N){if(null==k||(Array.isArray(k)||(k=k.split(".")),Array.isArray(k)&&0===k.length))return null;let J=U;return k.forEach(Ye=>{J=J instanceof Kr?J.controls.hasOwnProperty(Ye)?J.controls[Ye]:null:J instanceof Vn&&J.at(Ye)||null}),J}(this,k)}getError(k,N){const J=N?this.get(N):this;return J&&J.errors?J.errors[k]:null}hasError(k,N){return!!this.getError(k,N)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?br:this.errors?En:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(En)?En:_r}_anyControlsHaveStatus(k){return this._anyControls(N=>N.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){ti(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class mr extends nr{constructor(k=null,N,J){super(zn(N),Mn(J,N)),this._onChange=[],this._applyFormState(k),this._setUpdateStrategy(N),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(k,N={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==N.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==N.emitViewToModelChange)),this.updateValueAndValidity(N)}patchValue(k,N={}){this.setValue(k,N)}reset(k=null,N={}){this._applyFormState(k),this.markAsPristine(N),this.markAsUntouched(N),this.setValue(this.value,N),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){Jn(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){Jn(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class Kr extends nr{constructor(k,N,J){super(zn(N),Mn(J,N)),this.controls=k,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,N){return this.controls[k]?this.controls[k]:(this.controls[k]=N,N.setParent(this),N._registerOnCollectionChange(this._onCollectionChange),N)}addControl(k,N,J={}){this.registerControl(k,N),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(k,N={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}setControl(k,N,J={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],N&&this.registerControl(k,N),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,N={}){this._checkAllValuesPresent(k),Object.keys(k).forEach(J=>{this._throwIfControlMissing(J),this.controls[J].setValue(k[J],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(k,N={}){null!=k&&(Object.keys(k).forEach(J=>{this.controls[J]&&this.controls[J].patchValue(k[J],{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(k={},N={}){this._forEachChild((J,Ye)=>{J.reset(k[Ye],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this._reduceChildren({},(k,N,J)=>(k[J]=N instanceof mr?N.value:N.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(N,J)=>!!J._syncPendingControls()||N);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_throwIfControlMissing(k){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[k])throw new Error(`Cannot find form control with name: ${k}.`)}_forEachChild(k){Object.keys(this.controls).forEach(N=>{const J=this.controls[N];J&&k(J,N)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const N of Object.keys(this.controls)){const J=this.controls[N];if(this.contains(N)&&k(J))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,N,J)=>((N.enabled||this.disabled)&&(k[J]=N.value),k))}_reduceChildren(k,N){let J=k;return this._forEachChild((Ye,Mt)=>{J=N(J,Ye,Mt)}),J}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(k){this._forEachChild((N,J)=>{if(void 0===k[J])throw new Error(`Must supply a value for form control with name: '${J}'.`)})}}class Vn extends nr{constructor(k,N,J){super(zn(N),Mn(J,N)),this.controls=k,this._initObservables(),this._setUpdateStrategy(N),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,N={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:N.emitEvent}),this._onCollectionChange()}insert(k,N,J={}){this.controls.splice(k,0,N),this._registerControl(N),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(k,N={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:N.emitEvent})}setControl(k,N,J={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),N&&(this.controls.splice(k,0,N),this._registerControl(N)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,N={}){this._checkAllValuesPresent(k),k.forEach((J,Ye)=>{this._throwIfControlMissing(Ye),this.at(Ye).setValue(J,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N)}patchValue(k,N={}){null!=k&&(k.forEach((J,Ye)=>{this.at(Ye)&&this.at(Ye).patchValue(J,{onlySelf:!0,emitEvent:N.emitEvent})}),this.updateValueAndValidity(N))}reset(k=[],N={}){this._forEachChild((J,Ye)=>{J.reset(k[Ye],{onlySelf:!0,emitEvent:N.emitEvent})}),this._updatePristine(N),this._updateTouched(N),this.updateValueAndValidity(N)}getRawValue(){return this.controls.map(k=>k instanceof mr?k.value:k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(N=>N._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((N,J)=>!!J._syncPendingControls()||N,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_throwIfControlMissing(k){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(k))throw new Error(`Cannot find form control at index ${k}`)}_forEachChild(k){this.controls.forEach((N,J)=>{k(N,J)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(N=>N.enabled&&k(N))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_checkAllValuesPresent(k){this._forEachChild((N,J)=>{if(void 0===k[J])throw new Error(`Must supply a value for form control at index: ${J}.`)})}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const yr={provide:He,useExisting:(0,_.Gpc)(()=>$e)},on=(()=>Promise.resolve(null))();let $e=(()=>{class U extends He{constructor(N,J){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new Kr({},lt(N),qe(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(N){on.then(()=>{const J=this._findContainer(N.path);N.control=J.registerControl(N.name,N.control),Me(N.control,N),N.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(N)})}getControl(N){return this.form.get(N.path)}removeControl(N){on.then(()=>{const J=this._findContainer(N.path);J&&J.removeControl(N.name),Jn(this._directives,N)})}addFormGroup(N){on.then(()=>{const J=this._findContainer(N.path),Ye=new Kr({});Bn(Ye,N),J.registerControl(N.name,Ye),Ye.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(N){on.then(()=>{const J=this._findContainer(N.path);J&&J.removeControl(N.name)})}getFormGroup(N){return this.form.get(N.path)}updateModel(N,J){on.then(()=>{this.form.get(N.path).setValue(J)})}setValue(N){this.control.setValue(N)}onSubmit(N){return this.submitted=!0,ji(this.form,this._directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(N){return N.pop(),N.length?this.form.get(N):this.form}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(ut,10),_.Y36(Ie,10))},U.\u0275dir=_.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(N,J){1&N&&_.NdJ("submit",function(Mt){return J.onSubmit(Mt)})("reset",function(){return J.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([yr]),_.qOj]}),U})(),Ur=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=_.lG2({type:U,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),U})();const mi={provide:ue,useExisting:(0,_.Gpc)(()=>ni),multi:!0};let ni=(()=>{class U extends le{writeValue(N){this.setProperty("value",null==N?"":N)}registerOnChange(N){this.onChange=J=>{N(""==J?null:parseFloat(J))}}}return U.\u0275fac=function(){let k;return function(J){return(k||(k=_.n5z(U)))(J||U)}}(),U.\u0275dir=_.lG2({type:U,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(N,J){1&N&&_.NdJ("input",function(Mt){return J.onChange(Mt.target.value)})("blur",function(){return J.onTouched()})},features:[_._Bn([mi]),_.qOj]}),U})(),Fs=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({}),U})();const Yr=new _.OlP("NgModelWithFormControlWarning"),Vs={provide:He,useExisting:(0,_.Gpc)(()=>Qr)};let Qr=(()=>{class U extends He{constructor(N,J){super(),this.validators=N,this.asyncValidators=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(N),this._setAsyncValidators(J)}ngOnChanges(N){this._checkFormPresent(),N.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(jt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(N){const J=this.form.get(N.path);return Me(J,N),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(N),J}getControl(N){return this.form.get(N.path)}removeControl(N){Ce(N.control||null,N,!1),Jn(this.directives,N)}addFormGroup(N){this._setUpFormContainer(N)}removeFormGroup(N){this._cleanUpFormContainer(N)}getFormGroup(N){return this.form.get(N.path)}addFormArray(N){this._setUpFormContainer(N)}removeFormArray(N){this._cleanUpFormContainer(N)}getFormArray(N){return this.form.get(N.path)}updateModel(N,J){this.form.get(N.path).setValue(J)}onSubmit(N){return this.submitted=!0,ji(this.form,this.directives),this.ngSubmit.emit(N),!1}onReset(){this.resetForm()}resetForm(N){this.form.reset(N),this.submitted=!1}_updateDomValue(){this.directives.forEach(N=>{const J=N.control,Ye=this.form.get(N.path);J!==Ye&&(Ce(J||null,N),Ye instanceof mr&&(Me(Ye,N),N.control=Ye))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(N){const J=this.form.get(N.path);Bn(J,N),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(N){if(this.form){const J=this.form.get(N.path);J&&function(U,k){return jt(U,k)}(J,N)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){et(this.form,this),this._oldForm&&jt(this._oldForm,this)}_checkFormPresent(){}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(ut,10),_.Y36(Ie,10))},U.\u0275dir=_.lG2({type:U,selectors:[["","formGroup",""]],hostBindings:function(N,J){1&N&&_.NdJ("submit",function(Mt){return J.onSubmit(Mt)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Vs]),_.qOj,_.TTD]}),U})();const oi={provide:ot,useExisting:(0,_.Gpc)(()=>Ds)};let Ds=(()=>{class U extends ot{constructor(N,J,Ye,Mt,Cn){super(),this._ngModelWarningConfig=Cn,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=N,this._setValidators(J),this._setAsyncValidators(Ye),this.valueAccessor=function(U,k){if(!k)return null;let N,J,Ye;return Array.isArray(k),k.forEach(Mt=>{Mt.constructor===fe?N=Mt:function(U){return Object.getPrototypeOf(U.constructor)===le}(Mt)?J=Mt:Ye=Mt}),Ye||J||N||null}(0,Mt)}set isDisabled(N){}ngOnChanges(N){this._added||this._setUpControl(),function(U,k){if(!U.hasOwnProperty("model"))return!1;const N=U.model;return!!N.isFirstChange()||!Object.is(k,N.currentValue)}(N,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(N){this.viewModel=N,this.update.emit(N)}get path(){return function(U,k){return[...k.path,U]}(null==this.name?this.name:this.name.toLowerCase().toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return U.\u0275fac=function(N){return new(N||U)(_.Y36(He,13),_.Y36(ut,10),_.Y36(Ie,10),_.Y36(ue,10),_.Y36(Yr,8))},U.\u0275dir=_.lG2({type:U,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([oi]),_.qOj,_.TTD]}),U._ngModelWarningSentOnce=!1,U})();const vo={provide:ut,useExisting:(0,_.Gpc)(()=>ds),multi:!0};let ds=(()=>{class U{constructor(){this._required=!1}get required(){return this._required}set required(N){this._required=null!=N&&!1!==N&&"false"!=`${N}`,this._onChange&&this._onChange()}validate(N){return this.required?Le(N):null}registerOnValidatorChange(N){this._onChange=N}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275dir=_.lG2({type:U,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(N,J){2&N&&_.uIk("required",J.required?"":null)},inputs:{required:"required"},features:[_._Bn([vo])]}),U})(),ee=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({imports:[[Fs]]}),U})(),H=(()=>{class U{}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({imports:[ee]}),U})(),ie=(()=>{class U{static withConfig(N){return{ngModule:U,providers:[{provide:Yr,useValue:N.warnOnNgModelWithFormControl}]}}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({imports:[ee]}),U})(),st=(()=>{class U{group(N,J=null){const Ye=this._reduceControls(N);let cr,Mt=null,Cn=null;return null!=J&&(function(U){return void 0!==U.asyncValidators||void 0!==U.validators||void 0!==U.updateOn}(J)?(Mt=null!=J.validators?J.validators:null,Cn=null!=J.asyncValidators?J.asyncValidators:null,cr=null!=J.updateOn?J.updateOn:void 0):(Mt=null!=J.validator?J.validator:null,Cn=null!=J.asyncValidator?J.asyncValidator:null)),new Kr(Ye,{asyncValidators:Cn,updateOn:cr,validators:Mt})}control(N,J,Ye){return new mr(N,J,Ye)}array(N,J,Ye){const Mt=N.map(Cn=>this._createControl(Cn));return new Vn(Mt,J,Ye)}_reduceControls(N){const J={};return Object.keys(N).forEach(Ye=>{J[Ye]=this._createControl(N[Ye])}),J}_createControl(N){return N instanceof mr||N instanceof Kr||N instanceof Vn?N:Array.isArray(N)?this.control(N[0],N.length>1?N[1]:null,N.length>2?N[2]:null):this.control(N)}}return U.\u0275fac=function(N){return new(N||U)},U.\u0275prov=(0,_.Yz7)({factory:function(){return new U},token:U,providedIn:ie}),U})()},9075:(Ht,tt,Z)=>{"use strict";Z.d(tt,{b2:()=>bn,H7:()=>ke,q6:()=>Fr,se:()=>An});var _=Z(8583),f=Z(7716);class te extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ue extends te{static makeCurrent(){(0,_.HT)(new Ue)}onAndCancel(Oe,me,Je){return Oe.addEventListener(me,Je,!1),()=>{Oe.removeEventListener(me,Je,!1)}}dispatchEvent(Oe,me){Oe.dispatchEvent(me)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,me){return(me=me||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,me){return"window"===me?window:"document"===me?Oe:"body"===me?Oe.body:null}getBaseHref(Oe){const me=(Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null);return null==me?null:function($e){ze=ze||document.createElement("a"),ze.setAttribute("href",$e);const Oe=ze.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(me)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,_.Mx)(document.cookie,Oe)}}let ze,Re=null;const ye=new f.OlP("TRANSITION_ID"),le=[{provide:f.ip1,useFactory:function($e,Oe,me){return()=>{me.get(f.CZH).donePromise.then(()=>{const Je=(0,_.q)(),gt=Oe.querySelectorAll(`style[ng-transition="${$e}"]`);for(let an=0;an<gt.length;an++)Je.remove(gt[an])})}},deps:[ye,_.K0,f.zs3],multi:!0}];class ue{static init(){(0,f.VLi)(new ue)}addToWindow(Oe){f.dqk.getAngularTestability=(Je,gt=!0)=>{const an=Oe.findTestabilityInTree(Je,gt);if(null==an)throw new Error("Could not find testability for element.");return an},f.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(Je=>{const gt=f.dqk.getAllAngularTestabilities();let an=gt.length,xn=!1;const lr=function(Nn){xn=xn||Nn,an--,0==an&&Je(xn)};gt.forEach(function(Nn){Nn.whenStable(lr)})})}findTestabilityInTree(Oe,me,Je){if(null==me)return null;const gt=Oe.getTestability(me);return null!=gt?gt:Je?(0,_.q)().isShadowRoot(me)?this.findTestabilityInTree(Oe,me.host,!0):this.findTestabilityInTree(Oe,me.parentElement,!0):null}}let Ve=(()=>{class $e{build(){return new XMLHttpRequest}}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const Qe=new f.OlP("EventManagerPlugins");let Te=(()=>{class $e{constructor(me,Je){this._zone=Je,this._eventNameToPlugin=new Map,me.forEach(gt=>gt.manager=this),this._plugins=me.slice().reverse()}addEventListener(me,Je,gt){return this._findPluginFor(Je).addEventListener(me,Je,gt)}addGlobalEventListener(me,Je,gt){return this._findPluginFor(Je).addGlobalEventListener(me,Je,gt)}getZone(){return this._zone}_findPluginFor(me){const Je=this._eventNameToPlugin.get(me);if(Je)return Je;const gt=this._plugins;for(let an=0;an<gt.length;an++){const xn=gt[an];if(xn.supports(me))return this._eventNameToPlugin.set(me,xn),xn}throw new Error(`No event manager plugin found for event ${me}`)}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(Qe),f.LFG(f.R0b))},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class We{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,me,Je){const gt=(0,_.q)().getGlobalEventTarget(this._doc,Oe);if(!gt)throw new Error(`Unsupported event target ${gt} for event ${me}`);return this.addEventListener(gt,me,Je)}}let Ee=(()=>{class $e{constructor(){this._stylesSet=new Set}addStyles(me){const Je=new Set;me.forEach(gt=>{this._stylesSet.has(gt)||(this._stylesSet.add(gt),Je.add(gt))}),this.onStylesAdded(Je)}onStylesAdded(me){}getAllStyles(){return Array.from(this._stylesSet)}}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),wt=(()=>{class $e extends Ee{constructor(me){super(),this._doc=me,this._hostNodes=new Map,this._hostNodes.set(me.head,[])}_addStylesToHost(me,Je,gt){me.forEach(an=>{const xn=this._doc.createElement("style");xn.textContent=an,gt.push(Je.appendChild(xn))})}addHost(me){const Je=[];this._addStylesToHost(this._stylesSet,me,Je),this._hostNodes.set(me,Je)}removeHost(me){const Je=this._hostNodes.get(me);Je&&Je.forEach(Pt),this._hostNodes.delete(me)}onStylesAdded(me){this._hostNodes.forEach((Je,gt)=>{this._addStylesToHost(me,gt,Je)})}ngOnDestroy(){this._hostNodes.forEach(me=>me.forEach(Pt))}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(_.K0))},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})();function Pt($e){(0,_.q)().remove($e)}const qt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gt=/%COMP%/g;function qe($e,Oe,me){for(let Je=0;Je<Oe.length;Je++){let gt=Oe[Je];Array.isArray(gt)?qe($e,gt,me):(gt=gt.replace(Gt,$e),me.push(gt))}return me}function Et($e){return Oe=>{if("__ngUnwrap__"===Oe)return $e;!1===$e(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let An=(()=>{class $e{constructor(me,Je,gt){this.eventManager=me,this.sharedStylesHost=Je,this.appId=gt,this.rendererByCompId=new Map,this.defaultRenderer=new sr(me)}createRenderer(me,Je){if(!me||!Je)return this.defaultRenderer;switch(Je.encapsulation){case f.ifc.Emulated:{let gt=this.rendererByCompId.get(Je.id);return gt||(gt=new xt(this.eventManager,this.sharedStylesHost,Je,this.appId),this.rendererByCompId.set(Je.id,gt)),gt.applyToHost(me),gt}case 1:case f.ifc.ShadowDom:return new He(this.eventManager,this.sharedStylesHost,me,Je);default:if(!this.rendererByCompId.has(Je.id)){const gt=qe(Je.id,Je.styles,[]);this.sharedStylesHost.addStyles(gt),this.rendererByCompId.set(Je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(Te),f.LFG(wt),f.LFG(f.AFp))},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})();class sr{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null)}destroy(){}createElement(Oe,me){return me?document.createElementNS(qt[me]||me,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,me){Oe.appendChild(me)}insertBefore(Oe,me,Je){Oe&&Oe.insertBefore(me,Je)}removeChild(Oe,me){Oe&&Oe.removeChild(me)}selectRootElement(Oe,me){let Je="string"==typeof Oe?document.querySelector(Oe):Oe;if(!Je)throw new Error(`The selector "${Oe}" did not match any elements`);return me||(Je.textContent=""),Je}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,me,Je,gt){if(gt){me=gt+":"+me;const an=qt[gt];an?Oe.setAttributeNS(an,me,Je):Oe.setAttribute(me,Je)}else Oe.setAttribute(me,Je)}removeAttribute(Oe,me,Je){if(Je){const gt=qt[Je];gt?Oe.removeAttributeNS(gt,me):Oe.removeAttribute(`${Je}:${me}`)}else Oe.removeAttribute(me)}addClass(Oe,me){Oe.classList.add(me)}removeClass(Oe,me){Oe.classList.remove(me)}setStyle(Oe,me,Je,gt){gt&(f.JOm.DashCase|f.JOm.Important)?Oe.style.setProperty(me,Je,gt&f.JOm.Important?"important":""):Oe.style[me]=Je}removeStyle(Oe,me,Je){Je&f.JOm.DashCase?Oe.style.removeProperty(me):Oe.style[me]=""}setProperty(Oe,me,Je){Oe[me]=Je}setValue(Oe,me){Oe.nodeValue=me}listen(Oe,me,Je){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,me,Et(Je)):this.eventManager.addEventListener(Oe,me,Et(Je))}}class xt extends sr{constructor(Oe,me,Je,gt){super(Oe),this.component=Je;const an=qe(gt+"-"+Je.id,Je.styles,[]);me.addStyles(an),this.contentAttr="_ngcontent-%COMP%".replace(Gt,gt+"-"+Je.id),this.hostAttr="_nghost-%COMP%".replace(Gt,gt+"-"+Je.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,me){const Je=super.createElement(Oe,me);return super.setAttribute(Je,this.contentAttr,""),Je}}class He extends sr{constructor(Oe,me,Je,gt){super(Oe),this.sharedStylesHost=me,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=qe(gt.id,gt.styles,[]);for(let xn=0;xn<an.length;xn++){const lr=document.createElement("style");lr.textContent=an[xn],this.shadowRoot.appendChild(lr)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,me){return super.appendChild(this.nodeOrShadowRoot(Oe),me)}insertBefore(Oe,me,Je){return super.insertBefore(this.nodeOrShadowRoot(Oe),me,Je)}removeChild(Oe,me){return super.removeChild(this.nodeOrShadowRoot(Oe),me)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let ot=(()=>{class $e extends We{constructor(me){super(me)}supports(me){return!0}addEventListener(me,Je,gt){return me.addEventListener(Je,gt,!1),()=>this.removeEventListener(me,Je,gt)}removeEventListener(me,Je,gt){return me.removeEventListener(Je,gt)}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(_.K0))},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})();const tr=["alt","control","meta","shift"],wn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Gr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mi={alt:$e=>$e.altKey,control:$e=>$e.ctrlKey,meta:$e=>$e.metaKey,shift:$e=>$e.shiftKey};let Me=(()=>{class $e extends We{constructor(me){super(me)}supports(me){return null!=$e.parseEventName(me)}addEventListener(me,Je,gt){const an=$e.parseEventName(Je),xn=$e.eventCallback(an.fullKey,gt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(me,an.domEventName,xn))}static parseEventName(me){const Je=me.toLowerCase().split("."),gt=Je.shift();if(0===Je.length||"keydown"!==gt&&"keyup"!==gt)return null;const an=$e._normalizeKey(Je.pop());let xn="";if(tr.forEach(Nn=>{const Is=Je.indexOf(Nn);Is>-1&&(Je.splice(Is,1),xn+=Nn+".")}),xn+=an,0!=Je.length||0===an.length)return null;const lr={};return lr.domEventName=gt,lr.fullKey=xn,lr}static getEventFullKey(me){let Je="",gt=function($e){let Oe=$e.key;if(null==Oe){if(Oe=$e.keyIdentifier,null==Oe)return"Unidentified";Oe.startsWith("U+")&&(Oe=String.fromCharCode(parseInt(Oe.substring(2),16)),3===$e.location&&Gr.hasOwnProperty(Oe)&&(Oe=Gr[Oe]))}return wn[Oe]||Oe}(me);return gt=gt.toLowerCase()," "===gt?gt="space":"."===gt&&(gt="dot"),tr.forEach(an=>{an!=gt&&Mi[an](me)&&(Je+=an+".")}),Je+=gt,Je}static eventCallback(me,Je,gt){return an=>{$e.getEventFullKey(an)===me&&gt.runGuarded(()=>Je(an))}}static _normalizeKey(me){switch(me){case"esc":return"escape";default:return me}}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(_.K0))},$e.\u0275prov=f.Yz7({token:$e,factory:$e.\u0275fac}),$e})(),ke=(()=>{class $e{}return $e.\u0275fac=function(me){return new(me||$e)},$e.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(et)},token:$e,providedIn:"root"}),$e})(),et=(()=>{class $e extends ke{constructor(me){super(),this._doc=me}sanitize(me,Je){if(null==Je)return null;switch(me){case f.q3G.NONE:return Je;case f.q3G.HTML:return(0,f.qzn)(Je,"HTML")?(0,f.z3N)(Je):(0,f.EiD)(this._doc,String(Je)).toLowerCase().toString();case f.q3G.STYLE:return(0,f.qzn)(Je,"Style")?(0,f.z3N)(Je):Je;case f.q3G.SCRIPT:if((0,f.qzn)(Je,"Script"))return(0,f.z3N)(Je);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(Je),(0,f.qzn)(Je,"URL")?(0,f.z3N)(Je):(0,f.mCW)(String(Je));case f.q3G.RESOURCE_URL:if((0,f.qzn)(Je,"ResourceURL"))return(0,f.z3N)(Je);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${me} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(me){return(0,f.JVY)(me)}bypassSecurityTrustStyle(me){return(0,f.L6k)(me)}bypassSecurityTrustScript(me){return(0,f.eBb)(me)}bypassSecurityTrustUrl(me){return(0,f.LAX)(me)}bypassSecurityTrustResourceUrl(me){return(0,f.pB0)(me)}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG(_.K0))},$e.\u0275prov=(0,f.Yz7)({factory:function(){return function($e){return new et($e.get(_.K0))}((0,f.LFG)(f.gxx))},token:$e,providedIn:"root"}),$e})();const Fr=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:_.bD},{provide:f.g9A,useValue:function(){Ue.makeCurrent(),ue.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),ss=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Qe,useClass:ot,multi:!0,deps:[_.K0,f.R0b,f.Lbi]},{provide:Qe,useClass:Me,multi:!0,deps:[_.K0]},[],{provide:An,useClass:An,deps:[Te,wt,f.AFp]},{provide:f.FYo,useExisting:An},{provide:Ee,useExisting:wt},{provide:wt,useClass:wt,deps:[_.K0]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Te,useClass:Te,deps:[Qe,f.R0b]},{provide:_.JF,useClass:Ve,deps:[]},[]];let bn=(()=>{class $e{constructor(me){if(me)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(me){return{ngModule:$e,providers:[{provide:f.AFp,useValue:me.appId},{provide:ye,useExisting:f.AFp},le]}}}return $e.\u0275fac=function(me){return new(me||$e)(f.LFG($e,12))},$e.\u0275mod=f.oAB({type:$e}),$e.\u0275inj=f.cJS({providers:ss,imports:[_.ez,f.hGG]}),$e})();"undefined"!=typeof window&&window},611:(Ht,tt,Z)=>{"use strict";Z.d(tt,{F0:()=>Jr,rH:()=>O,yS:()=>P,Bz:()=>ml,lC:()=>Dn});var _=Z(8583),f=Z(7716),te=Z(9765),Ue=Z(7971);class Re extends te.xQ{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const I=super._subscribe(T);return I&&!I.closed&&T.next(this._value),I}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ue.N;return this._value}next(T){super.next(this._value=T)}}var pe=Z(4869),ze=Z(9796),he=Z(7393);class ye extends he.L{notifyNext(T,I,V,G,re){this.destination.next(I)}notifyError(T,I){this.destination.error(T)}notifyComplete(T){this.destination.complete()}}class ne extends he.L{constructor(T,I,V){super(),this.parent=T,this.outerValue=I,this.outerIndex=V,this.index=0}_next(T){this.parent.notifyNext(this.outerValue,T,this.outerIndex,this.index++,this)}_error(T){this.parent.notifyError(T,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var le=Z(7444),ue=Z(7574);function Ve(D,T,I,V,G=new ne(D,I,V)){if(!G.closed)return T instanceof ue.y?T.subscribe(G):(0,le.s)(T)(G)}var Pe=Z(6693);const Ke={};class pt{constructor(T){this.resultSelector=T}call(T,I){return I.subscribe(new fe(T,this.resultSelector))}}class fe extends ye{constructor(T,I){super(T),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(T){this.values.push(Ke),this.observables.push(T)}_complete(){const T=this.observables,I=T.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let V=0;V<I;V++)this.add(Ve(this,T[V],void 0,V))}}notifyComplete(T){0==(this.active-=1)&&this.destination.complete()}notifyNext(T,I,V){const G=this.values,be=this.toRespond?G[V]===Ke?--this.toRespond:this.toRespond:0;G[V]=I,0===be&&(this.resultSelector?this._tryResultSelector(G):this.destination.next(G.slice()))}_tryResultSelector(T){let I;try{I=this.resultSelector.apply(this,T)}catch(V){return void this.destination.error(V)}this.destination.next(I)}}var dt=Z(4402),_t=Z(9193);function ut(D){return new ue.y(T=>{let I;try{I=D()}catch(G){return void T.error(G)}return(I?(0,dt.D)(I):(0,_t.c)()).subscribe(T)})}var Ie=Z(5917),At=Z(3410),Zt=Z(8071),Xt=Z(2441),Xe=Z(9773);function Le(D,T){return(0,Xe.zg)(D,T,1)}var nt=Z(5435),Qe=Z(7108);function Te(D){return function(I){return 0===D?(0,_t.c)():I.lift(new We(D))}}class We{constructor(T){if(this.total=T,this.total<0)throw new Qe.W}call(T,I){return I.subscribe(new Ee(T,this.total))}}class Ee extends he.L{constructor(T,I){super(T),this.total=I,this.ring=new Array,this.count=0}_next(T){const I=this.ring,V=this.total,G=this.count++;I.length<V?I.push(T):I[G%V]=T}_complete(){const T=this.destination;let I=this.count;if(I>0){const V=this.count>=this.total?this.total:this.count,G=this.ring;for(let re=0;re<V;re++){const be=I++%V;T.next(G[be])}}T.complete()}}var wt=Z(4635),Pt=Z(5242),qt=Z(4487),Ft=Z(5319);class Rn{constructor(T){this.callback=T}call(T,I){return I.subscribe(new ct(T,this.callback))}}class ct extends he.L{constructor(T,I){super(T),this.add(new Ft.w(I))}}var lt=Z(8002),Ae=Z(3190),qe=Z(5257),Et=Z(9761),Ut=Z(2145),An=Z(5304),sr=Z(8049),gn=Z(8307),er=Z(1307),Ln=Z(3282);class xt{constructor(T,I){this.id=T,this.url=I}}class He extends xt{constructor(T,I,V="imperative",G=null){super(T,I),this.navigationTrigger=V,this.restoredState=G}toLowerCase().toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ot extends xt{constructor(T,I,V){super(T,I),this.urlAfterRedirects=V}toLowerCase().toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class at extends xt{constructor(T,I,V){super(T,I),this.reason=V}toLowerCase().toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class en extends xt{constructor(T,I,V){super(T,I),this.error=V}toLowerCase().toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class sn extends xt{constructor(T,I,V,G){super(T,I),this.urlAfterRedirects=V,this.state=G}toLowerCase().toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends xt{constructor(T,I,V,G){super(T,I),this.urlAfterRedirects=V,this.state=G}toLowerCase().toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class un extends xt{constructor(T,I,V,G,re){super(T,I),this.urlAfterRedirects=V,this.state=G,this.shouldActivate=re}toLowerCase().toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qt extends xt{constructor(T,I,V,G){super(T,I),this.urlAfterRedirects=V,this.state=G}toLowerCase().toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends xt{constructor(T,I,V,G){super(T,I),this.urlAfterRedirects=V,this.state=G}toLowerCase().toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yn{constructor(T){this.route=T}toLowerCase().toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sr{constructor(T){this.route=T}toLowerCase().toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class tr{constructor(T){this.snapshot=T}toLowerCase().toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(T){this.snapshot=T}toLowerCase().toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(T){this.snapshot=T}toLowerCase().toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gr{constructor(T){this.snapshot=T}toLowerCase().toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ri{constructor(T,I,V){this.routerEvent=T,this.position=I,this.anchor=V}toLowerCase().toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Sn="primary";class dr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function zr(D){return new dr(D)}const Mi="ngNavigationCancelingError";function Me(D){const T=Error("NavigationCancelingError: "+D);return T[Mi]=!0,T}function ke(D,T,I){const V=I.path.split("/");if(V.length>D.length||"full"===I.pathMatch&&(T.hasChildren()||V.length<D.length))return null;const G={};for(let re=0;re<V.length;re++){const be=V[re],Fe=D[re];if(be.startsWith(":"))G[be.substring(1)]=Fe;else if(be!==Fe.path)return null}return{consumed:D.slice(0,V.length),posParams:G}}function et(D,T){const I=D?Object.keys(D):void 0,V=T?Object.keys(T):void 0;if(!I||!V||I.length!=V.length)return!1;let G;for(let re=0;re<I.length;re++)if(G=I[re],!jt(D[G],T[G]))return!1;return!0}function jt(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const I=[...D].sort(),V=[...T].sort();return I.every((G,re)=>V[re]===G)}return D===T}function pn(D){return Array.prototype.concat.apply([],D)}function qn(D){return D.length>0?D[D.length-1]:null}function Gn(D,T){for(const I in D)D.hasOwnProperty(I)&&T(D[I],I)}function Bn(D){return(0,f.CqO)(D)?D:(0,f.QGY)(D)?(0,dt.D)(Promise.resolve(D)):(0,Ie.of)(D)}const Wr={exact:function ji(D,T,I){if(!zn(D.segments,T.segments)||!_r(D.segments,T.segments,I)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const V in T.children)if(!D.children[V]||!ji(D.children[V],T.children[V],I))return!1;return!0},subset:Jn},Fr={exact:function(D,T){return et(D,T)},subset:function(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(I=>jt(D[I],T[I]))},ignored:()=>!0};function ss(D,T,I){return Wr[I.paths](D.root,T.root,I.matrixParams)&&Fr[I.queryParams](D.queryParams,T.queryParams)&&!("exact"===I.fragment&&D.fragment!==T.fragment)}function Jn(D,T,I){return Wi(D,T,T.segments,I)}function Wi(D,T,I,V){if(D.segments.length>I.length){const G=D.segments.slice(0,I.length);return!(!zn(G,I)||T.hasChildren()||!_r(G,I,V))}if(D.segments.length===I.length){if(!zn(D.segments,I)||!_r(D.segments,I,V))return!1;for(const G in T.children)if(!D.children[G]||!Jn(D.children[G],T.children[G],V))return!1;return!0}{const G=I.slice(0,D.segments.length),re=I.slice(D.segments.length);return!!(zn(D.segments,G)&&_r(D.segments,G,V)&&D.children[Sn])&&Wi(D.children[Sn],T,re,V)}}function _r(D,T,I){return T.every((V,G)=>Fr[I](D[G].parameters,V.parameters))}class En{constructor(T,I,V){this.root=T,this.queryParams=I,this.fragment=V}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toLowerCase().toString(){return ti.serialize(this)}}class nn{constructor(T,I){this.segments=T,this.children=I,this.parent=null,Gn(I,(V,G)=>V.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toLowerCase().toString(){return nr(this)}}class br{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=zr(this.parameters)),this._parameterMap}toLowerCase().toString(){return Oe(this)}}function zn(D,T){return D.length===T.length&&D.every((I,V)=>I.path===T[V].path)}class Mn{}class hr{parse(T){const I=new Ws(T);return new En(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){var D;return`${`/${mr(T.root,!0)}`}${function(D){const T=Object.keys(D).map(I=>{const V=D[I];return Array.isArray(V)?V.map(G=>`${Vn(I)}=${Vn(G)}`).join("&"):`${Vn(I)}=${Vn(V)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams)}${"string"==typeof T.fragment?`#${D=T.fragment,encodeURI(D)}`:""}`}}const ti=new hr;function nr(D){return D.segments.map(T=>Oe(T)).join("/")}function mr(D,T){if(!D.hasChildren())return nr(D);if(T){const I=D.children[Sn]?mr(D.children[Sn],!1):"",V=[];return Gn(D.children,(G,re)=>{re!==Sn&&V.push(`${re}:${mr(G,!1)}`)}),V.length>0?`${I}(${V.join("//")})`:I}{const I=function(D,T){let I=[];return Gn(D.children,(V,G)=>{G===Sn&&(I=I.concat(T(V,G)))}),Gn(D.children,(V,G)=>{G!==Sn&&(I=I.concat(T(V,G)))}),I}(D,(V,G)=>G===Sn?[mr(D.children[Sn],!1)]:[`${G}:${mr(V,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Sn]?`${nr(D)}/${I[0]}`:`${nr(D)}/(${I.join("//")})`}}function Kr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vn(D){return Kr(D).replace(/%3B/gi,";")}function Nr(D){return Kr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function on(D){return decodeURIComponent(D)}function $e(D){return on(D.replace(/\+/g,"%20"))}function Oe(D){return`${Nr(D.path)}${function(D){return Object.keys(D).map(T=>`;${Nr(T)}=${Nr(D[T])}`).join("")}(D.parameters)}`}const gt=/^[^\/()?;=#]+/;function an(D){const T=D.match(gt);return T?T[0]:""}const xn=/^[^=?&#]+/,Nn=/^[^?&#]+/;class Ws{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new nn([],{}):new nn([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let V={};return this.peekStartsWith("(")&&(V=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(V[Sn]=new nn(T,I)),V}parseSegment(){const T=an(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new br(on(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=an(this.remaining);if(!I)return;this.capture(I);let V="";if(this.consumeOptional("=")){const G=an(this.remaining);G&&(V=G,this.capture(V))}T[on(I)]=on(V)}parseQueryParam(T){const I=function(D){const T=D.match(xn);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let V="";if(this.consumeOptional("=")){const be=function(D){const T=D.match(Nn);return T?T[0]:""}(this.remaining);be&&(V=be,this.capture(V))}const G=$e(I),re=$e(V);if(T.hasOwnProperty(G)){let be=T[G];Array.isArray(be)||(be=[be],T[G]=be),be.push(re)}else T[G]=re}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const V=an(this.remaining),G=this.remaining[V.length];if("/"!==G&&")"!==G&&";"!==G)throw new Error(`Cannot parse url '${this.url}'`);let re;V.indexOf(":")>-1?(re=V.substr(0,V.indexOf(":")),this.capture(re),this.capture(":")):T&&(re=Sn);const be=this.parseChildren();I[re]=1===Object.keys(be).length?be[Sn]:new nn([],be),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class Ki{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=Ur(T,this._root);return I?I.children.map(V=>V.value):[]}firstChild(T){const I=Ur(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=mi(T,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==T)}pathFromRoot(T){return mi(T,this._root).map(I=>I.value)}}function Ur(D,T){if(D===T.value)return T;for(const I of T.children){const V=Ur(D,I);if(V)return V}return null}function mi(D,T){if(D===T.value)return[T];for(const I of T.children){const V=mi(D,I);if(V.length)return V.unshift(T),V}return[]}class ni{constructor(T,I){this.value=T,this.children=I}toLowerCase().toString(){return`TreeNode(${this.value})`}}function mn(D){const T={};return D&&D.children.forEach(I=>T[I.value.outlet]=I),T}class Ir extends Ki{constructor(T,I){super(T),this.snapshot=I,ur(this,T)}toLowerCase().toString(){return this.snapshot.toLowerCase().toString()}}function Fs(D,T){const I=function(D,T){const be=new Yr([],{},{},"",{},Sn,T,null,D.root,-1,{});return new Lr("",new ni(be,[]))}(D,T),V=new Re([new br("",{})]),G=new Re({}),re=new Re({}),be=new Re({}),Fe=new Re(""),M=new rr(V,G,be,Fe,re,Sn,T,I.root);return M.snapshot=I.root,new Ir(new ni(M,[]),I)}class rr{constructor(T,I,V,G,re,be,Fe,M){this.url=T,this.params=I,this.queryParams=V,this.fragment=G,this.data=re,this.outlet=be,this.component=Fe,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,lt.U)(T=>zr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,lt.U)(T=>zr(T)))),this._queryParamMap}toLowerCase().toString(){return this.snapshot?this.snapshot.toLowerCase().toString():`Future(${this._futureSnapshot})`}}function ri(D,T="emptyOnly"){const I=D.pathFromRoot;let V=0;if("always"!==T)for(V=I.length-1;V>=1;){const G=I[V],re=I[V-1];if(G.routeConfig&&""===G.routeConfig.path)V--;else{if(re.component)break;V--}}return function(D){return D.reduce((T,I)=>({params:Object.assign(Object.assign({},T.params),I.params),data:Object.assign(Object.assign({},T.data),I.data),resolve:Object.assign(Object.assign({},T.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(V))}class Yr{constructor(T,I,V,G,re,be,Fe,M,v,b,x){this.url=T,this.params=I,this.queryParams=V,this.fragment=G,this.data=re,this.outlet=be,this.component=Fe,this.routeConfig=M,this._urlSegment=v,this._lastPathIndex=b,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zr(this.queryParams)),this._queryParamMap}toLowerCase().toString(){return`Route(url:'${this.url.map(V=>V.toLowerCase().toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Lr extends Ki{constructor(T,I){super(I),this.url=T,ur(this,I)}toLowerCase().toString(){return Vs(this._root)}}function ur(D,T){T.value._routerState=D,T.children.forEach(I=>ur(D,I))}function Vs(D){const T=D.children.length>0?` { ${D.children.map(Vs).join(", ")} } `:"";return`${D.value}${T}`}function Qr(D){if(D.snapshot){const T=D.snapshot,I=D._futureSnapshot;D.snapshot=I,et(T.queryParams,I.queryParams)||D.queryParams.next(I.queryParams),T.fragment!==I.fragment&&D.fragment.next(I.fragment),et(T.params,I.params)||D.params.next(I.params),function(D,T){if(D.length!==T.length)return!1;for(let I=0;I<D.length;++I)if(!et(D[I],T[I]))return!1;return!0}(T.url,I.url)||D.url.next(I.url),et(T.data,I.data)||D.data.next(I.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function Ti(D,T){return et(D.params,T.params)&&function(D,T){return zn(D,T)&&D.every((I,V)=>et(I.parameters,T[V].parameters))}(D.url,T.url)&&!(!D.parent!=!T.parent)&&(!D.parent||Ti(D.parent,T.parent))}function di(D,T,I){if(I&&D.shouldReuseRoute(T.value,I.value.snapshot)){const V=I.value;V._futureSnapshot=T.value;const G=function(D,T,I){return T.children.map(V=>{for(const G of I.children)if(D.shouldReuseRoute(V.value,G.value.snapshot))return di(D,V,G);return di(D,V)})}(D,T,I);return new ni(V,G)}{if(D.shouldAttach(T.value)){const re=D.retrieve(T.value);if(null!==re){const be=re.route;return yi(T,be),be}}const V=function(D){return new rr(new Re(D.url),new Re(D.params),new Re(D.queryParams),new Re(D.fragment),new Re(D.data),D.outlet,D.component,D)}(T.value),G=T.children.map(re=>di(D,re));return new ni(V,G)}}function yi(D,T){if(D.value.routeConfig!==T.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(D.children.length!==T.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");T.value._futureSnapshot=D.value;for(let I=0;I<D.children.length;++I)yi(D.children[I],T.children[I])}function Oi(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Qi(D){return"object"==typeof D&&null!=D&&D.outlets}function as(D,T,I,V,G){let re={};return V&&Gn(V,(be,Fe)=>{re[Fe]=Array.isArray(be)?be.map(M=>`${M}`):`${be}`}),new En(I.root===D?T:Ji(I.root,D,T),re,G)}function Ji(D,T,I){const V={};return Gn(D.children,(G,re)=>{V[re]=G===T?I:Ji(G,T,I)}),new nn(D.segments,V)}class Ks{constructor(T,I,V){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=V,T&&V.length>0&&Oi(V[0]))throw new Error("Root segment cannot have matrix parameters");const G=V.find(Qi);if(G&&G!==qn(V))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _i{constructor(T,I,V){this.segmentGroup=T,this.processChildren=I,this.index=V}}function Pi(D,T,I){if(D||(D=new nn([],{})),0===D.segments.length&&D.hasChildren())return vi(D,T,I);const V=function(D,T,I){let V=0,G=T;const re={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(V>=I.length)return re;const be=D.segments[G],Fe=I[V];if(Qi(Fe))break;const M=`${Fe}`,v=V<I.length-1?I[V+1]:null;if(G>0&&void 0===M)break;if(M&&v&&"object"==typeof v&&void 0===v.outlets){if(!ki(M,v,be))return re;V+=2}else{if(!ki(M,{},be))return re;V++}G++}return{match:!0,pathIndex:G,commandIndex:V}}(D,T,I),G=I.slice(V.commandIndex);if(V.match&&V.pathIndex<D.segments.length){const re=new nn(D.segments.slice(0,V.pathIndex),{});return re.children[Sn]=new nn(D.segments.slice(V.pathIndex),D.children),vi(re,0,G)}return V.match&&0===G.length?new nn(D.segments,{}):V.match&&!D.hasChildren()?ls(D,T,I):V.match?vi(D,0,G):ls(D,T,I)}function vi(D,T,I){if(0===I.length)return new nn(D.segments,{});{const V=function(D){return Qi(D[0])?D[0].outlets:{[Sn]:D}}(I),G={};return Gn(V,(re,be)=>{"string"==typeof re&&(re=[re]),null!==re&&(G[be]=Pi(D.children[be],T,re))}),Gn(D.children,(re,be)=>{void 0===V[be]&&(G[be]=re)}),new nn(D.segments,G)}}function ls(D,T,I){const V=D.segments.slice(0,T);let G=0;for(;G<I.length;){const re=I[G];if(Qi(re)){const M=us(re.outlets);return new nn(V,M)}if(0===G&&Oi(I[0])){V.push(new br(D.segments[T].path,cs(I[0]))),G++;continue}const be=Qi(re)?re.outlets[Sn]:`${re}`,Fe=G<I.length-1?I[G+1]:null;be&&Fe&&Oi(Fe)?(V.push(new br(be,cs(Fe))),G+=2):(V.push(new br(be,{})),G++)}return new nn(V,{})}function us(D){const T={};return Gn(D,(I,V)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[V]=ls(new nn([],{}),0,I))}),T}function cs(D){const T={};return Gn(D,(I,V)=>T[V]=`${I}`),T}function ki(D,T,I){return D==I.path&&et(T,I.parameters)}class Eo{constructor(T,I,V,G){this.routeReuseStrategy=T,this.futureState=I,this.currState=V,this.forwardEvent=G}activate(T){const I=this.futureState._root,V=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,V,T),Qr(this.futureState.root),this.activateChildRoutes(I,V,T)}deactivateChildRoutes(T,I,V){const G=mn(I);T.children.forEach(re=>{const be=re.value.outlet;this.deactivateRoutes(re,G[be],V),delete G[be]}),Gn(G,(re,be)=>{this.deactivateRouteAndItsChildren(re,V)})}deactivateRoutes(T,I,V){const G=T.value,re=I?I.value:null;if(G===re)if(G.component){const be=V.getContext(G.outlet);be&&this.deactivateChildRoutes(T,I,be.children)}else this.deactivateChildRoutes(T,I,V);else re&&this.deactivateRouteAndItsChildren(I,V)}deactivateRouteAndItsChildren(T,I){this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const V=I.getContext(T.value.outlet);if(V&&V.outlet){const G=V.outlet.detach(),re=V.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:G,route:T,contexts:re})}}deactivateRouteAndOutlet(T,I){const V=I.getContext(T.value.outlet),G=V&&T.value.component?V.children:I,re=mn(T);for(const be of Object.keys(re))this.deactivateRouteAndItsChildren(re[be],G);V&&V.outlet&&(V.outlet.deactivate(),V.children.onOutletDeactivated(),V.attachRef=null,V.resolver=null,V.route=null)}activateChildRoutes(T,I,V){const G=mn(I);T.children.forEach(re=>{this.activateRoutes(re,G[re.value.outlet],V),this.forwardEvent(new Gr(re.value.snapshot))}),T.children.length&&this.forwardEvent(new kt(T.value.snapshot))}activateRoutes(T,I,V){const G=T.value,re=I?I.value:null;if(Qr(G),G===re)if(G.component){const be=V.getOrCreateContext(G.outlet);this.activateChildRoutes(T,I,be.children)}else this.activateChildRoutes(T,I,V);else if(G.component){const be=V.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Fe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),be.children.onOutletReAttached(Fe.contexts),be.attachRef=Fe.componentRef,be.route=Fe.route.value,be.outlet&&be.outlet.attach(Fe.componentRef,Fe.route.value),ds(Fe.route)}else{const Fe=function(D){for(let T=D.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(G.snapshot),M=Fe?Fe.module.componentFactoryResolver:null;be.attachRef=null,be.route=G,be.resolver=M,be.outlet&&be.outlet.activateWith(G,M),this.activateChildRoutes(T,null,be.children)}}else this.activateChildRoutes(T,null,V)}}function ds(D){Qr(D.value),D.children.forEach(ds)}class hs{constructor(T,I){this.routes=T,this.module=I}}function Or(D){return"function"==typeof D}function Pr(D){return D instanceof En}const ts=Symbol("INITIAL_VALUE");function vs(){return(0,Ae.w)(D=>function(...D){let T,I;return(0,pe.K)(D[D.length-1])&&(I=D.pop()),"function"==typeof D[D.length-1]&&(T=D.pop()),1===D.length&&(0,ze.k)(D[0])&&(D=D[0]),(0,Pe.n)(D,I).lift(new pt(T))}(D.map(T=>T.pipe((0,qe.q)(1),(0,Et.O)(ts)))).pipe((0,Ut.R)((T,I)=>{let V=!1;return I.reduce((G,re,be)=>G!==ts?G:(re===ts&&(V=!0),V||!1!==re&&be!==I.length-1&&!Pr(re)?G:re),T)},ts),(0,nt.h)(T=>T!==ts),(0,lt.U)(T=>Pr(T)?T:!0===T),(0,qe.q)(1)))}let L=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=f.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,V){1&I&&f._UZ(0,"router-outlet")},directives:function(){return[Dn]},encapsulation:2}),D})();function ee(D,T=""){for(let I=0;I<D.length;I++){const V=D[I];H(V,ie(T,V))}}function H(D,T){D.children&&ee(D.children,T)}function ie(D,T){return T?D||T.path?D&&!T.path?`${D}/`:!D&&T.path?T.path:`${D}/${T.path}`:"":D}function we(D){const T=D.children&&D.children.map(we),I=T?Object.assign(Object.assign({},D),{children:T}):Object.assign({},D);return!I.component&&(T||I.loadChildren)&&I.outlet&&I.outlet!==Sn&&(I.component=L),I}function st(D){return D.outlet||Sn}function Tt(D,T){const I=D.filter(V=>st(V)===T);return I.push(...D.filter(V=>st(V)!==T)),I}const U={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function k(D,T,I){var V;if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||I.length>0)?Object.assign({},U):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const re=(T.matcher||ke)(I,D,T);if(!re)return Object.assign({},U);const be={};Gn(re.posParams,(M,v)=>{be[v]=M.path});const Fe=re.consumed.length>0?Object.assign(Object.assign({},be),re.consumed[re.consumed.length-1].parameters):be;return{matched:!0,consumedSegments:re.consumed,lastChild:re.consumed.length,parameters:Fe,positionalParamSegments:null!==(V=re.posParams)&&void 0!==V?V:{}}}function N(D,T,I,V,G="corrected"){if(I.length>0&&function(D,T,I){return I.some(V=>cr(D,T,V)&&st(V)!==Sn)}(D,I,V)){const be=new nn(T,function(D,T,I,V){const G={};G[Sn]=V,V._sourceSegment=D,V._segmentIndexShift=T.length;for(const re of I)if(""===re.path&&st(re)!==Sn){const be=new nn([],{});be._sourceSegment=D,be._segmentIndexShift=T.length,G[st(re)]=be}return G}(D,T,V,new nn(I,D.children)));return be._sourceSegment=D,be._segmentIndexShift=T.length,{segmentGroup:be,slicedSegments:[]}}if(0===I.length&&function(D,T,I){return I.some(V=>cr(D,T,V))}(D,I,V)){const be=new nn(D.segments,function(D,T,I,V,G,re){const be={};for(const Fe of V)if(cr(D,I,Fe)&&!G[st(Fe)]){const M=new nn([],{});M._sourceSegment=D,M._segmentIndexShift="legacy"===re?D.segments.length:T.length,be[st(Fe)]=M}return Object.assign(Object.assign({},G),be)}(D,T,I,V,D.children,G));return be._sourceSegment=D,be._segmentIndexShift=T.length,{segmentGroup:be,slicedSegments:I}}const re=new nn(D.segments,D.children);return re._sourceSegment=D,re._segmentIndexShift=T.length,{segmentGroup:re,slicedSegments:I}}function cr(D,T,I){return(!(D.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function fi(D,T,I,V){return!!(st(D)===V||V!==Sn&&cr(T,I,D))&&("**"===D.path||k(T,D,I).matched)}function Br(D,T,I){return 0===T.length&&!D.children[I]}class pi{constructor(T){this.segmentGroup=T||null}}class ns{constructor(T){this.urlTree=T}}function Tn(D){return new ue.y(T=>T.error(new pi(D)))}function wo(D){return new ue.y(T=>T.error(new ns(D)))}function ao(D){return new ue.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class Qs{constructor(T,I,V,G,re){this.configLoader=I,this.urlSerializer=V,this.urlTree=G,this.config=re,this.allowRedirects=!0,this.ngModule=T.get(f.h0i)}apply(){const T=N(this.urlTree.root,[],[],this.config).segmentGroup,I=new nn(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,I,Sn).pipe((0,lt.U)(re=>this.createUrlTree(Js(re),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,An.K)(re=>{if(re instanceof ns)return this.allowRedirects=!1,this.match(re.urlTree);throw re instanceof pi?this.noMatchError(re):re}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,Sn).pipe((0,lt.U)(G=>this.createUrlTree(Js(G),T.queryParams,T.fragment))).pipe((0,An.K)(G=>{throw G instanceof pi?this.noMatchError(G):G}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,I,V){const G=T.segments.length>0?new nn([],{[Sn]:T}):T;return new En(G,I,V)}expandSegmentGroup(T,I,V,G){return 0===V.segments.length&&V.hasChildren()?this.expandChildren(T,I,V).pipe((0,lt.U)(re=>new nn([],re))):this.expandSegment(T,V,I,V.segments,G,!0)}expandChildren(T,I,V){const G=[];for(const re of Object.keys(V.children))"primary"===re?G.unshift(re):G.push(re);return(0,dt.D)(G).pipe(Le(re=>{const be=V.children[re],Fe=Tt(I,re);return this.expandSegmentGroup(T,Fe,be,re).pipe((0,lt.U)(M=>({segment:M,outlet:re})))}),(0,Ut.R)((re,be)=>(re[be.outlet]=be.segment,re),{}),function(D,T){const I=arguments.length>=2;return V=>V.pipe(D?(0,nt.h)((G,re)=>D(G,re,V)):qt.y,Te(1),I?(0,Pt.d)(T):(0,wt.T)(()=>new At.K))}())}expandSegment(T,I,V,G,re,be){return(0,dt.D)(V).pipe(Le(Fe=>this.expandSegmentAgainstRoute(T,I,V,Fe,G,re,be).pipe((0,An.K)(v=>{if(v instanceof pi)return(0,Ie.of)(null);throw v}))),(0,sr.P)(Fe=>!!Fe),(0,An.K)((Fe,M)=>{if(Fe instanceof At.K||"EmptyError"===Fe.name){if(Br(I,G,re))return(0,Ie.of)(new nn([],{}));throw new pi(I)}throw Fe}))}expandSegmentAgainstRoute(T,I,V,G,re,be,Fe){return fi(G,I,re,be)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(T,I,G,re,be):Fe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,V,G,re,be):Tn(I):Tn(I)}expandSegmentAgainstRouteUsingRedirect(T,I,V,G,re,be){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,V,G,be):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,V,G,re,be)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,V,G){const re=this.applyRedirectCommands([],V.redirectTo,{});return V.redirectTo.startsWith("/")?wo(re):this.lineralizeSegments(V,re).pipe((0,Xe.zg)(be=>{const Fe=new nn(be,{});return this.expandSegment(T,Fe,I,be,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,V,G,re,be){const{matched:Fe,consumedSegments:M,lastChild:v,positionalParamSegments:b}=k(I,G,re);if(!Fe)return Tn(I);const x=this.applyRedirectCommands(M,G.redirectTo,b);return G.redirectTo.startsWith("/")?wo(x):this.lineralizeSegments(G,x).pipe((0,Xe.zg)($=>this.expandSegment(T,I,V,$.concat(re.slice(v)),be,!1)))}matchSegmentAgainstRoute(T,I,V,G,re){if("**"===V.path)return V.loadChildren?(V._loadedConfig?(0,Ie.of)(V._loadedConfig):this.configLoader.load(T.injector,V)).pipe((0,lt.U)($=>(V._loadedConfig=$,new nn(G,{})))):(0,Ie.of)(new nn(G,{}));const{matched:be,consumedSegments:Fe,lastChild:M}=k(I,V,G);if(!be)return Tn(I);const v=G.slice(M);return this.getChildConfig(T,V,G).pipe((0,Xe.zg)(x=>{const $=x.module,X=x.routes,{segmentGroup:ge,slicedSegments:_e}=N(I,Fe,v,X),xe=new nn(ge.segments,ge.children);if(0===_e.length&&xe.hasChildren())return this.expandChildren($,X,xe).pipe((0,lt.U)(Pn=>new nn(Fe,Pn)));if(0===X.length&&0===_e.length)return(0,Ie.of)(new nn(Fe,{}));const mt=st(V)===re;return this.expandSegment($,xe,X,_e,mt?Sn:re,!0).pipe((0,lt.U)(tn=>new nn(Fe.concat(tn.segments),tn.children)))}))}getChildConfig(T,I,V){return I.children?(0,Ie.of)(new hs(I.children,T)):I.loadChildren?void 0!==I._loadedConfig?(0,Ie.of)(I._loadedConfig):this.runCanLoadGuards(T.injector,I,V).pipe((0,Xe.zg)(G=>{return G?this.configLoader.load(T.injector,I).pipe((0,lt.U)(re=>(I._loadedConfig=re,re))):(D=I,new ue.y(T=>T.error(Me(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,Ie.of)(new hs([],T))}runCanLoadGuards(T,I,V){const G=I.canLoad;if(!G||0===G.length)return(0,Ie.of)(!0);const re=G.map(be=>{const Fe=T.get(be);let M;if((D=Fe)&&Or(D.canLoad))M=Fe.canLoad(I,V);else{if(!Or(Fe))throw new Error("Invalid CanLoad guard");M=Fe(I,V)}var D;return Bn(M)});return(0,Ie.of)(re).pipe(vs(),(0,gn.b)(be=>{if(!Pr(be))return;const Fe=Me(`Redirecting to "${this.urlSerializer.serialize(be)}"`);throw Fe.url=be,Fe}),(0,lt.U)(be=>!0===be))}lineralizeSegments(T,I){let V=[],G=I.root;for(;;){if(V=V.concat(G.segments),0===G.numberOfChildren)return(0,Ie.of)(V);if(G.numberOfChildren>1||!G.children[Sn])return ao(T.redirectTo);G=G.children[Sn]}}applyRedirectCommands(T,I,V){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),T,V)}applyRedirectCreatreUrlTree(T,I,V,G){const re=this.createSegmentGroup(T,I.root,V,G);return new En(re,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const V={};return Gn(T,(G,re)=>{if("string"==typeof G&&G.startsWith(":")){const Fe=G.substring(1);V[re]=I[Fe]}else V[re]=G}),V}createSegmentGroup(T,I,V,G){const re=this.createSegments(T,I.segments,V,G);let be={};return Gn(I.children,(Fe,M)=>{be[M]=this.createSegmentGroup(T,Fe,V,G)}),new nn(re,be)}createSegments(T,I,V,G){return I.map(re=>re.path.startsWith(":")?this.findPosParam(T,re,G):this.findOrReturn(re,V))}findPosParam(T,I,V){const G=V[I.path.substring(1)];if(!G)throw new Error(`Cannot redirect to '${T}'. Cannot find '${I.path}'.`);return G}findOrReturn(T,I){let V=0;for(const G of I){if(G.path===T.path)return I.splice(V),G;V++}return T}}function Js(D){const T={};for(const V of Object.keys(D.children)){const re=Js(D.children[V]);(re.segments.length>0||re.hasChildren())&&(T[V]=re)}return function(D){if(1===D.numberOfChildren&&D.children[Sn]){const T=D.children[Sn];return new nn(D.segments.concat(T.segments),T.children)}return D}(new nn(D.segments,T))}class or{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Co{constructor(T,I){this.component=T,this.route=I}}function li(D,T,I){const V=D._root;return Xs(V,T?T._root:null,I,[V.value])}function Ss(D,T,I){const V=function(D){if(!D)return null;for(let T=D.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(T);return(V?V.module.injector:I).get(D)}function Xs(D,T,I,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=mn(T);return D.children.forEach(be=>{(function(D,T,I,V,G={canDeactivateChecks:[],canActivateChecks:[]}){const re=D.value,be=T?T.value:null,Fe=I?I.getContext(D.value.outlet):null;if(be&&re.routeConfig===be.routeConfig){const M=function(D,T,I){if("function"==typeof I)return I(D,T);switch(I){case"pathParamsChange":return!zn(D.url,T.url);case"pathParamsOrQueryParamsChange":return!zn(D.url,T.url)||!et(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ti(D,T)||!et(D.queryParams,T.queryParams);case"paramsChange":default:return!Ti(D,T)}}(be,re,re.routeConfig.runGuardsAndResolvers);M?G.canActivateChecks.push(new or(V)):(re.data=be.data,re._resolvedData=be._resolvedData),Xs(D,T,re.component?Fe?Fe.children:null:I,V,G),M&&Fe&&Fe.outlet&&Fe.outlet.isActivated&&G.canDeactivateChecks.push(new Co(Fe.outlet.component,be))}else be&&Io(T,Fe,G),G.canActivateChecks.push(new or(V)),Xs(D,null,re.component?Fe?Fe.children:null:I,V,G)})(be,re[be.value.outlet],I,V.concat([be.value]),G),delete re[be.value.outlet]}),Gn(re,(be,Fe)=>Io(be,I.getContext(Fe),G)),G}function Io(D,T,I){const V=mn(D),G=D.value;Gn(V,(re,be)=>{Io(re,G.component?T?T.children.getContext(be):null:T,I)}),I.canDeactivateChecks.push(new Co(G.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,G))}class to{}function lo(D){return new ue.y(T=>T.error(D))}class Hr{constructor(T,I,V,G,re,be){this.rootComponentType=T,this.config=I,this.urlTree=V,this.url=G,this.paramsInheritanceStrategy=re,this.relativeLinkResolution=be}recognize(){const T=N(this.urlTree.root,[],[],this.config.filter(be=>void 0===be.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,T,Sn);if(null===I)return null;const V=new Yr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sn,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new ni(V,I),re=new Lr(this.url,G);return this.inheritParamsAndData(re._root),re}inheritParamsAndData(T){const I=T.value,V=ri(I,this.paramsInheritanceStrategy);I.params=Object.freeze(V.params),I.data=Object.freeze(V.data),T.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(T,I,V){return 0===I.segments.length&&I.hasChildren()?this.processChildren(T,I):this.processSegment(T,I,I.segments,V)}processChildren(T,I){const V=[];for(const re of Object.keys(I.children)){const be=I.children[re],Fe=Tt(T,re),M=this.processSegmentGroup(Fe,be,re);if(null===M)return null;V.push(...M)}const G=B(V);return G.sort((T,I)=>T.value.outlet===Sn?-1:I.value.outlet===Sn?1:T.value.outlet.localeCompare(I.value.outlet)),G}processSegment(T,I,V,G){for(const re of T){const be=this.processSegmentAgainstRoute(re,I,V,G);if(null!==be)return be}return Br(I,V,G)?[]:null}processSegmentAgainstRoute(T,I,V,G){if(T.redirectTo||!fi(T,I,V,G))return null;let re,be=[],Fe=[];if("**"===T.path){const X=V.length>0?qn(V).parameters:{};re=new Yr(V,X,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rt(T),st(T),T.component,T,ae(I),Se(I)+V.length,ft(T))}else{const X=k(I,T,V);if(!X.matched)return null;be=X.consumedSegments,Fe=V.slice(X.lastChild),re=new Yr(be,X.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rt(T),st(T),T.component,T,ae(I),Se(I)+be.length,ft(T))}const M=(D=T).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:v,slicedSegments:b}=N(I,be,Fe,M.filter(X=>void 0===X.redirectTo),this.relativeLinkResolution);var D;if(0===b.length&&v.hasChildren()){const X=this.processChildren(M,v);return null===X?null:[new ni(re,X)]}if(0===M.length&&0===b.length)return[new ni(re,[])];const x=st(T)===G,$=this.processSegment(M,v,b,x?Sn:G);return null===$?null:[new ni(re,$)]}}function q(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function B(D){const T=[],I=new Set;for(const V of D){if(!q(V)){T.push(V);continue}const G=T.find(re=>V.value.routeConfig===re.value.routeConfig);void 0!==G?(G.children.push(...V.children),I.add(G)):T.push(V)}for(const V of I){const G=B(V.children);T.push(new ni(V.value,G))}return T.filter(V=>!I.has(V))}function ae(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Se(D){let T=D,I=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift?T._segmentIndexShift:0;return I-1}function rt(D){return D.data||{}}function ft(D){return D.resolve||{}}function Xn(D){return(0,Ae.w)(T=>{const I=D(T);return I?(0,dt.D)(I).pipe((0,lt.U)(()=>T)):(0,Ie.of)(T)})}class gi extends class{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const Zi=new f.OlP("ROUTES");class qi{constructor(T,I,V,G){this.loader=T,this.compiler=I,this.onLoadStartListener=V,this.onLoadEndListener=G}load(T,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const G=this.loadModuleFactory(I.loadChildren).pipe((0,lt.U)(re=>{this.onLoadEndListener&&this.onLoadEndListener(I);const be=re.create(T);return new hs(pn(be.injector.get(Zi,void 0,f.XFs.Self|f.XFs.Optional)).map(we),be)}),(0,An.K)(re=>{throw I._loader$=void 0,re}));return I._loader$=new Xt.c(G,()=>new te.xQ).pipe((0,er.x)()),I._loader$}loadModuleFactory(T){return"string"==typeof T?(0,dt.D)(this.loader.load(T)):Bn(T()).pipe((0,Xe.zg)(I=>I instanceof f.YKP?(0,Ie.of)(I):(0,dt.D)(this.compiler.compileModuleAsync(I))))}}class Di{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ar,this.attachRef=null}}class Ar{constructor(){this.contexts=new Map}onChildOutletCreated(T,I){const V=this.getOrCreateContext(T);V.outlet=I,this.contexts.set(T,V)}onChildOutletDestroyed(T){const I=this.getContext(T);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let I=this.getContext(T);return I||(I=new Di,this.contexts.set(T,I)),I}getContext(T){return this.contexts.get(T)||null}}class Fi{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function Hs(D){throw D}function Po(D,T,I){return T.parse("/")}function no(D,T){return(0,Ie.of)(null)}const ro={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Jr=(()=>{class D{constructor(I,V,G,re,be,Fe,M,v){this.rootComponentType=I,this.urlSerializer=V,this.rootContexts=G,this.location=re,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new te.xQ,this.errorHandler=Hs,this.malformedUriErrorHandler=Po,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:no,afterPreactivation:no},this.urlHandlingStrategy=new Fi,this.routeReuseStrategy=new gi,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=be.get(f.h0i),this.console=be.get(f.c2e);const $=be.get(f.R0b);this.isNgZoneEnabled=$ instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new En(new nn([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qi(Fe,M,X=>this.triggerEvent(new Yn(X)),X=>this.triggerEvent(new Sr(X))),this.routerState=Fs(this.currentUrlTree,this.rootComponentType),this.transitions=new Re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const V=this.events;return I.pipe((0,nt.h)(G=>0!==G.id),(0,lt.U)(G=>Object.assign(Object.assign({},G),{extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,Ae.w)(G=>{let re=!1,be=!1;return(0,Ie.of)(G).pipe((0,gn.b)(Fe=>{this.currentNavigation={id:Fe.id,initialUrl:Fe.currentRawUrl,extractedUrl:Fe.extractedUrl,trigger:Fe.source,extras:Fe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ae.w)(Fe=>{const M=this.browserUrlTree.toLowerCase().toString(),v=!this.navigated||Fe.extractedUrl.toLowerCase().toString()!==M||M!==this.currentUrlTree.toLowerCase().toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(Fe.rawUrl))return Ms(Fe.source)&&(this.browserUrlTree=Fe.extractedUrl),(0,Ie.of)(Fe).pipe((0,Ae.w)(x=>{const $=this.transitions.getValue();return V.next(new He(x.id,this.serializeUrl(x.extractedUrl),x.source,x.restoredState)),$!==this.transitions.getValue()?_t.E:Promise.resolve(x)}),function(D,T,I,V){return(0,Ae.w)(G=>function(D,T,I,V,G){return new Qs(D,T,I,V,G).apply()}(D,T,I,G.extractedUrl,V).pipe((0,lt.U)(re=>Object.assign(Object.assign({},G),{urlAfterRedirects:re}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,gn.b)(x=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:x.urlAfterRedirects})}),function(D,T,I,V,G){return(0,Xe.zg)(re=>function(D,T,I,V,G="emptyOnly",re="legacy"){try{const be=new Hr(D,T,I,V,G,re).recognize();return null===be?lo(new to):(0,Ie.of)(be)}catch(be){return lo(be)}}(D,T,re.urlAfterRedirects,I(re.urlAfterRedirects),V,G).pipe((0,lt.U)(be=>Object.assign(Object.assign({},re),{targetSnapshot:be}))))}(this.rootComponentType,this.config,x=>this.serializeUrl(x),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,gn.b)(x=>{"eager"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(x.urlAfterRedirects,x),this.browserUrlTree=x.urlAfterRedirects);const $=new sn(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);V.next($)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:X,source:ge,restoredState:_e,extras:xe}=Fe,mt=new He($,this.serializeUrl(X),ge,_e);V.next(mt);const Ot=Fs(X,this.rootComponentType).snapshot;return(0,Ie.of)(Object.assign(Object.assign({},Fe),{targetSnapshot:Ot,urlAfterRedirects:X,extras:Object.assign(Object.assign({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Fe.rawUrl,this.browserUrlTree=Fe.urlAfterRedirects,Fe.resolve(null),_t.E}),Xn(Fe=>{const{targetSnapshot:M,id:v,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:$,replaceUrl:X}}=Fe;return this.hooks.beforePreactivation(M,{navigationId:v,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!$,replaceUrl:!!X})}),(0,gn.b)(Fe=>{const M=new _n(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot);this.triggerEvent(M)}),(0,lt.U)(Fe=>Object.assign(Object.assign({},Fe),{guards:li(Fe.targetSnapshot,Fe.currentSnapshot,this.rootContexts)})),function(D,T){return(0,Xe.zg)(I=>{const{targetSnapshot:V,currentSnapshot:G,guards:{canActivateChecks:re,canDeactivateChecks:be}}=I;return 0===be.length&&0===re.length?(0,Ie.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function(D,T,I,V){return(0,dt.D)(D).pipe((0,Xe.zg)(G=>function(D,T,I,V,G){const re=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!re||0===re.length)return(0,Ie.of)(!0);const be=re.map(Fe=>{const M=Ss(Fe,T,G);let v;if(function(D){return D&&Or(D.canDeactivate)}(M))v=Bn(M.canDeactivate(D,T,I,V));else{if(!Or(M))throw new Error("Invalid CanDeactivate guard");v=Bn(M(D,T,I,V))}return v.pipe((0,sr.P)())});return(0,Ie.of)(be).pipe(vs())}(G.component,G.route,I,T,V)),(0,sr.P)(G=>!0!==G,!0))}(be,V,G,D).pipe((0,Xe.zg)(Fe=>Fe&&function(D){return"boolean"==typeof D}(Fe)?function(D,T,I,V){return(0,dt.D)(T).pipe(Le(G=>(0,Zt.z)(function(D,T){return null!==D&&T&&T(new tr(D)),(0,Ie.of)(!0)}(G.route.parent,V),function(D,T){return null!==D&&T&&T(new wn(D)),(0,Ie.of)(!0)}(G.route,V),function(D,T,I){const V=T[T.length-1],re=T.slice(0,T.length-1).reverse().map(be=>function(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(be)).filter(be=>null!==be).map(be=>ut(()=>{const Fe=be.guards.map(M=>{const v=Ss(M,be.node,I);let b;if(function(D){return D&&Or(D.canActivateChild)}(v))b=Bn(v.canActivateChild(V,D));else{if(!Or(v))throw new Error("Invalid CanActivateChild guard");b=Bn(v(V,D))}return b.pipe((0,sr.P)())});return(0,Ie.of)(Fe).pipe(vs())}));return(0,Ie.of)(re).pipe(vs())}(D,G.path,I),function(D,T,I){const V=T.routeConfig?T.routeConfig.canActivate:null;if(!V||0===V.length)return(0,Ie.of)(!0);const G=V.map(re=>ut(()=>{const be=Ss(re,T,I);let Fe;if(function(D){return D&&Or(D.canActivate)}(be))Fe=Bn(be.canActivate(T,D));else{if(!Or(be))throw new Error("Invalid CanActivate guard");Fe=Bn(be(T,D))}return Fe.pipe((0,sr.P)())}));return(0,Ie.of)(G).pipe(vs())}(D,G.route,I))),(0,sr.P)(G=>!0!==G,!0))}(V,re,D,T):(0,Ie.of)(Fe)),(0,lt.U)(Fe=>Object.assign(Object.assign({},I),{guardsResult:Fe})))})}(this.ngModule.injector,Fe=>this.triggerEvent(Fe)),(0,gn.b)(Fe=>{if(Pr(Fe.guardsResult)){const v=Me(`Redirecting to "${this.serializeUrl(Fe.guardsResult)}"`);throw v.url=Fe.guardsResult,v}const M=new un(Fe.id,this.serializeUrl(Fe.extractedUrl),this.serializeUrl(Fe.urlAfterRedirects),Fe.targetSnapshot,!!Fe.guardsResult);this.triggerEvent(M)}),(0,nt.h)(Fe=>!!Fe.guardsResult||(this.restoreHistory(Fe),this.cancelNavigationTransition(Fe,""),!1)),Xn(Fe=>{if(Fe.guards.canActivateChecks.length)return(0,Ie.of)(Fe).pipe((0,gn.b)(M=>{const v=new Qt(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(v)}),(0,Ae.w)(M=>{let v=!1;return(0,Ie.of)(M).pipe(function(D,T){return(0,Xe.zg)(I=>{const{targetSnapshot:V,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,Ie.of)(I);let re=0;return(0,dt.D)(G).pipe(Le(be=>function(D,T,I,V){return function(D,T,I,V){const G=Object.keys(D);if(0===G.length)return(0,Ie.of)({});const re={};return(0,dt.D)(G).pipe((0,Xe.zg)(be=>function(D,T,I,V){const G=Ss(D,T,V);return Bn(G.resolve?G.resolve(T,I):G(T,I))}(D[be],T,I,V).pipe((0,gn.b)(Fe=>{re[be]=Fe}))),Te(1),(0,Xe.zg)(()=>Object.keys(re).length===G.length?(0,Ie.of)(re):_t.E))}(D._resolve,D,T,V).pipe((0,lt.U)(re=>(D._resolvedData=re,D.data=Object.assign(Object.assign({},D.data),ri(D,I).resolve),null)))}(be.route,V,D,T)),(0,gn.b)(()=>re++),Te(1),(0,Xe.zg)(be=>re===G.length?(0,Ie.of)(I):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,gn.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),(0,gn.b)(M=>{const v=new vn(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(v)}))}),Xn(Fe=>{const{targetSnapshot:M,id:v,extractedUrl:b,rawUrl:x,extras:{skipLocationChange:$,replaceUrl:X}}=Fe;return this.hooks.afterPreactivation(M,{navigationId:v,appliedUrlTree:b,rawUrlTree:x,skipLocationChange:!!$,replaceUrl:!!X})}),(0,lt.U)(Fe=>{const M=function(D,T,I){const V=di(D,T._root,I?I._root:void 0);return new Ir(V,T)}(this.routeReuseStrategy,Fe.targetSnapshot,Fe.currentRouterState);return Object.assign(Object.assign({},Fe),{targetRouterState:M})}),(0,gn.b)(Fe=>{this.currentUrlTree=Fe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Fe.urlAfterRedirects,Fe.rawUrl),this.routerState=Fe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Fe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Fe),this.browserUrlTree=Fe.urlAfterRedirects)}),((D,T,I)=>(0,lt.U)(V=>(new Eo(T,V.targetRouterState,V.currentRouterState,I).activate(D),V)))(this.rootContexts,this.routeReuseStrategy,Fe=>this.triggerEvent(Fe)),(0,gn.b)({next(){re=!0},complete(){re=!0}}),function(D){return T=>T.lift(new Rn(D))}(()=>{if(!re&&!be){const Fe=`Navigation ID ${G.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(G),this.cancelNavigationTransition(G,Fe)):this.cancelNavigationTransition(G,Fe)}this.currentNavigation=null}),(0,An.K)(Fe=>{if(be=!0,function(D){return D&&D[Mi]}(Fe)){const M=Pr(Fe.url);M||(this.navigated=!0,this.restoreHistory(G,!0));const v=new at(G.id,this.serializeUrl(G.extractedUrl),Fe.message);V.next(v),M?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(Fe.url,this.rawUrlTree),x={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ms(G.source)};this.scheduleNavigation(b,"imperative",null,x,{resolve:G.resolve,reject:G.reject,promise:G.promise})},0):G.resolve(!1)}else{this.restoreHistory(G,!0);const M=new en(G.id,this.serializeUrl(G.extractedUrl),Fe);V.next(M);try{G.resolve(this.errorHandler(Fe))}catch(v){G.reject(v)}}return _t.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}getTransition(){const I=this.transitions.value;return I.urlAfterRedirects=this.browserUrlTree,I}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const V=this.extractLocationChangeInfoFromEvent(I);this.shouldScheduleNavigation(this.lastLocationChangeInfo,V)&&setTimeout(()=>{const{source:G,state:re,urlTree:be}=V,Fe={replaceUrl:!0};if(re){const M=Object.assign({},re);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(Fe.state=M)}this.scheduleNavigation(be,G,re,Fe)},0),this.lastLocationChangeInfo=V}))}extractLocationChangeInfoFromEvent(I){var V;return{source:"popstate"===I.type?"popstate":"hashchange",urlTree:this.parseUrl(I.url),state:(null===(V=I.state)||void 0===V?void 0:V.navigationId)?I.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(I,V){if(!I)return!0;const G=V.urlTree.toLowerCase().toString()===I.urlTree.toLowerCase().toString();return V.transitionId!==I.transitionId||!G||!("hashchange"===V.source&&"popstate"===I.source||"popstate"===V.source&&"hashchange"===I.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){ee(I),this.config=I.map(we),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,V={}){const{relativeTo:G,queryParams:re,fragment:be,queryParamsHandling:Fe,preserveFragment:M}=V,v=G||this.routerState.root,b=M?this.currentUrlTree.fragment:be;let x=null;switch(Fe){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),re);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=re||null}return null!==x&&(x=this.removeEmptyProps(x)),function(D,T,I,V,G){if(0===I.length)return as(T.root,T.root,T,V,G);const re=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ks(!0,0,D);let T=0,I=!1;const V=D.reduce((G,re,be)=>{if("object"==typeof re&&null!=re){if(re.outlets){const Fe={};return Gn(re.outlets,(M,v)=>{Fe[v]="string"==typeof M?M.split("/"):M}),[...G,{outlets:Fe}]}if(re.segmentPath)return[...G,re.segmentPath]}return"string"!=typeof re?[...G,re]:0===be?(re.split("/").forEach((Fe,M)=>{0==M&&"."===Fe||(0==M&&""===Fe?I=!0:".."===Fe?T++:""!=Fe&&G.push(Fe))}),G):[...G,re]},[]);return new Ks(I,T,V)}(I);if(re.toRoot())return as(T.root,new nn([],{}),T,V,G);const be=function(D,T,I){if(D.isAbsolute)return new _i(T.root,!0,0);if(-1===I.snapshot._lastPathIndex){const re=I.snapshot._urlSegment;return new _i(re,re===T.root,0)}const V=Oi(D.commands[0])?0:1;return function(D,T,I){let V=D,G=T,re=I;for(;re>G;){if(re-=G,V=V.parent,!V)throw new Error("Invalid number of '../'");G=V.segments.length}return new _i(V,!1,G-re)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+V,D.numberOfDoubleDots)}(re,T,D),Fe=be.processChildren?vi(be.segmentGroup,be.index,re.commands):Pi(be.segmentGroup,be.index,re.commands);return as(be.segmentGroup,Fe,T,V,G)}(v,this.currentUrlTree,I,x,null!=b?b:null)}navigateByUrl(I,V={skipLocationChange:!1}){const G=Pr(I)?I:this.parseUrl(I),re=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(re,"imperative",null,V)}navigate(I,V={skipLocationChange:!1}){return function(D){for(let T=0;T<D.length;T++){const I=D[T];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${T}`)}}(I),this.navigateByUrl(this.createUrlTree(I,V),V)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let V;try{V=this.urlSerializer.parse(I)}catch(G){V=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return V}isActive(I,V){let G;if(G=!0===V?Object.assign({},ro):!1===V?Object.assign({},Rs):V,Pr(I))return ss(this.currentUrlTree,I,G);const re=this.parseUrl(I);return ss(this.currentUrlTree,re,G)}removeEmptyProps(I){return Object.keys(I).reduce((V,G)=>{const re=I[G];return null!=re&&(V[G]=re),V},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new ot(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,V,G,re,be){var Fe,M;if(this.disposed)return Promise.resolve(!1);const v=this.getTransition(),b=Ms(V)&&v&&!Ms(v.source),X=(this.lastSuccessfulId===v.id||this.currentNavigation?v.rawUrl:v.urlAfterRedirects).toLowerCase().toString()===I.toLowerCase().toString();if(b&&X)return Promise.resolve(!0);let ge,_e,xe;be?(ge=be.resolve,_e=be.reject,xe=be.promise):xe=new Promise((tn,Pn)=>{ge=tn,_e=Pn});const mt=++this.navigationId;let Ot;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),Ot=G&&G.\u0275routerPageId?G.\u0275routerPageId:re.replaceUrl||re.skipLocationChange?null!==(Fe=this.browserPageId)&&void 0!==Fe?Fe:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):Ot=0,this.setTransition({id:mt,targetPageId:Ot,source:V,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:re,resolve:ge,reject:_e,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(tn=>Promise.reject(tn))}setBrowserUrl(I,V){const G=this.urlSerializer.serialize(I),re=Object.assign(Object.assign({},V.extras.state),this.generateNgRouterState(V.id,V.targetPageId));this.location.isCurrentPathEqualTo(G)||V.extras.replaceUrl?this.location.replaceState(G,"",re):this.location.go(G,"",re)}restoreHistory(I,V=!1){var G,re;if("computed"===this.canceledNavigationResolution){const be=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)||0===be?this.currentUrlTree===(null===(re=this.currentNavigation)||void 0===re?void 0:re.finalUrl)&&0===be&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(be)}else"replace"===this.canceledNavigationResolution&&(V&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,V){const G=new at(I.id,this.serializeUrl(I.extractedUrl),V);this.triggerEvent(G),I.resolve(!1)}generateNgRouterState(I,V){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:V}:{navigationId:I}}}return D.\u0275fac=function(I){return new(I||D)(f.LFG(f.DyG),f.LFG(Mn),f.LFG(Ar),f.LFG(_.Ye),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();function Ms(D){return"imperative"!==D}let O=(()=>{class D{constructor(I,V,G,re,be){this.router=I,this.route=V,this.commands=[],this.onChanges=new te.xQ,null==G&&re.setAttribute(be.nativeElement,"tabindex","0")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}onClick(){const I={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(Jr),f.Y36(rr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,V){1&I&&f.NdJ("click",function(){return V.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),D})(),P=(()=>{class D{constructor(I,V,G){this.router=I,this.route=V,this.locationStrategy=G,this.commands=[],this.onChanges=new te.xQ,this.subscription=I.events.subscribe(re=>{re instanceof ot&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,V,G,re,be){if(0!==I||V||G||re||be||"string"==typeof this.target&&"_self"!=this.target)return!0;const Fe={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Fe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(Jr),f.Y36(rr),f.Y36(_.S$))},D.\u0275dir=f.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,V){1&I&&f.NdJ("click",function(re){return V.onClick(re.button,re.ctrlKey,re.shiftKey,re.altKey,re.metaKey)}),2&I&&(f.Ikx("href",V.href,f.LSH),f.uIk("target",V.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),D})();function Y(D){return""===D||!!D}let Dn=(()=>{class D{constructor(I,V,G,re,be){this.parentContexts=I,this.location=V,this.resolver=G,this.changeDetector=be,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=re||Sn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,I}attach(I,V){this.activated=I,this._activatedRoute=V,this.location.insert(I.hostView)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,V){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const be=(V=V||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),Fe=this.parentContexts.getOrCreateContext(this.name).children,M=new Qn(I,Fe,this.location.injector);this.activated=this.location.createComponent(be,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(I){return new(I||D)(f.Y36(Ar),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},D.\u0275dir=f.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class Qn{constructor(T,I,V){this.route=T,this.childContexts=I,this.parent=V}get(T,I){return T===rr?this.route:T===Ar?this.childContexts:this.parent.get(T,I)}}class rs{}class Li{preload(T,I){return(0,Ie.of)(null)}}let fa=(()=>{class D{constructor(I,V,G,re,be){this.router=I,this.injector=re,this.preloadingStrategy=be,this.loader=new qi(V,G,v=>I.triggerEvent(new Yn(v)),v=>I.triggerEvent(new Sr(v)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(I=>I instanceof ot),Le(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(f.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,V){const G=[];for(const re of V)if(re.loadChildren&&!re.canLoad&&re._loadedConfig){const be=re._loadedConfig;G.push(this.processRoutes(be.module,be.routes))}else re.loadChildren&&!re.canLoad?G.push(this.preloadConfig(I,re)):re.children&&G.push(this.processRoutes(I,re.children));return(0,dt.D)(G).pipe((0,Ln.J)(),(0,lt.U)(re=>{}))}preloadConfig(I,V){return this.preloadingStrategy.preload(V,()=>(V._loadedConfig?(0,Ie.of)(V._loadedConfig):this.loader.load(I.injector,V)).pipe((0,Xe.zg)(re=>(V._loadedConfig=re,this.processRoutes(re.module,re.routes)))))}}return D.\u0275fac=function(I){return new(I||D)(f.LFG(Jr),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(rs))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})(),wi=(()=>{class D{constructor(I,V,G={}){this.router=I,this.viewportScroller=V,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof He?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof ot&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ri&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,V){this.router.triggerEvent(new Ri(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,V))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(I){return new(I||D)(f.LFG(Jr),f.LFG(_.EM),f.LFG(void 0))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();const ko=new f.OlP("ROUTER_CONFIGURATION"),pa=new f.OlP("ROUTER_FORROOT_GUARD"),Ha=[_.Ye,{provide:Mn,useClass:hr},{provide:Jr,useFactory:function(D,T,I,V,G,re,be,Fe={},M,v){const b=new Jr(null,D,T,I,V,G,re,pn(be));return M&&(b.urlHandlingStrategy=M),v&&(b.routeReuseStrategy=v),function(D,T){D.errorHandler&&(T.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(T.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(T.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(T.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(T.urlUpdateStrategy=D.urlUpdateStrategy)}(Fe,b),Fe.enableTracing&&b.events.subscribe(x=>{var $,X;null===($=console.group)||void 0===$||$.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toLowerCase().toString()),console.log(x),null===(X=console.groupEnd)||void 0===X||X.call(console)}),b},deps:[Mn,Ar,_.Ye,f.zs3,f.v3s,f.Sil,Zi,ko,[class{},new f.FiY],[class{},new f.FiY]]},Ar,{provide:rr,useFactory:function(D){return D.routerState.root},deps:[Jr]},{provide:f.v3s,useClass:f.EAV},fa,Li,class{preload(T,I){return I().pipe((0,An.K)(()=>(0,Ie.of)(null)))}},{provide:ko,useValue:{enableTracing:!1}}];function gl(){return new f.PXZ("Router",Jr)}let ml=(()=>{class D{constructor(I,V){}static forRoot(I,V){return{ngModule:D,providers:[Ha,co(I),{provide:pa,useFactory:bo,deps:[[Jr,new f.FiY,new f.tp0]]},{provide:ko,useValue:V||{}},{provide:_.S$,useFactory:Fo,deps:[_.lw,[new f.tBr(_.mr),new f.FiY],ko]},{provide:wi,useFactory:ps,deps:[Jr,_.EM,ko]},{provide:rs,useExisting:V&&V.preloadingStrategy?V.preloadingStrategy:Li},{provide:f.PXZ,multi:!0,useFactory:gl},[Ao,{provide:f.ip1,multi:!0,useFactory:$a,deps:[Ao]},{provide:Un,useFactory:In,deps:[Ao]},{provide:f.tb,multi:!0,useExisting:Un}]]}}static forChild(I){return{ngModule:D,providers:[co(I)]}}}return D.\u0275fac=function(I){return new(I||D)(f.LFG(pa,8),f.LFG(Jr,8))},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({}),D})();function ps(D,T,I){return I.scrollOffset&&T.setOffset(I.scrollOffset),new wi(D,T,I)}function Fo(D,T,I={}){return I.useHash?new _.Do(D,T):new _.b0(D,T)}function bo(D){return"guarded"}function co(D){return[{provide:f.deG,multi:!0,useValue:D},{provide:Zi,multi:!0,useValue:D}]}let Ao=(()=>{class D{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new te.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let V=null;const G=new Promise(Fe=>V=Fe),re=this.injector.get(Jr),be=this.injector.get(ko);return"disabled"===be.initialNavigation?(re.setUpLocationChangeListener(),V(!0)):"enabled"===be.initialNavigation||"enabledBlocking"===be.initialNavigation?(re.hooks.afterPreactivation=()=>this.initNavigation?(0,Ie.of)(null):(this.initNavigation=!0,V(!0),this.resultOfPreactivationDone),re.initialNavigation()):V(!0),G})}bootstrapListener(I){const V=this.injector.get(ko),G=this.injector.get(fa),re=this.injector.get(wi),be=this.injector.get(Jr),Fe=this.injector.get(f.z2F);I===Fe.components[0]&&(("enabledNonBlocking"===V.initialNavigation||void 0===V.initialNavigation)&&be.initialNavigation(),G.setUpPreloading(),re.init(),be.resetRootComponentType(Fe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(I){return new(I||D)(f.LFG(f.zs3))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();function $a(D){return D.appInitializer.bind(D)}function In(D){return D.bootstrapListener.bind(D)}const Un=new f.OlP("Router Initializer")},4486:(Ht,tt,Z)=>{"use strict";Z.d(tt,{Z:()=>Ke});var _=Z(3854),f=Z(6034),te=Z(5452),Ue=Z(5601);class Re{constructor(pt,fe){this._delegate=pt,this.firebase=fe,(0,te._addComponent)(pt,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(pt,fe=te._DEFAULT_ENTRY_NAME){var dt;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(pt);return!_t.isInitialized()&&"EXPLICIT"===(null===(dt=_t.getComponent())||void 0===dt?void 0:dt.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:fe})}_removeServiceInstance(pt,fe=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(fe)}_addComponent(pt){(0,te._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,te._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ze=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ye(){const Ze=function(Ze){const pt={},fe={__esModule:!0,initializeApp:function(Xt,Xe={}){const Le=te.initializeApp(Xt,Xe);if((0,_.r3)(pt,Le.name))return pt[Le.name];const nt=new Ze(Le,fe);return pt[Le.name]=nt,nt},app:_t,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function(Xt){const Xe=Xt.name,Le=Xe.replace("-compat","");if(te._registerComponent(Xt)&&"PUBLIC"===Xt.type){const nt=(Qe=_t())=>{if("function"!=typeof Qe[Le])throw ze.create("invalid-app-argument",{appName:Xe});return Qe[Le]()};void 0!==Xt.serviceProps&&(0,_.ZB)(nt,Xt.serviceProps),fe[Le]=nt,Ze.prototype[Le]=function(...Qe){return this._getService.bind(this,Xe).apply(this,Xt.multipleInstances?Qe:[])}}return"PUBLIC"===Xt.type?fe[Le]:null},removeApp:function(Xt){delete pt[Xt]},useAsService:function(Xt,Xe){return"serverAuth"===Xe?null:Xe},modularAPIs:te}};function _t(Xt){if(!(0,_.r3)(pt,Xt=Xt||te._DEFAULT_ENTRY_NAME))throw ze.create("no-app",{appName:Xt});return pt[Xt]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function(){return Object.keys(pt).map(Xt=>pt[Xt])}}),_t.App=Ze,fe}(Re);return Ze.INTERNAL=Object.assign(Object.assign({},Ze.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function(fe){(0,_.ZB)(Ze,fe)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),Ze}(),le=new Ue.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){le.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ze=self.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&le.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=ne;(0,te.registerVersion)("@firebase/app-compat","0.1.4",undefined)},5452:(Ht,tt,Z)=>{"use strict";Z.r(tt),Z.d(tt,{FirebaseError:()=>Ue.ZR,SDK_VERSION:()=>gn,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>ct,_apps:()=>Ft,_clearComponents:()=>Et,_components:()=>Kt,_getProvider:()=>Ae,_registerComponent:()=>lt,_removeServiceInstance:()=>qe,deleteApp:()=>He,getApp:()=>Ln,getApps:()=>xt,initializeApp:()=>er,onLog:()=>en,registerVersion:()=>at,setLogLevel:()=>sn});var _=Z(8239),f=Z(6034),te=Z(5601),Ue=Z(3854);class Re{constructor(Qt){this.container=Qt}getPlatformInfoString(){return this.container.getProviders().map(vn=>{if(function(un){const Qt=un.getComponent();return"VERSION"===(null==Qt?void 0:Qt.type)}(vn)){const Yn=vn.getImmediate();return`${Yn.library}/${Yn.version}`}return null}).filter(vn=>vn).join(" ")}}const ze="@firebase/app",ye=new te.Yd("@firebase/app"),qt="[DEFAULT]",Gt={[ze]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Kt=new Map;function Rn(un,Qt){try{un.container.addComponent(Qt)}catch(vn){ye.debug(`Component ${Qt.name} failed to register with FirebaseApp ${un.name}`,vn)}}function ct(un,Qt){un.container.addOrOverwriteComponent(Qt)}function lt(un){const Qt=un.name;if(Kt.has(Qt))return ye.debug(`There were multiple attempts to register component ${Qt}.`),!1;Kt.set(Qt,un);for(const vn of Ft.values())Rn(vn,un);return!0}function Ae(un,Qt){return un.container.getProvider(Qt)}function qe(un,Qt,vn=qt){Ae(un,Qt).clearInstance(vn)}function Et(){Kt.clear()}const An=new Ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class sr{constructor(Qt,vn,Yn){this._isDeleted=!1,this._options=Object.assign({},Qt),this._config=Object.assign({},vn),this._name=vn.name,this._automaticDataCollectionEnabled=vn.automaticDataCollectionEnabled,this._container=Yn,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qt){this._isDeleted=Qt}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}const gn="9.1.2";function er(un,Qt={}){"object"!=typeof Qt&&(Qt={name:Qt});const vn=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Qt),Yn=vn.name;if("string"!=typeof Yn||!Yn)throw An.create("bad-app-name",{appName:String(Yn)});const Sr=Ft.get(Yn);if(Sr){if((0,Ue.vZ)(un,Sr.options)&&(0,Ue.vZ)(vn,Sr.config))return Sr;throw An.create("duplicate-app",{appName:Yn})}const tr=new f.H0(Yn);for(const wn of Kt.values())tr.addComponent(wn);const kt=new sr(un,vn,tr);return Ft.set(Yn,kt),kt}function Ln(un=qt){const Qt=Ft.get(un);if(!Qt)throw An.create("no-app",{appName:un});return Qt}function xt(){return Array.from(Ft.values())}function He(un){return ot.apply(this,arguments)}function ot(){return(ot=(0,_.Z)(function*(un){const Qt=un.name;Ft.has(Qt)&&(Ft.delete(Qt),yield Promise.all(un.container.getProviders().map(vn=>vn.delete())),un.isDeleted=!0)})).apply(this,arguments)}function at(un,Qt,vn){var Yn;let Sr=null!==(Yn=Gt[un])&&void 0!==Yn?Yn:un;vn&&(Sr+=`-${vn}`);const tr=Sr.match(/\s|\//),kt=Qt.match(/\s|\//);if(tr||kt){const wn=[`Unable to register library "${Sr}" with version "${Qt}":`];return tr&&wn.push(`library name "${Sr}" contains illegal characters (whitespace or "/")`),tr&&kt&&wn.push("and"),kt&&wn.push(`version name "${Qt}" contains illegal characters (whitespace or "/")`),void ye.warn(wn.join(" "))}lt(new f.wA(`${Sr}-version`,()=>({library:Sr,version:Qt}),"VERSION"))}function en(un,Qt){if(null!==un&&"function"!=typeof un)throw An.create("invalid-log-argument");(0,te.Am)(un,Qt)}function sn(un){(0,te.Ub)(un)}lt(new f.wA("platform-logger",Qt=>new Re(Qt),"PRIVATE")),at(ze,"0.7.3",undefined),at("fire-js","")},6034:(Ht,tt,Z)=>{"use strict";Z.d(tt,{wA:()=>te,H0:()=>he});var _=Z(4762),f=Z(3854),te=function(){function ye(ne,le,ue){this.name=ne,this.instanceFactory=le,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ye.prototype.setInstantiationMode=function(ne){return this.instantiationMode=ne,this},ye.prototype.setMultipleInstances=function(ne){return this.multipleInstances=ne,this},ye.prototype.setServiceProps=function(ne){return this.serviceProps=ne,this},ye.prototype.setInstanceCreatedCallback=function(ne){return this.onInstanceCreated=ne,this},ye}(),Ue="[DEFAULT]",Re=function(){function ye(ne,le){this.name=ne,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ye.prototype.get=function(ne){var le=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(le)){var ue=new f.BH;if(this.instancesDeferred.set(le,ue),this.isInitialized(le)||this.shouldAutoInitialize())try{var Ve=this.getOrInitializeService({instanceIdentifier:le});Ve&&ue.resolve(Ve)}catch(Pe){}}return this.instancesDeferred.get(le).promise},ye.prototype.getImmediate=function(ne){var le,ue=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),Ve=null!==(le=null==ne?void 0:ne.optional)&&void 0!==le&&le;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(Pe){if(Ve)return null;throw Pe}},ye.prototype.getComponent=function(){return this.component},ye.prototype.setComponent=function(ne){var le,ue;if(ne.name!==this.name)throw Error("Mismatching Component "+ne.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ne,this.shouldAutoInitialize()){if(function(ye){return"EAGER"===ye.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ue})}catch(_t){}try{for(var Ve=(0,_.XA)(this.instancesDeferred.entries()),Pe=Ve.next();!Pe.done;Pe=Ve.next()){var Ke=(0,_.CR)(Pe.value,2),pt=Ke[1],fe=this.normalizeInstanceIdentifier(Ke[0]);try{var dt=this.getOrInitializeService({instanceIdentifier:fe});pt.resolve(dt)}catch(_t){}}}catch(_t){le={error:_t}}finally{try{Pe&&!Pe.done&&(ue=Ve.return)&&ue.call(Ve)}finally{if(le)throw le.error}}}},ye.prototype.clearInstance=function(ne){void 0===ne&&(ne=Ue),this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)},ye.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var ne;return(0,_.Jh)(this,function(le){switch(le.label){case 0:return ne=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(ne.filter(function(ue){return"INTERNAL"in ue}).map(function(ue){return ue.INTERNAL.delete()}))),(0,_.CR)(ne.filter(function(ue){return"_delete"in ue}).map(function(ue){return ue._delete()}))))];case 1:return le.sent(),[2]}})})},ye.prototype.isComponentSet=function(){return null!=this.component},ye.prototype.isInitialized=function(ne){return void 0===ne&&(ne=Ue),this.instances.has(ne)},ye.prototype.getOptions=function(ne){return void 0===ne&&(ne=Ue),this.instancesOptions.get(ne)||{}},ye.prototype.initialize=function(ne){var le,ue;void 0===ne&&(ne={});var Ve=ne.options,Pe=void 0===Ve?{}:Ve,Ke=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ke))throw Error(this.name+"("+Ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Ze=this.getOrInitializeService({instanceIdentifier:Ke,options:Pe});try{for(var pt=(0,_.XA)(this.instancesDeferred.entries()),fe=pt.next();!fe.done;fe=pt.next()){var dt=(0,_.CR)(fe.value,2),ut=dt[1];Ke===this.normalizeInstanceIdentifier(dt[0])&&ut.resolve(Ze)}}catch(At){le={error:At}}finally{try{fe&&!fe.done&&(ue=pt.return)&&ue.call(pt)}finally{if(le)throw le.error}}return Ze},ye.prototype.onInit=function(ne,le){var ue,Ve=this.normalizeInstanceIdentifier(le),Pe=null!==(ue=this.onInitCallbacks.get(Ve))&&void 0!==ue?ue:new Set;Pe.add(ne),this.onInitCallbacks.set(Ve,Pe);var Ke=this.instances.get(Ve);return Ke&&ne(Ke,Ve),function(){Pe.delete(ne)}},ye.prototype.invokeOnInitCallbacks=function(ne,le){var ue,Ve,Pe=this.onInitCallbacks.get(le);if(Pe)try{for(var Ke=(0,_.XA)(Pe),Ze=Ke.next();!Ze.done;Ze=Ke.next()){var pt=Ze.value;try{pt(ne,le)}catch(fe){}}}catch(fe){ue={error:fe}}finally{try{Ze&&!Ze.done&&(Ve=Ke.return)&&Ve.call(Ke)}finally{if(ue)throw ue.error}}},ye.prototype.getOrInitializeService=function(ne){var le=ne.instanceIdentifier,ue=ne.options,Ve=void 0===ue?{}:ue,Pe=this.instances.get(le);if(!Pe&&this.component&&(Pe=this.component.instanceFactory(this.container,{instanceIdentifier:pe(le),options:Ve}),this.instances.set(le,Pe),this.instancesOptions.set(le,Ve),this.invokeOnInitCallbacks(Pe,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Pe)}catch(Ke){}return Pe||null},ye.prototype.normalizeInstanceIdentifier=function(ne){return void 0===ne&&(ne=Ue),this.component?this.component.multipleInstances?ne:Ue:ne},ye.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ye}();function pe(ye){return ye===Ue?void 0:ye}var he=function(){function ye(ne){this.name=ne,this.providers=new Map}return ye.prototype.addComponent=function(ne){var le=this.getProvider(ne.name);if(le.isComponentSet())throw new Error("Component "+ne.name+" has already been registered with "+this.name);le.setComponent(ne)},ye.prototype.addOrOverwriteComponent=function(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)},ye.prototype.getProvider=function(ne){if(this.providers.has(ne))return this.providers.get(ne);var le=new Re(ne,this);return this.providers.set(ne,le),le},ye.prototype.getProviders=function(){return Array.from(this.providers.values())},ye}()},5601:(Ht,tt,Z)=>{"use strict";Z.d(tt,{in:()=>f,Yd:()=>ze,Ub:()=>he,Am:()=>ye});const _=[];var f=(()=>{return(ne=f||(f={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",f;var ne})();const te={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},Ue=f.INFO,Re={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},pe=(ne,le,...ue)=>{if(le<ne.logLevel)return;const Ve=(new Date).toISOString(),Pe=Re[le];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[Pe](`[${Ve}]  ${ne.name}:`,...ue)};class ze{constructor(le){this.name=le,this._logLevel=Ue,this._logHandler=pe,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in f))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?te[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...le),this._logHandler(this,f.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...le),this._logHandler(this,f.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,f.INFO,...le),this._logHandler(this,f.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,f.WARN,...le),this._logHandler(this,f.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...le),this._logHandler(this,f.ERROR,...le)}}function he(ne){_.forEach(le=>{le.setLogLevel(ne)})}function ye(ne,le){for(const ue of _){let Ve=null;le&&le.level&&(Ve=te[le.level]),ue.userLogHandler=null===ne?null:(Pe,Ke,...Ze)=>{const pt=Ze.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toLowerCase().toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(dt){return null}}).filter(fe=>fe).join(" ");Ke>=(null!=Ve?Ve:Pe.logLevel)&&ne({level:f[Ke].toLowerCase(),message:pt,args:Ze,type:Pe.name})}}}},3854:(Ht,tt,Z)=>{"use strict";Z.d(tt,{BH:()=>Ve,LL:()=>Ee,ZR:()=>We,tV:()=>ye,r3:()=>Ae,Sg:()=>Pe,ne:()=>He,vZ:()=>An,ZB:()=>le,pd:()=>Ln,m9:()=>Mi,z$:()=>Ke,jU:()=>fe,ru:()=>dt,d:()=>ut,xb:()=>Et,w1:()=>Ie,hl:()=>Xe,uI:()=>Ze,UG:()=>pt,b$:()=>_t,G6:()=>Xt,Mn:()=>At,xO:()=>gn,zd:()=>er});const Ue=function(Me){const Ce=[];let ke=0;for(let bt=0;bt<Me.length;bt++){let et=Me.charCodeAt(bt);et<128?Ce[ke++]=et:et<2048?(Ce[ke++]=et>>6|192,Ce[ke++]=63&et|128):55296==(64512&et)&&bt+1<Me.length&&56320==(64512&Me.charCodeAt(bt+1))?(et=65536+((1023&et)<<10)+(1023&Me.charCodeAt(++bt)),Ce[ke++]=et>>18|240,Ce[ke++]=et>>12&63|128,Ce[ke++]=et>>6&63|128,Ce[ke++]=63&et|128):(Ce[ke++]=et>>12|224,Ce[ke++]=et>>6&63|128,Ce[ke++]=63&et|128)}return Ce},pe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Ce){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let et=0;et<Me.length;et+=3){const jt=Me[et],pn=et+1<Me.length,qn=pn?Me[et+1]:0,Tr=et+2<Me.length,Gn=Tr?Me[et+2]:0;let Wr=(15&qn)<<2|Gn>>6,Fr=63&Gn;Tr||(Fr=64,pn||(Wr=64)),bt.push(ke[jt>>2],ke[(3&jt)<<4|qn>>4],ke[Wr],ke[Fr])}return bt.join("")},encodeString(Me,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Me):this.encodeByteArray(Ue(Me),Ce)},decodeString(Me,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Me):function(Me){const Ce=[];let ke=0,bt=0;for(;ke<Me.length;){const et=Me[ke++];if(et<128)Ce[bt++]=String.fromCharCode(et);else if(et>191&&et<224){const jt=Me[ke++];Ce[bt++]=String.fromCharCode((31&et)<<6|63&jt)}else if(et>239&&et<365){const Tr=((7&et)<<18|(63&Me[ke++])<<12|(63&Me[ke++])<<6|63&Me[ke++])-65536;Ce[bt++]=String.fromCharCode(55296+(Tr>>10)),Ce[bt++]=String.fromCharCode(56320+(1023&Tr))}else{const jt=Me[ke++],pn=Me[ke++];Ce[bt++]=String.fromCharCode((15&et)<<12|(63&jt)<<6|63&pn)}}return Ce.join("")}(this.decodeStringToByteArray(Me,Ce))},decodeStringToByteArray(Me,Ce){this.init_();const ke=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let et=0;et<Me.length;){const jt=ke[Me.charAt(et++)],qn=et<Me.length?ke[Me.charAt(et)]:0;++et;const Gn=et<Me.length?ke[Me.charAt(et)]:64;++et;const Hn=et<Me.length?ke[Me.charAt(et)]:64;if(++et,null==jt||null==qn||null==Gn||null==Hn)throw Error();bt.push(jt<<2|qn>>4),64!==Gn&&(bt.push(qn<<4&240|Gn>>2),64!==Hn&&bt.push(Gn<<6&192|Hn))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},he=function(Me){return function(Me){const Ce=Ue(Me);return pe.encodeByteArray(Ce,!0)}(Me).replace(/\./g,"")},ye=function(Me){try{return pe.decodeString(Me,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function le(Me,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Ce}for(const ke in Ce)!Ce.hasOwnProperty(ke)||!ue(ke)||(Me[ke]=le(Me[ke],Ce[ke]));return Me}function ue(Me){return"__proto__"!==Me}class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,ke)=>{this.resolve=Ce,this.reject=ke})}wrapCallback(Ce){return(ke,bt)=>{ke?this.reject(ke):this.resolve(bt),"function"==typeof Ce&&(this.promise.catch(()=>{}),1===Ce.length?Ce(ke):Ce(ke,bt))}}}function Pe(Me,Ce){if(Me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const bt=Ce||"demo-project",et=Me.iat||0,jt=Me.sub||Me.user_id;if(!jt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pn=Object.assign({iss:`https://securetoken.google.com/${bt}`,aud:bt,iat:et,exp:et+3600,auth_time:et,sub:jt,user_id:jt,firebase:{sign_in_provider:"custom",identities:{}}},Me);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(pn)),""].join(".")}function Ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ze(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function pt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Me){return!1}}function fe(){return"object"==typeof self&&self.self===self}function dt(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ut(){return Ke().indexOf("Electron/")>=0}function Ie(){const Me=Ke();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function At(){return Ke().indexOf("MSAppHost/")>=0}function Xt(){return!pt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xe(){return"object"==typeof indexedDB}class We extends Error{constructor(Ce,ke,bt){super(ke),this.code=Ce,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(Ce,ke,bt){this.service=Ce,this.serviceName=ke,this.errors=bt}create(Ce,...ke){const bt=ke[0]||{},et=`${this.service}/${Ce}`,jt=this.errors[Ce],pn=jt?function(Me,Ce){return Me.replace(Pt,(ke,bt)=>{const et=Ce[bt];return null!=et?String(et):`<${bt}?>`})}(jt,bt):"Error";return new We(et,`${this.serviceName}: ${pn} (${et}).`,bt)}}const Pt=/\{\$([^}]+)}/g;function Ae(Me,Ce){return Object.prototype.hasOwnProperty.call(Me,Ce)}function Et(Me){for(const Ce in Me)if(Object.prototype.hasOwnProperty.call(Me,Ce))return!1;return!0}function An(Me,Ce){if(Me===Ce)return!0;const ke=Object.keys(Me),bt=Object.keys(Ce);for(const et of ke){if(!bt.includes(et))return!1;const jt=Me[et],pn=Ce[et];if(sr(jt)&&sr(pn)){if(!An(jt,pn))return!1}else if(jt!==pn)return!1}for(const et of bt)if(!ke.includes(et))return!1;return!0}function sr(Me){return null!==Me&&"object"==typeof Me}function gn(Me){const Ce=[];for(const[ke,bt]of Object.entries(Me))Array.isArray(bt)?bt.forEach(et=>{Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(et))}):Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(bt));return Ce.length?"&"+Ce.join("&"):""}function er(Me){const Ce={};return Me.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[et,jt]=bt.split("=");Ce[decodeURIComponent(et)]=decodeURIComponent(jt)}}),Ce}function Ln(Me){const Ce=Me.indexOf("?");if(!Ce)return"";const ke=Me.indexOf("#",Ce);return Me.substring(Ce,ke>0?ke:void 0)}function He(Me,Ce){const ke=new ot(Me,Ce);return ke.subscribe.bind(ke)}class ot{constructor(Ce,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{Ce(this)}).catch(bt=>{this.error(bt)})}next(Ce){this.forEachObserver(ke=>{ke.next(Ce)})}error(Ce){this.forEachObserver(ke=>{ke.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,ke,bt){let et;if(void 0===Ce&&void 0===ke&&void 0===bt)throw new Error("Missing Observer.");et=function(Me,Ce){if("object"!=typeof Me||null===Me)return!1;for(const ke of["next","error","complete"])if(ke in Me&&"function"==typeof Me[ke])return!0;return!1}(Ce)?Ce:{next:Ce,error:ke,complete:bt},void 0===et.next&&(et.next=sn),void 0===et.error&&(et.error=sn),void 0===et.complete&&(et.complete=sn);const jt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch(pn){}}),this.observers.push(et),jt}unsubscribeOne(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,Ce)}sendOne(Ce,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ce])try{ke(this.observers[Ce])}catch(bt){"undefined"!=typeof console&&console.error&&console.error(bt)}})}close(Ce){this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sn(){}function Mi(Me){return Me&&Me._delegate?Me._delegate:Me}},7841:(Ht,tt,Z)=>{"use strict";Z.d(tt,{Z:()=>_.Z});var _=Z(4486);_.Z.registerVersion("firebase","9.1.2","app-compat")},5841:(Ht,tt,Z)=>{"use strict";Z.r(tt);var _=Z(8239),f=Z(4486),te=Z(3854),Ue=Z(5452),Re=Z(4762),pe=Z(5601),ze=Z(6034);const Ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ze=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),dt=new pe.Yd("@firebase/auth");function _t(C,...g){dt.logLevel<=pe.in.ERROR&&dt.error(`Auth (${Ue.SDK_VERSION}): ${C}`,...g)}function ut(C,...g){throw Xt(C,...g)}function Ie(C,...g){return Xt(C,...g)}function At(C,g,m){const S=Object.assign(Object.assign({},Ze()),{[g]:m});return new te.LL("auth","Firebase",S).create(g,{appName:C.name})}function Zt(C,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&ut(C,"argument-error"),At(C,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Xt(C,...g){if("string"!=typeof C){const m=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(m,...S)}return pt.create(C,...g)}function Xe(C,g,...m){if(!C)throw Xt(g,...m)}function Le(C){const g="INTERNAL ASSERTION FAILED: "+C;throw _t(g),new Error(g)}function nt(C,g){C||Le(g)}const Qe=new Map;function Te(C){nt(C instanceof Function,"Expected a class definition");let g=Qe.get(C);return g?(nt(g instanceof C,"Instance stored in cache mismatched with class"),g):(g=new C,Qe.set(C,g),g)}function wt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Pt(){return"http:"===qt()||"https:"===qt()}function qt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class Kt{constructor(g,m){this.shortDelay=g,this.longDelay=m,nt(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,te.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Rn(C,g){nt(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class ct{static initialize(g,m,S){this.fetchImpl=g,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ae=new Kt(3e4,6e4);function qe(C,g){return C.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:C.tenantId}):g}function Et(C,g,m,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(C,g,m,S,z={}){return An(C,z,()=>{let se={},Be={};S&&("GET"===g?Be=S:se={body:JSON.stringify(S)});const yt=(0,te.xO)(Object.assign({key:C.config.apiKey},Be)).slice(1),$t=new(ct.headers());return $t.set("Content-Type","application/json"),$t.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&$t.set("X-Firebase-Locale",C.languageCode),ct.fetch()(Ln(C,C.config.apiHost,m,yt),Object.assign({method:g,headers:$t,referrerPolicy:"no-referrer"},se))})})).apply(this,arguments)}function An(C,g,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(C,g,m){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},lt),g);try{const z=new xt(C),se=yield Promise.race([m(),z.promise]);z.clearNetworkTimeout();const Be=yield se.json();if("needConfirmation"in Be)throw He(C,"account-exists-with-different-credential",Be);if(se.ok&&!("errorMessage"in Be))return Be;{const yt=se.ok?Be.errorMessage:Be.error.message,[$t,rn]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$t)throw He(C,"credential-already-in-use",Be);if("EMAIL_EXISTS"===$t)throw He(C,"email-already-in-use",Be);const Zn=S[$t]||$t.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw At(C,Zn,rn);ut(C,Zn)}}catch(z){if(z instanceof te.ZR)throw z;ut(C,"network-request-failed")}})).apply(this,arguments)}function gn(C,g,m,S){return er.apply(this,arguments)}function er(){return(er=(0,_.Z)(function*(C,g,m,S,z={}){const se=yield Et(C,g,m,S,z);return"mfaPendingCredential"in se&&ut(C,"multi-factor-auth-required",{serverResponse:se}),se})).apply(this,arguments)}function Ln(C,g,m,S){const z=`${g}${m}?${S}`;return C.config.emulator?Rn(C.config,z):`${C.config.apiScheme}://${z}`}class xt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(Ie(this.auth,"timeout")),Ae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function He(C,g,m){const S={appName:C.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const z=Ie(C,g,S);return z.customData._tokenResponse=m,z}function at(){return(at=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function en(C,g){return sn.apply(this,arguments)}function sn(){return(sn=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _n(C,g){return un.apply(this,arguments)}function un(){return(un=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Qt(C){if(C)try{const g=new Date(Number(C));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Sr(){return(Sr=(0,_.Z)(function*(C,g=!1){const m=(0,te.m9)(C),S=yield m.getIdToken(g),z=kt(S);Xe(z&&z.exp&&z.auth_time&&z.iat,m.auth,"internal-error");const se="object"==typeof z.firebase?z.firebase:void 0,Be=null==se?void 0:se.sign_in_provider;return{claims:z,token:S,authTime:Qt(tr(z.auth_time)),issuedAtTime:Qt(tr(z.iat)),expirationTime:Qt(tr(z.exp)),signInProvider:Be||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function tr(C){return 1e3*Number(C)}function kt(C){const[g,m,S]=C.split(".");if(void 0===g||void 0===m||void 0===S)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const z=(0,te.tV)(m);return z?JSON.parse(z):(_t("Failed to decode base64 JWT payload"),null)}catch(z){return _t("Caught error parsing JWT payload as JSON",z),null}}function Gr(C,g){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,_.Z)(function*(C,g,m=!1){if(m)return g;try{return yield g}catch(S){throw S instanceof te.ZR&&Sn(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function Sn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class dr{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,z)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),S)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class zr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qt(this.lastLoginAt),this.creationTime=Qt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mi(C){return Me.apply(this,arguments)}function Me(){return(Me=(0,_.Z)(function*(C){var g;const m=C.auth,S=yield C.getIdToken(),z=yield Gr(C,_n(m,{idToken:S}));Xe(null==z?void 0:z.users.length,m,"internal-error");const se=z.users[0];C._notifyReloadListener(se);const Be=(null===(g=se.providerUserInfo)||void 0===g?void 0:g.length)?et(se.providerUserInfo):[],yt=bt(C.providerData,Be),Zn=!!C.isAnonymous&&!(C.email&&se.passwordHash||(null==yt?void 0:yt.length)),Kn={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:yt,metadata:new zr(se.createdAt,se.lastLoginAt),isAnonymous:Zn};Object.assign(C,Kn)})).apply(this,arguments)}function ke(){return(ke=(0,_.Z)(function*(C){const g=(0,te.m9)(C);yield Mi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function bt(C,g){return[...C.filter(S=>!g.some(z=>z.providerId===S.providerId)),...g]}function et(C){return C.map(g=>{var{providerId:m}=g,S=(0,Re._T)(g,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function pn(){return(pn=(0,_.Z)(function*(C,g){const m=yield An(C,{},()=>{const S=(0,te.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:z,apiKey:se}=C.config,Be=Ln(C,z,"/v1/token",`key=${se}`);return ct.fetch()(Be,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){Xe(g.idToken,"internal-error"),Xe(void 0!==g.idToken,"internal-error"),Xe(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(C){const g=kt(C);return Xe(g,"internal-error"),Xe(void 0!==g.exp,"internal-error"),Xe(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var S=this;return(0,_.Z)(function*(){return Xe(!S.accessToken||S.refreshToken,g,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var S=this;return(0,_.Z)(function*(){const{accessToken:z,refreshToken:se,expiresIn:Be}=yield function(C,g){return pn.apply(this,arguments)}(g,m);S.updateTokensAndExpiration(z,se,Number(Be))})()}updateTokensAndExpiration(g,m,S){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,m){const{refreshToken:S,accessToken:z,expirationTime:se}=m,Be=new qn;return S&&(Xe("string"==typeof S,"internal-error",{appName:g}),Be.refreshToken=S),z&&(Xe("string"==typeof z,"internal-error",{appName:g}),Be.accessToken=z),se&&(Xe("number"==typeof se,"internal-error",{appName:g}),Be.expirationTime=se),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Tr(C,g){Xe("string"==typeof C||void 0===C,"internal-error",{appName:g})}class Gn{constructor(g){var{uid:m,auth:S,stsTokenManager:z}=g,se=(0,Re._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=z,this.accessToken=z.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.metadata=new zr(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,_.Z)(function*(){const S=yield Gr(m,m.stsTokenManager.getToken(m.auth,g));return Xe(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(g){return function(C){return Sr.apply(this,arguments)}(this,g)}reload(){return function(C){return ke.apply(this,arguments)}(this)}_assign(g){this!==g&&(Xe(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Gn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){Xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var S=this;return(0,_.Z)(function*(){let z=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),z=!0),m&&(yield Mi(S)),yield S.auth._persistUserIfCurrent(S),z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,_.Z)(function*(){const m=yield g.getIdToken();return yield Gr(g,function(C,g){return at.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var S,z,se,Be,yt,$t,rn,Zn;const Kn=null!==(S=m.displayName)&&void 0!==S?S:void 0,ks=null!==(z=m.email)&&void 0!==z?z:void 0,Qo=null!==(se=m.phoneNumber)&&void 0!==se?se:void 0,Rt=null!==(Be=m.photoURL)&&void 0!==Be?Be:void 0,uu=null!==(yt=m.tenantId)&&void 0!==yt?yt:void 0,Jo=null!==($t=m._redirectEventId)&&void 0!==$t?$t:void 0,Ih=null!==(rn=m.createdAt)&&void 0!==rn?rn:void 0,cu=null!==(Zn=m.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:Bo,emailVerified:wa,isAnonymous:Pl,providerData:md,stsTokenManager:Zu}=m;Xe(Bo&&Zu,g,"internal-error");const rp=qn.fromJSON(this.name,Zu);Xe("string"==typeof Bo,g,"internal-error"),Tr(Kn,g.name),Tr(ks,g.name),Xe("boolean"==typeof wa,g,"internal-error"),Xe("boolean"==typeof Pl,g,"internal-error"),Tr(Qo,g.name),Tr(Rt,g.name),Tr(uu,g.name),Tr(Jo,g.name),Tr(Ih,g.name),Tr(cu,g.name);const Ui=new Gn({uid:Bo,auth:g,email:ks,emailVerified:wa,displayName:Kn,isAnonymous:Pl,photoURL:Rt,phoneNumber:Qo,tenantId:uu,stsTokenManager:rp,createdAt:Ih,lastLoginAt:cu});return md&&Array.isArray(md)&&(Ui.providerData=md.map(qu=>Object.assign({},qu))),Jo&&(Ui._redirectEventId=Jo),Ui}static _fromIdTokenResponse(g,m,S=!1){return(0,_.Z)(function*(){const z=new qn;z.updateFromServerResponse(m);const se=new Gn({uid:m.localId,auth:g,stsTokenManager:z,isAnonymous:S});return yield Mi(se),se})()}}const Hn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,S){var z=this;return(0,_.Z)(function*(){z.storage[m]=S})()}_get(m){var S=this;return(0,_.Z)(function*(){const z=S.storage[m];return void 0===z?null:z})()}_remove(m){var S=this;return(0,_.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return C.type="NONE",C})();function Wr(C,g,m){return`firebase:${C}:${g}:${m}`}class Fr{constructor(g,m,S){this.persistence=g,this.auth=m,this.userKey=S;const{config:z,name:se}=this.auth;this.fullUserKey=Wr(this.userKey,z.apiKey,se),this.fullPersistenceKey=Wr("persistence",z.apiKey,se),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Gn._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,_.Z)(function*(){if(m.persistence===g)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,S="authUser"){return(0,_.Z)(function*(){if(!m.length)return new Fr(Te(Hn),g,S);const z=(yield Promise.all(m.map(function(){var rn=(0,_.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let se=z[0]||Te(Hn);const Be=Wr(S,g.config.apiKey,g.name);let yt=null;for(const rn of m)try{const Zn=yield rn._get(Be);if(Zn){const Kn=Gn._fromJSON(g,Zn);rn!==se&&(yt=Kn),se=rn;break}}catch(Zn){}const $t=z.filter(rn=>rn._shouldAllowMigration);return se._shouldAllowMigration&&$t.length?(se=$t[0],yt&&(yield se._set(Be,yt.toJSON())),yield Promise.all(m.map(function(){var rn=(0,_.Z)(function*(Zn){if(Zn!==se)try{yield Zn._remove(Be)}catch(Kn){}});return function(Zn){return rn.apply(this,arguments)}}())),new Fr(se,g,S)):new Fr(se,g,S)})()}}function ss(C){const g=C.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Jn(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(bn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(_r(g))return"Blackberry";if(En(g))return"Webos";if(ji(g))return"Safari";if((g.includes("chrome/")||os(g))&&!g.includes("edge/"))return"Chrome";if(Wi(g))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function bn(C=(0,te.z$)()){return/firefox\//i.test(C)}function ji(C=(0,te.z$)()){const g=C.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function os(C=(0,te.z$)()){return/crios\//i.test(C)}function Jn(C=(0,te.z$)()){return/iemobile/i.test(C)}function Wi(C=(0,te.z$)()){return/android/i.test(C)}function _r(C=(0,te.z$)()){return/blackberry/i.test(C)}function En(C=(0,te.z$)()){return/webos/i.test(C)}function nn(C=(0,te.z$)()){return/iphone|ipad|ipod/i.test(C)}function Nt(C=(0,te.z$)()){return nn(C)||Wi(C)||En(C)||_r(C)||/windows phone/i.test(C)||Jn(C)}function hr(C,g=[]){let m;switch(C){case"Browser":m=ss((0,te.z$)());break;case"Worker":m=`${ss((0,te.z$)())}-${C}`;break;default:m=C}const S=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ue.SDK_VERSION}/${S}`}class ti{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mr(this),this.idTokenSubscription=new mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var S=this;return m&&(this._popupRedirectResolver=Te(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var z;S._deleted||(S.persistenceManager=yield Fr.create(S,g),!S._deleted&&((null===(z=S._popupRedirectResolver)||void 0===z?void 0:z._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(m),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,_.Z)(function*(){var S;let z=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const se=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,Be=null==z?void 0:z._redirectEventId,yt=yield m.tryRedirectSignIn(g);(!se||se===Be)&&(null==yt?void 0:yt.user)&&(z=yt.user)}return z?z._redirectEventId?(Xe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===z._redirectEventId?m.directlySetCurrentUser(z):m.reloadAndSetCurrentUserOrClear(z)):m.reloadAndSetCurrentUserOrClear(z):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,_.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(z){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,_.Z)(function*(){try{yield Mi(g)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){const S=g?(0,te.m9)(g):null;return S&&Xe(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){if(!m._deleted)return g&&Xe(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,_.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new te.LL("auth","Firebase",g())}onAuthStateChanged(g,m,S){return this.registerStateListener(this.authStateSubscription,g,m,S)}onIdTokenChanged(g,m,S){return this.registerStateListener(this.idTokenSubscription,g,m,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var S=this;return(0,_.Z)(function*(){const z=yield S.getOrInitRedirectPersistenceManager(m);return null===g?z.removeCurrentUser():z.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const S=g&&Te(g)||m._popupRedirectResolver;Xe(S,m,"argument-error"),m.redirectPersistenceManager=yield Fr.create(m,[Te(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,_.Z)(function*(){var S,z;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===g?m._currentUser:(null===(z=m.redirectUser)||void 0===z?void 0:z._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,_.Z)(function*(){if(g===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,S,z){if(this._deleted)return()=>{};const se="function"==typeof m?m:m.next.bind(m),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return Xe(Be,this,"internal-error"),Be.then(()=>se(this.currentUser)),"function"==typeof m?g.addObserver(m,S,z):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return Xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=hr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function nr(C){return(0,te.m9)(C)}class mr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,te.ne)(m=>this.observer=m)}get next(){return Xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vn(C){const g=C.indexOf(":");return g<0?"":C.substr(0,g+1)}function Nr(C){if(!C)return null;const g=Number(C);return isNaN(g)?null:g}class $e{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Le("not implemented")}_getIdTokenResponse(g){return Le("not implemented")}_linkToIdToken(g,m){return Le("not implemented")}_getReauthenticationResolver(g){return Le("not implemented")}}function Oe(C,g){return me.apply(this,arguments)}function me(){return(me=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:resetPassword",qe(C,g))})).apply(this,arguments)}function Je(C,g){return gt.apply(this,arguments)}function gt(){return(gt=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function an(C,g){return xn.apply(this,arguments)}function xn(){return(xn=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:update",qe(C,g))})).apply(this,arguments)}function Nn(){return(Nn=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithPassword",qe(C,g))})).apply(this,arguments)}function Is(C,g){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:sendOobCode",qe(C,g))})).apply(this,arguments)}function Ki(C,g){return Ur.apply(this,arguments)}function Ur(){return(Ur=(0,_.Z)(function*(C,g){return Is(C,g)})).apply(this,arguments)}function mi(C,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(C,g){return Is(C,g)})).apply(this,arguments)}function mn(C,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(C,g){return Is(C,g)})).apply(this,arguments)}function Fs(C,g){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,_.Z)(function*(C,g){return Is(C,g)})).apply(this,arguments)}function ri(){return(ri=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithEmailLink",qe(C,g))})).apply(this,arguments)}function Yr(){return(Yr=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithEmailLink",qe(C,g))})).apply(this,arguments)}class Lr extends $e{constructor(g,m,S,z=null){super("password",S),this._email=g,this._password=m,this._tenantId=z}static _fromEmailAndPassword(g,m){return new Lr(g,m,"password")}static _fromEmailAndCode(g,m,S=null){return new Lr(g,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,_.Z)(function*(){switch(m.signInMethod){case"password":return function(C,g){return Nn.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(C,g){return ri.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ut(g,"internal-error")}})()}_linkToIdToken(g,m){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return Je(g,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(C,g){return Yr.apply(this,arguments)}(g,{idToken:m,email:S._email,oobCode:S._password});default:ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function ur(C,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithIdp",qe(C,g))})).apply(this,arguments)}class Ti extends $e{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ti(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ut("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:z}=m,se=(0,Re._T)(m,["providerId","signInMethod"]);if(!S||!z)return null;const Be=new Ti(S,z);return Be.idToken=se.idToken||void 0,Be.accessToken=se.accessToken||void 0,Be.secret=se.secret,Be.nonce=se.nonce,Be.pendingToken=se.pendingToken||null,Be}_getIdTokenResponse(g){return ur(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,ur(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ur(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,te.xO)(m)}return g}}function Yi(C,g){return di.apply(this,arguments)}function di(){return(di=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:sendVerificationCode",qe(C,g))})).apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qe(C,g))})).apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(C,g){const m=yield gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qe(C,g));if(m.temporaryProof)throw He(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Oi={USER_NOT_FOUND:"user-not-found"};function as(){return(as=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithPhoneNumber",qe(C,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Oi)})).apply(this,arguments)}class Ji extends $e{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new Ji({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new Ji({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(C,g){return _s.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(C,g){return Ds.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(C,g){return as.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:S,verificationCode:z}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:S,code:z}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:S,phoneNumber:z,temporaryProof:se}=g;return S||m||z||se?new Ji({verificationId:m,verificationCode:S,phoneNumber:z,temporaryProof:se}):null}}class _i{constructor(g){var m,S,z,se,Be,yt;const $t=(0,te.zd)((0,te.pd)(g)),rn=null!==(m=$t.apiKey)&&void 0!==m?m:null,Zn=null!==(S=$t.oobCode)&&void 0!==S?S:null,Kn=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(z=$t.mode)&&void 0!==z?z:null);Xe(rn&&Zn&&Kn,"argument-error"),this.apiKey=rn,this.operation=Kn,this.code=Zn,this.continueUrl=null!==(se=$t.continueUrl)&&void 0!==se?se:null,this.languageCode=null!==(Be=$t.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(yt=$t.tenantId)&&void 0!==yt?yt:null}static parseLink(g){const m=function(C){const g=(0,te.zd)((0,te.pd)(C)).link,m=g?(0,te.zd)((0,te.pd)(g)).deep_link_id:null,S=(0,te.zd)((0,te.pd)(C)).deep_link_id;return(S?(0,te.zd)((0,te.pd)(S)).link:null)||S||m||g||C}(g);try{return new _i(m)}catch(S){return null}}}let ai=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,S){return Lr._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const z=_i.parseLink(S);return Xe(z,"argument-error"),Lr._fromEmailAndCode(m,z.code,z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class hi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Pi extends hi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class vi extends Pi{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return Xe("providerId"in m&&"signInMethod"in m,"argument-error"),Ti._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return Xe(g.idToken||g.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return vi.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return vi.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:z,pendingToken:se,nonce:Be,providerId:yt}=g;if(!S&&!z&&!m&&!se||!yt)return null;try{return new vi(yt)._credential({idToken:m,accessToken:S,nonce:Be,pendingToken:se})}catch($t){return null}}}let Ys=(()=>{class C extends Pi{constructor(){super("facebook.com")}static credential(m){return Ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),ls=(()=>{class C extends Pi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return Ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:z}=m;if(!S&&!z)return null;try{return C.credential(S,z)}catch(se){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),us=(()=>{class C extends Pi{constructor(){super("github.com")}static credential(m){return Ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class ki extends $e{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return ur(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,ur(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,ur(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:z,pendingToken:se}=m;return S&&z&&se&&S===z?new ki(S,se):null}static _create(g,m){return new ki(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ds=(()=>{class C extends Pi{constructor(){super("twitter.com")}static credential(m,S){return Ti._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:z}=m;if(!S||!z)return null;try{return C.credential(S,z)}catch(se){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function As(C,g){return hs.apply(this,arguments)}function hs(){return(hs=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signUp",qe(C,g))})).apply(this,arguments)}class Or{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,S,z=!1){return(0,_.Z)(function*(){const se=yield Gn._fromIdTokenResponse(g,S,z),Be=Us(S);return new Or({user:se,providerId:Be,_tokenResponse:S,operationType:m})})()}static _forOperation(g,m,S){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const z=Us(S);return new Or({user:g,providerId:z,_tokenResponse:S,operationType:m})})()}}function Us(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function fs(){return(fs=(0,_.Z)(function*(C){var g;const m=nr(C);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Or({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield As(m,{returnSecureToken:!0}),z=yield Or._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class Xi extends te.ZR{constructor(g,m,S,z){var se;super(m.code,m.message),this.operationType=S,this.user=z,this.name="FirebaseError",Object.setPrototypeOf(this,Xi.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(se=g.tenantId)&&void 0!==se?se:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,S,z){return new Xi(g,m,S,z)}}function Bs(C,g,m,S){return("reauthenticate"===g?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(se=>{throw"auth/multi-factor-auth-required"===se.code?Xi._fromErrorAndOperation(C,se,g,S):se})}function es(C){return new Set(C.map(({providerId:g})=>g).filter(g=>!!g))}function vs(){return(vs=(0,_.Z)(function*(C,g){const m=(0,te.m9)(C);yield H(!0,m,g);const{providerUserInfo:S}=yield en(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),z=es(S||[]);return m.providerData=m.providerData.filter(se=>z.has(se.providerId)),z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function L(C,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,_.Z)(function*(C,g,m=!1){const S=yield Gr(C,g._linkToIdToken(C.auth,yield C.getIdToken()),m);return Or._forOperation(C,"link",S)})).apply(this,arguments)}function H(C,g,m){return ie.apply(this,arguments)}function ie(){return(ie=(0,_.Z)(function*(C,g,m){yield Mi(g);const z=!1===C?"provider-already-linked":"no-such-provider";Xe(es(g.providerData).has(m)===C,g.auth,z)})).apply(this,arguments)}function we(C,g){return st.apply(this,arguments)}function st(){return(st=(0,_.Z)(function*(C,g,m=!1){const{auth:S}=C,z="reauthenticate";try{const se=yield Gr(C,Bs(S,z,g,C),m);Xe(se.idToken,S,"internal-error");const Be=kt(se.idToken);Xe(Be,S,"internal-error");const{sub:yt}=Be;return Xe(C.uid===yt,S,"user-mismatch"),Or._forOperation(C,z,se)}catch(se){throw"auth/user-not-found"===(null==se?void 0:se.code)&&ut(S,"user-mismatch"),se}})).apply(this,arguments)}function Tt(C,g){return U.apply(this,arguments)}function U(){return(U=(0,_.Z)(function*(C,g,m=!1){const S="signIn",z=yield Bs(C,S,g),se=yield Or._fromIdTokenResponse(C,S,z);return m||(yield C._updateCurrentUser(se.user)),se})).apply(this,arguments)}function k(C,g){return N.apply(this,arguments)}function N(){return(N=(0,_.Z)(function*(C,g){return Tt(nr(C),g)})).apply(this,arguments)}function J(C,g){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,_.Z)(function*(C,g){const m=(0,te.m9)(C);return yield H(!1,m,g.providerId),L(m,g)})).apply(this,arguments)}function Mt(C,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,_.Z)(function*(C,g){return we((0,te.m9)(C),g)})).apply(this,arguments)}function cr(C,g){return fi.apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(C,g){return gn(C,"POST","/v1/accounts:signInWithCustomToken",qe(C,g))})).apply(this,arguments)}function pi(){return(pi=(0,_.Z)(function*(C,g){const m=nr(C),S=yield cr(m,{token:g,returnSecureToken:!0}),z=yield Or._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(z.user),z})).apply(this,arguments)}class ns{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Tn._fromServerResponse(g,m):ut(g,"internal-error")}}class Tn extends ns{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Tn(m)}}function wo(C,g,m){var S;Xe((null===(S=m.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),Xe(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Xe(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(Xe(m.android.packageName.length>0,C,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function js(){return(js=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C),z={requestType:"PASSWORD_RESET",email:g};m&&wo(S,z,m),yield mi(S,z)})).apply(this,arguments)}function Qs(){return(Qs=(0,_.Z)(function*(C,g,m){yield Oe((0,te.m9)(C),{oobCode:g,newPassword:m})})).apply(this,arguments)}function Js(){return(Js=(0,_.Z)(function*(C,g){yield an((0,te.m9)(C),{oobCode:g})})).apply(this,arguments)}function It(C,g){return or.apply(this,arguments)}function or(){return(or=(0,_.Z)(function*(C,g){const m=(0,te.m9)(C),S=yield Oe(m,{oobCode:g}),z=S.requestType;switch(Xe(z,m,"internal-error"),z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Xe(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Xe(S.mfaInfo,m,"internal-error");default:Xe(S.email,m,"internal-error")}let se=null;return S.mfaInfo&&(se=ns._fromServerResponse(nr(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:se},operation:z}})).apply(this,arguments)}function li(){return(li=(0,_.Z)(function*(C,g){const{data:m}=yield It((0,te.m9)(C),g);return m.email})).apply(this,arguments)}function Ss(){return(Ss=(0,_.Z)(function*(C,g,m){const S=nr(C),z=yield As(S,{returnSecureToken:!0,email:g,password:m}),se=yield Or._fromIdTokenResponse(S,"signIn",z);return yield S._updateCurrentUser(se.user),se})).apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C),z={requestType:"EMAIL_SIGNIN",email:g};Xe(m.handleCodeInApp,S,"argument-error"),m&&wo(S,z,m),yield mn(S,z)})).apply(this,arguments)}function Oo(){return(Oo=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C),z=ai.credentialWithLink(g,m||wt());return Xe(z._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),k(S,z)})).apply(this,arguments)}function Do(C,g){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:createAuthUri",qe(C,g))})).apply(this,arguments)}function eo(){return(eo=(0,_.Z)(function*(C,g){const S={identifier:g,continueUri:Pt()?wt():"http://localhost"},{signinMethods:z}=yield Do((0,te.m9)(C),S);return z||[]})).apply(this,arguments)}function $i(){return($i=(0,_.Z)(function*(C,g){const m=(0,te.m9)(C),z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};g&&wo(m.auth,z,g);const{email:se}=yield Ki(m.auth,z);se!==C.email&&(yield C.reload())})).apply(this,arguments)}function to(){return(to=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C),se={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:g};m&&wo(S.auth,se,m);const{email:Be}=yield Fs(S.auth,se);Be!==C.email&&(yield C.reload())})).apply(this,arguments)}function lo(C,g){return ia.apply(this,arguments)}function ia(){return(ia=(0,_.Z)(function*(C,g){return Et(C,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function uo(){return(uo=(0,_.Z)(function*(C,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const S=(0,te.m9)(C),se={idToken:yield S.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Be=yield Gr(S,lo(S.auth,se));S.displayName=Be.displayName||null,S.photoURL=Be.photoUrl||null;const yt=S.providerData.find(({providerId:$t})=>"password"===$t);yt&&(yt.displayName=S.displayName,yt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Be)})).apply(this,arguments)}function B(C,g,m){return K.apply(this,arguments)}function K(){return(K=(0,_.Z)(function*(C,g,m){const{auth:S}=C,se={idToken:yield C.getIdToken(),returnSecureToken:!0};g&&(se.email=g),m&&(se.password=m);const Be=yield Gr(C,Je(S,se));yield C._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class Se{constructor(g,m,S={}){this.isNewUser=g,this.providerId=m,this.profile=S}}class rt extends Se{constructor(g,m,S,z){super(g,m,S),this.username=z}}class ft extends Se{constructor(g,m){super(g,"facebook.com",m)}}class cn extends rt{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Lt extends Se{constructor(g,m){super(g,"google.com",m)}}class ln extends rt{constructor(g,m,S){super(g,"twitter.com",m,S)}}function $n(C){const{user:g,_tokenResponse:m}=C;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(C){var g,m;if(!C)return null;const{providerId:S}=C,z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},se=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&(null==C?void 0:C.idToken)){const Be=null===(m=null===(g=kt(C.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Be)return new Se(se,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!S)return null;switch(S){case"facebook.com":return new ft(se,z);case"github.com":return new cn(se,z);case"google.com":return new Lt(se,z);case"twitter.com":return new ln(se,z,C.screenName||null);case"custom":case"anonymous":return new Se(se,null);default:return new Se(se,S,z)}}(m)}class Ar{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Ar("enroll",g)}static _fromMfaPendingCredential(g){return new Ar("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,S;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ar._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return Ar._fromIdtoken(g.multiFactorSession.idToken)}return null}}class xr{constructor(g,m,S){this.session=g,this.hints=m,this.signInResolver=S}static _fromError(g,m){const S=nr(g),z=(m.serverResponse.mfaInfo||[]).map(Be=>ns._fromServerResponse(S,Be));Xe(m.serverResponse.mfaPendingCredential,S,"internal-error");const se=Ar._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new xr(se,z,function(){var Be=(0,_.Z)(function*(yt){const $t=yield yt._process(S,se);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const rn=Object.assign(Object.assign({},m.serverResponse),{idToken:$t.idToken,refreshToken:$t.refreshToken});switch(m.operationType){case"signIn":const Zn=yield Or._fromIdTokenResponse(S,m.operationType,rn);return yield S._updateCurrentUser(Zn.user),Zn;case"reauthenticate":return Xe(m.user,S,"internal-error"),Or._forOperation(m.user,m.operationType,rn);default:ut(S,"internal-error")}});return function(yt){return Be.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,_.Z)(function*(){return m.signInResolver(g)})()}}function Hs(C,g){return Et(C,"POST","/v2/accounts/mfaEnrollment:start",qe(C,g))}class ro{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>ns._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new ro(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Ar._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var S=this;return(0,_.Z)(function*(){const z=g,se=yield S.getSession(),Be=yield Gr(S.user,z._process(S.user.auth,se,m));return yield S.user._updateTokensIfNecessary(Be),S.user.reload()})()}unenroll(g){var m=this;return(0,_.Z)(function*(){const S="string"==typeof g?g:g.uid,z=yield m.user.getIdToken(),se=yield Gr(m.user,function(C,g){return Et(C,"POST","/v2/accounts/mfaEnrollment:withdraw",qe(C,g))}(m.user.auth,{idToken:z,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Be})=>Be!==S),yield m.user._updateTokensIfNecessary(se);try{yield m.user.reload()}catch(Be){if("auth/user-token-expired"!==Be.code)throw Be}})()}}const Rs=new WeakMap,$s="__sak";class Ms{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem($s,"1"),this.storage.removeItem($s),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const St=(()=>{class C extends Ms{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(m,S)=>this.onStorageEvent(m,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,te.z$)();return ji(C)||nn(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Nt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const z=this.storage.getItem(S),se=this.localCache[S];z!==se&&m(S,se,z)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((yt,$t,rn)=>{this.notifyListeners(yt,rn)});const z=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(z);if(m.newValue!==yt)null!==m.newValue?this.storage.setItem(z,m.newValue):this.storage.removeItem(z);else if(this.localCache[z]===m.newValue&&!S)return}const se=()=>{const yt=this.storage.getItem(z);!S&&this.localCache[z]===yt||this.notifyListeners(z,yt)},Be=this.storage.getItem(z);(0,te.w1)()&&10===document.documentMode&&Be!==m.newValue&&m.newValue!==m.oldValue?setTimeout(se,10):se()}notifyListeners(m,S){this.localCache[m]=S;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var z=()=>super._set,se=this;return(0,_.Z)(function*(){yield z().call(se,m,S),se.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,z=this;return(0,_.Z)(function*(){const se=yield S().call(z,m);return z.localCache[m]=JSON.stringify(se),se})()}_remove(m){var S=()=>super._remove,z=this;return(0,_.Z)(function*(){yield S().call(z,m),delete z.localCache[m]})()}}return C.type="LOCAL",C})(),Qn=(()=>{class C extends Ms{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return C.type="SESSION",C})();let Gi=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(se=>se.isListeningto(m));if(S)return S;const z=new C(m);return this.receivers.push(z),z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,_.Z)(function*(){const z=m,{eventId:se,eventType:Be,data:yt}=z.data,$t=S.handlersMap[Be];if(!(null==$t?void 0:$t.size))return;z.ports[0].postMessage({status:"ack",eventId:se,eventType:Be});const rn=Array.from($t).map(function(){var Kn=(0,_.Z)(function*(ks){return ks(z.origin,yt)});return function(ks){return Kn.apply(this,arguments)}}()),Zn=yield function(C){return Promise.all(C.map(function(){var g=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return g.apply(this,arguments)}}()))}(rn);z.ports[0].postMessage({status:"done",eventId:se,eventType:Be,response:Zn})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function Li(C="",g=10){let m="";for(let S=0;S<g;S++)m+=Math.floor(10*Math.random());return C+m}class fa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,S=50){var z=this;return(0,_.Z)(function*(){const se="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Be,yt;return new Promise(($t,rn)=>{const Zn=Li("",20);se.port1.start();const Kn=setTimeout(()=>{rn(new Error("unsupported_event"))},S);yt={messageChannel:se,onMessage(ks){const Qo=ks;if(Qo.data.eventId===Zn)switch(Qo.data.status){case"ack":clearTimeout(Kn),Be=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),$t(Qo.data.response);break;default:clearTimeout(Kn),clearTimeout(Be),rn(new Error("invalid_response"))}}},z.handlers.add(yt),se.port1.addEventListener("message",yt.onMessage),z.target.postMessage({eventType:g,eventId:Zn,data:m},[se.port2])}).finally(()=>{yt&&z.removeMessageHandler(yt)})})()}}function wi(){return window}function ko(){return void 0!==wi().WorkerGlobalScope&&"function"==typeof wi().importScripts}function Ra(){return(Ra=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const ml="firebaseLocalStorageDb",Fo="firebaseLocalStorage",bo="fbase_key";class co{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Ma(C,g){return C.transaction([Fo],g?"readwrite":"readonly").objectStore(Fo)}function ui(){const C=indexedDB.open(ml,1);return new Promise((g,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(Fo,{keyPath:bo})}catch(z){m(z)}}),C.addEventListener("success",(0,_.Z)(function*(){const S=C.result;S.objectStoreNames.contains(Fo)?g(S):(S.close(),yield function(){const C=indexedDB.deleteDatabase(ml);return new co(C).toPromise()}(),g(yield ui()))}))})}function Ao(C,g,m){return $a.apply(this,arguments)}function $a(){return($a=(0,_.Z)(function*(C,g,m){const S=Ma(C,!0).put({[bo]:g,value:m});return new co(S).toPromise()})).apply(this,arguments)}function Un(){return(Un=(0,_.Z)(function*(C,g){const m=Ma(C,!1).get(g),S=yield new co(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function yl(C,g){const m=Ma(C,!0).delete(g);return new co(m).toPromise()}const I=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield ui()),m.db})()}_withRetries(m){var S=this;return(0,_.Z)(function*(){let z=0;for(;;)try{const se=yield S._openDb();return yield m(se)}catch(se){if(z++>3)throw se;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return ko()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=Gi._getInstance(ko()?self:null),m.receiver._subscribe("keyChanged",function(){var S=(0,_.Z)(function*(z,se){return{keyProcessed:(yield m._poll()).includes(se.key)}});return function(z,se){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,_.Z)(function*(z,se){return["keyChanged"]});return function(z,se){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var S,z;if(m.activeServiceWorker=yield function(){return Ra.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new fa(m.activeServiceWorker);const se=yield m.sender._send("ping",{},800);!se||(null===(S=se[0])||void 0===S?void 0:S.fulfilled)&&(null===(z=se[0])||void 0===z?void 0:z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,_.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(z){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ui();return yield Ao(m,$s,"1"),yield yl(m,$s),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,_.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var z=this;return(0,_.Z)(function*(){return z._withPendingWrite((0,_.Z)(function*(){return yield z._withRetries(se=>Ao(se,m,S)),z.localCache[m]=S,z.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,_.Z)(function*(){const z=yield S._withRetries(se=>function(C,g){return Un.apply(this,arguments)}(se,m));return S.localCache[m]=z,z})()}_remove(m){var S=this;return(0,_.Z)(function*(){return S._withPendingWrite((0,_.Z)(function*(){return yield S._withRetries(z=>yl(z,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const S=yield m._withRetries(Be=>{const yt=Ma(Be,!1).getAll();return new co(yt).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const z=[],se=new Set;for(const{fbase_key:Be,value:yt}of S)se.add(Be),JSON.stringify(m.localCache[Be])!==JSON.stringify(yt)&&(m.notifyListeners(Be,yt),z.push(Be));for(const Be of Object.keys(m.localCache))m.localCache[Be]&&!se.has(Be)&&(m.notifyListeners(Be,null),z.push(Be));return z})()}notifyListeners(m,S){this.localCache[m]=S;const z=this.listeners[m];if(z)for(const se of Array.from(z))se(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function V(C,g){return Et(C,"POST","/v2/accounts/mfaSignIn:start",qe(C,g))}function be(){return(be=(0,_.Z)(function*(C){return(yield Et(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function M(C){return new Promise((g,m)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=g,S.onerror=z=>{const se=Ie("internal-error");se.customData=z,m(se)},S.type="text/javascript",S.charset="UTF-8",function(){var C,g;return null!==(g=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==g?g:document}().appendChild(S)})}function v(C){return`__${C}${Math.floor(1e6*Math.random())}`}const $=1e12;class X{constructor(g){this.auth=g,this.counter=$,this._widgets=new Map}render(g,m){const S=this.counter;return this._widgets.set(S,new ge(g,this.auth.name,m||{})),this.counter++,S}reset(g){var m;const S=g||$;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(g){var m;return(null===(m=this._widgets.get(g||$))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,_.Z)(function*(){var S;return null===(S=m._widgets.get(g||$))||void 0===S||S.execute(),""})()}}class ge{constructor(g,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const z="string"==typeof g?document.getElementById(g):g;Xe(z,"argument-error",{appName:m}),this.container=z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xe=v("rcb"),mt=new Kt(3e4,6e4);class tn{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!wi().grecaptcha}load(g,m=""){return Xe((C=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(wi().grecaptcha):new Promise((S,z)=>{const se=wi().setTimeout(()=>{z(Ie(g,"network-request-failed"))},mt.get());wi()[xe]=()=>{wi().clearTimeout(se),delete wi()[xe];const yt=wi().grecaptcha;if(!yt)return void z(Ie(g,"internal-error"));const $t=yt.render;yt.render=(rn,Zn)=>{const Kn=$t(rn,Zn);return this.counter++,Kn},this.hostLanguage=m,S(yt)},M(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:xe,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(se),z(Ie(g,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!wi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class dn{load(g){return(0,_.Z)(function*(){return new X(g)})()}clearedOneInstance(){}}const Yt="recaptcha",yn={theme:"light",type:"image"};class ar{constructor(g,m=Object.assign({},yn),S){this.parameters=m,this.type=Yt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=nr(S),this.isInvisible="invisible"===this.parameters.size,Xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const z="string"==typeof g?document.getElementById(g):g;Xe(z,this.auth,"argument-error"),this.container=z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new dn:new tn,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(m)||new Promise(se=>{const Be=yt=>{!yt||(g.tokenChangeListeners.delete(Be),se(yt))};g.tokenChangeListeners.add(Be),g.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){Xe(!this.parameters.sitekey,this.auth,"argument-error"),Xe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Xe("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof g)g(m);else if("string"==typeof g){const S=wi()[g];"function"==typeof S&&S(m)}}}assertNotDestroyed(){Xe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){Xe(Pt()&&!ko(),g.auth,"internal-error"),yield function(){let C=null;return new Promise(g=>{"complete"!==document.readyState?(C=()=>g(),window.addEventListener("load",C)):g()}).catch(g=>{throw C&&window.removeEventListener("load",C),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(C){return be.apply(this,arguments)}(g.auth);Xe(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return Xe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fr{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=Ji._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Xr(){return(Xr=(0,_.Z)(function*(C,g,m){const S=nr(C),z=yield bs(S,g,(0,te.m9)(m));return new fr(z,se=>k(S,se))})).apply(this,arguments)}function gs(){return(gs=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C);yield H(!1,S,"phone");const z=yield bs(S.auth,g,(0,te.m9)(m));return new fr(z,se=>J(S,se))})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C),z=yield bs(S.auth,g,(0,te.m9)(m));return new fr(z,se=>Mt(S,se))})).apply(this,arguments)}function bs(C,g,m){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,_.Z)(function*(C,g,m){var S;const z=yield m.verify();try{let se;if(Xe("string"==typeof z,C,"argument-error"),Xe(m.type===Yt,C,"argument-error"),se="string"==typeof g?{phoneNumber:g}:g,"session"in se){const Be=se.session;if("phoneNumber"in se)return Xe("enroll"===Be.type,C,"internal-error"),(yield Hs(C,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:se.phoneNumber,recaptchaToken:z}})).phoneSessionInfo.sessionInfo;{Xe("signin"===Be.type,C,"internal-error");const yt=(null===(S=se.multiFactorHint)||void 0===S?void 0:S.uid)||se.multiFactorUid;return Xe(yt,C,"missing-multi-factor-info"),(yield V(C,{mfaPendingCredential:Be.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield Yi(C,{phoneNumber:se.phoneNumber,recaptchaToken:z});return Be}}finally{m._reset()}})).apply(this,arguments)}function $r(){return($r=(0,_.Z)(function*(C,g){yield L((0,te.m9)(C),g)})).apply(this,arguments)}let Jt=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=nr(m)}verifyPhoneNumber(m,S){return bs(this.auth,m,(0,te.m9)(S))}static credential(m,S){return Ji._fromVerification(m,S)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:z}=m;return S&&z?Ji._fromTokenResponse(S,z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function Ci(C,g){return g?Te(g):(Xe(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class Zr extends $e{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return ur(g,this._buildIdpRequest())}_linkToIdToken(g,m){return ur(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return ur(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function fn(C){return Tt(C.auth,new Zr(C),C.bypassAuthState)}function hn(C){const{auth:g,user:m}=C;return Xe(m,g,"internal-error"),we(m,new Zr(C),C.bypassAuthState)}function kn(C){return vr.apply(this,arguments)}function vr(){return(vr=(0,_.Z)(function*(C){const{auth:g,user:m}=C;return Xe(m,g,"internal-error"),L(m,new Zr(C),C.bypassAuthState)})).apply(this,arguments)}class ci{constructor(g,m,S,z,se=!1){this.auth=g,this.resolver=S,this.user=z,this.bypassAuthState=se,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,_.Z)(function*(S,z){g.pendingPromise={resolve:S,reject:z};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(se){g.reject(se)}});return function(S,z){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,_.Z)(function*(){const{urlResponse:S,sessionId:z,postBody:se,tenantId:Be,error:yt,type:$t}=g;if(yt)return void m.reject(yt);const rn={auth:m.auth,requestUri:S,sessionId:z,tenantId:Be||void 0,postBody:se||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask($t)(rn))}catch(Zn){m.reject(Zn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return fn;case"linkViaPopup":case"linkViaRedirect":return kn;case"reauthViaPopup":case"reauthViaRedirect":return hn;default:ut(this.auth,"internal-error")}}resolve(g){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ys=new Kt(2e3,1e4);function Lo(){return(Lo=(0,_.Z)(function*(C,g,m){const S=nr(C);Zt(C,g,hi);const z=Ci(S,m);return new Rr(S,"signInViaPopup",g,z).executeNotNull()})).apply(this,arguments)}function Au(){return(Au=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C);Zt(S.auth,g,hi);const z=Ci(S.auth,m);return new Rr(S.auth,"reauthViaPopup",g,z,S).executeNotNull()})).apply(this,arguments)}function Uo(){return(Uo=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C);Zt(S.auth,g,hi);const z=Ci(S.auth,m);return new Rr(S.auth,"linkViaPopup",g,z,S).executeNotNull()})).apply(this,arguments)}let Rr=(()=>{class C extends ci{constructor(m,S,z,se,Be){super(m,S,se,Be),this.provider=z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const S=yield m.execute();return Xe(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,_.Z)(function*(){nt(1===m.filter.length,"Popup operations only handle one event");const S=Li();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(z=>{m.reject(z)}),m.resolver._isIframeWebStorageSupported(m.auth,z=>{z||m.reject(Ie(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,z;this.pollId=(null===(z=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===z?void 0:z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ys.get())};m()}}return C.currentPopupAction=null,C})();const Mr=new Map;class im extends ci{constructor(g,m,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,_.Z)(function*(){let S=Mr.get(m.auth._key());if(!S){try{const se=(yield function(C,g){return _l.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;S=()=>Promise.resolve(se)}catch(z){S=()=>Promise.reject(z)}Mr.set(m.auth._key(),S)}return S()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,S=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(S,g);if("unknown"!==g.type){if(g.eventId){const z=yield S.auth._redirectUserForId(g.eventId);if(z)return S.user=z,m().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function _l(){return(_l=(0,_.Z)(function*(C,g){const m=Wl(g),S="true"===(yield fo(C)._get(m));return yield fo(C)._remove(m),S})).apply(this,arguments)}function td(C,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,_.Z)(function*(C,g){return fo(C)._set(Wl(g),"true")})).apply(this,arguments)}function fo(C){return Te(C._redirectPersistence)}function Wl(C){return Wr("pendingRedirect",C.config.apiKey,C.name)}function lh(){return(lh=(0,_.Z)(function*(C,g,m){const S=nr(C);Zt(C,g,hi);const z=Ci(S,m);return yield td(z,S),z._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Xa(){return(Xa=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C);Zt(S.auth,g,hi);const z=Ci(S.auth,m);yield td(z,S.auth);const se=yield tl(S);return z._openRedirect(S.auth,g,"reauthViaRedirect",se)})).apply(this,arguments)}function vl(){return(vl=(0,_.Z)(function*(C,g,m){const S=(0,te.m9)(C);Zt(S.auth,g,hi);const z=Ci(S.auth,m);yield H(!1,S,g.providerId),yield td(z,S.auth);const se=yield tl(S);return z._openRedirect(S.auth,g,"linkViaRedirect",se)})).apply(this,arguments)}function wl(){return(wl=(0,_.Z)(function*(C,g){return yield nr(C)._initializationPromise,Ql(C,g,!1)})).apply(this,arguments)}function Ql(C,g){return el.apply(this,arguments)}function el(){return(el=(0,_.Z)(function*(C,g,m=!1){const S=nr(C),z=Ci(S,g),Be=yield new im(S,z,m).execute();return Be&&!m&&(delete Be.user._redirectEventId,yield S._persistUserIfCurrent(Be.user),yield S._setRedirectUser(null,g)),Be})).apply(this,arguments)}function tl(C){return ga.apply(this,arguments)}function ga(){return(ga=(0,_.Z)(function*(C){const g=Li(`${C.uid}:::`);return C._redirectEventId=g,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),g})).apply(this,arguments)}class nl{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(m=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ma(C);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var S;if(g.error&&!ma(g)){const z=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(Ie(this.auth,z))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const S=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fc(g))}saveEventToCache(g){this.cachedEventUids.add(fc(g)),this.lastProcessedEventTime=Date.now()}}function fc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(g=>g).join("-")}function ma({type:C,error:g}){return"unknown"===C&&"auth/no-auth-event"===(null==g?void 0:g.code)}function pc(C){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,_.Z)(function*(C,g={}){return Et(C,"GET","/v1/projects",g)})).apply(this,arguments)}const El=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ya=/^https?/;function So(){return(So=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:g}=yield pc(C);for(const m of g)try{if(Su(m))return}catch(S){}ut(C,"unauthorized-domain")})).apply(this,arguments)}function Su(C){const g=wt(),{protocol:m,hostname:S}=new URL(g);if(C.startsWith("chrome-extension://")){const Be=new URL(C);return""===Be.hostname&&""===S?"chrome-extension:"===m&&C.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Be.hostname===S}if(!ya.test(m))return!1;if(El.test(C))return S===C;const z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+z+"|"+z+")$","i").test(S)}const Oa=new Kt(3e4,6e4);function Xl(){const C=wi().___jsl;if(null==C?void 0:C.H)for(const g of Object.keys(C.H))if(C.H[g].r=C.H[g].r||[],C.H[g].L=C.H[g].L||[],C.H[g].r=[...C.H[g].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let eu=null;function xu(C){return eu=eu||function(C){return new Promise((g,m)=>{var S,z,se;function Be(){Xl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Xl(),m(Ie(C,"network-request-failed"))},timeout:Oa.get()})}if(null===(z=null===(S=wi().gapi)||void 0===S?void 0:S.iframes)||void 0===z?void 0:z.Iframe)g(gapi.iframes.getContext());else{if(!(null===(se=wi().gapi)||void 0===se?void 0:se.load)){const yt=v("iframefcb");return wi()[yt]=()=>{gapi.load?Be():m(Ie(C,"network-request-failed"))},M(`https://apis.google.com/js/api.js?onload=${yt}`)}Be()}}).catch(g=>{throw eu=null,g})}(C),eu}const sd=new Kt(5e3,15e3),tu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Ru=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ch(C){const g=C.config;Xe(g.authDomain,C,"auth-domain-config-required");const m=g.emulator?Rn(g,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:C.name,v:Ue.SDK_VERSION},z=Ru.get(C.config.apiHost);z&&(S.eid=z);const se=C._getFrameworks();return se.length&&(S.fw=se.join(",")),`${m}?${(0,te.xO)(S).slice(1)}`}function Pa(){return(Pa=(0,_.Z)(function*(C){const g=yield xu(C),m=wi().gapi;return Xe(m,C,"internal-error"),g.open({where:document.body,url:ch(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tu,dontclear:!0},S=>new Promise(function(){var z=(0,_.Z)(function*(se,Be){yield S.restyle({setHideOnLeave:!1});const yt=Ie(C,"network-request-failed"),$t=wi().setTimeout(()=>{Be(yt)},sd.get());function rn(){wi().clearTimeout($t),se(S)}S.ping(rn).then(rn,()=>{Be(yt)})});return function(se,Be){return z.apply(this,arguments)}}()))})).apply(this,arguments)}const dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class iu{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Nu(C,g,m,S,z,se){Xe(C.config.authDomain,C,"auth-domain-config-required"),Xe(C.config.apiKey,C,"invalid-api-key");const Be={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:S,v:Ue.SDK_VERSION,eventId:z};if(g instanceof hi){g.setDefaultLanguage(C.languageCode),Be.providerId=g.providerId||"",(0,te.xb)(g.getCustomParameters())||(Be.customParameters=JSON.stringify(g.getCustomParameters()));for(const[$t,rn]of Object.entries(se||{}))Be[$t]=rn}if(g instanceof Pi){const $t=g.getScopes().filter(rn=>""!==rn);$t.length>0&&(Be.scopes=$t.join(","))}C.tenantId&&(Be.tid=C.tenantId);const yt=Be;for(const $t of Object.keys(yt))void 0===yt[$t]&&delete yt[$t];return`${function({config:C}){return C.emulator?Rn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,te.xO)(yt).slice(1)}`}const Ou="webStorageSupport";class ka extends class{constructor(g){this.factorId=g}_process(g,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,S);case"signin":return this._finalizeSignIn(g,m.credential);default:return Le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ka(g)}_finalizeEnroll(g,m,S){return function(C,g){return Et(C,"POST","/v2/accounts/mfaEnrollment:finalize",qe(C,g))}(g,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(C,g){return Et(C,"POST","/v2/accounts/mfaSignIn:finalize",qe(C,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Pu=(()=>{class C{constructor(){}static assertion(m){return ka._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var C;class gh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(S=>{var z;g((null===(z=S)||void 0===z?void 0:z.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function il(){return window}function yc(){return(yc=(0,_.Z)(function*(C,g,m){var S;const{BuildInfo:z}=il();nt(g.sessionId,"AuthEvent did not contain a session ID");const se=yield Yf(g.sessionId),Be={};return nn()?Be.ibi=z.packageName:Wi()?Be.apn=z.packageName:ut(C,"operation-not-supported-in-this-environment"),z.displayName&&(Be.appDisplayName=z.displayName),Be.sessionId=se,Nu(C,m,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,Be)})).apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(C){const{BuildInfo:g}=il(),m={};nn()?m.iosBundleId=g.packageName:Wi()?m.androidPackageName=g.packageName:ut(C,"operation-not-supported-in-this-environment"),yield pc(C,m)})).apply(this,arguments)}function zi(){return(zi=(0,_.Z)(function*(C,g,m){const{cordova:S}=il();let z=()=>{};try{yield new Promise((se,Be)=>{let yt=null;function $t(){var Kn;se();const ks=null===(Kn=S.plugins.browsertab)||void 0===Kn?void 0:Kn.close;"function"==typeof ks&&ks(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function rn(){yt||(yt=window.setTimeout(()=>{Be(Ie(C,"redirect-cancelled-by-user"))},2e3))}function Zn(){"visible"===(null==document?void 0:document.visibilityState)&&rn()}g.addPassiveListener($t),document.addEventListener("resume",rn,!1),Wi()&&document.addEventListener("visibilitychange",Zn,!1),z=()=>{g.removePassiveListener($t),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",Zn,!1),yt&&window.clearTimeout(yt)}})}finally{z()}})).apply(this,arguments)}function Yf(C){return zo.apply(this,arguments)}function zo(){return(zo=(0,_.Z)(function*(C){const g=Qf(C),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(z=>z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qf(C){if(nt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const g=new ArrayBuffer(C.length),m=new Uint8Array(g);for(let S=0;S<C.length;S++)m[S]=C.charCodeAt(S);return m}C="Browser",(0,Ue._registerComponent)(new ze.wA("auth",(g,{options:m})=>{const S=g.getProvider("app").getImmediate(),{apiKey:z,authDomain:se}=S.options;return(Be=>{Xe(z&&!z.includes(":"),"invalid-api-key",{appName:Be.name}),Xe(!(null==se?void 0:se.includes(":")),"argument-error",{appName:Be.name});const yt={apiKey:z,authDomain:se,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hr(C)},$t=new ti(Be,yt);return function(C,g){const m=(null==g?void 0:g.persistence)||[],S=(Array.isArray(m)?m:[m]).map(Te);(null==g?void 0:g.errorMap)&&C._updateErrorMap(g.errorMap),C._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}($t,m),$t})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,S)=>{g.getProvider("auth-internal").initialize()})),(0,Ue._registerComponent)(new ze.wA("auth-internal",g=>{const m=nr(g.getProvider("auth").getImmediate());return new gh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ue.registerVersion)("@firebase/auth","0.18.2",void 0);class vh extends nl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function ei(C){return _c.apply(this,arguments)}function _c(){return(_c=(0,_.Z)(function*(C){const g=yield ou()._get(Vu(C));return g&&(yield ou()._remove(Vu(C))),g})).apply(this,arguments)}function vc(){const C=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const S=Math.floor(Math.random()*g.length);C.push(g.charAt(S))}return C.join("")}function ou(){return Te(St)}function Vu(C){return Wr("authEvent",C.config.apiKey,C.name)}function Sl(C){if(!(null==C?void 0:C.includes("?")))return{};const[g,...m]=C.split("?");return(0,te.zd)(m.join("?"))}function wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function xl(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function au(C=(0,te.z$)()){return!("file:"!==xl()&&"ionic:"!==xl()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bu(){try{const C=self.localStorage,g=Li();if(C)return C.setItem(g,"1"),C.removeItem(g),!function(C=(0,te.z$)()){return(0,te.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,te.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,te.hl)()}catch(C){return sl()&&(0,te.hl)()}return!1}function sl(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ec(){return("http:"===xl()||"https:"===xl()||(0,te.ru)()||au())&&!((0,te.b$)()||(0,te.UG)())&&Bu()&&!sl()}function dd(){return au()&&"undefined"!=typeof document}function hd(){return(hd=(0,_.Z)(function*(){return!!dd()&&new Promise(C=>{const g=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),C(!0)})})})).apply(this,arguments)}const Wo={LOCAL:"local",NONE:"none",SESSION:"session"},Rl=Xe,Ch="persistence";function so(C){return lu.apply(this,arguments)}function lu(){return(lu=(0,_.Z)(function*(C){yield C._initializationPromise;const g=pd(),m=Wr(Ch,C.config.apiKey,C.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,C._getPersistence())})).apply(this,arguments)}function pd(){return"undefined"!=typeof window?window:null}const go=Xe;class Ko{constructor(){this.browserResolver=Te(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qn,this._completeRedirectFn=Ql}_openPopup(g,m,S,z){var se=this;return(0,_.Z)(function*(){var Be;nt(null===(Be=se.eventManagers[g._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const yt=Nu(g,m,S,wt(),z);return function(C,g,m,S=500,z=600){const se=Math.max((window.screen.availHeight-z)/2,0).toLowerCase().toString(),Be=Math.max((window.screen.availWidth-S)/2,0).toLowerCase().toString();let yt="";const $t=Object.assign(Object.assign({},dh),{width:S.toLowerCase().toString(),height:z.toLowerCase().toString(),top:se,left:Be}),rn=(0,te.z$)().toLowerCase();m&&(yt=os(rn)?"_blank":m),bn(rn)&&(g=g||"http://localhost",$t.scrollbars="yes");const Zn=Object.entries($t).reduce((ks,[Qo,Rt])=>`${ks}${Qo}=${Rt},`,"");if(function(C=(0,te.z$)()){var g;return nn(C)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(rn)&&"_self"!==yt)return function(C,g){const m=document.createElement("a");m.href=C,m.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(g||"",yt),new iu(null);const Kn=window.open(g||"",yt,Zn);Xe(Kn,C,"popup-blocked");try{Kn.focus()}catch(ks){}return new iu(Kn)}(g,yt,Li())})()}_openRedirect(g,m,S,z){var se=this;return(0,_.Z)(function*(){return yield se._originValidation(g),C=Nu(g,m,S,wt(),z),wi().location.href=C,new Promise(()=>{});var C})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:z,promise:se}=this.eventManagers[m];return z?Promise.resolve(z):(nt(se,"If manager is not set, promise should be"),se)}const S=this.initAndGetManager(g);return this.eventManagers[m]={promise:S},S}initAndGetManager(g){var m=this;return(0,_.Z)(function*(){const S=yield function(C){return Pa.apply(this,arguments)}(g),z=new nl(g);return S.register("authEvent",se=>(Xe(null==se?void 0:se.authEvent,g,"invalid-auth-event"),{status:z.onEvent(se.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:z},m.iframes[g._key()]=S,z})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Ou,{type:Ou},z=>{var se;const Be=null===(se=null==z?void 0:z[0])||void 0===se?void 0:se[Ou];void 0!==Be&&m(!!Be),ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return So.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Nt()||ji()||nn()}}),this.cordovaResolver=Te(class{constructor(){this._redirectPersistence=Qn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ql}_initialize(g){var m=this;return(0,_.Z)(function*(){const S=g._key();let z=m.eventManagers.get(S);return z||(z=new vh(g),m.eventManagers.set(S,z),m.attachCallbackListeners(g,z)),z})()}_openPopup(g){ut(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,S,z){var se=this;return(0,_.Z)(function*(){!function(C){var g,m,S,z,se,Be,yt,$t,rn,Zn;const Kn=il();Xe("function"==typeof(null===(g=null==Kn?void 0:Kn.universalLinks)||void 0===g?void 0:g.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Xe(void 0!==(null===(m=null==Kn?void 0:Kn.BuildInfo)||void 0===m?void 0:m.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Xe("function"==typeof(null===(se=null===(z=null===(S=null==Kn?void 0:Kn.cordova)||void 0===S?void 0:S.plugins)||void 0===z?void 0:z.browsertab)||void 0===se?void 0:se.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xe("function"==typeof(null===($t=null===(yt=null===(Be=null==Kn?void 0:Kn.cordova)||void 0===Be?void 0:Be.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===$t?void 0:$t.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Xe("function"==typeof(null===(Zn=null===(rn=null==Kn?void 0:Kn.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===Zn?void 0:Zn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Be=yield se._initialize(g);yield Be.initialized(),Be.resetRedirect(),Mr.clear(),yield se._originValidation(g);const yt=function(C,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:vc(),postBody:null,tenantId:C.tenantId,error:Ie(C,"no-auth-event")}}(g,S,z);yield function(C,g){return ou()._set(Vu(C),g)}(g,yt);const $t=yield function(C,g,m){return yc.apply(this,arguments)}(g,yt,m),rn=yield function(C){const{cordova:g}=il();return new Promise(m=>{g.plugins.browsertab.isAvailable(S=>{let z=null;S?g.plugins.browsertab.openUrl(C):z=g.InAppBrowser.open(C,function(C=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(z)})})}($t);return function(C,g,m){return zi.apply(this,arguments)}(g,Be,rn)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return Cs.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:S,handleOpenURL:z,BuildInfo:se}=il(),Be=setTimeout((0,_.Z)(function*(){yield ei(g),m.onEvent(wh())}),500),yt=function(){var Zn=(0,_.Z)(function*(Kn){clearTimeout(Be);const ks=yield ei(g);let Qo=null;ks&&(null==Kn?void 0:Kn.url)&&(Qo=function(C,g){var m,S;const z=function(C){const g=Sl(C),m=g.link?decodeURIComponent(g.link):void 0,S=Sl(m).link,z=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Sl(z).link||z||S||m||C}(g);if(z.includes("/__/auth/callback")){const se=Sl(z),Be=se.firebaseError?function(C){try{return JSON.parse(C)}catch(g){return null}}(decodeURIComponent(se.firebaseError)):null,yt=null===(S=null===(m=null==Be?void 0:Be.code)||void 0===m?void 0:m.split("auth/"))||void 0===S?void 0:S[1],$t=yt?Ie(yt):null;return $t?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:$t,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:z,postBody:null}}return null}(ks,Kn.url)),m.onEvent(Qo||wh())});return function(ks){return Zn.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,yt);const $t=z,rn=`${se.packageName.toLowerCase()}://`;il().handleOpenURL=function(){var Zn=(0,_.Z)(function*(Kn){if(Kn.toLowerCase().startsWith(rn)&&yt({url:Kn}),"function"==typeof $t)try{$t(Kn)}catch(ks){console.error(ks)}});return function(Kn){return Zn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Qn,this._completeRedirectFn=Ql}_initialize(g){var m=this;return(0,_.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,S,z){var se=this;return(0,_.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openPopup(g,m,S,z)})()}_openRedirect(g,m,S,z){var se=this;return(0,_.Z)(function*(){return yield se.selectUnderlyingResolver(),se.assertedUnderlyingResolver._openRedirect(g,m,S,z)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return dd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return go(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return hd.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Hu(C){return C.unwrap()}function np(C){return Nl(C)}function Nl(C){const{_tokenResponse:g}=C instanceof te.ZR?C.customData:C;if(!g)return null;if(!(C instanceof te.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return Jt.credentialFromResult(C);const m=g.providerId;if(!m||"password"===m)return null;let S;switch(m){case"google.com":S=ls;break;case"facebook.com":S=Ys;break;case"github.com":S=us;break;case"twitter.com":S=ds;break;default:const{oauthIdToken:z,oauthAccessToken:se,oauthTokenSecret:Be,pendingToken:yt,nonce:$t}=g;return se||Be||z||yt?yt?m.startsWith("saml.")?ki._create(m,yt):Ti._fromParams({providerId:m,signInMethod:m,pendingToken:yt,idToken:z,accessToken:se}):new vi(m).credential({idToken:z,accessToken:se,rawNonce:$t}):null}return C instanceof te.ZR?S.credentialFromError(C):S.credentialFromResult(C)}function xo(C,g){return g.catch(m=>{throw m instanceof te.ZR&&function(C,g){var m;const S=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Th(C,function(C,g){var m;const S=(0,te.m9)(C),z=g;return Xe(g.operationType,S,"argument-error"),Xe(null===(m=z.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),xr._fromError(S,z)}(C,g));else if(S){const z=Nl(g),se=g;z&&(se.credential=z,se.tenantId=S.tenantId||void 0,se.email=S.email||void 0,se.phoneNumber=S.phoneNumber||void 0)}}(C,m),m}).then(m=>{const z=m.user;return{operationType:m.operationType,credential:np(m),additionalUserInfo:$n(m),user:qs.getOrCreate(z)}})}function gd(C,g){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,_.Z)(function*(C,g){const m=yield g;return{verificationId:m.verificationId,confirm:S=>xo(C,m.confirm(S))}})).apply(this,arguments)}class Th{constructor(g,m){this.resolver=m,this.auth=function(C){return C.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return xo(Hu(this.auth),this.resolver.resolveSignIn(g))}}class qs{constructor(g){this._delegate=g,this.multiFactor=function(C){const g=(0,te.m9)(C);return Rs.has(g)||Rs.set(g,ro._fromUser(g)),Rs.get(g)}(g)}static getOrCreate(g){return qs.USER_MAP.has(g)||qs.USER_MAP.set(g,new qs(g)),qs.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,_.Z)(function*(){return xo(m.auth,J(m._delegate,g))})()}linkWithPhoneNumber(g,m){var S=this;return(0,_.Z)(function*(){return gd(S.auth,function(C,g,m){return gs.apply(this,arguments)}(S._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,_.Z)(function*(){return xo(m.auth,function(C,g,m){return Uo.apply(this,arguments)}(m._delegate,g,Ko))})()}linkWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield so(nr(m.auth)),function(C,g,m){return function(C,g,m){return vl.apply(this,arguments)}(C,g,m)}(m._delegate,g,Ko)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,_.Z)(function*(){return xo(m.auth,Mt(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return gd(this.auth,function(C,g,m){return ho.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return xo(this.auth,function(C,g,m){return Au.apply(this,arguments)}(this._delegate,g,Ko))}reauthenticateWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield so(nr(m.auth)),function(C,g,m){return function(C,g,m){return Xa.apply(this,arguments)}(C,g,m)}(m._delegate,g,Ko)})()}sendEmailVerification(g){return function(C,g){return $i.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,_.Z)(function*(){return yield function(C,g){return vs.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(C,g){return B((0,te.m9)(C),g,null)}(this._delegate,g)}updatePassword(g){return function(C,g){return B((0,te.m9)(C),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(C,g){return $r.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(C,g){return uo.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(C,g,m){return to.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}qs.USER_MAP=new WeakMap;const $u=Xe;let Tc=(()=>{class C{constructor(m,S){if(this.app=m,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:z}=m.options;$u(z,"invalid-api-key",{appName:m.name});let se=[Hn];if("undefined"!=typeof window){se=function(C,g){const m=pd();if(!(null==m?void 0:m.sessionStorage))return[];const S=Wr(Ch,C,g);switch(m.sessionStorage.getItem(S)){case Wo.NONE:return[Hn];case Wo.LOCAL:return[I,Qn];case Wo.SESSION:return[Qn];default:return[]}}(z,m.name);for(const yt of[I,St,Qn])se.includes(yt)||se.push(yt)}$u(z,"invalid-api-key",{appName:m.name});const Be="undefined"!=typeof window?Ko:void 0;this._delegate=S.initialize({options:{persistence:se,popupRedirectResolver:Be}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?qs.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,S){!function(C,g,m){const S=nr(C);Xe(S._canInitEmulator,S,"emulator-config-failed"),Xe(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const z=!!(null==m?void 0:m.disableWarnings),se=Vn(g),{host:Be,port:yt}=function(C){const g=Vn(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(g.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",z=/^(\[[^\]]+\])(:|$)/.exec(S);if(z){const se=z[1];return{host:se,port:Nr(S.substr(se.length+1))}}{const[se,Be]=S.split(":");return{host:se,port:Nr(Be)}}}(g);S.config.emulator={url:`${se}//${Be}${null===yt?"":`:${yt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Be,port:yt,protocol:se.replace(":",""),options:Object.freeze({disableWarnings:z})}),z||function(){function C(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,m,S)}applyActionCode(m){return function(C,g){return Js.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return It(this._delegate,m)}confirmPasswordReset(m,S){return function(C,g,m){return Qs.apply(this,arguments)}(this._delegate,m,S)}createUserWithEmailAndPassword(m,S){var z=this;return(0,_.Z)(function*(){return xo(z._delegate,function(C,g,m){return Ss.apply(this,arguments)}(z._delegate,m,S))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(C,g){return eo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(C,g){const m=_i.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,_.Z)(function*(){$u(Ec(),m._delegate,"operation-not-supported-in-this-environment");const S=yield function(C,g){return wl.apply(this,arguments)}(m._delegate,Ko);return S?xo(m._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(C,g){nr(C)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,S,z){const{next:se,error:Be,complete:yt}=aa(m,S,z);return this._delegate.onAuthStateChanged(se,Be,yt)}onIdTokenChanged(m,S,z){const{next:se,error:Be,complete:yt}=aa(m,S,z);return this._delegate.onIdTokenChanged(se,Be,yt)}sendSignInLinkToEmail(m,S){return function(C,g,m){return To.apply(this,arguments)}(this._delegate,m,S)}sendPasswordResetEmail(m,S){return function(C,g,m){return js.apply(this,arguments)}(this._delegate,m,S||void 0)}setPersistence(m){var S=this;return(0,_.Z)(function*(){let z;switch(function(C,g){Rl(Object.values(Wo).includes(g),C,"invalid-persistence-type"),(0,te.b$)()?Rl(g!==Wo.SESSION,C,"unsupported-persistence-type"):(0,te.UG)()?Rl(g===Wo.NONE,C,"unsupported-persistence-type"):sl()?Rl(g===Wo.NONE||g===Wo.LOCAL&&(0,te.hl)(),C,"unsupported-persistence-type"):Rl(g===Wo.NONE||Bu(),C,"unsupported-persistence-type")}(S._delegate,m),m){case Wo.SESSION:z=Qn;break;case Wo.LOCAL:z=(yield Te(I)._isAvailable())?I:St;break;case Wo.NONE:z=Hn;break;default:return ut("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(z)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return xo(this._delegate,function(C){return fs.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return xo(this._delegate,k(this._delegate,m))}signInWithCustomToken(m){return xo(this._delegate,function(C,g){return pi.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,S){return xo(this._delegate,function(C,g,m){return k((0,te.m9)(C),ai.credential(g,m))}(this._delegate,m,S))}signInWithEmailLink(m,S){return xo(this._delegate,function(C,g,m){return Oo.apply(this,arguments)}(this._delegate,m,S))}signInWithPhoneNumber(m,S){return gd(this._delegate,function(C,g,m){return Xr.apply(this,arguments)}(this._delegate,m,S))}signInWithPopup(m){var S=this;return(0,_.Z)(function*(){return $u(Ec(),S._delegate,"operation-not-supported-in-this-environment"),xo(S._delegate,function(C,g,m){return Lo.apply(this,arguments)}(S._delegate,m,Ko))})()}signInWithRedirect(m){var S=this;return(0,_.Z)(function*(){return $u(Ec(),S._delegate,"operation-not-supported-in-this-environment"),yield so(S._delegate),function(C,g,m){return function(C,g,m){return lh.apply(this,arguments)}(C,g,m)}(S._delegate,m,Ko)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(C,g){return li.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=Wo,C})();function aa(C,g,m){let S=C;"function"!=typeof C&&({next:S,error:g,complete:m}=C);const z=S;return{next:Be=>z(Be&&qs.getOrCreate(Be)),error:g,complete:m}}class Ic{constructor(){this.providerId="phone",this._delegate=new Jt(Hu(f.Z.auth()))}static credential(g,m){return Jt.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Ic.PHONE_SIGN_IN_METHOD=Jt.PHONE_SIGN_IN_METHOD,Ic.PROVIDER_ID=Jt.PROVIDER_ID;const Yo=Xe;class Ol{constructor(g,m,S=f.Z.app()){var z;Yo(null===(z=S.options)||void 0===z?void 0:z.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new ar(g,m,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new ze.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new Tc(m,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ai,FacebookAuthProvider:Ys,GithubAuthProvider:us,GoogleAuthProvider:ls,OAuthProvider:vi,PhoneAuthProvider:Ic,PhoneMultiFactorGenerator:Pu,RecaptchaVerifier:Ol,TwitterAuthProvider:ds,Auth:Tc,AuthCredential:$e,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.5")}(f.Z)},916:(Ht,tt,Z)=>{"use strict";Z.d(tt,{sN:()=>An,z1:()=>sr,mZ:()=>gn,TD:()=>Ln});var _=Z(7574),f=Z(8640);const te=new _.y(f.Z);var Re=Z(9765),pe=Z(5917),ze=Z(8229),he=Z(9193),ye=Z(7393),ne=Z(3637);class ue{constructor(He,ot){this.period=He,this.scheduler=ot}call(He,ot){return ot.subscribe(new Ve(He,this.period,this.scheduler))}}class Ve extends ye.L{constructor(He,ot,at){super(He),this.period=ot,this.scheduler=at,this.hasValue=!1,this.add(at.schedule(Pe,ot,{subscriber:this,period:ot}))}_next(He){this.lastValue=He,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Pe(xt){let{subscriber:He,period:ot}=xt;He.notifyNext(),this.schedule(xt,ot)}var Ke=Z(5435),Ze=Z(8307),pt=Z(5257),fe=Z(9773),dt=Z(8002),_t=Z(5304),ut=Z(3190),Ie=Z(9761),At=Z(8819),Zt=Z(8583),Xt=Z(7716);function Le(xt){return Boolean(xt.parentElement&&"picture"===xt.parentElement.nodeName.toLowerCase())}function nt(xt){return"img"===xt.nodeName.toLowerCase()}function Qe(xt,He,ot){return nt(xt)?ot&&"srcset"in xt?xt.srcset=He:xt.src=He:xt.style.backgroundImage=`url('${He}')`,xt}function Te(xt){return He=>{const ot=He.parentElement.getElementsByTagName("source");for(let at=0;at<ot.length;at++){const en=ot[at].getAttribute(xt);en&&("srcset"in ot[at]?ot[at].srcset=en:ot[at].src=en)}}}const We=Te("defaultImage"),Ee=Te("lazyLoad"),wt=Te("errorImage");function Pt(xt){return(He,ot,at)=>{nt(He)&&Le(He)&&xt(He),ot&&Qe(He,ot,at)}}const qt=Pt(We),Gt=Pt(Ee),Ft=Pt(wt);function ct(xt,He){xt.className=xt.className.replace(He,"")}function lt(xt,He){xt.className.includes(He)||(xt.className+=` ${He}`)}class qe extends class{constructor(){this.navigator="undefined"!=typeof window?window.navigator:void 0}setPlatformId(He){this.platformId=He}onDestroy(He){}onAttributeChange(He){}}{setup(He){var xt;qt(He.element,He.defaultImagePath,He.useSrcset),lt(He.element,"ng-lazyloading"),(xt=He.element).className&&xt.className.includes("ng-lazyloaded")&&ct(He.element,"ng-lazyloaded")}finally(He){lt(He.element,"ng-lazyloaded"),ct(He.element,"ng-lazyloading")}loadImage(He){if(this.skipLazyLoading(He))return[He.imagePath];const{element:ot,useSrcset:at,imagePath:en,decode:sn}=He;let _n;return nt(ot)&&Le(ot)?(_n=ot.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Ee(_n),Qe(_n,en,at)):(_n=new Image,nt(ot)&&ot.referrerPolicy&&(_n.referrerPolicy=ot.referrerPolicy),nt(ot)&&ot.sizes&&(_n.sizes=ot.sizes),at&&"srcset"in _n?_n.srcset=en:_n.src=en),sn&&_n.decode?_n.decode().then(()=>en):new Promise((un,Qt)=>{_n.onload=()=>un(en),_n.onerror=()=>Qt(null)})}setErrorImage(He,ot){const{element:at,useSrcset:en,errorImagePath:sn}=ot;Ft(at,sn,en),lt(at,"ng-failed-lazyloaded")}setLoadedImage(He,ot){const{element:at,useSrcset:en}=ot;Gt(at,He,en)}isDisabled(){return(0,Zt.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(He){return this.isBot(He)}isBot(He){var ot;return!!(null===(ot=this.navigator)||void 0===ot?void 0:ot.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}let Et=(()=>{class xt extends qe{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new Re.xQ,this.uniqKey={}}getObservable(ot){if(this.skipLazyLoading(ot))return(0,pe.of)({isIntersecting:!0});if(ot.customObservable)return ot.customObservable;const at=ot.scrollContainer||this.uniqKey,en={root:ot.scrollContainer||null};ot.offset&&(en.rootMargin=`${ot.offset}px`);let sn=this.observers.get(at);return sn||(sn=new IntersectionObserver(_n=>this.loadingCallback(_n),en),this.observers.set(at,sn)),sn.observe(ot.element),_.y.create(_n=>{const un=this.intersectionSubject.pipe((0,Ke.h)(Qt=>Qt.target===ot.element)).subscribe(_n);return()=>{un.unsubscribe(),sn.unobserve(ot.element)}})}isVisible(ot){return ot.isIntersecting}loadingCallback(ot){ot.forEach(at=>this.intersectionSubject.next(at))}}return xt.\u0275fac=function(){let He;return function(at){return(He||(He=Xt.n5z(xt)))(at||xt)}}(),xt.\u0275prov=Xt.Yz7({token:xt,factory:xt.\u0275fac}),xt})();const An=new Xt.OlP("LazyLoadImageHooks");let sr=(()=>{class xt{constructor(ot,at,en,sn){this.onStateChange=new Xt.vpe,this.elementRef=ot,this.ngZone=at,this.propertyChanges$=new ze.t,this.hooks=sn,this.hooks.setPlatformId(en),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(ot=>console.log(ot))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,Ze.b)(ot=>this.hooks.onAttributeChange(ot)),(0,Ze.b)(ot=>ot.onStateChange.emit({reason:"setup"})),(0,Ze.b)(ot=>this.hooks.setup(ot)),(0,ut.w)(ot=>ot.imagePath?this.hooks.getObservable(ot).pipe(function(xt,He){return ot=>ot.pipe((0,Ze.b)(at=>He.onStateChange.emit({reason:"observer-emit",data:at})),(0,Ke.h)(at=>xt.isVisible(at,He)),(0,pt.q)(1),(0,Ze.b)(()=>He.onStateChange.emit({reason:"start-loading"})),(0,fe.zg)(()=>xt.loadImage(He)),(0,Ze.b)(()=>He.onStateChange.emit({reason:"mount-image"})),(0,Ze.b)(at=>xt.setLoadedImage(at,He)),(0,Ze.b)(()=>He.onStateChange.emit({reason:"loading-succeeded"})),(0,dt.U)(()=>!0),(0,_t.K)(at=>(He.onStateChange.emit({reason:"loading-failed",data:at}),xt.setErrorImage(at,He),(0,pe.of)(!1))),(0,Ze.b)(()=>{He.onStateChange.emit({reason:"finally"}),xt.finally(He)}))}(this.hooks,ot)):te)).subscribe({next:()=>null})})}ngOnDestroy(){var ot,at;this.propertyChanges$.pipe((0,pt.q)(1)).subscribe({next:en=>this.hooks.onDestroy(en)}).unsubscribe(),null===(ot=this.loadSubscription)||void 0===ot||ot.unsubscribe(),null===(at=this.debugSubscription)||void 0===at||at.unsubscribe()}}return xt.\u0275fac=function(ot){return new(ot||xt)(Xt.Y36(Xt.SBq),Xt.Y36(Xt.R0b),Xt.Y36(Xt.Lbi),Xt.Y36(An))},xt.\u0275dir=Xt.lG2({type:xt,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[Xt.TTD]}),xt})(),gn=(()=>{class xt{}return xt.\u0275fac=function(ot){return new(ot||xt)},xt.\u0275mod=Xt.oAB({type:xt}),xt.\u0275inj=Xt.cJS({providers:[{provide:An,useClass:Et}]}),xt})();class er{constructor(He,ot,at,en){this.left=He,this.top=ot,this.right=at,this.bottom=en}static fromElement(He){const{left:ot,top:at,right:en,bottom:sn}=He.getBoundingClientRect();return 0===ot&&0===at&&0===en&&0===sn?er.empty:new er(ot,at,en,sn)}static fromWindow(He){return new er(0,0,He.innerWidth,He.innerHeight)}inflate(He){this.left-=He,this.top-=He,this.right+=He,this.bottom+=He}intersectsWith(He){return He.left<this.right&&this.left<He.right&&He.top<this.bottom&&this.top<He.bottom}getIntersectionWith(He){const ot=Math.max(this.left,He.left),at=Math.max(this.top,He.top),en=Math.min(this.right,He.right),sn=Math.min(this.bottom,He.bottom);return en>=ot&&sn>=at?new er(ot,at,en,sn):er.empty}}er.empty=new er(0,0,0,0);class Ln extends qe{constructor(){super(...arguments),this.getWindow=()=>window,this.scrollListeners=new WeakMap,this.getScrollListener=He=>{if(!He||"function"!=typeof He.addEventListener)return console.warn("`addEventListener` on "+He+" (scrollTarget) is not a function. Skipping this target"),(0,he.c)();const ot=this.scrollListeners.get(He);if(ot)return ot;const at=_.y.create(sn=>{const un=vn=>sn.next(vn),Qt={passive:!0,capture:!1};return He.addEventListener("scroll",un,Qt),()=>He.removeEventListener("scroll",un,Qt)}),en=this.sampleObservable(at);return this.scrollListeners.set(He,en),en}}getObservable(He){return this.skipLazyLoading(He)?(0,pe.of)("load"):He.customObservable?He.customObservable.pipe((0,Ie.O)("")):this.getScrollListener(He.scrollContainer?He.scrollContainer:this.getWindow())}isVisible(He,ot){const at=er.fromElement(ot.element);if(at===er.empty)return!1;const en=er.fromWindow(this.getWindow());if(at.inflate(ot.offset),ot.scrollContainer){const _n=er.fromElement(ot.scrollContainer).getIntersectionWith(en);return at.intersectsWith(_n)}return at.intersectsWith(en)}sampleObservable(He,ot){return He.pipe(function(xt,He=ne.P){return ot=>ot.lift(new ue(xt,He))}(100,ot),(0,At.B)(),(0,Ie.O)(""))}}},9344:(Ht,tt,Z)=>{"use strict";Z.d(tt,{Rh:()=>qt,_W:()=>Ee});var _=Z(7716),f=Z(7238),te=Z(9765),Ue=Z(9075),Re=Z(8583);const pe=["toast-component",""];function ze(ct,lt){if(1&ct){const Ae=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(Ae),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function he(ct,lt){if(1&ct&&(_.ynx(0),_._uU(1),_.BQk()),2&ct){const Ae=_.oxw(2);_.xp6(1),_.hij("[",Ae.duplicatesCount+1,"]")}}function ye(ct,lt){if(1&ct&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,he,2,1,"ng-container",4),_.qZA()),2&ct){const Ae=_.oxw();_.Tol(Ae.options.titleClass),_.uIk("aria-label",Ae.title),_.xp6(1),_.hij(" ",Ae.title," "),_.xp6(1),_.Q6J("ngIf",Ae.duplicatesCount)}}function ne(ct,lt){if(1&ct&&_._UZ(0,"div",7),2&ct){const Ae=_.oxw();_.Tol(Ae.options.messageClass),_.Q6J("innerHTML",Ae.message,_.oJD)}}function le(ct,lt){if(1&ct&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&ct){const Ae=_.oxw();_.Tol(Ae.options.messageClass),_.uIk("aria-label",Ae.message),_.xp6(1),_.hij(" ",Ae.message," ")}}function ue(ct,lt){if(1&ct&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&ct){const Ae=_.oxw();_.xp6(1),_.Udp("width",Ae.width+"%")}}function Ve(ct,lt){if(1&ct){const Ae=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(Ae),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function Pe(ct,lt){if(1&ct&&(_.ynx(0),_._uU(1),_.BQk()),2&ct){const Ae=_.oxw(2);_.xp6(1),_.hij("[",Ae.duplicatesCount+1,"]")}}function Ke(ct,lt){if(1&ct&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,Pe,2,1,"ng-container",4),_.qZA()),2&ct){const Ae=_.oxw();_.Tol(Ae.options.titleClass),_.uIk("aria-label",Ae.title),_.xp6(1),_.hij(" ",Ae.title," "),_.xp6(1),_.Q6J("ngIf",Ae.duplicatesCount)}}function Ze(ct,lt){if(1&ct&&_._UZ(0,"div",7),2&ct){const Ae=_.oxw();_.Tol(Ae.options.messageClass),_.Q6J("innerHTML",Ae.message,_.oJD)}}function pt(ct,lt){if(1&ct&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&ct){const Ae=_.oxw();_.Tol(Ae.options.messageClass),_.uIk("aria-label",Ae.message),_.xp6(1),_.hij(" ",Ae.message," ")}}function fe(ct,lt){if(1&ct&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&ct){const Ae=_.oxw();_.xp6(1),_.Udp("width",Ae.width+"%")}}class ut{constructor(lt,Ae,qe,Et,Ut,An){this.toastId=lt,this.config=Ae,this.message=qe,this.title=Et,this.toastType=Ut,this.toastRef=An,this._onTap=new te.xQ,this._onAction=new te.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(lt){this._onAction.next(lt)}onAction(){return this._onAction.asObservable()}}const Ie={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},At=new _.OlP("ToastConfig");class Zt{constructor(lt,Ae){this.component=lt,this.injector=Ae}attach(lt,Ae){return this._attachedHost=lt,lt.attach(this,Ae)}detach(){const lt=this._attachedHost;if(lt)return this._attachedHost=void 0,lt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(lt){this._attachedHost=lt}}class Xe extends class{attach(lt,Ae){return this._attachedPortal=lt,this.attachComponentPortal(lt,Ae)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(lt){this._disposeFn=lt}}{constructor(lt,Ae,qe){super(),this._hostDomElement=lt,this._componentFactoryResolver=Ae,this._appRef=qe}attachComponentPortal(lt,Ae){const qe=this._componentFactoryResolver.resolveComponentFactory(lt.component);let Et;return Et=qe.create(lt.injector),this._appRef.attachView(Et.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Et.hostView),Et.destroy()}),Ae?this._hostDomElement.insertBefore(this._getComponentRootNode(Et),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Et)),Et}_getComponentRootNode(lt){return lt.hostView.rootNodes[0]}}let Le=(()=>{class ct{constructor(Ae){this._document=Ae}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ae=this._document.createElement("div");Ae.classList.add("overlay-container"),this._document.body.appendChild(Ae),this._containerElement=Ae}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(_.LFG(Re.K0))},ct.\u0275prov=_.Yz7({factory:function(){return new ct(_.LFG(Re.K0))},token:ct,providedIn:"root"}),ct})();class nt{constructor(lt){this._portalHost=lt}attach(lt,Ae=!0){return this._portalHost.attach(lt,Ae)}detach(){return this._portalHost.detach()}}let Qe=(()=>{class ct{constructor(Ae,qe,Et,Ut){this._overlayContainer=Ae,this._componentFactoryResolver=qe,this._appRef=Et,this._document=Ut,this._paneElements=new Map}create(Ae,qe){return this._createOverlayRef(this.getPaneElement(Ae,qe))}getPaneElement(Ae="",qe){return this._paneElements.get(qe)||this._paneElements.set(qe,{}),this._paneElements.get(qe)[Ae]||(this._paneElements.get(qe)[Ae]=this._createPaneElement(Ae,qe)),this._paneElements.get(qe)[Ae]}_createPaneElement(Ae,qe){const Et=this._document.createElement("div");return Et.id="toast-container",Et.classList.add(Ae),Et.classList.add("toast-container"),qe?qe.getContainerElement().appendChild(Et):this._overlayContainer.getContainerElement().appendChild(Et),Et}_createPortalHost(Ae){return new Xe(Ae,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ae){return new nt(this._createPortalHost(Ae))}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Re.K0))},ct.\u0275prov=_.Yz7({factory:function(){return new ct(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Re.K0))},token:ct,providedIn:"root"}),ct})();class Te{constructor(lt){this._overlayRef=lt,this.duplicatesCount=0,this._afterClosed=new te.xQ,this._activate=new te.xQ,this._manualClose=new te.xQ,this._resetTimeout=new te.xQ,this._countDuplicate=new te.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(lt,Ae){lt&&this._resetTimeout.next(),Ae&&this._countDuplicate.next(++this.duplicatesCount)}}class We{constructor(lt,Ae){this._toastPackage=lt,this._parentInjector=Ae}get(lt,Ae,qe){return lt===ut?this._toastPackage:this._parentInjector.get(lt,Ae,qe)}}let Ee=(()=>{class ct{constructor(Ae,qe,Et,Ut,An){this.overlay=qe,this._injector=Et,this.sanitizer=Ut,this.ngZone=An,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Ae.default),Ae.config),Ae.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Ae.default.iconClasses),Ae.config.iconClasses))}show(Ae,qe,Et={},Ut=""){return this._preBuildNotification(Ut,Ae,qe,this.applyConfig(Et))}success(Ae,qe,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ae,qe,this.applyConfig(Et))}error(Ae,qe,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ae,qe,this.applyConfig(Et))}info(Ae,qe,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ae,qe,this.applyConfig(Et))}warning(Ae,qe,Et={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ae,qe,this.applyConfig(Et))}clear(Ae){for(const qe of this.toasts)if(void 0!==Ae){if(qe.toastId===Ae)return void qe.toastRef.manualClose()}else qe.toastRef.manualClose()}remove(Ae){const qe=this._findToast(Ae);if(!qe||(qe.activeToast.toastRef.close(),this.toasts.splice(qe.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Et=this.toasts[this.currentlyActive].toastRef;Et.isInactive()||(this.currentlyActive=this.currentlyActive+1,Et.activate())}return!0}findDuplicate(Ae="",qe="",Et,Ut){const{includeTitleDuplicates:An}=this.toastrConfig;for(const sr of this.toasts){const gn=An&&sr.title===Ae;if((!An||gn)&&sr.message===qe)return sr.toastRef.onDuplicate(Et,Ut),sr}return null}applyConfig(Ae={}){return Object.assign(Object.assign({},this.toastrConfig),Ae)}_findToast(Ae){for(let qe=0;qe<this.toasts.length;qe++)if(this.toasts[qe].toastId===Ae)return{index:qe,activeToast:this.toasts[qe]};return null}_preBuildNotification(Ae,qe,Et,Ut){return Ut.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ae,qe,Et,Ut)):this._buildNotification(Ae,qe,Et,Ut)}_buildNotification(Ae,qe,Et,Ut){if(!Ut.toastComponent)throw new Error("toastComponent required");const An=this.findDuplicate(Et,qe,this.toastrConfig.resetTimeoutOnDuplicate&&Ut.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Et||qe)&&this.toastrConfig.preventDuplicates&&null!==An)return An;this.previousToastMessage=qe;let sr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(sr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const gn=this.overlay.create(Ut.positionClass,this.overlayContainer);this.index=this.index+1;let er=qe;qe&&Ut.enableHtml&&(er=this.sanitizer.sanitize(_.q3G.HTML,qe));const Ln=new Te(gn),xt=new ut(this.index,Ut,er,Et,Ae,Ln),He=new We(xt,this._injector),ot=new Zt(Ut.toastComponent,He),at=gn.attach(ot,this.toastrConfig.newestOnTop);Ln.componentInstance=at.instance;const en={toastId:this.index,title:Et||"",message:qe||"",toastRef:Ln,onShown:Ln.afterActivate(),onHidden:Ln.afterClosed(),onTap:xt.onTap(),onAction:xt.onAction(),portal:at};return sr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{en.toastRef.activate()})),this.toasts.push(en),en}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(_.LFG(At),_.LFG(Qe),_.LFG(_.zs3),_.LFG(Ue.H7),_.LFG(_.R0b))},ct.\u0275prov=_.Yz7({factory:function(){return new ct(_.LFG(At),_.LFG(Qe),_.LFG(_.gxx),_.LFG(Ue.H7),_.LFG(_.R0b))},token:ct,providedIn:"root"}),ct})(),wt=(()=>{class ct{constructor(Ae,qe,Et){this.toastrService=Ae,this.toastPackage=qe,this.ngZone=Et,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=qe.message,this.title=qe.title,this.options=qe.config,this.originalTimeout=qe.config.timeOut,this.toastClasses=`${qe.toastType} ${qe.config.toastClass}`,this.sub=qe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=qe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=qe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=qe.toastRef.countDuplicate().subscribe(Ut=>{this.duplicatesCount=Ut})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ae,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ae),qe)):this.timeout=setTimeout(()=>Ae(),qe)}outsideInterval(Ae,qe){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ae),qe)):this.intervalId=setInterval(()=>Ae(),qe)}runInsideAngular(Ae){this.ngZone?this.ngZone.run(()=>Ae()):Ae()}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(_.Y36(Ee),_.Y36(ut),_.Y36(_.R0b))},ct.\u0275cmp=_.Xpm({type:ct,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ae,qe){1&Ae&&_.NdJ("click",function(){return qe.tapToast()})("mouseenter",function(){return qe.stickAround()})("mouseleave",function(){return qe.delayedHideToast()}),2&Ae&&(_.d8E("@flyInOut",qe.state),_.Tol(qe.toastClasses),_.Udp("display",qe.displayStyle))},attrs:pe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Ae,qe){1&Ae&&(_.YNc(0,ze,3,0,"button",0),_.YNc(1,ye,3,5,"div",1),_.YNc(2,ne,1,3,"div",2),_.YNc(3,le,2,4,"div",3),_.YNc(4,ue,2,2,"div",4)),2&Ae&&(_.Q6J("ngIf",qe.options.closeButton),_.xp6(1),_.Q6J("ngIf",qe.title),_.xp6(1),_.Q6J("ngIf",qe.message&&qe.options.enableHtml),_.xp6(1),_.Q6J("ngIf",qe.message&&!qe.options.enableHtml),_.xp6(1),_.Q6J("ngIf",qe.options.progressBar))},directives:[Re.O5],encapsulation:2,data:{animation:[(0,f.X$)("flyInOut",[(0,f.SB)("inactive",(0,f.oB)({opacity:0})),(0,f.SB)("active",(0,f.oB)({opacity:1})),(0,f.SB)("removed",(0,f.oB)({opacity:0})),(0,f.eR)("inactive => active",(0,f.jt)("{{ easeTime }}ms {{ easing }}")),(0,f.eR)("active => removed",(0,f.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ct})();const Pt=Object.assign(Object.assign({},Ie),{toastComponent:wt});let qt=(()=>{class ct{static forRoot(Ae={}){return{ngModule:ct,providers:[{provide:At,useValue:{default:Pt,config:Ae}}]}}}return ct.\u0275fac=function(Ae){return new(Ae||ct)},ct.\u0275mod=_.oAB({type:ct}),ct.\u0275inj=_.cJS({imports:[[Re.ez]]}),ct})(),Ft=(()=>{class ct{constructor(Ae,qe,Et){this.toastrService=Ae,this.toastPackage=qe,this.appRef=Et,this.width=-1,this.toastClasses="",this.state="inactive",this.message=qe.message,this.title=qe.title,this.options=qe.config,this.originalTimeout=qe.config.timeOut,this.toastClasses=`${qe.toastType} ${qe.config.toastClass}`,this.sub=qe.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=qe.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=qe.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=qe.toastRef.countDuplicate().subscribe(Ut=>{this.duplicatesCount=Ut})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ae=(new Date).getTime();this.width=(this.hideTime-Ae)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return ct.\u0275fac=function(Ae){return new(Ae||ct)(_.Y36(Ee),_.Y36(ut),_.Y36(_.z2F))},ct.\u0275cmp=_.Xpm({type:ct,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Ae,qe){1&Ae&&_.NdJ("click",function(){return qe.tapToast()})("mouseenter",function(){return qe.stickAround()})("mouseleave",function(){return qe.delayedHideToast()}),2&Ae&&(_.Tol(qe.toastClasses),_.Udp("display",qe.displayStyle))},attrs:pe,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Ae,qe){1&Ae&&(_.YNc(0,Ve,3,0,"button",0),_.YNc(1,Ke,3,5,"div",1),_.YNc(2,Ze,1,3,"div",2),_.YNc(3,pt,2,4,"div",3),_.YNc(4,fe,2,2,"div",4)),2&Ae&&(_.Q6J("ngIf",qe.options.closeButton),_.xp6(1),_.Q6J("ngIf",qe.title),_.xp6(1),_.Q6J("ngIf",qe.message&&qe.options.enableHtml),_.xp6(1),_.Q6J("ngIf",qe.message&&!qe.options.enableHtml),_.xp6(1),_.Q6J("ngIf",qe.options.progressBar))},directives:[Re.O5],encapsulation:2}),ct})();Object.assign(Object.assign({},Ie),{toastComponent:Ft})},7574:(Ht,tt,Z)=>{"use strict";Z.d(tt,{y:()=>le});var _=Z(7393),te=Z(9181),Ue=Z(6490),pe=Z(6554),ze=Z(4487);var ne=Z(2494);let le=(()=>{class Ve{constructor(Ke){this._isScalar=!1,Ke&&(this._subscribe=Ke)}lift(Ke){const Ze=new Ve;return Ze.source=this,Ze.operator=Ke,Ze}subscribe(Ke,Ze,pt){const{operator:fe}=this,dt=function(Ve,Pe,Ke){if(Ve){if(Ve instanceof _.L)return Ve;if(Ve[te.b])return Ve[te.b]()}return Ve||Pe||Ke?new _.L(Ve,Pe,Ke):new _.L(Ue.c)}(Ke,Ze,pt);if(dt.add(fe?fe.call(dt,this.source):this.source||ne.v.useDeprecatedSynchronousErrorHandling&&!dt.syncErrorThrowable?this._subscribe(dt):this._trySubscribe(dt)),ne.v.useDeprecatedSynchronousErrorHandling&&dt.syncErrorThrowable&&(dt.syncErrorThrowable=!1,dt.syncErrorThrown))throw dt.syncErrorValue;return dt}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(Ze){ne.v.useDeprecatedSynchronousErrorHandling&&(Ke.syncErrorThrown=!0,Ke.syncErrorValue=Ze),function(Ve){for(;Ve;){const{closed:Pe,destination:Ke,isStopped:Ze}=Ve;if(Pe||Ze)return!1;Ve=Ke&&Ke instanceof _.L?Ke:null}return!0}(Ke)?Ke.error(Ze):console.warn(Ze)}}forEach(Ke,Ze){return new(Ze=ue(Ze))((pt,fe)=>{let dt;dt=this.subscribe(_t=>{try{Ke(_t)}catch(ut){fe(ut),dt&&dt.unsubscribe()}},fe,pt)})}_subscribe(Ke){const{source:Ze}=this;return Ze&&Ze.subscribe(Ke)}[pe.L](){return this}pipe(...Ke){return 0===Ke.length?this:function(Ve){return 0===Ve.length?ze.y:1===Ve.length?Ve[0]:function(Ke){return Ve.reduce((Ze,pt)=>pt(Ze),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=ue(Ke))((Ze,pt)=>{let fe;this.subscribe(dt=>fe=dt,dt=>pt(dt),()=>Ze(fe))})}}return Ve.create=Pe=>new Ve(Pe),Ve})();function ue(Ve){if(Ve||(Ve=ne.v.Promise||Promise),!Ve)throw new Error("no Promise impl found");return Ve}},6490:(Ht,tt,Z)=>{"use strict";Z.d(tt,{c:()=>te});var _=Z(2494),f=Z(4449);const te={closed:!0,next(Ue){},error(Ue){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ue;(0,f.z)(Ue)},complete(){}}},8229:(Ht,tt,Z)=>{"use strict";Z.d(tt,{t:()=>ze});var _=Z(9765),f=Z(7771),te=Z(5319),Ue=Z(309),Re=Z(7971),pe=Z(8858);class ze extends _.xQ{constructor(ne=Number.POSITIVE_INFINITY,le=Number.POSITIVE_INFINITY,ue){super(),this.scheduler=ue,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ne<1?1:ne,this._windowTime=le<1?1:le,le===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ne){if(!this.isStopped){const le=this._events;le.push(ne),le.length>this._bufferSize&&le.shift()}super.next(ne)}nextTimeWindow(ne){this.isStopped||(this._events.push(new he(this._getNow(),ne)),this._trimBufferThenGetEvents()),super.next(ne)}_subscribe(ne){const le=this._infiniteTimeWindow,ue=le?this._events:this._trimBufferThenGetEvents(),Ve=this.scheduler,Pe=ue.length;let Ke;if(this.closed)throw new Re.N;if(this.isStopped||this.hasError?Ke=te.w.EMPTY:(this.observers.push(ne),Ke=new pe.W(this,ne)),Ve&&ne.add(ne=new Ue.ht(ne,Ve)),le)for(let Ze=0;Ze<Pe&&!ne.closed;Ze++)ne.next(ue[Ze]);else for(let Ze=0;Ze<Pe&&!ne.closed;Ze++)ne.next(ue[Ze].value);return this.hasError?ne.error(this.thrownError):this.isStopped&&ne.complete(),Ke}_getNow(){return(this.scheduler||f.c).now()}_trimBufferThenGetEvents(){const ne=this._getNow(),le=this._bufferSize,ue=this._windowTime,Ve=this._events,Pe=Ve.length;let Ke=0;for(;Ke<Pe&&!(ne-Ve[Ke].time<ue);)Ke++;return Pe>le&&(Ke=Math.max(Ke,Pe-le)),Ke>0&&Ve.splice(0,Ke),Ve}}class he{constructor(ne,le){this.time=ne,this.value=le}}},9765:(Ht,tt,Z)=>{"use strict";Z.d(tt,{Yc:()=>ze,xQ:()=>he});var _=Z(7574),f=Z(7393),te=Z(5319),Ue=Z(7971),Re=Z(8858),pe=Z(9181);class ze extends f.L{constructor(le){super(le),this.destination=le}}let he=(()=>{class ne extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[pe.b](){return new ze(this)}lift(ue){const Ve=new ye(this,this);return Ve.operator=ue,Ve}next(ue){if(this.closed)throw new Ue.N;if(!this.isStopped){const{observers:Ve}=this,Pe=Ve.length,Ke=Ve.slice();for(let Ze=0;Ze<Pe;Ze++)Ke[Ze].next(ue)}}error(ue){if(this.closed)throw new Ue.N;this.hasError=!0,this.thrownError=ue,this.isStopped=!0;const{observers:Ve}=this,Pe=Ve.length,Ke=Ve.slice();for(let Ze=0;Ze<Pe;Ze++)Ke[Ze].error(ue);this.observers.length=0}complete(){if(this.closed)throw new Ue.N;this.isStopped=!0;const{observers:ue}=this,Ve=ue.length,Pe=ue.slice();for(let Ke=0;Ke<Ve;Ke++)Pe[Ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ue){if(this.closed)throw new Ue.N;return super._trySubscribe(ue)}_subscribe(ue){if(this.closed)throw new Ue.N;return this.hasError?(ue.error(this.thrownError),te.w.EMPTY):this.isStopped?(ue.complete(),te.w.EMPTY):(this.observers.push(ue),new Re.W(this,ue))}asObservable(){const ue=new _.y;return ue.source=this,ue}}return ne.create=(le,ue)=>new ye(le,ue),ne})();class ye extends he{constructor(le,ue){super(),this.destination=le,this.source=ue}next(le){const{destination:ue}=this;ue&&ue.next&&ue.next(le)}error(le){const{destination:ue}=this;ue&&ue.error&&this.destination.error(le)}complete(){const{destination:le}=this;le&&le.complete&&this.destination.complete()}_subscribe(le){const{source:ue}=this;return ue?this.source.subscribe(le):te.w.EMPTY}}},8858:(Ht,tt,Z)=>{"use strict";Z.d(tt,{W:()=>f});var _=Z(5319);class f extends _.w{constructor(Ue,Re){super(),this.subject=Ue,this.subscriber=Re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ue=this.subject,Re=Ue.observers;if(this.subject=null,!Re||0===Re.length||Ue.isStopped||Ue.closed)return;const pe=Re.indexOf(this.subscriber);-1!==pe&&Re.splice(pe,1)}}},7393:(Ht,tt,Z)=>{"use strict";Z.d(tt,{L:()=>ze});var _=Z(9105),f=Z(6490),te=Z(5319),Ue=Z(9181),Re=Z(2494),pe=Z(4449);class ze extends te.w{constructor(ne,le,ue){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=f.c;break;case 1:if(!ne){this.destination=f.c;break}if("object"==typeof ne){ne instanceof ze?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,ne,le,ue)}}[Ue.b](){return this}static create(ne,le,ue){const Ve=new ze(ne,le,ue);return Ve.syncErrorThrowable=!1,Ve}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class he extends ze{constructor(ne,le,ue,Ve){super(),this._parentSubscriber=ne;let Pe,Ke=this;(0,_.m)(le)?Pe=le:le&&(Pe=le.next,ue=le.error,Ve=le.complete,le!==f.c&&(Ke=Object.create(le),(0,_.m)(Ke.unsubscribe)&&this.add(Ke.unsubscribe.bind(Ke)),Ke.unsubscribe=this.unsubscribe.bind(this))),this._context=Ke,this._next=Pe,this._error=ue,this._complete=Ve}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:le}=this;Re.v.useDeprecatedSynchronousErrorHandling&&le.syncErrorThrowable?this.__tryOrSetError(le,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:le}=this,{useDeprecatedSynchronousErrorHandling:ue}=Re.v;if(this._error)ue&&le.syncErrorThrowable?(this.__tryOrSetError(le,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(le.syncErrorThrowable)ue?(le.syncErrorValue=ne,le.syncErrorThrown=!0):(0,pe.z)(ne),this.unsubscribe();else{if(this.unsubscribe(),ue)throw ne;(0,pe.z)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const le=()=>this._complete.call(this._context);Re.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,le),this.unsubscribe()):(this.__tryOrUnsub(le),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,le){try{ne.call(this._context,le)}catch(ue){if(this.unsubscribe(),Re.v.useDeprecatedSynchronousErrorHandling)throw ue;(0,pe.z)(ue)}}__tryOrSetError(ne,le,ue){if(!Re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{le.call(this._context,ue)}catch(Ve){return Re.v.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=Ve,ne.syncErrorThrown=!0,!0):((0,pe.z)(Ve),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},5319:(Ht,tt,Z)=>{"use strict";Z.d(tt,{w:()=>pe});var _=Z(9796),f=Z(1555),te=Z(9105);const Re=(()=>{function he(ye){return Error.call(this),this.message=ye?`${ye.length} errors occurred during unsubscription:\n${ye.map((ne,le)=>`${le+1}) ${ne.toLowerCase().toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ye,this}return he.prototype=Object.create(Error.prototype),he})();class pe{constructor(ye){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ye&&(this._ctorUnsubscribe=!0,this._unsubscribe=ye)}unsubscribe(){let ye;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:le,_unsubscribe:ue,_subscriptions:Ve}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof pe)ne.remove(this);else if(null!==ne)for(let Pe=0;Pe<ne.length;++Pe)ne[Pe].remove(this);if((0,te.m)(ue)){le&&(this._unsubscribe=void 0);try{ue.call(this)}catch(Pe){ye=Pe instanceof Re?ze(Pe.errors):[Pe]}}if((0,_.k)(Ve)){let Pe=-1,Ke=Ve.length;for(;++Pe<Ke;){const Ze=Ve[Pe];if((0,f.K)(Ze))try{Ze.unsubscribe()}catch(pt){ye=ye||[],pt instanceof Re?ye=ye.concat(ze(pt.errors)):ye.push(pt)}}}if(ye)throw new Re(ye)}add(ye){let ne=ye;if(!ye)return pe.EMPTY;switch(typeof ye){case"function":ne=new pe(ye);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof pe)){const Ve=ne;ne=new pe,ne._subscriptions=[Ve]}break;default:throw new Error("unrecognized teardown "+ye+" added to Subscription.")}let{_parentOrParents:le}=ne;if(null===le)ne._parentOrParents=this;else if(le instanceof pe){if(le===this)return ne;ne._parentOrParents=[le,this]}else{if(-1!==le.indexOf(this))return ne;le.push(this)}const ue=this._subscriptions;return null===ue?this._subscriptions=[ne]:ue.push(ne),ne}remove(ye){const ne=this._subscriptions;if(ne){const le=ne.indexOf(ye);-1!==le&&ne.splice(le,1)}}}var he;function ze(he){return he.reduce((ye,ne)=>ye.concat(ne instanceof Re?ne.errors:ne),[])}pe.EMPTY=((he=new pe).closed=!0,he)},2494:(Ht,tt,Z)=>{"use strict";Z.d(tt,{v:()=>f});let _=!1;const f={Promise:void 0,set useDeprecatedSynchronousErrorHandling(te){if(te){const Ue=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ue.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=te},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(Ht,tt,Z)=>{"use strict";Z.d(tt,{IY:()=>Ue,Ds:()=>pe,ft:()=>he});var _=Z(7393),f=Z(7574),te=Z(7444);class Ue extends _.L{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class pe extends _.L{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function he(ye,ne){if(ne.closed)return;if(ye instanceof f.y)return ye.subscribe(ne);let le;try{le=(0,te.s)(ye)(ne)}catch(ue){ne.error(ue)}return le}},2441:(Ht,tt,Z)=>{"use strict";Z.d(tt,{c:()=>Re,N:()=>pe});var _=Z(9765),f=Z(7574),te=Z(5319),Ue=Z(1307);class Re extends f.y{constructor(le,ue){super(),this.source=le,this.subjectFactory=ue,this._refCount=0,this._isComplete=!1}_subscribe(le){return this.getSubject().subscribe(le)}getSubject(){const le=this._subject;return(!le||le.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let le=this._connection;return le||(this._isComplete=!1,le=this._connection=new te.w,le.add(this.source.subscribe(new ze(this.getSubject(),this))),le.closed&&(this._connection=null,le=te.w.EMPTY)),le}refCount(){return(0,Ue.x)()(this)}}const pe=(()=>{const ne=Re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}}})();class ze extends _.Yc{constructor(le,ue){super(le),this.connectable=ue}_error(le){this._unsubscribe(),super._error(le)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const le=this.connectable;if(le){this.connectable=null;const ue=le._connection;le._refCount=0,le._subject=null,le._connection=null,ue&&ue.unsubscribe()}}}},8071:(Ht,tt,Z)=>{"use strict";Z.d(tt,{z:()=>Ue});var _=Z(5917),f=Z(3282);function Ue(...Re){return(0,f.J)(1)((0,_.of)(...Re))}},9193:(Ht,tt,Z)=>{"use strict";Z.d(tt,{E:()=>f,c:()=>te});var _=Z(7574);const f=new _.y(Re=>Re.complete());function te(Re){return Re?function(Re){return new _.y(pe=>Re.schedule(()=>pe.complete()))}(Re):f}},4402:(Ht,tt,Z)=>{"use strict";Z.d(tt,{D:()=>Ke});var _=Z(7574),f=Z(7444),te=Z(5319),Ue=Z(6554),ze=Z(4087),he=Z(377),le=Z(4072),ue=Z(9489);function Ke(Ze,pt){return pt?function(Ze,pt){if(null!=Ze){if(function(Ze){return Ze&&"function"==typeof Ze[Ue.L]}(Ze))return function(Ze,pt){return new _.y(fe=>{const dt=new te.w;return dt.add(pt.schedule(()=>{const _t=Ze[Ue.L]();dt.add(_t.subscribe({next(ut){dt.add(pt.schedule(()=>fe.next(ut)))},error(ut){dt.add(pt.schedule(()=>fe.error(ut)))},complete(){dt.add(pt.schedule(()=>fe.complete()))}}))})),dt})}(Ze,pt);if((0,le.t)(Ze))return function(Ze,pt){return new _.y(fe=>{const dt=new te.w;return dt.add(pt.schedule(()=>Ze.then(_t=>{dt.add(pt.schedule(()=>{fe.next(_t),dt.add(pt.schedule(()=>fe.complete()))}))},_t=>{dt.add(pt.schedule(()=>fe.error(_t)))}))),dt})}(Ze,pt);if((0,ue.z)(Ze))return(0,ze.r)(Ze,pt);if(function(Ze){return Ze&&"function"==typeof Ze[he.hZ]}(Ze)||"string"==typeof Ze)return function(Ze,pt){if(!Ze)throw new Error("Iterable cannot be null");return new _.y(fe=>{const dt=new te.w;let _t;return dt.add(()=>{_t&&"function"==typeof _t.return&&_t.return()}),dt.add(pt.schedule(()=>{_t=Ze[he.hZ](),dt.add(pt.schedule(function(){if(fe.closed)return;let ut,Ie;try{const At=_t.next();ut=At.value,Ie=At.done}catch(At){return void fe.error(At)}Ie?fe.complete():(fe.next(ut),this.schedule())}))})),dt})}(Ze,pt)}throw new TypeError((null!==Ze&&typeof Ze||Ze)+" is not observable")}(Ze,pt):Ze instanceof _.y?Ze:new _.y((0,f.s)(Ze))}},6693:(Ht,tt,Z)=>{"use strict";Z.d(tt,{n:()=>Ue});var _=Z(7574),f=Z(5015),te=Z(4087);function Ue(Re,pe){return pe?(0,te.r)(Re,pe):new _.y((0,f.V)(Re))}},6682:(Ht,tt,Z)=>{"use strict";Z.d(tt,{T:()=>Re});var _=Z(7574),f=Z(4869),te=Z(3282),Ue=Z(6693);function Re(...pe){let ze=Number.POSITIVE_INFINITY,he=null,ye=pe[pe.length-1];return(0,f.K)(ye)?(he=pe.pop(),pe.length>1&&"number"==typeof pe[pe.length-1]&&(ze=pe.pop())):"number"==typeof ye&&(ze=pe.pop()),null===he&&1===pe.length&&pe[0]instanceof _.y?pe[0]:(0,te.J)(ze)((0,Ue.n)(pe,he))}},5917:(Ht,tt,Z)=>{"use strict";Z.d(tt,{of:()=>Ue});var _=Z(4869),f=Z(6693),te=Z(4087);function Ue(...Re){let pe=Re[Re.length-1];return(0,_.K)(pe)?(Re.pop(),(0,te.r)(Re,pe)):(0,f.n)(Re)}},5304:(Ht,tt,Z)=>{"use strict";Z.d(tt,{K:()=>f});var _=Z(5345);function f(Re){return function(ze){const he=new te(Re),ye=ze.lift(he);return he.caught=ye}}class te{constructor(pe){this.selector=pe}call(pe,ze){return ze.subscribe(new Ue(pe,this.selector,this.caught))}}class Ue extends _.Ds{constructor(pe,ze,he){super(pe),this.selector=ze,this.caught=he}error(pe){if(!this.isStopped){let ze;try{ze=this.selector(pe,this.caught)}catch(ne){return void super.error(ne)}this._unsubscribeAndRecycle();const he=new _.IY(this);this.add(he);const ye=(0,_.ft)(ze,he);ye!==he&&this.add(ye)}}}},5242:(Ht,tt,Z)=>{"use strict";Z.d(tt,{d:()=>f});var _=Z(7393);function f(Re=null){return pe=>pe.lift(new te(Re))}class te{constructor(pe){this.defaultValue=pe}call(pe,ze){return ze.subscribe(new Ue(pe,this.defaultValue))}}class Ue extends _.L{constructor(pe,ze){super(pe),this.defaultValue=ze,this.isEmpty=!0}_next(pe){this.isEmpty=!1,this.destination.next(pe)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Ht,tt,Z)=>{"use strict";Z.d(tt,{h:()=>f});var _=Z(7393);function f(Re,pe){return function(he){return he.lift(new te(Re,pe))}}class te{constructor(pe,ze){this.predicate=pe,this.thisArg=ze}call(pe,ze){return ze.subscribe(new Ue(pe,this.predicate,this.thisArg))}}class Ue extends _.L{constructor(pe,ze,he){super(pe),this.predicate=ze,this.thisArg=he,this.count=0}_next(pe){let ze;try{ze=this.predicate.call(this.thisArg,pe,this.count++)}catch(he){return void this.destination.error(he)}ze&&this.destination.next(pe)}}},8049:(Ht,tt,Z)=>{"use strict";Z.d(tt,{P:()=>ze});var _=Z(3410),f=Z(5435),te=Z(5257),Ue=Z(5242),Re=Z(4635),pe=Z(4487);function ze(he,ye){const ne=arguments.length>=2;return le=>le.pipe(he?(0,f.h)((ue,Ve)=>he(ue,Ve,le)):pe.y,(0,te.q)(1),ne?(0,Ue.d)(ye):(0,Re.T)(()=>new _.K))}},8002:(Ht,tt,Z)=>{"use strict";Z.d(tt,{U:()=>f});var _=Z(7393);function f(Re,pe){return function(he){if("function"!=typeof Re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new te(Re,pe))}}class te{constructor(pe,ze){this.project=pe,this.thisArg=ze}call(pe,ze){return ze.subscribe(new Ue(pe,this.project,this.thisArg))}}class Ue extends _.L{constructor(pe,ze,he){super(pe),this.project=ze,this.count=0,this.thisArg=he||this}_next(pe){let ze;try{ze=this.project.call(this.thisArg,pe,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next(ze)}}},3282:(Ht,tt,Z)=>{"use strict";Z.d(tt,{J:()=>te});var _=Z(9773),f=Z(4487);function te(Ue=Number.POSITIVE_INFINITY){return(0,_.zg)(f.y,Ue)}},9773:(Ht,tt,Z)=>{"use strict";Z.d(tt,{zg:()=>Ue});var _=Z(8002),f=Z(4402),te=Z(5345);function Ue(he,ye,ne=Number.POSITIVE_INFINITY){return"function"==typeof ye?le=>le.pipe(Ue((ue,Ve)=>(0,f.D)(he(ue,Ve)).pipe((0,_.U)((Pe,Ke)=>ye(ue,Pe,Ve,Ke))),ne)):("number"==typeof ye&&(ne=ye),le=>le.lift(new Re(he,ne)))}class Re{constructor(ye,ne=Number.POSITIVE_INFINITY){this.project=ye,this.concurrent=ne}call(ye,ne){return ne.subscribe(new pe(ye,this.project,this.concurrent))}}class pe extends te.Ds{constructor(ye,ne,le=Number.POSITIVE_INFINITY){super(ye),this.project=ne,this.concurrent=le,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ye){this.active<this.concurrent?this._tryNext(ye):this.buffer.push(ye)}_tryNext(ye){let ne;const le=this.index++;try{ne=this.project(ye,le)}catch(ue){return void this.destination.error(ue)}this.active++,this._innerSub(ne)}_innerSub(ye){const ne=new te.IY(this),le=this.destination;le.add(ne);const ue=(0,te.ft)(ye,ne);ue!==ne&&le.add(ue)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ye){this.destination.next(ye)}notifyComplete(){const ye=this.buffer;this.active--,ye.length>0?this._next(ye.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Ht,tt,Z)=>{"use strict";Z.d(tt,{ht:()=>le,QV:()=>ye});var _=Z(7393),f=Z(9193),te=Z(5917),Ue=Z(7574);class he{constructor(Pe,Ke,Ze){this.kind=Pe,this.value=Ke,this.error=Ze,this.hasValue="N"===Pe}observe(Pe){switch(this.kind){case"N":return Pe.next&&Pe.next(this.value);case"E":return Pe.error&&Pe.error(this.error);case"C":return Pe.complete&&Pe.complete()}}do(Pe,Ke,Ze){switch(this.kind){case"N":return Pe&&Pe(this.value);case"E":return Ke&&Ke(this.error);case"C":return Ze&&Ze()}}accept(Pe,Ke,Ze){return Pe&&"function"==typeof Pe.next?this.observe(Pe):this.do(Pe,Ke,Ze)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return Ve=this.error,new Ue.y(Ke=>Ke.error(Ve));case"C":return(0,f.c)()}var Ve;throw new Error("unexpected notification kind value")}static createNext(Pe){return void 0!==Pe?new he("N",Pe):he.undefinedValueNotification}static createError(Pe){return new he("E",void 0,Pe)}static createComplete(){return he.completeNotification}}function ye(Ve,Pe=0){return function(Ze){return Ze.lift(new ne(Ve,Pe))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class ne{constructor(Pe,Ke=0){this.scheduler=Pe,this.delay=Ke}call(Pe,Ke){return Ke.subscribe(new le(Pe,this.scheduler,this.delay))}}class le extends _.L{constructor(Pe,Ke,Ze=0){super(Pe),this.scheduler=Ke,this.delay=Ze}static dispatch(Pe){const{notification:Ke,destination:Ze}=Pe;Ke.observe(Ze),this.unsubscribe()}scheduleMessage(Pe){this.destination.add(this.scheduler.schedule(le.dispatch,this.delay,new ue(Pe,this.destination)))}_next(Pe){this.scheduleMessage(he.createNext(Pe))}_error(Pe){this.scheduleMessage(he.createError(Pe)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class ue{constructor(Pe,Ke){this.notification=Pe,this.destination=Ke}}},1307:(Ht,tt,Z)=>{"use strict";Z.d(tt,{x:()=>f});var _=Z(7393);function f(){return function(pe){return pe.lift(new te(pe))}}class te{constructor(pe){this.connectable=pe}call(pe,ze){const{connectable:he}=this;he._refCount++;const ye=new Ue(pe,he),ne=ze.subscribe(ye);return ye.closed||(ye.connection=he.connect()),ne}}class Ue extends _.L{constructor(pe,ze){super(pe),this.connectable=ze}_unsubscribe(){const{connectable:pe}=this;if(!pe)return void(this.connection=null);this.connectable=null;const ze=pe._refCount;if(ze<=0)return void(this.connection=null);if(pe._refCount=ze-1,ze>1)return void(this.connection=null);const{connection:he}=this,ye=pe._connection;this.connection=null,ye&&(!he||ye===he)&&ye.unsubscribe()}}},2145:(Ht,tt,Z)=>{"use strict";Z.d(tt,{R:()=>f});var _=Z(7393);function f(Re,pe){let ze=!1;return arguments.length>=2&&(ze=!0),function(ye){return ye.lift(new te(Re,pe,ze))}}class te{constructor(pe,ze,he=!1){this.accumulator=pe,this.seed=ze,this.hasSeed=he}call(pe,ze){return ze.subscribe(new Ue(pe,this.accumulator,this.seed,this.hasSeed))}}class Ue extends _.L{constructor(pe,ze,he,ye){super(pe),this.accumulator=ze,this._seed=he,this.hasSeed=ye,this.index=0}get seed(){return this._seed}set seed(pe){this.hasSeed=!0,this._seed=pe}_next(pe){if(this.hasSeed)return this._tryNext(pe);this.seed=pe,this.destination.next(pe)}_tryNext(pe){const ze=this.index++;let he;try{he=this.accumulator(this.seed,pe,ze)}catch(ye){this.destination.error(ye)}this.seed=he,this.destination.next(he)}}},8819:(Ht,tt,Z)=>{"use strict";Z.d(tt,{B:()=>ze});var _=Z(2441);var Ue=Z(1307),Re=Z(9765);function pe(){return new Re.xQ}function ze(){return he=>(0,Ue.x)()(function(he,ye){return function(le){let ue;ue="function"==typeof he?he:function(){return he};const Ve=Object.create(le,_.N);return Ve.source=le,Ve.subjectFactory=ue,Ve}}(pe)(he))}},9761:(Ht,tt,Z)=>{"use strict";Z.d(tt,{O:()=>te});var _=Z(8071),f=Z(4869);function te(...Ue){const Re=Ue[Ue.length-1];return(0,f.K)(Re)?(Ue.pop(),pe=>(0,_.z)(Ue,pe,Re)):pe=>(0,_.z)(Ue,pe)}},3101:(Ht,tt,Z)=>{"use strict";Z.d(tt,{R:()=>pt});var _=Z(7574);let f=1;const te=Promise.resolve(),Ue={};function Re(dt){return dt in Ue&&(delete Ue[dt],!0)}const pe={setImmediate(dt){const _t=f++;return Ue[_t]=!0,te.then(()=>Re(_t)&&dt()),_t},clearImmediate(dt){Re(dt)}};var he=Z(6465),ne=Z(6102);const Ve=new class extends ne.v{flush(_t){this.active=!0,this.scheduled=void 0;const{actions:ut}=this;let Ie,At=-1,Zt=ut.length;_t=_t||ut.shift();do{if(Ie=_t.execute(_t.state,_t.delay))break}while(++At<Zt&&(_t=ut.shift()));if(this.active=!1,Ie){for(;++At<Zt&&(_t=ut.shift());)_t.unsubscribe();throw Ie}}}(class extends he.o{constructor(_t,ut){super(_t,ut),this.scheduler=_t,this.work=ut}requestAsyncId(_t,ut,Ie=0){return null!==Ie&&Ie>0?super.requestAsyncId(_t,ut,Ie):(_t.actions.push(this),_t.scheduled||(_t.scheduled=pe.setImmediate(_t.flush.bind(_t,null))))}recycleAsyncId(_t,ut,Ie=0){if(null!==Ie&&Ie>0||null===Ie&&this.delay>0)return super.recycleAsyncId(_t,ut,Ie);0===_t.actions.length&&(pe.clearImmediate(ut),_t.scheduled=void 0)}});var Pe=Z(9796);class Ze extends _.y{constructor(_t,ut=0,Ie=Ve){var dt;super(),this.source=_t,this.delayTime=ut,this.scheduler=Ie,(!(!(0,Pe.k)(dt=ut)&&dt-parseFloat(dt)+1>=0)||ut<0)&&(this.delayTime=0),(!Ie||"function"!=typeof Ie.schedule)&&(this.scheduler=Ve)}static create(_t,ut=0,Ie=Ve){return new Ze(_t,ut,Ie)}static dispatch(_t){const{source:ut,subscriber:Ie}=_t;return this.add(ut.subscribe(Ie))}_subscribe(_t){return this.scheduler.schedule(Ze.dispatch,this.delayTime,{source:this.source,subscriber:_t})}}function pt(dt,_t=0){return function(Ie){return Ie.lift(new fe(dt,_t))}}class fe{constructor(_t,ut){this.scheduler=_t,this.delay=ut}call(_t,ut){return new Ze(ut,this.delay,this.scheduler).subscribe(_t)}}},3190:(Ht,tt,Z)=>{"use strict";Z.d(tt,{w:()=>Ue});var _=Z(8002),f=Z(4402),te=Z(5345);function Ue(ze,he){return"function"==typeof he?ye=>ye.pipe(Ue((ne,le)=>(0,f.D)(ze(ne,le)).pipe((0,_.U)((ue,Ve)=>he(ne,ue,le,Ve))))):ye=>ye.lift(new Re(ze))}class Re{constructor(he){this.project=he}call(he,ye){return ye.subscribe(new pe(he,this.project))}}class pe extends te.Ds{constructor(he,ye){super(he),this.project=ye,this.index=0}_next(he){let ye;const ne=this.index++;try{ye=this.project(he,ne)}catch(le){return void this.destination.error(le)}this._innerSub(ye)}_innerSub(he){const ye=this.innerSubscription;ye&&ye.unsubscribe();const ne=new te.IY(this),le=this.destination;le.add(ne),this.innerSubscription=(0,te.ft)(he,ne),this.innerSubscription!==ne&&le.add(this.innerSubscription)}_complete(){const{innerSubscription:he}=this;(!he||he.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(he){this.destination.next(he)}}},5257:(Ht,tt,Z)=>{"use strict";Z.d(tt,{q:()=>Ue});var _=Z(7393),f=Z(7108),te=Z(9193);function Ue(ze){return he=>0===ze?(0,te.c)():he.lift(new Re(ze))}class Re{constructor(he){if(this.total=he,this.total<0)throw new f.W}call(he,ye){return ye.subscribe(new pe(he,this.total))}}class pe extends _.L{constructor(he,ye){super(he),this.total=ye,this.count=0}_next(he){const ye=this.total,ne=++this.count;ne<=ye&&(this.destination.next(he),ne===ye&&(this.destination.complete(),this.unsubscribe()))}}},8307:(Ht,tt,Z)=>{"use strict";Z.d(tt,{b:()=>Ue});var _=Z(7393),f=Z(8640),te=Z(9105);function Ue(ze,he,ye){return function(le){return le.lift(new Re(ze,he,ye))}}class Re{constructor(he,ye,ne){this.nextOrObserver=he,this.error=ye,this.complete=ne}call(he,ye){return ye.subscribe(new pe(he,this.nextOrObserver,this.error,this.complete))}}class pe extends _.L{constructor(he,ye,ne,le){super(he),this._tapNext=f.Z,this._tapError=f.Z,this._tapComplete=f.Z,this._tapError=ne||f.Z,this._tapComplete=le||f.Z,(0,te.m)(ye)?(this._context=this,this._tapNext=ye):ye&&(this._context=ye,this._tapNext=ye.next||f.Z,this._tapError=ye.error||f.Z,this._tapComplete=ye.complete||f.Z)}_next(he){try{this._tapNext.call(this._context,he)}catch(ye){return void this.destination.error(ye)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(ye){return void this.destination.error(ye)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4635:(Ht,tt,Z)=>{"use strict";Z.d(tt,{T:()=>te});var _=Z(3410),f=Z(7393);function te(ze=pe){return he=>he.lift(new Ue(ze))}class Ue{constructor(he){this.errorFactory=he}call(he,ye){return ye.subscribe(new Re(he,this.errorFactory))}}class Re extends f.L{constructor(he,ye){super(he),this.errorFactory=ye,this.hasValue=!1}_next(he){this.hasValue=!0,this.destination.next(he)}_complete(){if(this.hasValue)return this.destination.complete();{let he;try{he=this.errorFactory()}catch(ye){he=ye}this.destination.error(he)}}}function pe(){return new _.K}},4087:(Ht,tt,Z)=>{"use strict";Z.d(tt,{r:()=>te});var _=Z(7574),f=Z(5319);function te(Ue,Re){return new _.y(pe=>{const ze=new f.w;let he=0;return ze.add(Re.schedule(function(){he!==Ue.length?(pe.next(Ue[he++]),pe.closed||ze.add(this.schedule())):pe.complete()})),ze})}},6465:(Ht,tt,Z)=>{"use strict";Z.d(tt,{o:()=>te});var _=Z(5319);class f extends _.w{constructor(Re,pe){super()}schedule(Re,pe=0){return this}}class te extends f{constructor(Re,pe){super(Re,pe),this.scheduler=Re,this.work=pe,this.pending=!1}schedule(Re,pe=0){if(this.closed)return this;this.state=Re;const ze=this.id,he=this.scheduler;return null!=ze&&(this.id=this.recycleAsyncId(he,ze,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(he,this.id,pe),this}requestAsyncId(Re,pe,ze=0){return setInterval(Re.flush.bind(Re,this),ze)}recycleAsyncId(Re,pe,ze=0){if(null!==ze&&this.delay===ze&&!1===this.pending)return pe;clearInterval(pe)}execute(Re,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ze=this._execute(Re,pe);if(ze)return ze;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Re,pe){let he,ze=!1;try{this.work(Re)}catch(ye){ze=!0,he=!!ye&&ye||new Error(ye)}if(ze)return this.unsubscribe(),he}_unsubscribe(){const Re=this.id,pe=this.scheduler,ze=pe.actions,he=ze.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&ze.splice(he,1),null!=Re&&(this.id=this.recycleAsyncId(pe,Re,null)),this.delay=null}}},6102:(Ht,tt,Z)=>{"use strict";Z.d(tt,{v:()=>f});let _=(()=>{class te{constructor(Re,pe=te.now){this.SchedulerAction=Re,this.now=pe}schedule(Re,pe=0,ze){return new this.SchedulerAction(this,Re).schedule(ze,pe)}}return te.now=()=>Date.now(),te})();class f extends _{constructor(Ue,Re=_.now){super(Ue,()=>f.delegate&&f.delegate!==this?f.delegate.now():Re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ue,Re=0,pe){return f.delegate&&f.delegate!==this?f.delegate.schedule(Ue,Re,pe):super.schedule(Ue,Re,pe)}flush(Ue){const{actions:Re}=this;if(this.active)return void Re.push(Ue);let pe;this.active=!0;do{if(pe=Ue.execute(Ue.state,Ue.delay))break}while(Ue=Re.shift());if(this.active=!1,pe){for(;Ue=Re.shift();)Ue.unsubscribe();throw pe}}}},3637:(Ht,tt,Z)=>{"use strict";Z.d(tt,{z:()=>te,P:()=>Ue});var _=Z(6465);const te=new(Z(6102).v)(_.o),Ue=te},7771:(Ht,tt,Z)=>{"use strict";Z.d(tt,{c:()=>pe,N:()=>Re});var _=Z(6465),te=Z(6102);const Re=new class extends te.v{}(class extends _.o{constructor(he,ye){super(he,ye),this.scheduler=he,this.work=ye}schedule(he,ye=0){return ye>0?super.schedule(he,ye):(this.delay=ye,this.state=he,this.scheduler.flush(this),this)}execute(he,ye){return ye>0||this.closed?super.execute(he,ye):this._execute(he,ye)}requestAsyncId(he,ye,ne=0){return null!==ne&&ne>0||null===ne&&this.delay>0?super.requestAsyncId(he,ye,ne):he.flush(this)}}),pe=Re},377:(Ht,tt,Z)=>{"use strict";Z.d(tt,{hZ:()=>f});const f="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ht,tt,Z)=>{"use strict";Z.d(tt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ht,tt,Z)=>{"use strict";Z.d(tt,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Ht,tt,Z)=>{"use strict";Z.d(tt,{W:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return te.prototype=Object.create(Error.prototype),te})()},3410:(Ht,tt,Z)=>{"use strict";Z.d(tt,{K:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return te.prototype=Object.create(Error.prototype),te})()},7971:(Ht,tt,Z)=>{"use strict";Z.d(tt,{N:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return te.prototype=Object.create(Error.prototype),te})()},4449:(Ht,tt,Z)=>{"use strict";function _(f){setTimeout(()=>{throw f},0)}Z.d(tt,{z:()=>_})},4487:(Ht,tt,Z)=>{"use strict";function _(f){return f}Z.d(tt,{y:()=>_})},9796:(Ht,tt,Z)=>{"use strict";Z.d(tt,{k:()=>_});const _=Array.isArray||(f=>f&&"number"==typeof f.length)},9489:(Ht,tt,Z)=>{"use strict";Z.d(tt,{z:()=>_});const _=f=>f&&"number"==typeof f.length&&"function"!=typeof f},9105:(Ht,tt,Z)=>{"use strict";function _(f){return"function"==typeof f}Z.d(tt,{m:()=>_})},1555:(Ht,tt,Z)=>{"use strict";function _(f){return null!==f&&"object"==typeof f}Z.d(tt,{K:()=>_})},4072:(Ht,tt,Z)=>{"use strict";function _(f){return!!f&&"function"!=typeof f.subscribe&&"function"==typeof f.then}Z.d(tt,{t:()=>_})},4869:(Ht,tt,Z)=>{"use strict";function _(f){return f&&"function"==typeof f.schedule}Z.d(tt,{K:()=>_})},8640:(Ht,tt,Z)=>{"use strict";function _(){}Z.d(tt,{Z:()=>_})},7444:(Ht,tt,Z)=>{"use strict";Z.d(tt,{s:()=>le});var _=Z(5015),f=Z(4449),Ue=Z(377),pe=Z(6554),he=Z(9489),ye=Z(4072),ne=Z(1555);const le=ue=>{if(ue&&"function"==typeof ue[pe.L])return(ue=>Ve=>{const Pe=ue[pe.L]();if("function"!=typeof Pe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Pe.subscribe(Ve)})(ue);if((0,he.z)(ue))return(0,_.V)(ue);if((0,ye.t)(ue))return(ue=>Ve=>(ue.then(Pe=>{Ve.closed||(Ve.next(Pe),Ve.complete())},Pe=>Ve.error(Pe)).then(null,f.z),Ve))(ue);if(ue&&"function"==typeof ue[Ue.hZ])return(ue=>Ve=>{const Pe=ue[Ue.hZ]();for(;;){let Ke;try{Ke=Pe.next()}catch(Ze){return Ve.error(Ze),Ve}if(Ke.done){Ve.complete();break}if(Ve.next(Ke.value),Ve.closed)break}return"function"==typeof Pe.return&&Ve.add(()=>{Pe.return&&Pe.return()}),Ve})(ue);{const Pe=`You provided ${(0,ne.K)(ue)?"an invalid object":`'${ue}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Pe)}}},5015:(Ht,tt,Z)=>{"use strict";Z.d(tt,{V:()=>_});const _=f=>te=>{for(let Ue=0,Re=f.length;Ue<Re&&!te.closed;Ue++)te.next(f[Ue]);te.complete()}},8259:function(Ht){Ht.exports=function(){"use strict";const tt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Z="SweetAlert2:",f=O=>O.charAt(0).toUpperCase()+O.slice(1),te=O=>Array.prototype.slice.call(O),Ue=O=>{console.warn("".concat(Z," ").concat("object"==typeof O?O.join(" "):O))},Re=O=>{console.error("".concat(Z," ").concat(O))},pe=[],he=(O,P)=>{(O=>{pe.includes(O)||(pe.push(O),Ue(O))})('"'.concat(O,'" is deprecated and will be removed in the next major release. Please use "').concat(P,'" instead.'))},ye=O=>"function"==typeof O?O():O,ne=O=>O&&"function"==typeof O.toPromise,le=O=>ne(O)?O.toPromise():Promise.resolve(O),ue=O=>O&&Promise.resolve(O)===O,Pe=O=>O instanceof Element||(O=>"object"==typeof O&&O.jquery)(O),pt=O=>{const P={};for(const Y in O)P[O[Y]]="swal2-"+O[Y];return P},fe=pt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),dt=pt(["success","warning","info","question","error"]),_t=()=>document.body.querySelector(".".concat(fe.container)),ut=O=>{const P=_t();return P?P.querySelector(O):null},Ie=O=>ut(".".concat(O)),At=()=>Ie(fe.popup),Zt=()=>Ie(fe.icon),Xt=()=>Ie(fe.title),Xe=()=>Ie(fe["html-container"]),Le=()=>Ie(fe.image),nt=()=>Ie(fe["progress-steps"]),Qe=()=>Ie(fe["validation-message"]),Te=()=>ut(".".concat(fe.actions," .").concat(fe.confirm)),We=()=>ut(".".concat(fe.actions," .").concat(fe.deny)),wt=()=>ut(".".concat(fe.loader)),Pt=()=>ut(".".concat(fe.actions," .").concat(fe.cancel)),qt=()=>Ie(fe.actions),Gt=()=>Ie(fe.footer),Ft=()=>Ie(fe["timer-progress-bar"]),Kt=()=>Ie(fe.close),ct=()=>{const O=te(At().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Y,Ne)=>(Y=parseInt(Y.getAttribute("tabindex")))>(Ne=parseInt(Ne.getAttribute("tabindex")))?1:Y<Ne?-1:0),P=te(At().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Y=>"-1"!==Y.getAttribute("tabindex"));return(O=>{const P=[];for(let Y=0;Y<O.length;Y++)-1===P.indexOf(O[Y])&&P.push(O[Y]);return P})(O.concat(P)).filter(Y=>vn(Y))},lt=()=>!Ae()&&!document.body.classList.contains(fe["no-backdrop"]),Ae=()=>document.body.classList.contains(fe["toast-shown"]),Et={previousBodyPadding:null},Ut=(O,P)=>{if(O.textContent="",P){const Ne=(new DOMParser).parseFromString(P,"text/html");te(Ne.querySelector("head").childNodes).forEach(St=>{O.appendChild(St)}),te(Ne.querySelector("body").childNodes).forEach(St=>{O.appendChild(St)})}},An=(O,P)=>{if(!P)return!1;const Y=P.split(/\s+/);for(let Ne=0;Ne<Y.length;Ne++)if(!O.classList.contains(Y[Ne]))return!1;return!0},gn=(O,P,Y)=>{if(((O,P)=>{te(O.classList).forEach(Y=>{!Object.values(fe).includes(Y)&&!Object.values(dt).includes(Y)&&!Object.values(P.showClass).includes(Y)&&O.classList.remove(Y)})})(O,P),P.customClass&&P.customClass[Y]){if("string"!=typeof P.customClass[Y]&&!P.customClass[Y].forEach)return Ue("Invalid type of customClass.".concat(Y,'! Expected string or iterable object, got "').concat(typeof P.customClass[Y],'"'));He(O,P.customClass[Y])}},er=(O,P)=>{if(!P)return null;switch(P){case"select":case"textarea":case"file":return at(O,fe[P]);case"checkbox":return O.querySelector(".".concat(fe.checkbox," input"));case"radio":return O.querySelector(".".concat(fe.radio," input:checked"))||O.querySelector(".".concat(fe.radio," input:first-child"));case"range":return O.querySelector(".".concat(fe.range," input"));default:return at(O,fe.input)}},Ln=O=>{if(O.focus(),"file"!==O.type){const P=O.value;O.value="",O.value=P}},xt=(O,P,Y)=>{!O||!P||("string"==typeof P&&(P=P.split(/\s+/).filter(Boolean)),P.forEach(Ne=>{O.forEach?O.forEach(St=>{Y?St.classList.add(Ne):St.classList.remove(Ne)}):Y?O.classList.add(Ne):O.classList.remove(Ne)}))},He=(O,P)=>{xt(O,P,!0)},ot=(O,P)=>{xt(O,P,!1)},at=(O,P)=>{for(let Y=0;Y<O.childNodes.length;Y++)if(An(O.childNodes[Y],P))return O.childNodes[Y]},en=(O,P,Y)=>{Y==="".concat(parseInt(Y))&&(Y=parseInt(Y)),Y||0===parseInt(Y)?O.style[P]="number"==typeof Y?"".concat(Y,"px"):Y:O.style.removeProperty(P)},sn=(O,P="flex")=>{O.style.display=P},_n=O=>{O.style.display="none"},un=(O,P,Y,Ne)=>{const St=O.querySelector(P);St&&(St.style[Y]=Ne)},Qt=(O,P,Y)=>{P?sn(O,Y):_n(O)},vn=O=>!(!O||!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)),Sr=O=>O.scrollHeight>O.clientHeight,tr=O=>{const P=window.getComputedStyle(O),Y=parseFloat(P.getPropertyValue("animation-duration")||"0"),Ne=parseFloat(P.getPropertyValue("transition-duration")||"0");return Y>0||Ne>0},kt=(O,P=!1)=>{const Y=Ft();vn(Y)&&(P&&(Y.style.transition="none",Y.style.width="100%"),setTimeout(()=>{Y.style.transition="width ".concat(O/1e3,"s linear"),Y.style.width="0%"},10))},Gr=()=>"undefined"==typeof window||"undefined"==typeof document,Ri='\n <div aria-labelledby="'.concat(fe.title,'" aria-describedby="').concat(fe["html-container"],'" class="').concat(fe.popup,'" tabindex="-1">\n   <button type="button" class="').concat(fe.close,'"></button>\n   <ul class="').concat(fe["progress-steps"],'"></ul>\n   <div class="').concat(fe.icon,'"></div>\n   <img class="').concat(fe.image,'" />\n   <h2 class="').concat(fe.title,'" id="').concat(fe.title,'"></h2>\n   <div class="').concat(fe["html-container"],'" id="').concat(fe["html-container"],'"></div>\n   <input class="').concat(fe.input,'" />\n   <input type="file" class="').concat(fe.file,'" />\n   <div class="').concat(fe.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(fe.select,'"></select>\n   <div class="').concat(fe.radio,'"></div>\n   <label for="').concat(fe.checkbox,'" class="').concat(fe.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(fe.label,'"></span>\n   </label>\n   <textarea class="').concat(fe.textarea,'"></textarea>\n   <div class="').concat(fe["validation-message"],'" id="').concat(fe["validation-message"],'"></div>\n   <div class="').concat(fe.actions,'">\n     <div class="').concat(fe.loader,'"></div>\n     <button type="button" class="').concat(fe.confirm,'"></button>\n     <button type="button" class="').concat(fe.deny,'"></button>\n     <button type="button" class="').concat(fe.cancel,'"></button>\n   </div>\n   <div class="').concat(fe.footer,'"></div>\n   <div class="').concat(fe["timer-progress-bar-container"],'">\n     <div class="').concat(fe["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),dr=()=>{Ms.isVisible()&&Ms.resetValidationMessage()},ke=O=>{const P=(()=>{const O=_t();return!!O&&(O.remove(),ot([document.documentElement,document.body],[fe["no-backdrop"],fe["toast-shown"],fe["has-column"]]),!0)})();if(Gr())return void Re("SweetAlert2 requires document to initialize");const Y=document.createElement("div");Y.className=fe.container,P&&He(Y,fe["no-transition"]),Ut(Y,Ri);const Ne=(O=>"string"==typeof O?document.querySelector(O):O)(O.target);Ne.appendChild(Y),(O=>{const P=At();P.setAttribute("role",O.toast?"alert":"dialog"),P.setAttribute("aria-live",O.toast?"polite":"assertive"),O.toast||P.setAttribute("aria-modal","true")})(O),(O=>{"rtl"===window.getComputedStyle(O).direction&&He(_t(),fe.rtl)})(Ne),(()=>{const O=At(),P=at(O,fe.input),Y=at(O,fe.file),Ne=O.querySelector(".".concat(fe.range," input")),St=O.querySelector(".".concat(fe.range," output")),Dn=at(O,fe.select),Qn=O.querySelector(".".concat(fe.checkbox," input")),rs=at(O,fe.textarea);P.oninput=dr,Y.onchange=dr,Dn.onchange=dr,Qn.onchange=dr,rs.oninput=dr,Ne.oninput=()=>{dr(),St.value=Ne.value},Ne.onchange=()=>{dr(),Ne.nextSibling.value=Ne.value}})()},bt=(O,P)=>{O instanceof HTMLElement?P.appendChild(O):"object"==typeof O?et(O,P):O&&Ut(P,O)},et=(O,P)=>{O.jquery?jt(P,O):Ut(P,O.toLowerCase().toString())},jt=(O,P)=>{if(O.textContent="",0 in P)for(let Y=0;Y in P;Y++)O.appendChild(P[Y].cloneNode(!0));else O.appendChild(P.cloneNode(!0))},pn=(()=>{if(Gr())return!1;const O=document.createElement("div"),P={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const Y in P)if(Object.prototype.hasOwnProperty.call(P,Y)&&void 0!==O.style[Y])return P[Y];return!1})(),Tr=(O,P)=>{const Y=qt(),Ne=wt(),St=Te(),Dn=We(),Qn=Pt();P.showConfirmButton||P.showDenyButton||P.showCancelButton?sn(Y):_n(Y),gn(Y,P,"actions"),Bn(St,"confirm",P),Bn(Dn,"deny",P),Bn(Qn,"cancel",P),function(O,P,Y,Ne){if(!Ne.buttonsStyling)return ot([O,P,Y],fe.styled);He([O,P,Y],fe.styled),Ne.confirmButtonColor&&(O.style.backgroundColor=Ne.confirmButtonColor,He(O,fe["default-outline"])),Ne.denyButtonColor&&(P.style.backgroundColor=Ne.denyButtonColor,He(P,fe["default-outline"])),Ne.cancelButtonColor&&(Y.style.backgroundColor=Ne.cancelButtonColor,He(Y,fe["default-outline"]))}(St,Dn,Qn,P),P.reverseButtons&&(Y.insertBefore(Qn,Ne),Y.insertBefore(Dn,Ne),Y.insertBefore(St,Ne)),Ut(Ne,P.loaderHtml),gn(Ne,P,"loader")};function Bn(O,P,Y){Qt(O,Y["show".concat(f(P),"Button")],"inline-block"),Ut(O,Y["".concat(P,"ButtonText")]),O.setAttribute("aria-label",Y["".concat(P,"ButtonAriaLabel")]),O.className=fe[P],gn(O,Y,"".concat(P,"Button")),He(O,Y["".concat(P,"ButtonClass")])}const ss=(O,P)=>{const Y=_t();!Y||(function(O,P){"string"==typeof P?O.style.background=P:P||He([document.documentElement,document.body],fe["no-backdrop"])}(Y,P.backdrop),function(O,P){P in fe?He(O,fe[P]):(Ue('The "position" parameter is not valid, defaulting to "center"'),He(O,fe.center))}(Y,P.position),function(O,P){if(P&&"string"==typeof P){const Y="grow-".concat(P);Y in fe&&He(O,fe[Y])}}(Y,P.grow),gn(Y,P,"container"))};var bn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ji=["input","file","range","select","radio","checkbox","textarea"],Jn=O=>{if(!zn[O.input])return Re('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(O.input,'"'));const P=Hi(O.input),Y=zn[O.input](P,O);sn(Y),setTimeout(()=>{Ln(Y)})},_r=(O,P)=>{const Y=er(At(),O);if(Y){(O=>{for(let P=0;P<O.attributes.length;P++){const Y=O.attributes[P].name;["type","value","style"].includes(Y)||O.removeAttribute(Y)}})(Y);for(const Ne in P)Y.setAttribute(Ne,P[Ne])}},En=O=>{const P=Hi(O.input);O.customClass&&He(P,O.customClass.input)},nn=(O,P)=>{(!O.placeholder||P.inputPlaceholder)&&(O.placeholder=P.inputPlaceholder)},br=(O,P,Y)=>{if(Y.inputLabel){O.id=fe.input;const Ne=document.createElement("label"),St=fe["input-label"];Ne.setAttribute("for",O.id),Ne.className=St,He(Ne,Y.customClass.inputLabel),Ne.innerText=Y.inputLabel,P.insertAdjacentElement("beforebegin",Ne)}},Hi=O=>{const P=fe[O]?fe[O]:fe.input;return at(At(),P)},zn={};zn.text=zn.email=zn.password=zn.number=zn.tel=zn.url=(O,P)=>("string"==typeof P.inputValue||"number"==typeof P.inputValue?O.value=P.inputValue:ue(P.inputValue)||Ue('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof P.inputValue,'"')),br(O,O,P),nn(O,P),O.type=P.input,O),zn.file=(O,P)=>(br(O,O,P),nn(O,P),O),zn.range=(O,P)=>{const Y=O.querySelector("input"),Ne=O.querySelector("output");return Y.value=P.inputValue,Y.type=P.input,Ne.value=P.inputValue,br(Y,O,P),O},zn.select=(O,P)=>{if(O.textContent="",P.inputPlaceholder){const Y=document.createElement("option");Ut(Y,P.inputPlaceholder),Y.value="",Y.disabled=!0,Y.selected=!0,O.appendChild(Y)}return br(O,O,P),O},zn.radio=O=>(O.textContent="",O),zn.checkbox=(O,P)=>{const Y=er(At(),"checkbox");Y.value=1,Y.id=fe.checkbox,Y.checked=Boolean(P.inputValue);const Ne=O.querySelector("span");return Ut(Ne,P.inputPlaceholder),O},zn.textarea=(O,P)=>{O.value=P.inputValue,nn(O,P),br(O,O,P);return setTimeout(()=>{if("MutationObserver"in window){const Ne=parseInt(window.getComputedStyle(At()).width);new MutationObserver(()=>{const Dn=O.offsetWidth+(Ne=>parseInt(window.getComputedStyle(Ne).marginLeft)+parseInt(window.getComputedStyle(Ne).marginRight))(O);At().style.width=Dn>Ne?"".concat(Dn,"px"):null}).observe(O,{attributes:!0,attributeFilter:["style"]})}}),O};const Nt=(O,P)=>{const Y=Xe();gn(Y,P,"htmlContainer"),P.html?(bt(P.html,Y),sn(Y,"block")):P.text?(Y.textContent=P.text,sn(Y,"block")):_n(Y),((O,P)=>{const Y=At(),Ne=bn.innerParams.get(O),St=!Ne||P.input!==Ne.input;ji.forEach(Dn=>{const Qn=fe[Dn],rs=at(Y,Qn);_r(Dn,P.inputAttributes),rs.className=Qn,St&&_n(rs)}),P.input&&(St&&Jn(P),En(P))})(O,P)},nr=(O,P)=>{for(const Y in dt)P.icon!==Y&&ot(O,dt[Y]);He(O,dt[P.icon]),Vn(O,P),mr(),gn(O,P,"icon")},mr=()=>{const O=At(),P=window.getComputedStyle(O).getPropertyValue("background-color"),Y=O.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ne=0;Ne<Y.length;Ne++)Y[Ne].style.backgroundColor=P},Kr=(O,P)=>{O.textContent="",Ut(O,P.iconHtml?yr(P.iconHtml):"success"===P.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===P.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':yr({question:"?",warning:"!",info:"i"}[P.icon]))},Vn=(O,P)=>{if(P.iconColor){O.style.color=P.iconColor,O.style.borderColor=P.iconColor;for(const Y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])un(O,Y,"backgroundColor",P.iconColor);un(O,".swal2-success-ring","borderColor",P.iconColor)}},yr=O=>'<div class="'.concat(fe["icon-content"],'">').concat(O,"</div>"),Oe=(O,P)=>{const Y=nt();if(!P.progressSteps||0===P.progressSteps.length)return _n(Y);sn(Y),Y.textContent="",P.currentProgressStep>=P.progressSteps.length&&Ue("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),P.progressSteps.forEach((Ne,St)=>{const Dn=(O=>{const P=document.createElement("li");return He(P,fe["progress-step"]),Ut(P,O),P})(Ne);if(Y.appendChild(Dn),St===P.currentProgressStep&&He(Dn,fe["active-progress-step"]),St!==P.progressSteps.length-1){const Qn=(O=>{const P=document.createElement("li");return He(P,fe["progress-step-line"]),O.progressStepsDistance&&(P.style.width=O.progressStepsDistance),P})(P);Y.appendChild(Qn)}})},gt=(O,P)=>{O.className="".concat(fe.popup," ").concat(vn(O)?P.showClass.popup:""),P.toast?(He([document.documentElement,document.body],fe["toast-shown"]),He(O,fe.toast)):He(O,fe.modal),gn(O,P,"popup"),"string"==typeof P.customClass&&He(O,P.customClass),P.icon&&He(O,fe["icon-".concat(P.icon)])},an=(O,P)=>{((O,P)=>{const Y=_t(),Ne=At();P.toast?(en(Y,"width",P.width),Ne.style.width="100%",Ne.insertBefore(wt(),Zt())):en(Ne,"width",P.width),en(Ne,"padding",P.padding),P.background&&(Ne.style.background=P.background),_n(Qe()),gt(Ne,P)})(0,P),ss(0,P),Oe(0,P),((O,P)=>{const Y=bn.innerParams.get(O),Ne=Zt();Y&&P.icon===Y.icon?(Kr(Ne,P),nr(Ne,P)):P.icon||P.iconHtml?P.icon&&-1===Object.keys(dt).indexOf(P.icon)?(Re('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(P.icon,'"')),_n(Ne)):(sn(Ne),Kr(Ne,P),nr(Ne,P),He(Ne,P.showClass.icon)):_n(Ne)})(O,P),((O,P)=>{const Y=Le();if(!P.imageUrl)return _n(Y);sn(Y,""),Y.setAttribute("src",P.imageUrl),Y.setAttribute("alt",P.imageAlt),en(Y,"width",P.imageWidth),en(Y,"height",P.imageHeight),Y.className=fe.image,gn(Y,P,"image")})(0,P),((O,P)=>{const Y=Xt();Qt(Y,P.title||P.titleText,"block"),P.title&&bt(P.title,Y),P.titleText&&(Y.innerText=P.titleText),gn(Y,P,"title")})(0,P),((O,P)=>{const Y=Kt();Ut(Y,P.closeButtonHtml),gn(Y,P,"closeButton"),Qt(Y,P.showCloseButton),Y.setAttribute("aria-label",P.closeButtonAriaLabel)})(0,P),Nt(O,P),Tr(0,P),((O,P)=>{const Y=Gt();Qt(Y,P.footer),P.footer&&bt(P.footer,Y),gn(Y,P,"footer")})(0,P),"function"==typeof P.didRender&&P.didRender(At())},lr=()=>Te()&&Te().click();const Ur=O=>{let P=At();P||Ms.fire(),P=At();const Y=wt();Ae()?_n(Zt()):mi(P,O),sn(Y),P.setAttribute("data-loading",!0),P.setAttribute("aria-busy",!0),P.focus()},mi=(O,P)=>{const Y=qt(),Ne=wt();!P&&vn(Te())&&(P=Te()),sn(Y),P&&(_n(P),Ne.setAttribute("data-button-to-replace",P.className)),Ne.parentNode.insertBefore(Ne,P),He([O,Y],fe.loading)},mn={},Fs=O=>new Promise(P=>{if(!O)return P();const Y=window.scrollX,Ne=window.scrollY;mn.restoreFocusTimeout=setTimeout(()=>{mn.previousActiveElement&&mn.previousActiveElement.focus?(mn.previousActiveElement.focus(),mn.previousActiveElement=null):document.body&&document.body.focus(),P()},100),window.scrollTo(Y,Ne)}),rr=()=>{if(mn.timeout)return(()=>{const O=Ft(),P=parseInt(window.getComputedStyle(O).width);O.style.removeProperty("transition"),O.style.width="100%";const Y=parseInt(window.getComputedStyle(O).width),Ne=parseInt(P/Y*100);O.style.removeProperty("transition"),O.style.width="".concat(Ne,"%")})(),mn.timeout.stop()},ri=()=>{if(mn.timeout){const O=mn.timeout.start();return kt(O),O}};let ur=!1;const Vs={};const Ti=O=>{for(let P=O.target;P&&P!==document;P=P.parentNode)for(const Y in Vs){const Ne=P.getAttribute(Y);if(Ne)return void Vs[Y].fire({template:Ne})}},Yi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},di=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],yi={},_s=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],oi=O=>Object.prototype.hasOwnProperty.call(Yi,O),Oi=O=>yi[O],Qi=O=>{oi(O)||Ue('Unknown parameter "'.concat(O,'"'))},as=O=>{_s.includes(O)&&Ue('The parameter "'.concat(O,'" is incompatible with toasts'))},Ji=O=>{Oi(O)&&he(O,Oi(O))};var qo=Object.freeze({isValidParameter:oi,isUpdatableParameter:O=>-1!==di.indexOf(O),isDeprecatedParameter:Oi,argsToParams:O=>{const P={};return"object"!=typeof O[0]||Pe(O[0])?["title","html","icon"].forEach((Y,Ne)=>{const St=O[Ne];"string"==typeof St||Pe(St)?P[Y]=St:void 0!==St&&Re("Unexpected type of ".concat(Y,'! Expected "string" or "Element", got ').concat(typeof St))}):Object.assign(P,O[0]),P},isVisible:()=>vn(At()),clickConfirm:lr,clickDeny:()=>We()&&We().click(),clickCancel:()=>Pt()&&Pt().click(),getContainer:_t,getPopup:At,getTitle:Xt,getHtmlContainer:Xe,getImage:Le,getIcon:Zt,getInputLabel:()=>Ie(fe["input-label"]),getCloseButton:Kt,getActions:qt,getConfirmButton:Te,getDenyButton:We,getCancelButton:Pt,getLoader:wt,getFooter:Gt,getTimerProgressBar:Ft,getFocusableElements:ct,getValidationMessage:Qe,isLoading:()=>At().hasAttribute("data-loading"),fire:function(...O){return new this(...O)},mixin:function(O){return class extends(this){_main(Ne,St){return super._main(Ne,Object.assign({},O,St))}}},showLoading:Ur,enableLoading:Ur,getTimerLeft:()=>mn.timeout&&mn.timeout.getTimerLeft(),stopTimer:rr,resumeTimer:ri,toggleTimer:()=>{const O=mn.timeout;return O&&(O.running?rr():ri())},increaseTimer:O=>{if(mn.timeout){const P=mn.timeout.increase(O);return kt(P,!0),P}},isTimerRunning:()=>mn.timeout&&mn.timeout.isRunning(),bindClickHandler:function(O="data-swal-template"){Vs[O]=this,ur||(document.body.addEventListener("click",Ti),ur=!0)}});function _i(){const O=bn.innerParams.get(this);if(!O)return;const P=bn.domCache.get(this);_n(P.loader),Ae()?O.icon&&sn(Zt()):_o(P),ot([P.popup,P.actions],fe.loading),P.popup.removeAttribute("aria-busy"),P.popup.removeAttribute("data-loading"),P.confirmButton.disabled=!1,P.denyButton.disabled=!1,P.cancelButton.disabled=!1}const _o=O=>{const P=O.popup.getElementsByClassName(O.loader.getAttribute("data-button-to-replace"));P.length?sn(P[0],"inline-block"):!vn(Te())&&!vn(We())&&!vn(Pt())&&_n(O.actions)};const hi=()=>{null===Et.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Et.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Et.previousBodyPadding+(()=>{const O=document.createElement("div");O.className=fe["scrollbar-measure"],document.body.appendChild(O);const P=O.getBoundingClientRect().width-O.clientWidth;return document.body.removeChild(O),P})(),"px"))},Ys=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const P=44;At().scrollHeight>window.innerHeight-P&&(_t().style.paddingBottom="".concat(P,"px"))}},ls=()=>{const O=_t();let P;O.ontouchstart=Y=>{P=us(Y)},O.ontouchmove=Y=>{P&&(Y.preventDefault(),Y.stopPropagation())}},us=O=>{const P=O.target,Y=_t();return!(cs(O)||ki(O)||P!==Y&&(Sr(Y)||"INPUT"===P.tagName||"TEXTAREA"===P.tagName||Sr(Xe())&&Xe().contains(P)))},cs=O=>O.touches&&O.touches.length&&"stylus"===O.touches[0].touchType,ki=O=>O.touches&&O.touches.length>1,ds=()=>{te(document.body.children).forEach(P=>{P.hasAttribute("data-previous-aria-hidden")?(P.setAttribute("aria-hidden",P.getAttribute("data-previous-aria-hidden")),P.removeAttribute("data-previous-aria-hidden")):P.removeAttribute("aria-hidden")})};var As={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function hs(O,P,Y,Ne){Ae()?L(O,Ne):(Fs(Y).then(()=>L(O,Ne)),mn.keydownTarget.removeEventListener("keydown",mn.keydownHandler,{capture:mn.keydownListenerCapture}),mn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(P.setAttribute("style","display:none !important"),P.removeAttribute("class"),P.innerHTML=""):P.remove(),lt()&&(null!==Et.previousBodyPadding&&(document.body.style.paddingRight="".concat(Et.previousBodyPadding,"px"),Et.previousBodyPadding=null),(()=>{if(An(document.body,fe.iosfix)){const O=parseInt(document.body.style.top,10);ot(document.body,fe.iosfix),document.body.style.top="",document.body.scrollTop=-1*O}})(),ds()),ot([document.documentElement,document.body],[fe.shown,fe["height-auto"],fe["no-backdrop"],fe["toast-shown"]])}function Us(O){O=es(O);const P=As.swalPromiseResolve.get(this),Y=fs(this);this.isAwaitingPromise()?O.isDismissed||(Bs(this),P(O)):Y&&P(O)}const fs=O=>{const P=At();if(!P)return!1;const Y=bn.innerParams.get(O);if(!Y||An(P,Y.hideClass.popup))return!1;ot(P,Y.showClass.popup),He(P,Y.hideClass.popup);const Ne=_t();return ot(Ne,Y.showClass.backdrop),He(Ne,Y.hideClass.backdrop),ts(O,P,Y),!0};const Bs=O=>{O.isAwaitingPromise()&&(bn.awaitingPromise.delete(O),bn.innerParams.get(O)||O._destroy())},es=O=>void 0===O?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},O),ts=(O,P,Y)=>{const Ne=_t(),St=pn&&tr(P);"function"==typeof Y.willClose&&Y.willClose(P),St?vs(O,P,Ne,Y.returnFocus,Y.didClose):hs(O,Ne,Y.returnFocus,Y.didClose)},vs=(O,P,Y,Ne,St)=>{mn.swalCloseEventFinishedCallback=hs.bind(null,O,Y,Ne,St),P.addEventListener(pn,function(Dn){Dn.target===P&&(mn.swalCloseEventFinishedCallback(),delete mn.swalCloseEventFinishedCallback)})},L=(O,P)=>{setTimeout(()=>{"function"==typeof P&&P.bind(O.params)(),O._destroy()})};function ee(O,P,Y){const Ne=bn.domCache.get(O);P.forEach(St=>{Ne[St].disabled=Y})}function H(O,P){if(!O)return!1;if("radio"===O.type){const Ne=O.parentNode.parentNode.querySelectorAll("input");for(let St=0;St<Ne.length;St++)Ne[St].disabled=P}else O.disabled=P}class J{constructor(P,Y){this.callback=P,this.remaining=Y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(P){const Y=this.running;return Y&&this.stop(),this.remaining+=P,Y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Ye={email:(O,P)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(O)?Promise.resolve():Promise.resolve(P||"Invalid email address"),url:(O,P)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(O)?Promise.resolve():Promise.resolve(P||"Invalid URL")};function cr(O){(function(O){O.inputValidator||Object.keys(Ye).forEach(P=>{O.input===P&&(O.inputValidator=Ye[P])})})(O),O.showLoaderOnConfirm&&!O.preConfirm&&Ue("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(O){(!O.target||"string"==typeof O.target&&!document.querySelector(O.target)||"string"!=typeof O.target&&!O.target.appendChild)&&(Ue('Target parameter is not valid, defaulting to "body"'),O.target="body")}(O),"string"==typeof O.title&&(O.title=O.title.split("\n").join("<br />")),ke(O)}const fi=["swal-title","swal-html","swal-footer"],pi=O=>{const P={};return te(O.querySelectorAll("swal-param")).forEach(Y=>{Qs(Y,["name","value"]);const Ne=Y.getAttribute("name");let St=Y.getAttribute("value");"boolean"==typeof Yi[Ne]&&"false"===St&&(St=!1),"object"==typeof Yi[Ne]&&(St=JSON.parse(St)),P[Ne]=St}),P},ns=O=>{const P={};return te(O.querySelectorAll("swal-button")).forEach(Y=>{Qs(Y,["type","color","aria-label"]);const Ne=Y.getAttribute("type");P["".concat(Ne,"ButtonText")]=Y.innerHTML,P["show".concat(f(Ne),"Button")]=!0,Y.hasAttribute("color")&&(P["".concat(Ne,"ButtonColor")]=Y.getAttribute("color")),Y.hasAttribute("aria-label")&&(P["".concat(Ne,"ButtonAriaLabel")]=Y.getAttribute("aria-label"))}),P},Tn=O=>{const P={},Y=O.querySelector("swal-image");return Y&&(Qs(Y,["src","width","height","alt"]),Y.hasAttribute("src")&&(P.imageUrl=Y.getAttribute("src")),Y.hasAttribute("width")&&(P.imageWidth=Y.getAttribute("width")),Y.hasAttribute("height")&&(P.imageHeight=Y.getAttribute("height")),Y.hasAttribute("alt")&&(P.imageAlt=Y.getAttribute("alt"))),P},wo=O=>{const P={},Y=O.querySelector("swal-icon");return Y&&(Qs(Y,["type","color"]),Y.hasAttribute("type")&&(P.icon=Y.getAttribute("type")),Y.hasAttribute("color")&&(P.iconColor=Y.getAttribute("color")),P.iconHtml=Y.innerHTML),P},ao=O=>{const P={},Y=O.querySelector("swal-input");Y&&(Qs(Y,["type","label","placeholder","value"]),P.input=Y.getAttribute("type")||"text",Y.hasAttribute("label")&&(P.inputLabel=Y.getAttribute("label")),Y.hasAttribute("placeholder")&&(P.inputPlaceholder=Y.getAttribute("placeholder")),Y.hasAttribute("value")&&(P.inputValue=Y.getAttribute("value")));const Ne=O.querySelectorAll("swal-input-option");return Ne.length&&(P.inputOptions={},te(Ne).forEach(St=>{Qs(St,["value"]);const Dn=St.getAttribute("value");P.inputOptions[Dn]=St.innerHTML})),P},js=(O,P)=>{const Y={};for(const Ne in P){const St=P[Ne],Dn=O.querySelector(St);Dn&&(Qs(Dn,[]),Y[St.replace(/^swal-/,"")]=Dn.innerHTML.trim())}return Y},Aa=O=>{const P=fi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);te(O.children).forEach(Y=>{const Ne=Y.tagName.toLowerCase();-1===P.indexOf(Ne)&&Ue("Unrecognized element <".concat(Ne,">"))})},Qs=(O,P)=>{te(O.attributes).forEach(Y=>{-1===P.indexOf(Y.name)&&Ue(['Unrecognized attribute "'.concat(Y.name,'" on <').concat(O.tagName.toLowerCase(),">."),"".concat(P.length?"Allowed attributes are: ".concat(P.join(", ")):"To set the value, use HTML within the element.")])})},Js=O=>{const P=_t(),Y=At();"function"==typeof O.willOpen&&O.willOpen(Y);const St=window.getComputedStyle(document.body).overflowY;li(P,Y,O),setTimeout(()=>{or(P,Y)},10),lt()&&(Co(P,O.scrollbarPadding,St),te(document.body.children).forEach(P=>{P===_t()||P.contains(_t())||(P.hasAttribute("aria-hidden")&&P.setAttribute("data-previous-aria-hidden",P.getAttribute("aria-hidden")),P.setAttribute("aria-hidden","true"))})),!Ae()&&!mn.previousActiveElement&&(mn.previousActiveElement=document.activeElement),"function"==typeof O.didOpen&&setTimeout(()=>O.didOpen(Y)),ot(P,fe["no-transition"])},It=O=>{const P=At();if(O.target!==P)return;const Y=_t();P.removeEventListener(pn,It),Y.style.overflowY="auto"},or=(O,P)=>{pn&&tr(P)?(O.style.overflowY="hidden",P.addEventListener(pn,It)):O.style.overflowY="auto"},Co=(O,P,Y)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!An(document.body,fe.iosfix)){const P=document.body.scrollTop;document.body.style.top="".concat(-1*P,"px"),He(document.body,fe.iosfix),ls(),Ys()}})(),P&&"hidden"!==Y&&hi(),setTimeout(()=>{O.scrollTop=0})},li=(O,P,Y)=>{He(O,Y.showClass.backdrop),P.style.setProperty("opacity","0","important"),sn(P,"grid"),setTimeout(()=>{He(P,Y.showClass.popup),P.style.removeProperty("opacity")},10),He([document.documentElement,document.body],fe.shown),Y.heightAuto&&Y.backdrop&&!Y.toast&&He([document.documentElement,document.body],fe["height-auto"])},xs=O=>O.checked?1:0,Xs=O=>O.checked?O.value:null,To=O=>O.files.length?null!==O.getAttribute("multiple")?O.files:O.files[0]:null,ja=(O,P)=>{const Y=At(),Ne=St=>Oo[P.input](Y,Do(St),P);ne(P.inputOptions)||ue(P.inputOptions)?(Ur(Te()),le(P.inputOptions).then(St=>{O.hideLoading(),Ne(St)})):"object"==typeof P.inputOptions?Ne(P.inputOptions):Re("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof P.inputOptions))},Io=(O,P)=>{const Y=O.getInput();_n(Y),le(P.inputValue).then(Ne=>{Y.value="number"===P.input?parseFloat(Ne)||0:"".concat(Ne),sn(Y),Y.focus(),O.hideLoading()}).catch(Ne=>{Re("Error in inputValue promise: ".concat(Ne)),Y.value="",sn(Y),Y.focus(),O.hideLoading()})},Oo={select:(O,P,Y)=>{const Ne=at(O,fe.select),St=(Dn,Qn,rs)=>{const Gi=document.createElement("option");Gi.value=rs,Ut(Gi,Qn),Gi.selected=Ii(rs,Y.inputValue),Dn.appendChild(Gi)};P.forEach(Dn=>{const Qn=Dn[0],rs=Dn[1];if(Array.isArray(rs)){const Gi=document.createElement("optgroup");Gi.label=Qn,Gi.disabled=!1,Ne.appendChild(Gi),rs.forEach(Li=>St(Gi,Li[1],Li[0]))}else St(Ne,rs,Qn)}),Ne.focus()},radio:(O,P,Y)=>{const Ne=at(O,fe.radio);P.forEach(Dn=>{const Qn=Dn[0],rs=Dn[1],Gi=document.createElement("input"),Li=document.createElement("label");Gi.type="radio",Gi.name=fe.radio,Gi.value=Qn,Ii(Qn,Y.inputValue)&&(Gi.checked=!0);const fa=document.createElement("span");Ut(fa,rs),fa.className=fe.label,Li.appendChild(Gi),Li.appendChild(fa),Ne.appendChild(Li)});const St=Ne.querySelectorAll("input");St.length&&St[0].focus()}},Do=O=>{const P=[];return"undefined"!=typeof Map&&O instanceof Map?O.forEach((Y,Ne)=>{let St=Y;"object"==typeof St&&(St=Do(St)),P.push([Ne,St])}):Object.keys(O).forEach(Y=>{let Ne=O[Y];"object"==typeof Ne&&(Ne=Do(Ne)),P.push([Y,Ne])}),P},Ii=(O,P)=>P&&P.toLowerCase().toString()===O.toLowerCase().toString(),$i=(O,P)=>{const Y=bn.innerParams.get(O),Ne=((O,P)=>{const Y=O.getInput();if(!Y)return null;switch(P.input){case"checkbox":return xs(Y);case"radio":return Xs(Y);case"file":return To(Y);default:return P.inputAutoTrim?Y.value.trim():Y.value}})(O,Y);Y.inputValidator?Sa(O,Ne,P):O.getInput().checkValidity()?"deny"===P?to(O,Ne):Hr(O,Ne):(O.enableButtons(),O.showValidationMessage(Y.validationMessage))},Sa=(O,P,Y)=>{const Ne=bn.innerParams.get(O);O.disableInput(),Promise.resolve().then(()=>le(Ne.inputValidator(P,Ne.validationMessage))).then(Dn=>{O.enableButtons(),O.enableInput(),Dn?O.showValidationMessage(Dn):"deny"===Y?to(O,P):Hr(O,P)})},to=(O,P)=>{const Y=bn.innerParams.get(O||void 0);Y.showLoaderOnDeny&&Ur(We()),Y.preDeny?(bn.awaitingPromise.set(O||void 0,!0),Promise.resolve().then(()=>le(Y.preDeny(P,Y.validationMessage))).then(St=>{!1===St?O.hideLoading():O.closePopup({isDenied:!0,value:void 0===St?P:St})}).catch(St=>ia(O||void 0,St))):O.closePopup({isDenied:!0,value:P})},lo=(O,P)=>{O.closePopup({isConfirmed:!0,value:P})},ia=(O,P)=>{O.rejectPromise(P)},Hr=(O,P)=>{const Y=bn.innerParams.get(O||void 0);Y.showLoaderOnConfirm&&Ur(),Y.preConfirm?(O.resetValidationMessage(),bn.awaitingPromise.set(O||void 0,!0),Promise.resolve().then(()=>le(Y.preConfirm(P,Y.validationMessage))).then(St=>{vn(Qe())||!1===St?O.hideLoading():lo(O,void 0===St?P:St)}).catch(St=>ia(O||void 0,St))):lo(O,P)},sa=(O,P,Y)=>{const Ne=ct();if(Ne.length)return(P+=Y)===Ne.length?P=0:-1===P&&(P=Ne.length-1),Ne[P].focus();At().focus()},q=["ArrowRight","ArrowDown"],B=["ArrowLeft","ArrowUp"],K=(O,P,Y)=>{const Ne=bn.innerParams.get(O);!Ne||(Ne.stopKeydownPropagation&&P.stopPropagation(),"Enter"===P.key?ae(O,P,Ne):"Tab"===P.key?Se(P,Ne):[...q,...B].includes(P.key)?rt(P.key):"Escape"===P.key&&ft(P,Ne,Y))},ae=(O,P,Y)=>{if(!P.isComposing&&P.target&&O.getInput()&&P.target.outerHTML===O.getInput().outerHTML){if(["textarea","file"].includes(Y.input))return;lr(),P.preventDefault()}},Se=(O,P)=>{const Y=O.target,Ne=ct();let St=-1;for(let Dn=0;Dn<Ne.length;Dn++)if(Y===Ne[Dn]){St=Dn;break}sa(0,St,O.shiftKey?-1:1),O.stopPropagation(),O.preventDefault()},rt=O=>{if(![Te(),We(),Pt()].includes(document.activeElement))return;const St=q.includes(O)?"nextElementSibling":"previousElementSibling",Dn=document.activeElement[St];Dn&&Dn.focus()},ft=(O,P,Y)=>{ye(P.allowEscapeKey)&&(O.preventDefault(),Y(tt.esc))},Lt=(O,P,Y)=>{P.popup.onclick=()=>{const Ne=bn.innerParams.get(O);Ne.showConfirmButton||Ne.showDenyButton||Ne.showCancelButton||Ne.showCloseButton||Ne.timer||Ne.input||Y(tt.close)}};let ln=!1;const $n=O=>{O.popup.onmousedown=()=>{O.container.onmouseup=function(P){O.container.onmouseup=void 0,P.target===O.container&&(ln=!0)}}},On=O=>{O.container.onmousedown=()=>{O.popup.onmouseup=function(P){O.popup.onmouseup=void 0,(P.target===O.popup||O.popup.contains(P.target))&&(ln=!0)}}},Xn=(O,P,Y)=>{P.container.onclick=Ne=>{const St=bn.innerParams.get(O);ln?ln=!1:Ne.target===P.container&&ye(St.allowOutsideClick)&&Y(tt.backdrop)}};const Dr=(O,P)=>{const Y=(O=>{const P="string"==typeof O.template?document.querySelector(O.template):O.template;if(!P)return{};const Y=P.content;return Aa(Y),Object.assign(pi(Y),ns(Y),Tn(Y),wo(Y),ao(Y),js(Y,fi))})(O),Ne=Object.assign({},Yi,P,Y,O);return Ne.showClass=Object.assign({},Yi.showClass,Ne.showClass),Ne.hideClass=Object.assign({},Yi.hideClass,Ne.hideClass),Ne},gi=(O,P,Y)=>new Promise((Ne,St)=>{const Dn=Qn=>{O.closePopup({isDismissed:!0,dismiss:Qn})};As.swalPromiseResolve.set(O,Ne),As.swalPromiseReject.set(O,St),P.confirmButton.onclick=()=>(O=>{const P=bn.innerParams.get(O);O.disableButtons(),P.input?$i(O,"confirm"):Hr(O,!0)})(O),P.denyButton.onclick=()=>(O=>{const P=bn.innerParams.get(O);O.disableButtons(),P.returnInputValueOnDeny?$i(O,"deny"):to(O,!1)})(O),P.cancelButton.onclick=()=>((O,P)=>{O.disableButtons(),P(tt.cancel)})(O,Dn),P.closeButton.onclick=()=>Dn(tt.close),((O,P,Y)=>{bn.innerParams.get(O).toast?Lt(O,P,Y):($n(P),On(P),Xn(O,P,Y))})(O,P,Dn),((O,P,Y,Ne)=>{P.keydownTarget&&P.keydownHandlerAdded&&(P.keydownTarget.removeEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!1),Y.toast||(P.keydownHandler=St=>K(O,St,Ne),P.keydownTarget=Y.keydownListenerCapture?window:At(),P.keydownListenerCapture=Y.keydownListenerCapture,P.keydownTarget.addEventListener("keydown",P.keydownHandler,{capture:P.keydownListenerCapture}),P.keydownHandlerAdded=!0)})(O,mn,Y,Dn),((O,P)=>{"select"===P.input||"radio"===P.input?ja(O,P):["text","email","number","tel","textarea"].includes(P.input)&&(ne(P.inputValue)||ue(P.inputValue))&&(Ur(Te()),Io(O,P))})(O,Y),Js(Y),qi(mn,Y,Dn),Di(P,Y),setTimeout(()=>{P.container.scrollTop=0})}),Zi=O=>{const P={popup:At(),container:_t(),actions:qt(),confirmButton:Te(),denyButton:We(),cancelButton:Pt(),loader:wt(),closeButton:Kt(),validationMessage:Qe(),progressSteps:nt()};return bn.domCache.set(O,P),P},qi=(O,P,Y)=>{const Ne=Ft();_n(Ne),P.timer&&(O.timeout=new J(()=>{Y("timer"),delete O.timeout},P.timer),P.timerProgressBar&&(sn(Ne),setTimeout(()=>{O.timeout&&O.timeout.running&&kt(P.timer)})))},Di=(O,P)=>{if(!P.toast){if(!ye(P.allowEnterKey))return xr();Ar(O,P)||sa(0,-1,1)}},Ar=(O,P)=>P.focusDeny&&vn(O.denyButton)?(O.denyButton.focus(),!0):P.focusCancel&&vn(O.cancelButton)?(O.cancelButton.focus(),!0):!(!P.focusConfirm||!vn(O.confirmButton)||(O.confirmButton.focus(),0)),xr=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const Po=O=>{no(O),delete O.params,delete mn.keydownHandler,delete mn.keydownTarget,delete mn.currentInstance},no=O=>{O.isAwaitingPromise()?(ro(bn,O),bn.awaitingPromise.set(O,!0)):(ro(As,O),ro(bn,O))},ro=(O,P)=>{for(const Y in O)O[Y].delete(P)};var Rs=Object.freeze({hideLoading:_i,disableLoading:_i,getInput:function(O){const P=bn.innerParams.get(O||this),Y=bn.domCache.get(O||this);return Y?er(Y.popup,P.input):null},close:Us,isAwaitingPromise:function(){return!!bn.awaitingPromise.get(this)},rejectPromise:function(O){const P=As.swalPromiseReject.get(this);Bs(this),P&&P(O)},closePopup:Us,closeModal:Us,closeToast:Us,enableButtons:function(){ee(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ee(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return H(this.getInput(),!1)},disableInput:function(){return H(this.getInput(),!0)},showValidationMessage:function(O){const P=bn.domCache.get(this),Y=bn.innerParams.get(this);Ut(P.validationMessage,O),P.validationMessage.className=fe["validation-message"],Y.customClass&&Y.customClass.validationMessage&&He(P.validationMessage,Y.customClass.validationMessage),sn(P.validationMessage);const Ne=this.getInput();Ne&&(Ne.setAttribute("aria-invalid",!0),Ne.setAttribute("aria-describedby",fe["validation-message"]),Ln(Ne),He(Ne,fe.inputerror))},resetValidationMessage:function(){const O=bn.domCache.get(this);O.validationMessage&&_n(O.validationMessage);const P=this.getInput();P&&(P.removeAttribute("aria-invalid"),P.removeAttribute("aria-describedby"),ot(P,fe.inputerror))},getProgressSteps:function(){return bn.domCache.get(this).progressSteps},_main:function(O,P={}){(O=>{!O.backdrop&&O.allowOutsideClick&&Ue('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const P in O)Qi(P),O.toast&&as(P),Ji(P)})(Object.assign({},P,O)),mn.currentInstance&&(mn.currentInstance._destroy(),lt()&&ds()),mn.currentInstance=this;const Y=Dr(O,P);cr(Y),Object.freeze(Y),mn.timeout&&(mn.timeout.stop(),delete mn.timeout),clearTimeout(mn.restoreFocusTimeout);const Ne=Zi(this);return an(this,Y),bn.innerParams.set(this,Y),gi(this,Ne,Y)},update:function(O){const P=At(),Y=bn.innerParams.get(this);if(!P||An(P,Y.hideClass.popup))return Ue("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ne={};Object.keys(O).forEach(Dn=>{Ms.isUpdatableParameter(Dn)?Ne[Dn]=O[Dn]:Ue('Invalid parameter to update: "'.concat(Dn,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const St=Object.assign({},Y,Ne);an(this,St),bn.innerParams.set(this,St),Object.defineProperties(this,{params:{value:Object.assign({},this.params,O),writable:!1,enumerable:!0}})},_destroy:function(){const O=bn.domCache.get(this),P=bn.innerParams.get(this);P?(O.popup&&mn.swalCloseEventFinishedCallback&&(mn.swalCloseEventFinishedCallback(),delete mn.swalCloseEventFinishedCallback),mn.deferDisposalTimer&&(clearTimeout(mn.deferDisposalTimer),delete mn.deferDisposalTimer),"function"==typeof P.didDestroy&&P.didDestroy(),Po(this)):no(this)}});let Jr;class $s{constructor(...P){if("undefined"==typeof window)return;Jr=this;const Y=Object.freeze(this.constructor.argsToParams(P));Object.defineProperties(this,{params:{value:Y,writable:!1,enumerable:!0,configurable:!0}});const Ne=this._main(this.params);bn.promise.set(this,Ne)}then(P){return bn.promise.get(this).then(P)}finally(P){return bn.promise.get(this).finally(P)}}Object.assign($s.prototype,Rs),Object.assign($s,qo),Object.keys(Rs).forEach(O=>{$s[O]=function(...P){if(Jr)return Jr[O](...P)}}),$s.DismissReason=tt,$s.version="11.1.9";const Ms=$s;return Ms.default=Ms,Ms}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(tt,Z){var _=tt.createElement("style");if(tt.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=Z);else try{_.innerHTML=Z}catch(f){_.innerText=Z}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},164:(Ht,tt,Z)=>{"use strict";Z.d(tt,{J:()=>sa});var _=Z(8239),f=Z(7716),te=Z(665),Ue=Z(8259),Re=Z.n(Ue),pe=Z(7556),ze=Z(7574),he=Z(5917),ye=Z(4402),ne=Z(7393),le=Z(3637);class Ve{constructor(B,K){this.dueTime=B,this.scheduler=K}call(B,K){return K.subscribe(new Pe(B,this.dueTime,this.scheduler))}}class Pe extends ne.L{constructor(B,K,ae){super(B),this.dueTime=K,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(B){this.clearDebounce(),this.lastValue=B,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ke,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:B}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(B)}}clearDebounce(){const B=this.debouncedSubscription;null!==B&&(this.remove(B),B.unsubscribe(),this.debouncedSubscription=null)}}function Ke(q){q.debouncedNext()}var Ze=Z(8002),pt=Z(3190),fe=Z(9126),dt=Z(8939),_t=Z(4486),ut=Z(5452),Ie=Z(3854),At=Z(6034),Zt=(()=>{return(q=Zt||(Zt={}))[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",Zt;var q})();const Xt="firebasestorage.googleapis.com",Xe="storageBucket";class Qe extends Ie.ZR{constructor(B,K){super(Te(B),`Firebase Storage: ${K} (${Te(B)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}_codeEquals(B){return Te(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Te(q){return"storage/"+q}function We(){return new Qe("unknown","An unknown error occurred, please check the error payload for server response.")}function Kt(){return new Qe("canceled","User canceled the upload/download.")}function Ae(){return new Qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Et(){return new Qe("no-download-url","The given file does not have any download URLs.")}function Ut(q){return new Qe("invalid-argument",q)}function An(){return new Qe("app-deleted","The Firebase app was deleted.")}function sr(q){return new Qe("invalid-root-operation","The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gn(q,B){return new Qe("invalid-format","String does not match format '"+q+"': "+B)}function er(q){throw new Qe("internal-error","Internal error: "+q)}class Ln{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Zt.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zt.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zt.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,K,ae,Se){if(this.sent_)throw er("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(K,B,!0),void 0!==Se)for(const rt in Se)Se.hasOwnProperty(rt)&&this.xhr_.setRequestHeader(rt,Se[rt].toLowerCase().toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw er("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw er("cannot .getStatus() before sending");try{return this.xhr_.status}catch(B){return-1}}getResponseText(){if(!this.sent_)throw er("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class He{createConnection(){return new Ln}}class ot{constructor(B,K){this.bucket=B,this.path_=K}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,K){let ae;try{ae=ot.makeFromUrl(B,K)}catch(Se){return new ot(B,"")}if(""===ae.path)return ae;throw new Qe("invalid-default-bucket","Invalid default bucket '"+B+"'.")}static makeFromUrl(B,K){let ae=null;const Se="([A-Za-z0-9.\\-_]+)",cn=new RegExp("^gs://"+Se+"(/(.*))?$","i");function ln(xr){xr.path_=decodeURIComponent(xr.path)}const On=K.replace(/[.]/g,"\\."),Ar=[{regex:cn,indices:{bucket:1,path:3},postModify:function(xr){"/"===xr.path.charAt(xr.path.length-1)&&(xr.path_=xr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${On}/v[A-Za-z0-9_]+/b/${Se}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:ln},{regex:new RegExp(`^https?://${K===Xt?"(?:storage.googleapis.com|storage.cloud.google.com)":K}/${Se}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:ln}];for(let xr=0;xr<Ar.length;xr++){const Fi=Ar[xr],Hs=Fi.regex.exec(B);if(Hs){let no=Hs[Fi.indices.path];no||(no=""),ae=new ot(Hs[Fi.indices.bucket],no),Fi.postModify(ae);break}}if(null==ae)throw new Qe("invalid-url","Invalid URL '"+B+"'.");return ae}}class at{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function vn(q){return"string"==typeof q||q instanceof String}function Yn(q){return Sr()&&q instanceof Blob}function Sr(){return"undefined"!=typeof Blob}function tr(q,B,K,ae){if(ae<B)throw Ut(`Invalid value for '${q}'. Expected ${B} or greater.`);if(ae>K)throw Ut(`Invalid value for '${q}'. Expected ${K} or less.`)}function kt(q,B,K){let ae=B;return null==K&&(ae=`https://${B}`),`${K}://${ae}/v0${q}`}function wn(q){const B=encodeURIComponent;let K="?";for(const ae in q)q.hasOwnProperty(ae)&&(K=K+(B(ae)+"=")+B(q[ae])+"&");return K=K.slice(0,-1),K}class Gr{constructor(B,K,ae,Se,rt,ft,cn,Lt,ln,$n,On){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=B,this.method_=K,this.headers_=ae,this.body_=Se,this.successCodes_=rt.slice(),this.additionalRetryCodes_=ft.slice(),this.callback_=cn,this.errorCallback_=Lt,this.progressCallback_=$n,this.timeout_=ln,this.pool_=On,this.promise_=new Promise((Xn,Wn)=>{this.resolve_=Xn,this.reject_=Wn,this.start_()})}start_(){const B=this;function ae(Se,rt){const ft=B.resolve_,cn=B.reject_,Lt=rt.connection;if(rt.wasSuccessCode)try{const ln=B.callback_(Lt,Lt.getResponseText());void 0!==ln?ft(ln):ft()}catch(ln){cn(ln)}else if(null!==Lt){const ln=We();ln.serverResponse=Lt.getResponseText(),cn(B.errorCallback_?B.errorCallback_(Lt,ln):ln)}else cn(rt.canceled?B.appDelete_?An():Kt():new Qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?ae(0,new Ri(!1,null,!0)):this.backoffId_=function(q,B,K){let ae=1,Se=null,rt=!1,ft=0;function cn(){return 2===ft}let Lt=!1;function ln(...Dr){Lt||(Lt=!0,B.apply(null,Dr))}function $n(Dr){Se=setTimeout(()=>{Se=null,q(On,cn())},Dr)}function On(Dr,...gi){if(Lt)return;if(Dr)return void ln.call(null,Dr,...gi);if(cn()||rt)return void ln.call(null,Dr,...gi);let qi;ae<64&&(ae*=2),1===ft?(ft=2,qi=0):qi=1e3*(ae+Math.random()),$n(qi)}let Xn=!1;function Wn(Dr){Xn||(Xn=!0,!Lt&&(null!==Se?(Dr||(ft=2),clearTimeout(Se),$n(0)):Dr||(ft=1)))}return $n(0),setTimeout(()=>{rt=!0,Wn(!0)},K),Wn}(function(Se,rt){if(rt)return void Se(!1,new Ri(!1,null,!0));const ft=B.pool_.createConnection();function cn(Lt){null!==B.progressCallback_&&B.progressCallback_(Lt.loaded,Lt.lengthComputable?Lt.total:-1)}B.pendingConnection_=ft,null!==B.progressCallback_&&ft.addUploadProgressListener(cn),ft.send(B.url_,B.method_,B.body_,B.headers_).then(()=>{null!==B.progressCallback_&&ft.removeUploadProgressListener(cn),B.pendingConnection_=null;const Lt=ft.getErrorCode()===Zt.NO_ERROR,ln=ft.getStatus();if(!Lt||B.isRetryStatusCode_(ln)){const On=ft.getErrorCode()===Zt.ABORT;return void Se(!1,new Ri(!1,null,On))}const $n=-1!==B.successCodes_.indexOf(ln);Se(!0,new Ri($n,ft))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(B){const K=B>=500&&B<600,Se=-1!==[408,429].indexOf(B),rt=-1!==this.additionalRetryCodes_.indexOf(B);return K||Se||rt}}class Ri{constructor(B,K,ae){this.wasSuccessCode=B,this.connection=K,this.canceled=!!ae}}function ke(...q){const B="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==B){const K=new B;for(let ae=0;ae<q.length;ae++)K.append(q[ae]);return K.getBlob()}if(Sr())return new Blob(q);throw new Qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const jt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pn{constructor(B,K){this.data=B,this.contentType=K||null}}function qn(q,B){switch(q){case jt.RAW:return new pn(Tr(B));case jt.BASE64:case jt.BASE64URL:return new pn(Bn(q,B));case jt.DATA_URL:return new pn(function(q){const B=new Hn(q);return B.base64?Bn(jt.BASE64,B.rest):function(q){let B;try{B=decodeURIComponent(q)}catch(K){throw gn(jt.DATA_URL,"Malformed data URL.")}return Tr(B)}(B.rest)}(B),function(q){return new Hn(q).contentType}(B))}throw We()}function Tr(q){const B=[];for(let K=0;K<q.length;K++){let ae=q.charCodeAt(K);ae<=127?B.push(ae):ae<=2047?B.push(192|ae>>6,128|63&ae):55296==(64512&ae)?K<q.length-1&&56320==(64512&q.charCodeAt(K+1))?(ae=65536|(1023&ae)<<10|1023&q.charCodeAt(++K),B.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):B.push(239,191,189):56320==(64512&ae)?B.push(239,191,189):B.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(B)}function Bn(q,B){switch(q){case jt.BASE64:{const Se=-1!==B.indexOf("-"),rt=-1!==B.indexOf("_");if(Se||rt)throw gn(q,"Invalid character '"+(Se?"-":"_")+"' found: is it base64url encoded?");break}case jt.BASE64URL:{const Se=-1!==B.indexOf("+"),rt=-1!==B.indexOf("/");if(Se||rt)throw gn(q,"Invalid character '"+(Se?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let K;try{K=function(q){return atob(q)}(B)}catch(Se){throw gn(q,"Invalid character found")}const ae=new Uint8Array(K.length);for(let Se=0;Se<K.length;Se++)ae[Se]=K.charCodeAt(Se);return ae}class Hn{constructor(B){this.base64=!1,this.contentType=null;const K=B.match(/^data:([^,]+)?,/);if(null===K)throw gn(jt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=K[1]||null;null!=ae&&(this.base64=function(q,B){return q.length>=B.length&&q.substring(q.length-B.length)===B}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-";base64".length):ae),this.rest=B.substring(B.indexOf(",")+1)}}class bn{constructor(B,K){let ae=0,Se="";Yn(B)?(this.data_=B,ae=B.size,Se=B.type):B instanceof ArrayBuffer?(K?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),ae=this.data_.length):B instanceof Uint8Array&&(K?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),ae=B.length),this.size_=ae,this.type_=Se}size(){return this.size_}type(){return this.type_}slice(B,K){if(Yn(this.data_)){const Se=function(q,B,K){return q.webkitSlice?q.webkitSlice(B,K):q.mozSlice?q.mozSlice(B,K):q.slice?q.slice(B,K):null}(this.data_,B,K);return null===Se?null:new bn(Se)}{const ae=new Uint8Array(this.data_.buffer,B,K-B);return new bn(ae,!0)}}static getBlob(...B){if(Sr()){const K=B.map(ae=>ae instanceof bn?ae.data_:ae);return new bn(ke.apply(null,K))}{const K=B.map(ft=>vn(ft)?qn(jt.RAW,ft).data:ft.data_);let ae=0;K.forEach(ft=>{ae+=ft.byteLength});const Se=new Uint8Array(ae);let rt=0;return K.forEach(ft=>{for(let cn=0;cn<ft.length;cn++)Se[rt++]=ft[cn]}),new bn(Se,!0)}}uploadData(){return this.data_}}function ji(q){let B;try{B=JSON.parse(q)}catch(K){return null}return function(q){return"object"==typeof q&&!Array.isArray(q)}(B)?B:null}function Wi(q){const B=q.lastIndexOf("/",q.length-2);return-1===B?q:q.slice(B+1)}function _r(q,B){return B}class En{constructor(B,K,ae,Se){this.server=B,this.local=K||B,this.writable=!!ae,this.xform=Se||_r}}let nn=null;function Hi(){if(nn)return nn;const q=[];q.push(new En("bucket")),q.push(new En("generation")),q.push(new En("metageneration")),q.push(new En("name","fullPath",!0));const K=new En("name");K.xform=function(rt,ft){return function(q){return!vn(q)||q.length<2?q:Wi(q)}(ft)},q.push(K);const Se=new En("size");return Se.xform=function(rt,ft){return void 0!==ft?Number(ft):ft},q.push(Se),q.push(new En("timeCreated")),q.push(new En("updated")),q.push(new En("md5Hash",null,!0)),q.push(new En("cacheControl",null,!0)),q.push(new En("contentDisposition",null,!0)),q.push(new En("contentEncoding",null,!0)),q.push(new En("contentLanguage",null,!0)),q.push(new En("contentType",null,!0)),q.push(new En("metadata","customMetadata",!0)),nn=q,nn}function Mn(q,B,K){const ae=ji(B);return null===ae?null:function(q,B,K){const ae={type:"file"},Se=K.length;for(let rt=0;rt<Se;rt++){const ft=K[rt];ae[ft.local]=ft.xform(ae,B[ft.server])}return function(q,B){Object.defineProperty(q,"ref",{get:function(){const rt=new ot(q.bucket,q.fullPath);return B._makeStorageReference(rt)}})}(ae,q),ae}(q,ae,K)}function ti(q,B){const K={},ae=B.length;for(let Se=0;Se<ae;Se++){const rt=B[Se];rt.writable&&(K[rt.server]=q[rt.local])}return JSON.stringify(K)}const nr="prefixes";class yr{constructor(B,K,ae,Se){this.url=B,this.method=K,this.handler=ae,this.timeout=Se,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Nr(q){if(!q)throw We()}function on(q,B){return function(ae,Se){const rt=Mn(q,Se,B);return Nr(null!==rt),rt}}function me(q){return function(K,ae){let Se;return Se=401===K.getStatus()?K.getResponseText().includes("Firebase App Check token is invalid")?new Qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===K.getStatus()?function(q){return new Qe("quota-exceeded","Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===K.getStatus()?function(q){return new Qe("unauthorized","User does not have permission to access '"+q+"'.")}(q.path):ae,Se.serverResponse=ae.serverResponse,Se}}function Je(q){const B=me(q);return function(ae,Se){let rt=B(ae,Se);return 404===ae.getStatus()&&(rt=function(q){return new Qe("object-not-found","Object '"+q+"' does not exist.")}(q.path)),rt.serverResponse=Se.serverResponse,rt}}function gt(q,B,K){const Se=kt(B.fullServerUrl(),q.host,q._protocol),ft=q.maxOperationRetryTime,cn=new yr(Se,"GET",on(q,K),ft);return cn.errorHandler=Je(B),cn}function an(q,B,K,ae,Se){const rt={};rt.prefix=B.isRoot?"":B.path+"/",K&&K.length>0&&(rt.delimiter=K),ae&&(rt.pageToken=ae),Se&&(rt.maxResults=Se);const cn=kt(B.bucketOnlyServerUrl(),q.host,q._protocol),ln=q.maxOperationRetryTime,$n=new yr(cn,"GET",function(q,B){return function(ae,Se){const rt=function(q,B,K){const ae=ji(K);return null===ae?null:function(q,B,K){const ae={prefixes:[],items:[],nextPageToken:K.nextPageToken};if(K[nr])for(const Se of K[nr]){const rt=Se.replace(/\/$/,""),ft=q._makeStorageReference(new ot(B,rt));ae.prefixes.push(ft)}if(K.items)for(const Se of K.items){const rt=q._makeStorageReference(new ot(B,Se.name));ae.items.push(rt)}return ae}(q,B,ae)}(q,B,Se);return Nr(null!==rt),rt}}(q,B.bucket),ln);return $n.urlParams=rt,$n.errorHandler=me(B),$n}function xn(q,B,K){const Se=kt(B.fullServerUrl(),q.host,q._protocol),ft=q.maxOperationRetryTime,cn=new yr(Se,"GET",function(q,B){return function(ae,Se){const rt=Mn(q,Se,B);return Nr(null!==rt),function(q,B,K,ae){const Se=ji(B);if(null===Se||!vn(Se.downloadTokens))return null;const rt=Se.downloadTokens;if(0===rt.length)return null;const ft=encodeURIComponent;return rt.split(",").map(ln=>{const On=q.fullPath;return kt("/b/"+ft(q.bucket)+"/o/"+ft(On),K,ae)+wn({alt:"media",token:ln})})[0]}(rt,Se,q.host,q._protocol)}}(q,K),ft);return cn.errorHandler=Je(B),cn}function lr(q,B,K,ae){const rt=kt(B.fullServerUrl(),q.host,q._protocol),cn=ti(K,ae),ln=q.maxOperationRetryTime,$n=new yr(rt,"PATCH",on(q,ae),ln);return $n.headers={"Content-Type":"application/json; charset=utf-8"},$n.body=cn,$n.errorHandler=Je(B),$n}function Nn(q,B){const ae=kt(B.fullServerUrl(),q.host,q._protocol),cn=new yr(ae,"DELETE",function(Lt,ln){},q.maxOperationRetryTime);return cn.successCodes=[200,204],cn.errorHandler=Je(B),cn}function Ws(q,B,K){const ae=Object.assign({},K);return ae.fullPath=q.path,ae.size=B.size(),ae.contentType||(ae.contentType=function(q,B){return B&&B.type()||"application/octet-stream"}(0,B)),ae}class Ur{constructor(B,K,ae,Se){this.current=B,this.total=K,this.finalized=!!ae,this.metadata=Se||null}}function mi(q,B){let K=null;try{K=q.getResponseHeader("X-Goog-Upload-Status")}catch(Se){Nr(!1)}return Nr(!!K&&-1!==(B||["active"]).indexOf(K)),K}const Ni={STATE_CHANGED:"state_changed"},rr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function ri(q){switch(q){case"running":case"pausing":case"canceling":return rr.RUNNING;case"paused":return rr.PAUSED;case"success":return rr.SUCCESS;case"canceled":return rr.CANCELED;case"error":default:return rr.ERROR}}class Ls{constructor(B,K,ae){if("function"==typeof B||null!=K||null!=ae)this.next=B,this.error=null!=K?K:void 0,this.complete=null!=ae?ae:void 0;else{const rt=B;this.next=rt.next,this.error=rt.error,this.complete=rt.complete}}}function Yr(q){return(...B)=>{Promise.resolve().then(()=>q(...B))}}class Lr{constructor(B,K,ae=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=K,this._metadata=ae,this._mappings=Hi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Se=>{this._request=void 0,this._chunkMultiplier=1,Se._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Se,this._transition("error"))},this._metadataErrorHandler=Se=>{this._request=void 0,Se._codeEquals("canceled")?this.completeTransitions_():(this._error=Se,this._transition("error"))},this._promise=new Promise((Se,rt)=>{this._resolve=Se,this._reject=rt,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const B=this._transferred;return K=>this._updateProgress(B+K)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([K,ae])=>{switch(this._state){case"running":B(K,ae);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,K)=>{const ae=function(q,B,K,ae,Se){const rt=B.bucketOnlyServerUrl(),ft=Ws(B,ae,Se),cn={name:ft.fullPath},Lt=kt(rt,q.host,q._protocol),$n={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ae.size()}`,"X-Goog-Upload-Header-Content-Type":ft.contentType,"Content-Type":"application/json; charset=utf-8"},On=ti(ft,K),Dr=new yr(Lt,"POST",function(gi){let Zi;mi(gi);try{Zi=gi.getResponseHeader("X-Goog-Upload-URL")}catch(qi){Nr(!1)}return Nr(vn(Zi)),Zi},q.maxUploadRetryTime);return Dr.urlParams=cn,Dr.headers=$n,Dr.body=On,Dr.errorHandler=me(B),Dr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Se=this._ref.storage._makeRequest(ae,B,K);this._request=Se,Se.getPromise().then(rt=>{this._request=void 0,this._uploadUrl=rt,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((K,ae)=>{const Se=function(q,B,K,ae){const Lt=new yr(K,"POST",function(ln){const $n=mi(ln,["active","final"]);let On=null;try{On=ln.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Wn){Nr(!1)}On||Nr(!1);const Xn=Number(On);return Nr(!isNaN(Xn)),new Ur(Xn,ae.size(),"final"===$n)},q.maxUploadRetryTime);return Lt.headers={"X-Goog-Upload-Command":"query"},Lt.errorHandler=me(B),Lt}(this._ref.storage,this._ref._location,B,this._blob),rt=this._ref.storage._makeRequest(Se,K,ae);this._request=rt,rt.getPromise().then(ft=>{ft=ft,this._request=void 0,this._updateProgress(ft.current),this._needToFetchStatus=!1,ft.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,K=new Ur(this._transferred,this._blob.size()),ae=this._uploadUrl;this._resolveToken((Se,rt)=>{let ft;try{ft=function(q,B,K,ae,Se,rt,ft,cn){const Lt=new Ur(0,0);if(ft?(Lt.current=ft.current,Lt.total=ft.total):(Lt.current=0,Lt.total=ae.size()),ae.size()!==Lt.total)throw new Qe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const ln=Lt.total-Lt.current;let $n=ln;Se>0&&($n=Math.min($n,Se));const On=Lt.current,Dr={"X-Goog-Upload-Command":$n===ln?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Lt.current}`},gi=ae.slice(On,On+$n);if(null===gi)throw Ae();const Ar=new yr(K,"POST",function(xr,Fi){const Hs=mi(xr,["active","final"]),Po=Lt.current+$n,no=ae.size();let ro;return ro="final"===Hs?on(B,rt)(xr,Fi):null,new Ur(Po,no,"final"===Hs,ro)},B.maxUploadRetryTime);return Ar.headers=Dr,Ar.body=gi.uploadData(),Ar.progressCallback=cn||null,Ar.errorHandler=me(q),Ar}(this._ref._location,this._ref.storage,ae,this._blob,B,this._mappings,K,this._makeProgressCallback())}catch(Lt){return this._error=Lt,void this._transition("error")}const cn=this._ref.storage._makeRequest(ft,Se,rt);this._request=cn,cn.getPromise().then(Lt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Lt.current),Lt.finalized?(this._metadata=Lt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,K)=>{const ae=gt(this._ref.storage,this._ref._location,this._mappings),Se=this._ref.storage._makeRequest(ae,B,K);this._request=Se,Se.getPromise().then(rt=>{this._request=void 0,this._metadata=rt,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,K)=>{const ae=function(q,B,K,ae,Se){const rt=B.bucketOnlyServerUrl(),ft={"X-Goog-Upload-Protocol":"multipart"},Lt=function(){let Ar="";for(let xr=0;xr<2;xr++)Ar+=Math.random().toLowerCase().toString().slice(2);return Ar}();ft["Content-Type"]="multipart/related; boundary="+Lt;const ln=Ws(B,ae,Se),$n=ti(ln,K),Wn=bn.getBlob("--"+Lt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$n+"\r\n--"+Lt+"\r\nContent-Type: "+ln.contentType+"\r\n\r\n",ae,"\r\n--"+Lt+"--");if(null===Wn)throw Ae();const Dr={name:ln.fullPath},gi=kt(rt,q.host,q._protocol),qi=q.maxUploadRetryTime,Di=new yr(gi,"POST",on(q,K),qi);return Di.urlParams=Dr,Di.headers=ft,Di.body=Wn.uploadData(),Di.errorHandler=me(B),Di}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Se=this._ref.storage._makeRequest(ae,B,K);this._request=Se,Se.getPromise().then(rt=>{this._request=void 0,this._metadata=rt,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const K=this._transferred;this._transferred=B,this._transferred!==K&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request&&this._request.cancel();break;case"running":const K="paused"===this._state;this._state=B,K&&(this._notifyObservers(),this._start());break;case"paused":this._state=B,this._notifyObservers();break;case"canceled":this._error=Kt(),this._state=B,this._notifyObservers();break;case"error":case"success":this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=ri(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,K,ae,Se){const rt=new Ls(K||void 0,ae||void 0,Se||void 0);return this._addObserver(rt),()=>{this._removeObserver(rt)}}then(B,K){return this._promise.then(B,K)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const K=this._observers.indexOf(B);-1!==K&&this._observers.splice(K,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(K=>{this._notifyObserver(K)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(ri(this._state)){case rr.SUCCESS:Yr(this._resolve.bind(null,this.snapshot))();break;case rr.CANCELED:case rr.ERROR:Yr(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(ri(this._state)){case rr.RUNNING:case rr.PAUSED:B.next&&Yr(B.next.bind(B,this.snapshot))();break;case rr.SUCCESS:B.complete&&Yr(B.complete.bind(B))();break;case rr.CANCELED:case rr.ERROR:B.error&&Yr(B.error.bind(B,this._error))();break;default:B.error&&Yr(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class ur{constructor(B,K){this._service=B,this._location=K instanceof ot?K:ot.makeFromUrl(K,B.host)}toLowerCase().toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,K){return new ur(B,K)}get root(){const B=new ot(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wi(this._location.path)}get storage(){return this._service}get parent(){const B=function(q){if(0===q.length)return null;const B=q.lastIndexOf("/");return-1===B?"":q.slice(0,B)}(this._location.path);if(null===B)return null;const K=new ot(this._location.bucket,B);return new ur(this._service,K)}_throwIfRoot(B){if(""===this._location.path)throw sr(B)}}function di(q,B,K){return yi.apply(this,arguments)}function yi(){return(yi=(0,_.Z)(function*(q,B,K){const Se=yield _s(q,{pageToken:K});B.prefixes.push(...Se.prefixes),B.items.push(...Se.items),null!=Se.nextPageToken&&(yield di(q,B,Se.nextPageToken))})).apply(this,arguments)}function _s(q,B){return oi.apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*(q,B){null!=B&&"number"==typeof B.maxResults&&tr("options.maxResults",1,1e3,B.maxResults);const K=B||{},ae=an(q.storage,q._location,"/",K.pageToken,K.maxResults);return(yield q.storage.makeRequestWithTokens(ae)).getPromise()})).apply(this,arguments)}function Oi(){return(Oi=(0,_.Z)(function*(q){q._throwIfRoot("getMetadata");const B=gt(q.storage,q._location,Hi());return(yield q.storage.makeRequestWithTokens(B)).getPromise()})).apply(this,arguments)}function as(){return(as=(0,_.Z)(function*(q,B){q._throwIfRoot("updateMetadata");const K=lr(q.storage,q._location,B,Hi());return(yield q.storage.makeRequestWithTokens(K)).getPromise()})).apply(this,arguments)}function Ks(){return(Ks=(0,_.Z)(function*(q){q._throwIfRoot("getDownloadURL");const B=xn(q.storage,q._location,Hi());return(yield q.storage.makeRequestWithTokens(B)).getPromise().then(K=>{if(null===K)throw Et();return K})})).apply(this,arguments)}function _i(){return(_i=(0,_.Z)(function*(q){q._throwIfRoot("deleteObject");const B=Nn(q.storage,q._location);return(yield q.storage.makeRequestWithTokens(B)).getPromise()})).apply(this,arguments)}function _o(q,B){const K=function(q,B){const K=B.split("/").filter(ae=>ae.length>0).join("/");return 0===q.length?K:q+"/"+K}(q._location.path,B),ae=new ot(q._location.bucket,K);return new ur(q.storage,ae)}function Pi(q,B){if(q instanceof us){const K=q;if(null==K._bucket)throw new Qe("no-default-bucket","No default bucket found. Did you set the '"+Xe+"' property when initializing the app?");const ae=new ur(K,K._bucket);return null!=B?Pi(ae,B):ae}return void 0!==B?_o(q,B):q}function vi(q,B){if(B&&function(q){return/^[A-Za-z]+:\/\//.test(q)}(B)){if(q instanceof us)return function(q,B){return new ur(q,B)}(q,B);throw Ut("To use ref(service, url), the first argument must be a Storage instance.")}return Pi(q,B)}function Ys(q,B){const K=null==B?void 0:B[Xe];return null==K?null:ot.makeFromBucketSpec(K,q)}class us{constructor(B,K,ae,Se,rt,ft){this.app=B,this._authProvider=K,this._appCheckProvider=ae,this._pool=Se,this._url=rt,this._firebaseVersion=ft,this._bucket=null,this._host=Xt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=rt?ot.makeFromBucketSpec(rt,this._host):Ys(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?ot.makeFromBucketSpec(this._url,B):Ys(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){tr("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){tr("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,_.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const K=B._authProvider.getImmediate({optional:!0});if(K){const ae=yield K.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,_.Z)(function*(){const K=B._appCheckProvider.getImmediate({optional:!0});return K?(yield K.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new ur(this,B)}_makeRequest(B,K,ae){if(this._deleted)return new at(An());{const Se=function(q,B,K,ae,Se,rt){const ft=wn(q.urlParams),cn=q.url+ft,Lt=Object.assign({},q.headers);return function(q,B){B&&(q["X-Firebase-GMPID"]=B)}(Lt,B),function(q,B){null!==B&&B.length>0&&(q.Authorization="Firebase "+B)}(Lt,K),function(q,B){q["X-Firebase-Storage-Version"]="webjs/"+(null!=B?B:"AppManager")}(Lt,rt),function(q,B){null!==B&&(q["X-Firebase-AppCheck"]=B)}(Lt,ae),new Gr(cn,q.method,Lt,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,Se)}(B,this._appId,K,ae,this._pool,this._firebaseVersion);return this._requests.add(Se),Se.getPromise().then(()=>this._requests.delete(Se),()=>this._requests.delete(Se)),Se}}makeRequestWithTokens(B){var K=this;return(0,_.Z)(function*(){const[ae,Se]=yield Promise.all([K._getAuthToken(),K._getAppCheckToken()]);return K._makeRequest(B,ae,Se)})()}}function Bs(q,B){return vi(q=(0,Ie.m9)(q),B)}(0,ut._registerComponent)(new At.wA("storage",function(q,{instanceIdentifier:B}){const K=q.getProvider("app").getImmediate(),ae=q.getProvider("auth-internal"),Se=q.getProvider("app-check-internal");return new us(K,ae,Se,new He,B,ut.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ut.registerVersion)("@firebase/storage","0.8.3");class H{constructor(B,K,ae){this._delegate=B,this.task=K,this.ref=ae}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class ie{constructor(B,K){this._delegate=B,this._ref=K,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new H(this._delegate.snapshot,this,this._ref)}then(B,K){return this._delegate.then(ae=>{if(B)return B(new H(ae,this,this._ref))},K)}on(B,K,ae,Se){let rt;return K&&(rt="function"==typeof K?ft=>K(new H(ft,this,this._ref)):{next:K.next?ft=>K.next(new H(ft,this,this._ref)):void 0,complete:K.complete||void 0,error:K.error||void 0}),this._delegate.on(B,rt,ae||void 0,Se||void 0)}}class we{constructor(B,K){this._delegate=B,this._service=K}get prefixes(){return this._delegate.prefixes.map(B=>new st(B,this._service))}get items(){return this._delegate.items.map(B=>new st(B,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class st{constructor(B,K){this._delegate=B,this.storage=K}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toLowerCase().toString(){return this._delegate.toLowerCase().toString()}child(B){const K=function(q,B){return _o(q,B)}(this._delegate,B);return new st(K,this.storage)}get root(){return new st(this._delegate.root,this.storage)}get parent(){const B=this._delegate.parent;return null==B?null:new st(B,this.storage)}put(B,K){return this._throwIfRoot("put"),new ie(function(q,B,K){return function(q,B,K){return q._throwIfRoot("uploadBytesResumable"),new Lr(q,new bn(B),K)}(q=(0,Ie.m9)(q),B,K)}(this._delegate,B,K),this)}putString(B,K=jt.RAW,ae){this._throwIfRoot("putString");const Se=qn(K,B),rt=Object.assign({},ae);return null==rt.contentType&&null!=Se.contentType&&(rt.contentType=Se.contentType),new ie(new Lr(this._delegate,new bn(Se.data,!0),rt),this)}listAll(){return(q=this._delegate,function(q){const B={prefixes:[],items:[]};return di(q,B).then(()=>B)}(q=(0,Ie.m9)(q))).then(B=>new we(B,this.storage));var q}list(B){return function(q,B){return _s(q=(0,Ie.m9)(q),B)}(this._delegate,B||void 0).then(K=>new we(K,this.storage))}getMetadata(){return function(q){return Oi.apply(this,arguments)}((0,Ie.m9)(this._delegate))}updateMetadata(B){return function(q,B){return function(q,B){return as.apply(this,arguments)}(q=(0,Ie.m9)(q),B)}(this._delegate,B)}getDownloadURL(){return function(q){return Ks.apply(this,arguments)}((0,Ie.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(q){return _i.apply(this,arguments)}((0,Ie.m9)(this._delegate))}_throwIfRoot(B){if(""===this._delegate._location.path)throw sr(B)}}class Tt{constructor(B,K){this.app=B,this._delegate=K}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(B){if(U(B))throw Ut("ref() expected a child path but got a URL, use refFromURL instead.");return new st(Bs(this._delegate,B),this)}refFromURL(B){if(!U(B))throw Ut("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ot.makeFromUrl(B,this._delegate.host)}catch(K){throw Ut("refFromUrl() expected a valid full URL but got an invalid one.")}return new st(Bs(this._delegate,B),this)}setMaxUploadRetryTime(B){this._delegate.maxUploadRetryTime=B}setMaxOperationRetryTime(B){this._delegate.maxOperationRetryTime=B}useEmulator(B,K,ae={}){!function(q,B,K,ae={}){!function(q,B,K,ae={}){q.host=`${B}:${K}`,q._protocol="http";const{mockUserToken:Se}=ae;Se&&(q._overrideAuthToken="string"==typeof Se?Se:(0,Ie.Sg)(Se,q.app.options.projectId))}(q,B,K,ae)}(this._delegate,B,K,ae)}}function U(q){return/^[A-Za-z]+:\/\//.test(q)}function Ye(q,{instanceIdentifier:B}){const K=q.getProvider("app-compat").getImmediate(),ae=q.getProvider("storage").getImmediate({identifier:B});return new Tt(K,ae)}function fi(q){const B=function(q){return new ze.y(B=>{const K=ft=>B.next(ft);K(q.snapshot);const rt=q.on("state_changed",K);return q.then(ft=>{K(ft),B.complete()},ft=>{K(q.snapshot),(ft=>{B.error(ft)})(ft)}),function(){rt()}}).pipe(function(q,B=le.P){return K=>K.lift(new Ve(q,B))}(0))}(q);return{task:q,then:q.then.bind(q),catch:q.catch.bind(q),pause:q.pause.bind(q),cancel:q.cancel.bind(q),resume:q.resume.bind(q),snapshotChanges:()=>B,percentageChanges:()=>B.pipe((0,Ze.U)(K=>K.bytesTransferred/K.totalBytes*100))}}function Br(q){return{getDownloadURL:()=>(0,he.of)(void 0).pipe(fe.fc,(0,pt.w)(()=>q.getDownloadURL()),fe.iC),getMetadata:()=>(0,he.of)(void 0).pipe(fe.fc,(0,pt.w)(()=>q.getMetadata()),fe.iC),delete:()=>(0,ye.D)(q.delete()),child:B=>Br(q.child(B)),updateMetadata:B=>(0,ye.D)(q.updateMetadata(B)),put:(B,K)=>fi(q.put(B,K)),putString:(B,K,ae)=>fi(q.putString(B,K,ae)),listAll:()=>(0,ye.D)(q.listAll())}}!function(q){const B={TaskState:rr,TaskEvent:Ni,StringFormat:jt,Storage:Tt,Reference:st};q.INTERNAL.registerComponent(new At.wA("storage-compat",Ye,"PUBLIC").setServiceProps(B).setMultipleInstances(!0)),q.registerVersion("@firebase/storage-compat","0.1.3")}(_t.Z),Z(7841);const pi=new f.OlP("angularfire2.storageBucket"),ns=new f.OlP("angularfire2.storage.maxUploadRetryTime"),Tn=new f.OlP("angularfire2.storage.maxOperationRetryTime"),wo=new f.OlP("angularfire2.storage.use-emulator");let ao=(()=>{class q{constructor(K,ae,Se,rt,ft,cn,Lt,ln,$n){const On=(0,dt.on)(K,ft,ae);this.storage=(0,fe.cc)(`${On.name}.storage.${Se}`,"AngularFireStorage",On.name,()=>{const Xn=ft.runOutsideAngular(()=>On.storage(Se||void 0)),Wn=$n;return Wn&&Xn.useEmulator(...Wn),Lt&&Xn.setMaxUploadRetryTime(Lt),ln&&Xn.setMaxOperationRetryTime(ln),Xn},[Lt,ln])}ref(K){return Br(this.storage.ref(K))}refFromURL(K){return Br(this.storage.refFromURL(K))}upload(K,ae,Se){return Br(this.storage.ref(K)).put(ae,Se)}}return q.\u0275fac=function(K){return new(K||q)(f.LFG(dt.Dh),f.LFG(dt.xv,8),f.LFG(pi,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(fe.HU),f.LFG(ns,8),f.LFG(Tn,8),f.LFG(wo,8))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"any"}),q})();var da=Z(611),Js=Z(9344),It=Z(5160),or=Z(8583),Co=Z(4132);function li(q,B){1&q&&(f.TgZ(0,"div"),f._UZ(1,"app-spinner"),f.qZA())}function ha(q,B){if(1&q&&(f.TgZ(0,"div"),f.YNc(1,li,2,0,"div",1),f.qZA()),2&q){const K=f.oxw();f.xp6(1),f.Q6J("ngIf",K.auth.loading)}}function Ss(q,B){1&q&&(f.TgZ(0,"div",34),f._uU(1," Ingrese su email "),f.qZA())}function xs(q,B){1&q&&(f.TgZ(0,"div",34),f._uU(1," Ingrese un email valido "),f.qZA())}function Xs(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su contrase\xf1a "),f.qZA())}function To(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),f.qZA())}function ja(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su nombre "),f.qZA())}function Io(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su apellido "),f.qZA())}function Oo(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su DNI "),f.qZA())}function Do(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su edad "),f.qZA())}function Ii(q,B){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su obra social "),f.qZA())}function jr(q,B){if(1&q&&(f.TgZ(0,"div",20),f.TgZ(1,"label",36),f.TgZ(2,"b"),f._uU(3,"Obra social"),f.qZA(),f.qZA(),f._UZ(4,"input",37),f.YNc(5,Ii,2,0,"div",11),f.qZA()),2&q){const K=f.oxw();let ae;f.xp6(5),f.Q6J("ngIf",(null==(ae=K.form.get("obraSocial"))?null:ae.touched)&&(null==(ae=K.form.get("obraSocial"))||null==ae.errors?null:ae.errors.required))}}function eo(q,B){if(1&q){const K=f.EpF();f.TgZ(0,"div",48),f.TgZ(1,"i",49),f.NdJ("click",function(){const rt=f.CHM(K).$implicit;return f.oxw(3).borrarEspecialidad(rt)}),f.qZA(),f._uU(2),f.qZA()}if(2&q){const K=B.$implicit;f.xp6(2),f.hij(" ",K.especialidad," ")}}function ws(q,B){if(1&q&&(f.TgZ(0,"div"),f.TgZ(1,"label",46),f._uU(2,"Seleccionadas:"),f.qZA(),f.YNc(3,eo,3,1,"div",47),f.qZA()),2&q){const K=f.oxw(2);f.xp6(3),f.Q6J("ngForOf",K.especialidadesCompletas)}}function $i(q,B){if(1&q){const K=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"label",50),f.NdJ("click",function(){const rt=f.CHM(K).$implicit;return f.oxw(2).agregarEspecialidad(rt)}),f._uU(2),f.qZA(),f.qZA()}if(2&q){const K=B.$implicit;f.xp6(2),f.hij(" ",null==K?null:K.especialidad," ")}}function Sa(q,B){if(1&q){const K=f.EpF();f.TgZ(0,"div",38),f.TgZ(1,"label",39),f.TgZ(2,"b"),f._uU(3,"Especialidad"),f.qZA(),f.qZA(),f.TgZ(4,"div",40),f._UZ(5,"input",41),f.qZA(),f._UZ(6,"input",42),f.TgZ(7,"button",43),f.NdJ("click",function(){return f.CHM(K),f.oxw().agregarNuevaEspecialidad()}),f._uU(8,"Agregar"),f.qZA(),f.YNc(9,ws,4,1,"div",1),f.TgZ(10,"div",44),f.YNc(11,$i,3,1,"div",45),f.qZA(),f.qZA()}if(2&q){const K=f.oxw();f.xp6(9),f.Q6J("ngIf",K.especialidadesCompletas.length),f.xp6(2),f.Q6J("ngForOf",K.especialidades)}}function to(q,B){if(1&q){const K=f.EpF();f.TgZ(0,"input",51),f.NdJ("change",function(Se){return f.CHM(K),f.oxw().cambioArchivo(Se)}),f.qZA()}}function lo(q,B){if(1&q){const K=f.EpF();f.TgZ(0,"input",52),f.NdJ("change",function(Se){return f.CHM(K),f.oxw().cambioArchivo(Se)}),f.qZA()}}function ia(q,B){1&q&&f._UZ(0,"div",56)}const Hr=function(q){return{"load-complete":q}};function uo(q,B){if(1&q&&(f.TgZ(0,"div",53),f.TgZ(1,"div",54),f.YNc(2,ia,1,0,"div",55),f.qZA(),f.qZA()),2&q){const K=f.oxw();f.xp6(1),f.Q6J("ngClass",f.VKq(2,Hr,K.loadingCaptcha)),f.xp6(1),f.Q6J("ngIf",K.loadingFinished)}}let sa=(()=>{class q{constructor(K,ae,Se,rt,ft,cn){this.auth=K,this.formBuilder=ae,this.firebaseStorage=Se,this.router=rt,this.toaster=ft,this.firestore=cn,this.finalizado=new f.vpe,this.mostrarCaptcha=!1,this.loadingCaptcha=!1,this.loadingFinished=!1,this.tipoUser="",this.nombreArchivo0="",this.nombreArchivo1="",this.especialidadActual=[],this.fotosOk=!1,this.especialidadesCompletas=[],this.form=this.formBuilder.group({}),this.formData=new FormData,this.getEspecialidades()}set tipo(K){this.tipoUser=K,"paciente"===K?this.registroPaciente():"especialista"===K?this.registroEspecialista():this.registroAdmin()}agregarEspecialidad(K){var ae;return-1===this.especialidadActual.indexOf(K)&&(console.log(K),this.especialidadesCompletas.push(K),this.especialidadActual.push(K.especialidad),console.log(this.especialidadActual),null===(ae=this.form.controls.especialidad)||void 0===ae||ae.setValue(this.especialidadActual),!0)}agregarNuevaEspecialidad(){var K;let ae={especialidad:null===(K=this.form.controls.nuevaEspecialidad)||void 0===K?void 0:K.value,imagen:"https://firebasestorage.googleapis.com/v0/b/clinicaonline-ee233.appspot.com/o/default.png?alt=media&token=28e9a67e-ec8f-4b97-bd54-2840abb7ec8b"};if(this.agregarEspecialidad(ae)){let Se=!1;for(let rt of this.especialidades)if(rt.especialidad===ae){Se=!0;break}Se||this.firestore.addEspecialidad(ae)}}borrarEspecialidad(K){let ae=this.especialidadActual.indexOf(K);-1!==ae&&this.especialidadActual.splice(ae,1)}ngOnInit(){}getEspecialidades(){this.firestore.especialidadesObs.subscribe(K=>{this.especialidades=K})}registroPaciente(){this.form=this.formBuilder.group({email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],nombre:["",te.kI.required],apellido:["",te.kI.required],dni:["",te.kI.required],obraSocial:["",te.kI.required],edad:["",te.kI.required],imagenes:[null,te.kI.required]})}registroEspecialista(){this.form=this.formBuilder.group({nombre:["",[te.kI.required]],apellido:["",[te.kI.required]],edad:["",[te.kI.required]],dni:["",[te.kI.required]],email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],especialidad:["",[te.kI.required]],nuevaEspecialidad:[""],imagen:[null,[te.kI.required]]})}registroAdmin(){this.form=this.formBuilder.group({nombre:["",[te.kI.required]],apellido:["",[te.kI.required]],edad:["",[te.kI.required]],dni:["",[te.kI.required]],email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],imagen:[null,[te.kI.required]]})}cambioArchivo(K){if("paciente"===this.tipoUser)if(2===K.target.files.length)for(let ae=0;ae<2;ae++)0===ae?this.nombreArchivo0=K.target.files[ae].name:this.nombreArchivo1=K.target.files[ae].name,this.formData.delete(`archivo${ae}`),this.formData.append(`archivo${ae}`,K.target.files[ae],K.target.files[ae].name),this.fotosOk=!0;else K.target.value=null,Re().fire({text:"Debe subir dos fotos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"});else if(K.target.files.length>0)for(let ae=0;ae<K.target.files.length;ae++)0===ae?this.nombreArchivo0=K.target.files[ae].name:this.nombreArchivo1=K.target.files[ae].name,this.formData.delete(`archivo${ae}`),this.formData.append(`archivo${ae}`,K.target.files[ae],K.target.files[ae].name),this.fotosOk=!0}subirArchivo(){var K=this;return(0,_.Z)(function*(){let ae=K.formData.get("archivo0"),Se=K.formData.get("archivo1");K.nombreArchivo0=Date.now().toLowerCase().toString()+K.nombreArchivo0,K.nombreArchivo1=Date.now().toLowerCase().toString()+K.nombreArchivo1;let rt=K.firebaseStorage.ref(K.nombreArchivo0);yield K.firebaseStorage.upload(K.nombreArchivo0,ae);let ft=null;Se&&(ft=K.firebaseStorage.ref(K.nombreArchivo1),yield K.firebaseStorage.upload(K.nombreArchivo1,Se)),rt.getDownloadURL().subscribe(function(){var cn=(0,_.Z)(function*(Lt){"especialista"===K.tipoUser?(K.user.imagen=Lt,K.firestore.addEspecialista(K.user)):"Administradores"===K.tipoUser?(K.user.imagen=Lt,K.firestore.addAdmin(K.user)):(K.user.imagenes.push(Lt),ft?(ft.getDownloadURL().subscribe(ln=>{K.user.imagenes.push(ln),K.firestore.addPaciente(K.user)}),K.nombreArchivo0="",K.nombreArchivo1=""):K.auth.deleteCurrentUser())});return function(Lt){return cn.apply(this,arguments)}}())})()}mostrarToast(K,ae){"success"===K?this.toaster.success(ae):this.toaster.error(ae)}signUp(){var K,ae,Se,rt,ft,cn,Lt,ln,$n,On,Xn,Wn,Dr,gi,Zi,qi,Di,Ar,xr,Fi;this.fotosOk&&("paciente"===this.tipoUser?(this.user={email:null===(K=this.form.get("email"))||void 0===K?void 0:K.value,nombre:null===(ae=this.form.get("nombre"))||void 0===ae?void 0:ae.value,apellido:null===(Se=this.form.get("apellido"))||void 0===Se?void 0:Se.value,dni:null===(rt=this.form.get("dni"))||void 0===rt?void 0:rt.value,edad:null===(ft=this.form.get("edad"))||void 0===ft?void 0:ft.value,obraSocial:null===(cn=this.form.get("obraSocial"))||void 0===cn?void 0:cn.value,password:null===(Lt=this.form.get("password"))||void 0===Lt?void 0:Lt.value,perfil:this.tipoUser,imagenes:[]},this.registrar()):"especialista"===this.tipoUser?(this.user={email:null===(ln=this.form.get("email"))||void 0===ln?void 0:ln.value,nombre:null===($n=this.form.get("nombre"))||void 0===$n?void 0:$n.value,apellido:null===(On=this.form.get("apellido"))||void 0===On?void 0:On.value,dni:null===(Xn=this.form.get("dni"))||void 0===Xn?void 0:Xn.value,edad:null===(Wn=this.form.get("edad"))||void 0===Wn?void 0:Wn.value,especialidad:null===(Dr=this.form.get("especialidad"))||void 0===Dr?void 0:Dr.value,password:null===(gi=this.form.get("password"))||void 0===gi?void 0:gi.value,perfil:this.tipoUser,habilitado:!0},this.registrar()):(this.user={email:null===(Zi=this.form.get("email"))||void 0===Zi?void 0:Zi.value,nombre:null===(qi=this.form.get("nombre"))||void 0===qi?void 0:qi.value,apellido:null===(Di=this.form.get("apellido"))||void 0===Di?void 0:Di.value,dni:null===(Ar=this.form.get("dni"))||void 0===Ar?void 0:Ar.value,edad:null===(xr=this.form.get("edad"))||void 0===xr?void 0:xr.value,password:null===(Fi=this.form.get("password"))||void 0===Fi?void 0:Fi.value,perfil:"admin"},this.registrar()))}registrar(){var K=this;this.form.reset(),this.loadingFinished?this.auth.signUp(this.user).then(function(){var ae=(0,_.Z)(function*(Se){var rt;K.auth.loading=!0,K.auth.isLogged=K.user,K.user.uid=null===(rt=null==Se?void 0:Se.user)||void 0===rt?void 0:rt.uid,yield K.subirArchivo(),K.auth.loading=!1,"Administradores"!==K.tipoUser?(K.auth.enviarVerificacionEmail(),Re().fire({text:"Datos correctos, se ha enviado un mail para validar su cuenta",timer:2e3,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),K.router.navigate(["/home"])):K.finalizado.emit(!1)});return function(Se){return ae.apply(this,arguments)}}()).catch(ae=>{this.finalizado.emit(!0),Re().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{this.auth.loading=!1},1500)}):Re().fire({text:"Debe completar el captcha",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"})}captcha(){this.mostrarCaptcha=!0,setTimeout(()=>{this.loadingCaptcha=!0,this.loadingFinished=!0},1500)}}return q.\u0275fac=function(K){return new(K||q)(f.Y36(pe.e),f.Y36(te.qu),f.Y36(ao),f.Y36(da.F0),f.Y36(Js._W),f.Y36(It.C))},q.\u0275cmp=f.Xpm({type:q,selectors:[["app-registro"]],inputs:{tipo:"tipo"},outputs:{finalizado:"finalizado"},decls:63,vars:16,consts:[[1,"container",2,"max-height","100vh"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12","col-sm-6"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-md-4","col-12"],["for","nombre"],["type","text","formControlName","nombre","name","nombre","required",""],["for","apellido"],["type","text","formControlName","apellido","name","apellido","required",""],["for","dni"],["type","number","name","dni","autocomplete","off","formControlName","dni","required",""],[1,"col-sm-6","col-12"],["for","edad"],["type","number","name","edad","formControlName","edad","required",""],["class","col-sm-6 col-12",4,"ngIf"],["class","col-sm-6 col-12 p-0",4,"ngIf"],[1,"col-12"],["type","file","formControlName","imagen",3,"change",4,"ngIf"],["type","file","formControlName","imagenes","multiple","",3,"change",4,"ngIf"],[1,"row","justify-content-center","align-items-center","text-center"],[1,"col-sm-4","col-6"],["id","toggle","type","button",1,"btn","btn-success",3,"click"],["class","col-","style","height:50px;width: 50px;",4,"ngIf"],[1,"clearfix"],["type","submit",1,"btn",3,"disabled"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"],["for","obraSocial"],["type","text","formControlName","obraSocial","name","obraSocial","required",""],[1,"col-sm-6","col-12","p-0"],["for","especialidad",1,"d-block"],[2,"display","none"],["type","text","formControlName","especialidad","autocomplete","off","name","especialidad",2,"width","60%"],["type","text","formControlName","nuevaEspecialidad","autocomplete","off","name","nuevaEspecialidad",2,"width","60%"],["type","button",1,"btn","btn-primary","btn-sm","d-inline","ms-2",2,"width","36%",3,"click"],[1,"d-flex","flex-wrap","justify-content-center"],[4,"ngFor","ngForOf"],["for",""],["class","badge rounded-pill bg-warning text-dark ms-1 noselect",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-warning","text-dark","ms-1","noselect"],[1,"bi","bi-x",2,"font-size","15px",3,"click"],["for","especialidades",1,"ms-1","mt-1","badge","rounded-pill","bg-info","text-dark","noselect",3,"click"],["type","file","formControlName","imagen",3,"change"],["type","file","formControlName","imagenes","multiple","",3,"change"],[1,"col-",2,"height","50px","width","50px"],[1,"circle-loader",3,"ngClass"],["class","checkmark draw",4,"ngIf"],[1,"checkmark","draw"]],template:function(K,ae){if(1&K&&(f.TgZ(0,"div",0),f.YNc(1,ha,2,1,"div",1),f.TgZ(2,"form",2),f.NdJ("ngSubmit",function(){return ae.signUp()}),f.TgZ(3,"div",3),f.TgZ(4,"h1"),f._uU(5,"Registro"),f.qZA(),f.TgZ(6,"p"),f._uU(7,"Completa los siguientes datos para crear una cuenta"),f.qZA(),f.TgZ(8,"div",4),f.TgZ(9,"div",5),f.TgZ(10,"label",6),f.TgZ(11,"b"),f._uU(12,"Email"),f.qZA(),f.qZA(),f._UZ(13,"input",7),f.YNc(14,Ss,2,0,"div",8),f.YNc(15,xs,2,0,"div",8),f.qZA(),f.TgZ(16,"div",5),f.TgZ(17,"label",9),f.TgZ(18,"b"),f._uU(19,"Contrase\xf1a"),f.qZA(),f.qZA(),f._UZ(20,"input",10),f.YNc(21,Xs,2,0,"div",11),f.YNc(22,To,2,0,"div",11),f.qZA(),f.qZA(),f.TgZ(23,"div",12),f.TgZ(24,"div",13),f.TgZ(25,"label",14),f.TgZ(26,"b"),f._uU(27,"Nombre"),f.qZA(),f.qZA(),f._UZ(28,"input",15),f.YNc(29,ja,2,0,"div",11),f.qZA(),f.TgZ(30,"div",13),f.TgZ(31,"label",16),f.TgZ(32,"b"),f._uU(33,"Apellido"),f.qZA(),f.qZA(),f._UZ(34,"input",17),f.YNc(35,Io,2,0,"div",11),f.qZA(),f.TgZ(36,"div",13),f.TgZ(37,"label",18),f.TgZ(38,"b"),f._uU(39,"DNI"),f.qZA(),f.qZA(),f._UZ(40,"input",19),f.YNc(41,Oo,2,0,"div",11),f.qZA(),f.qZA(),f.TgZ(42,"div",4),f.TgZ(43,"div",20),f.TgZ(44,"label",21),f.TgZ(45,"b"),f._uU(46,"Edad"),f.qZA(),f.qZA(),f._UZ(47,"input",22),f.YNc(48,Do,2,0,"div",11),f.qZA(),f.YNc(49,jr,6,1,"div",23),f.YNc(50,Sa,12,2,"div",24),f.qZA(),f.TgZ(51,"div",4),f.TgZ(52,"div",25),f.YNc(53,to,1,0,"input",26),f.YNc(54,lo,1,0,"input",27),f.qZA(),f.qZA(),f.TgZ(55,"div",28),f.TgZ(56,"div",29),f.TgZ(57,"button",30),f.NdJ("click",function(){return ae.captcha()}),f._uU(58,"No soy un robot"),f.qZA(),f.qZA(),f.YNc(59,uo,3,4,"div",31),f.qZA(),f.TgZ(60,"div",32),f.TgZ(61,"button",33),f._uU(62,"Registrarse"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&K){let Se,rt,ft,cn,Lt,ln,$n,On;f.xp6(1),f.Q6J("ngIf",ae.auth.loading),f.xp6(1),f.Q6J("formGroup",ae.form),f.xp6(12),f.Q6J("ngIf",(null==(Se=ae.form.get("email"))?null:Se.touched)&&(null==(Se=ae.form.get("email"))||null==Se.errors?null:Se.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(rt=ae.form.get("email"))?null:rt.touched)&&(null==(rt=ae.form.get("email"))||null==rt.errors?null:rt.errors.email)),f.xp6(6),f.Q6J("ngIf",(null==(ft=ae.form.get("password"))?null:ft.touched)&&(null==(ft=ae.form.get("password"))||null==ft.errors?null:ft.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(cn=ae.form.get("password"))?null:cn.touched)&&(null==(cn=ae.form.get("password"))||null==cn.errors?null:cn.errors.minlength)),f.xp6(7),f.Q6J("ngIf",(null==(Lt=ae.form.get("nombre"))?null:Lt.touched)&&(null==(Lt=ae.form.get("nombre"))||null==Lt.errors?null:Lt.errors.required)),f.xp6(6),f.Q6J("ngIf",(null==(ln=ae.form.get("apellido"))?null:ln.touched)&&(null==(ln=ae.form.get("apellido"))||null==ln.errors?null:ln.errors.required)),f.xp6(6),f.Q6J("ngIf",(null==($n=ae.form.get("dni"))?null:$n.touched)&&(null==($n=ae.form.get("dni"))||null==$n.errors?null:$n.errors.required)),f.xp6(7),f.Q6J("ngIf",(null==(On=ae.form.get("edad"))?null:On.touched)&&(null==(On=ae.form.get("edad"))||null==On.errors?null:On.errors.required)),f.xp6(1),f.Q6J("ngIf","paciente"===ae.tipoUser),f.xp6(1),f.Q6J("ngIf","especialista"===ae.tipoUser),f.xp6(3),f.Q6J("ngIf","paciente"!==ae.tipoUser),f.xp6(1),f.Q6J("ngIf","paciente"===ae.tipoUser),f.xp6(5),f.Q6J("ngIf",ae.mostrarCaptcha),f.xp6(2),f.Q6J("disabled",ae.form.invalid)}},directives:[or.O5,te._Y,te.JL,te.sg,te.Fj,te.JJ,te.u,te.Q7,te.wV,Co.O,or.sg,or.mk],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:300px}}h1[_ngcontent-%COMP%]{margin-bottom:1em}.circle-loader[_ngcontent-%COMP%]{margin-bottom:1.5em;border:1px solid rgba(0,0,0,.2);border-left-color:#5cb85c;animation:loader-spin 1.2s infinite linear;position:relative;display:inline-block;vertical-align:top;border-radius:50%;width:3em;height:3em}.load-complete[_ngcontent-%COMP%]{animation:none;border-color:#5cb85c;transition:border .5s ease-out}.checkmark[_ngcontent-%COMP%]{display:block}.checkmark.draw[_ngcontent-%COMP%]:after{animation-duration:.8s;animation-timing-function:ease;animation-name:checkmark;transform:scaleX(-1) rotate(135deg)}.checkmark[_ngcontent-%COMP%]:after{opacity:1;height:1.5em;width:.75em;transform-origin:left top;border-right:3px solid #5cb85c;border-top:3px solid #5cb85c;content:"";left:.75em;top:1.5em;position:absolute}@keyframes loader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes checkmark{0%{height:0;width:0;opacity:1}20%{height:0;width:.75em;opacity:1}40%{height:1.5em;width:.75em;opacity:1}to{height:1.5em;width:.75em;opacity:1}}']}),q})()},4132:(Ht,tt,Z)=>{"use strict";Z.d(tt,{O:()=>f});var _=Z(7716);let f=(()=>{class te{constructor(){}ngOnInit(){}}return te.\u0275fac=function(Re){return new(Re||te)},te.\u0275cmp=_.Xpm({type:te,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["width","30px","height","30px","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg",1,"spinner","d-block","m-auto","mt-1"],["fill","none","stroke-width","6","stroke-linecap","round","cx","33","cy","33","r","30",1,"path"]],template:function(Re,pe){1&Re&&(_.TgZ(0,"div"),_.O4$(),_.TgZ(1,"svg",0),_._UZ(2,"circle",1),_.qZA(),_.qZA())},styles:[".spinner[_ngcontent-%COMP%]{animation:rotator 1.4s linear infinite}@keyframes rotator{0%{transform:rotate(0)}to{transform:rotate(270deg)}}.path[_ngcontent-%COMP%]{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:dash 1.4s ease-in-out infinite,colors 5.6s ease-in-out infinite}@keyframes colors{0%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}to{stroke:#4285f4}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}"]}),te})()},1896:(Ht,tt,Z)=>{"use strict";Z.d(tt,{u:()=>te});var _=Z(7716),f=Z(611);let te=(()=>{class Ue{constructor(pe){this.router=pe,this.usuario=JSON.parse(localStorage.getItem("usuario"))}canActivate(pe,ze){var he;return"admin"===(null===(he=this.usuario)||void 0===he?void 0:he.perfil)||(this.router.navigate(["/sin-permisos"]),!1)}}return Ue.\u0275fac=function(pe){return new(pe||Ue)(_.LFG(f.F0))},Ue.\u0275prov=_.Yz7({token:Ue,factory:Ue.\u0275fac,providedIn:"root"}),Ue})()},2271:(Ht,tt,Z)=>{"use strict";Z.d(tt,{m:()=>Re});var _=Z(8583),f=Z(665),te=Z(916),Ue=Z(7716);let Re=(()=>{class pe{}return pe.\u0275fac=function(he){return new(he||pe)},pe.\u0275mod=Ue.oAB({type:pe}),pe.\u0275inj=Ue.cJS({imports:[[_.ez,f.u5,f.UX,te.mZ]]}),pe})()},7556:(Ht,tt,Z)=>{"use strict";Z.d(tt,{e:()=>ye});var _=Z(8239),f=Z(8259),te=Z.n(f),Ue=Z(7716),Re=Z(7057),pe=Z(5160),ze=Z(9344),he=Z(611);let ye=(()=>{class ne{constructor(ue,Ve,Pe,Ke){this.auth=ue,this.firestore=Ve,this.toaster=Pe,this.router=Ke,this.isLogged=!1,this.loading=!1}mostrarToast(ue,Ve){"success"===ue?this.toaster.success(Ve):this.toaster.error(Ve)}emailValido(ue,Ve){var Pe=this;return(0,_.Z)(function*(){return"admin@admin.com"===ue.email||"especialista@especialista.com"===ue.email||"paciente@paciente.com"===ue.email||Ve.user.emailVerified?(Pe.firestore.isLogged=!0,yield Pe.firestore.getUser(ue.email)):(Pe.auth.signOut().then(Ke=>{localStorage.removeItem("usuario")}),"")})()}signIn(ue){var Ve=this;return(0,_.Z)(function*(){Ve.loading=!0,Ve.auth.signInWithEmailAndPassword(ue.email,ue.password).then(function(){var Pe=(0,_.Z)(function*(Ke){let Ze=yield Ve.emailValido(ue,Ke);""===Ze?(te().fire({text:"Para ingresar debe validar el mail",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),Ve.loading=!1,Ve.firestore.usuarioActual=null):(localStorage.setItem("usuario",JSON.stringify(Ze)),(null==Ze?void 0:Ze.especialidad)&&!1===(null==Ze?void 0:Ze.habilitado)?(te().fire({text:"El usuario ha sido deshabilitado, contactese con un administrador para saber mas al respecto",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),Ve.loading=!1):(Ve.firestore.usuarioActual=Ze,te().fire({text:"Datos correctos",timer:1500,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),Ve.loading=!1,Ve.router.navigate(["/home"])))});return function(Ke){return Pe.apply(this,arguments)}}()).catch(Pe=>{te().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{Ve.loading=!1},1500)})})()}signInReload(ue){var Ve=this;this.auth.signInWithEmailAndPassword(ue.email,ue.password).then(function(){var Pe=(0,_.Z)(function*(Ke){yield Ve.emailValido(ue,Ke)});return function(Ke){return Pe.apply(this,arguments)}}())}signUp(ue){return this.auth.createUserWithEmailAndPassword(ue.email,ue.password)}logOut(){this.auth.signOut().then(ue=>{localStorage.removeItem("usuario"),this.firestore.usuarioActual=null,this.router.navigate(["/login"])})}enviarVerificacionEmail(){var ue=this;return(0,_.Z)(function*(){var Ve;return null===(Ve=yield ue.auth.currentUser)||void 0===Ve?void 0:Ve.sendEmailVerification()})()}deleteCurrentUser(){var ue=this;return(0,_.Z)(function*(){(yield ue.auth.currentUser).delete().then(()=>{console.log("deleted")})})()}}return ne.\u0275fac=function(ue){return new(ue||ne)(Ue.LFG(Re.zQ),Ue.LFG(pe.C),Ue.LFG(ze._W),Ue.LFG(he.F0))},ne.\u0275prov=Ue.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},5160:(Ht,tt,Z)=>{"use strict";Z.d(tt,{C:()=>bv});var _=Z(8239),f=Z(5257),te=Z(7716),Ue=Z(3637),Re=Z(7574),pe=Z(4402),ze=Z(5917),he=Z(9126),ye=Z(9761),ne=Z(7393);function le(){return a=>a.lift(new ue)}class ue{call(n,o){return o.subscribe(new Ve(n))}}class Ve extends ne.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let o;this.hasPrev?o=[this.prev,n]:this.hasPrev=!0,this.prev=n,o&&this.destination.next(o)}}var Pe=Z(8002),Ke=Z(2145);class pt{constructor(n,o){this.compare=n,this.keySelector=o}call(n,o){return o.subscribe(new fe(n,this.compare,this.keySelector))}}class fe extends ne.L{constructor(n,o,u){super(n),this.keySelector=u,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(n,o){return n===o}_next(n){let o;try{const{keySelector:d}=this;o=d?d(n):n}catch(d){return this.destination.error(d)}let u=!1;if(this.hasKey)try{const{compare:d}=this;u=d(this.key,o)}catch(d){return this.destination.error(d)}else this.hasKey=!0;u||(this.key=o,this.destination.next(n))}}var Te,dt=Z(5435),_t=Z(8939),ut=Z(8583),At=(Z(5841),Z(4486)),Zt=Z(5452),Xt=Z(6034),Xe=Z(5601),Le=Z(3854),nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qe={},We=We||{},Ee=nt||self;function wt(){}function Pt(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function qt(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var Ft="closure_uid_"+(1e9*Math.random()>>>0),Kt=0;function Rn(a,n,o){return a.call.apply(a.bind,arguments)}function ct(a,n,o){if(!a)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,u),a.apply(n,d)}}return function(){return a.apply(n,arguments)}}function lt(a,n,o){return(lt=Function.prototype.bind&&-1!=Function.prototype.bind.toLowerCase().toString().indexOf("native code")?Rn:ct).apply(null,arguments)}function Ae(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var u=o.slice();return u.push.apply(u,arguments),a.apply(this,u)}}function qe(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(u,d,w){for(var A=Array(arguments.length-2),j=2;j<arguments.length;j++)A[j-2]=arguments[j];return n.prototype[d].apply(u,A)}}function Et(){this.s=this.s,this.o=this.o}var An={};Et.prototype.s=!1,Et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,Ft)&&a[Ft]||(a[Ft]=++Kt)}(this);delete An[a]}},Et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sr=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(let o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},gn=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){const u=a.length,d="string"==typeof a?a.split(""):a;for(let w=0;w<u;w++)w in d&&n.call(o,d[w],w,a)};function Ln(a){return Array.prototype.concat.apply([],arguments)}function xt(a){const n=a.length;if(0<n){const o=Array(n);for(let u=0;u<n;u++)o[u]=a[u];return o}return[]}function He(a){return/^[\s\xa0]*$/.test(a)}var sn,ot=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function at(a,n){return-1!=a.indexOf(n)}function en(a,n){return a<n?-1:a>n?1:0}e:{var _n=Ee.navigator;if(_n){var un=_n.userAgent;if(un){sn=un;break e}}sn=""}function Qt(a,n,o){for(const u in a)n.call(o,a[u],u,a)}function vn(a){const n={};for(const o in a)n[o]=a[o];return n}var Yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Sr(a,n){let o,u;for(let d=1;d<arguments.length;d++){for(o in u=arguments[d],u)a[o]=u[o];for(let w=0;w<Yn.length;w++)o=Yn[w],Object.prototype.hasOwnProperty.call(u,o)&&(a[o]=u[o])}}function tr(a){return tr[" "](a),a}tr[" "]=wt;var Me,a,wn=at(sn,"Opera"),Gr=at(sn,"Trident")||at(sn,"MSIE"),Ri=at(sn,"Edge"),Sn=Ri||Gr,dr=at(sn,"Gecko")&&!(at(sn.toLowerCase(),"webkit")&&!at(sn,"Edge"))&&!(at(sn,"Trident")||at(sn,"MSIE"))&&!at(sn,"Edge"),zr=at(sn.toLowerCase(),"webkit")&&!at(sn,"Edge");function Mi(){var a=Ee.document;return a?a.documentMode:void 0}e:{var Ce="",ke=(a=sn,dr?/rv:([^\);]+)(\)|;)/.exec(a):Ri?/Edge\/([\d\.]+)/.exec(a):Gr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):zr?/WebKit\/(\S+)/.exec(a):wn?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ke&&(Ce=ke?ke[1]:""),Gr){var bt=Mi();if(null!=bt&&bt>parseFloat(Ce)){Me=String(bt);break e}}Me=Ce}var et={};function jt(){return n=et,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let a=0;const n=ot(String(Me)).split("."),o=ot("9").split("."),u=Math.max(n.length,o.length);for(let A=0;0==a&&A<u;A++){var d=n[A]||"",w=o[A]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==d[0].length&&0==w[0].length)break;a=en(0==d[1].length?0:parseInt(d[1],10),0==w[1].length?0:parseInt(w[1],10))||en(0==d[2].length,0==w[2].length)||en(d[2],w[2]),d=d[3],w=w[3]}while(0==a)}return 0<=a}();var n}var Tr=Ee.document&&Gr&&(Mi()||parseInt(Me,10))||void 0,Gn=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Ee.addEventListener("test",wt,n),Ee.removeEventListener("test",wt,n)}catch(o){}return a}();function Bn(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function Hn(a,n){if(Bn.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,u=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(dr){e:{try{tr(n.nodeName);var d=!0;break e}catch(w){}d=!1}d||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Wr[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Hn.Z.h.call(this)}}Bn.prototype.h=function(){this.defaultPrevented=!0},qe(Hn,Bn);var Wr={2:"touch",3:"pen",4:"mouse"};Hn.prototype.h=function(){Hn.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Fr="closure_listenable_"+(1e6*Math.random()|0),ss=0;function bn(a,n,o,u,d){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!u,this.ia=d,this.key=++ss,this.ca=this.fa=!1}function ji(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function os(a){this.src=a,this.g={},this.h=0}function Jn(a,n){var o=n.type;if(o in a.g){var w,u=a.g[o],d=sr(u,n);(w=0<=d)&&Array.prototype.splice.call(u,d,1),w&&(ji(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function Wi(a,n,o,u){for(var d=0;d<a.length;++d){var w=a[d];if(!w.ca&&w.listener==n&&w.capture==!!o&&w.ia==u)return d}return-1}os.prototype.add=function(a,n,o,u,d){var w=a.toLowerCase().toString();(a=this.g[w])||(a=this.g[w]=[],this.h++);var A=Wi(a,n,u,d);return-1<A?(n=a[A],o||(n.fa=!1)):((n=new bn(n,this.src,w,!!u,d)).fa=o,a.push(n)),n};var _r="closure_lm_"+(1e6*Math.random()|0),En={};function nn(a,n,o,u,d){if(u&&u.once)return zn(a,n,o,u,d);if(Array.isArray(n)){for(var w=0;w<n.length;w++)nn(a,n[w],o,u,d);return null}return o=Kr(o),a&&a[Fr]?a.N(n,o,qt(u)?!!u.capture:!!u,d):br(a,n,o,!1,u,d)}function br(a,n,o,u,d,w){if(!n)throw Error("Invalid event type");var A=qt(d)?!!d.capture:!!d,j=nr(a);if(j||(a[_r]=j=new os(a)),(o=j.add(n,o,u,A,w)).proxy)return o;if(u=function(){var n=ti;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=u,u.src=a,u.listener=o,a.addEventListener)Gn||(d=A),void 0===d&&(d=!1),a.addEventListener(n.toLowerCase().toString(),u,d);else if(a.attachEvent)a.attachEvent(hr(n.toLowerCase().toString()),u);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(u)}return o}function zn(a,n,o,u,d){if(Array.isArray(n)){for(var w=0;w<n.length;w++)zn(a,n[w],o,u,d);return null}return o=Kr(o),a&&a[Fr]?a.O(n,o,qt(u)?!!u.capture:!!u,d):br(a,n,o,!0,u,d)}function Nt(a,n,o,u,d){if(Array.isArray(n))for(var w=0;w<n.length;w++)Nt(a,n[w],o,u,d);else u=qt(u)?!!u.capture:!!u,o=Kr(o),a&&a[Fr]?(a=a.i,(n=String(n).toLowerCase().toString())in a.g&&-1<(o=Wi(w=a.g[n],o,u,d))&&(ji(w[o]),Array.prototype.splice.call(w,o,1),0==w.length&&(delete a.g[n],a.h--))):a&&(a=nr(a))&&(n=a.g[n.toLowerCase().toString()],a=-1,n&&(a=Wi(n,o,u,d)),(o=-1<a?n[a]:null)&&Mn(o))}function Mn(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[Fr])Jn(n.i,a);else{var o=a.type,u=a.proxy;n.removeEventListener?n.removeEventListener(o,u,a.capture):n.detachEvent?n.detachEvent(hr(o),u):n.addListener&&n.removeListener&&n.removeListener(u),(o=nr(n))?(Jn(o,a),0==o.h&&(o.src=null,n[_r]=null)):ji(a)}}}function hr(a){return a in En?En[a]:En[a]="on"+a}function ti(a,n){if(a.ca)a=!0;else{n=new Hn(n,this);var o=a.listener,u=a.ia||a.src;a.fa&&Mn(a),a=o.call(u,n)}return a}function nr(a){return(a=a[_r])instanceof os?a:null}var mr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kr(a){return"function"==typeof a?a:(a[mr]||(a[mr]=function(n){return a.handleEvent(n)}),a[mr])}function Vn(){Et.call(this),this.i=new os(this),this.P=this,this.I=null}function yr(a,n){var o,u=a.I;if(u)for(o=[];u;u=u.I)o.push(u);if(a=a.P,u=n.type||n,"string"==typeof n)n=new Bn(n,a);else if(n instanceof Bn)n.target=n.target||a;else{var d=n;Sr(n=new Bn(u,a),d)}if(d=!0,o)for(var w=o.length-1;0<=w;w--){var A=n.g=o[w];d=Nr(A,u,!0,n)&&d}if(d=Nr(A=n.g=a,u,!0,n)&&d,d=Nr(A,u,!1,n)&&d,o)for(w=0;w<o.length;w++)d=Nr(A=n.g=o[w],u,!1,n)&&d}function Nr(a,n,o,u){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var d=!0,w=0;w<n.length;++w){var A=n[w];if(A&&!A.ca&&A.capture==o){var j=A.listener,Q=A.ia||A.src;A.fa&&Jn(a.i,A),d=!1!==j.call(Q,u)&&d}}return d&&!u.defaultPrevented}qe(Vn,Et),Vn.prototype[Fr]=!0,Vn.prototype.removeEventListener=function(a,n,o,u){Nt(this,a,n,o,u)},Vn.prototype.M=function(){if(Vn.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],u=0;u<o.length;u++)ji(o[u]);delete a.g[n],a.h--}}this.I=null},Vn.prototype.N=function(a,n,o,u){return this.i.add(String(a),n,!1,o,u)},Vn.prototype.O=function(a,n,o,u){return this.i.add(String(a),n,!0,o,u)};var on=Ee.JSON.stringify;function $e(){var a=Is;let n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var xn,me=new class{constructor(a,n){this.i=a,this.j=n,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new Je,a=>a.reset());class Je{constructor(){this.next=this.g=this.h=null}set(n,o){this.h=n,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function gt(a){Ee.setTimeout(()=>{throw a},0)}function an(a,n){xn||function(){var a=Ee.Promise.resolve(void 0);xn=function(){a.then(Ws)}}(),Nn||(xn(),Nn=!0),Is.add(a,n)}var Nn=!1,Is=new class{constructor(){this.h=this.g=null}add(n,o){const u=me.get();u.set(n,o),this.h?this.h.next=u:this.g=u,this.h=u}};function Ws(){for(var a;a=$e();){try{a.h.call(a.g)}catch(o){gt(o)}var n=me;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}Nn=!1}function Ki(a,n){Vn.call(this),this.h=a||1,this.g=n||Ee,this.j=lt(this.kb,this),this.l=Date.now()}function Ur(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function mi(a,n,o){if("function"==typeof a)o&&(a=lt(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=lt(a.handleEvent,a)}return 2147483647<Number(n)?-1:Ee.setTimeout(a,n||0)}function ni(a){a.g=mi(()=>{a.g=null,a.i&&(a.i=!1,ni(a))},a.j);const n=a.h;a.h=null,a.m.apply(null,n)}qe(Ki,Vn),(Te=Ki.prototype).da=!1,Te.S=null,Te.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yr(this,"tick"),this.da&&(Ur(this),this.start()))}},Te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){Ki.Z.M.call(this),Ur(this),delete this.g};class mn extends Et{constructor(n,o){super(),this.m=n,this.j=o,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:ni(this)}M(){super.M(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(a){Et.call(this),this.h=a,this.g={}}qe(Ir,Et);var Fs=[];function Ni(a,n,o,u){Array.isArray(o)||(o&&(Fs[0]=o.toLowerCase().toString()),o=Fs);for(var d=0;d<o.length;d++){var w=nn(n,o[d],u||a.handleEvent,!1,a.h||a);if(!w)break;a.g[w.key]=w}}function rr(a){Qt(a.g,function(n,o){this.g.hasOwnProperty(o)&&Mn(n)},a),a.g={}}function ri(){this.g=!0}function Lr(a,n,o,u){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var u=o[a];if(!(2>u.length)){var d=u[1];if(Array.isArray(d)&&!(1>d.length)){var w=d[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var A=1;A<d.length;A++)d[A]=""}}}return on(o)}catch(j){return n}}(a,o)+(u?" "+u:"")})}Ir.prototype.M=function(){Ir.Z.M.call(this),rr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ri.prototype.Aa=function(){this.g=!1},ri.prototype.info=function(){};var Qr={},Ti=null;function Yi(){return Ti=Ti||new Vn}function di(a){Bn.call(this,Qr.Ma,a)}function yi(a){const n=Yi();yr(n,new di(n,a))}function _s(a,n){Bn.call(this,Qr.STAT_EVENT,a),this.stat=n}function oi(a){const n=Yi();yr(n,new _s(n,a))}function Ds(a,n){Bn.call(this,Qr.Na,a),this.size=n}function Oi(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){a()},n)}Qr.Ma="serverreachability",qe(di,Bn),Qr.STAT_EVENT="statevent",qe(_s,Bn),Qr.Na="timingevent",qe(Ds,Bn);var Qi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},as={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ji(){}function qo(){}Ji.prototype.h=null;var hi,_i={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function _o(){Bn.call(this,"d")}function ai(){Bn.call(this,"c")}function Pi(){}function vi(a,n,o,u){this.l=a,this.j=n,this.m=o,this.X=u||1,this.V=new Ir(this),this.P=ls,this.W=new Ki(a=Sn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}qe(_o,Bn),qe(ai,Bn),qe(Pi,Ji),Pi.prototype.g=function(){return new XMLHttpRequest},Pi.prototype.i=function(){return{}},hi=new Pi;var ls=45e3,us={},cs={};function ki(a,n,o){a.K=1,a.v=J(we(n)),a.s=o,a.U=!0,vo(a,null)}function vo(a,n){a.F=Date.now(),hs(a),a.A=we(a.v);var o=a.A,u=a.X;Array.isArray(u)||(u=[String(u)]),da(o.h,"t",u),a.C=0,o=a.l.H,a.h=new Ys,a.g=Ne(a.l,o?n:null,!a.s),0<a.O&&(a.L=new mn(lt(a.Ia,a,a.g),a.O)),Ni(a.V,a.g,"readystatechange",a.gb),n=a.H?vn(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),yi(1),function(a,n,o,u,d,w){a.info(function(){if(a.g)if(w)for(var A="",j=w.split("&"),Q=0;Q<j.length;Q++){var ce=j[Q].split("=");if(1<ce.length){var ve=ce[0];ce=ce[1];var Ge=ve.split("_");A=2<=Ge.length&&"type"==Ge[1]?A+(ve+"=")+ce+"&":A+(ve+"=redacted&")}}else A=null;else A=w;return"XMLHTTP REQ ("+u+") [attempt "+d+"]: "+n+"\n"+o+"\n"+A})}(a.j,a.u,a.A,a.m,a.X,a.s)}function Eo(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function ds(a,n,o){let d,u=!0;for(;!a.I&&a.C<o.length;){if(d=As(a,o),d==cs){4==n&&(a.o=4,oi(14),u=!1),Lr(a.j,a.m,null,"[Incomplete Response]");break}if(d==us){a.o=4,oi(15),Lr(a.j,a.m,o,"[Invalid Chunk]"),u=!1;break}Lr(a.j,a.m,d,null),Xi(a,d)}Eo(a)&&d!=cs&&d!=us&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,oi(16),u=!1),a.i=a.i&&u,u?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),ro(n),n.L=!0,oi(11))):(Lr(a.j,a.m,o,"[Invalid Chunked Response]"),fs(a),Pr(a))}function As(a,n){var o=a.C,u=n.indexOf("\n",o);return-1==u?cs:(o=Number(n.substring(o,u)),isNaN(o)?us:(u+=1)+o>n.length?cs:(n=n.substr(u,o),a.C=u+o,n))}function hs(a){a.Y=Date.now()+a.P,Or(a,a.P)}function Or(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=Oi(lt(a.eb,a),n)}function Us(a){a.B&&(Ee.clearTimeout(a.B),a.B=null)}function Pr(a){0==a.l.G||a.I||$s(a.l,a)}function fs(a){Us(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,Ur(a.W),rr(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function Xi(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||xs(o.i,a)))if(o.I=a.N,!a.J&&xs(o.i,a)&&3==o.G){try{var u=o.Ca.g.parse(n)}catch(ce){u=null}if(Array.isArray(u)&&3==u.length){var d=u;if(0==d[0])e:if(o.u)o.ta=d[1],0<o.ta-o.U&&37500>d[2]&&o.N&&0==o.A&&!o.v&&(o.v=Oi(lt(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;Jr(o),gi(o)}no(o),oi(18)}if(1>=Ss(o.i)&&o.ka){try{o.ka()}catch(ce){}o.ka=void 0}}else O(o,11)}else if((a.J||o.g==a)&&Jr(o),!He(n))for(d=o.Ca.g.parse(n),n=0;n<d.length;n++){let ce=d[n];if(o.U=ce[0],ce=ce[1],2==o.G)if("c"==ce[0]){o.J=ce[1],o.la=ce[2];const ve=ce[3];null!=ve&&(o.ma=ve,o.h.info("VER="+o.ma));const Ge=ce[4];null!=Ge&&(o.za=Ge,o.h.info("SVER="+o.za));const vt=ce[5];null!=vt&&"number"==typeof vt&&0<vt&&(o.K=u=1.5*vt,o.h.info("backChannelRequestTimeoutMs_="+u)),u=o;const Dt=a.g;if(Dt){const zt=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zt){var w=u.i;!w.g&&(at(zt,"spdy")||at(zt,"quic")||at(zt,"h2"))&&(w.j=w.l,w.g=new Set,w.h&&(Xs(w,w.h),w.h=null))}if(u.D){const Fn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(u.sa=Fn,N(u.F,u.D,Fn))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var A=a;if((u=o).oa=Y(u,u.H?u.la:null,u.W),A.J){To(u.i,A);var j=A,Q=u.K;Q&&j.setTimeout(Q),j.B&&(Us(j),hs(j)),u.g=A}else Po(u);0<o.l.length&&Di(o)}else"stop"!=ce[0]&&"close"!=ce[0]||O(o,7);else 3==o.G&&("stop"==ce[0]||"close"==ce[0]?"stop"==ce[0]?O(o,7):Dr(o):"noop"!=ce[0]&&o.j&&o.j.wa(ce),o.A=0)}yi(4)}catch(ce){}}function es(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Pt(a)||"string"==typeof a)gn(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Pt(a)||"string"==typeof a){o=[];for(var u=a.length,d=0;d<u;d++)o.push(d)}else for(d in o=[],u=0,a)o[u++]=d;d=(u=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Pt(a)){for(var n=[],o=a.length,u=0;u<o;u++)n.push(a[u]);return n}for(u in n=[],o=0,a)n[o++]=a[u];return n}(a)).length;for(var w=0;w<d;w++)n.call(void 0,u[w],o&&o[w],a)}}function ts(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var u=0;u<o;u+=2)this.set(arguments[u],arguments[u+1])}else if(a)if(a instanceof ts)for(o=a.T(),u=0;u<o.length;u++)this.set(o[u],a.get(o[u]));else for(u in a)this.set(u,a[u])}function vs(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var u=a.g[n];L(a.h,u)&&(a.g[o++]=u),n++}a.g.length=o}if(a.i!=a.g.length){var d={};for(o=n=0;n<a.g.length;)L(d,u=a.g[n])||(a.g[o++]=u,d[u]=1),n++;a.g.length=o}}function L(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(Te=vi.prototype).setTimeout=function(a){this.P=a},Te.gb=function(a){a=a.target;const n=this.L;n&&3==Lt(a)?n.l():this.Ia(a)},Te.Ia=function(a){try{if(a==this.g)e:{const ve=Lt(this.g);var n=this.g.Da();const Ge=this.g.ba();if(!(3>ve)&&(3!=ve||Sn||this.g&&(this.h.h||this.g.ga()||ln(this.g)))){this.I||4!=ve||7==n||yi(8==n||0>=Ge?3:2),Us(this);var o=this.g.ba();this.N=o;t:if(Eo(this)){var u=ln(this.g);a="";var d=u.length,w=4==Lt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fs(this),Pr(this);var A="";break t}this.h.i=new Ee.TextDecoder}for(n=0;n<d;n++)this.h.h=!0,a+=this.h.i.decode(u[n],{stream:w&&n==d-1});u.splice(0,d),this.h.g+=a,this.C=0,A=this.h.g}else A=this.g.ga();if(this.i=200==o,function(a,n,o,u,d,w,A){a.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+d+"]: "+n+"\n"+o+"\n"+w+" "+A})}(this.j,this.u,this.A,this.m,this.X,ve,o),this.i){if(this.$&&!this.J){t:{if(this.g){var j,Q=this.g;if((j=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(j)){var ce=j;break t}}ce=null}if(!(o=ce)){this.i=!1,this.o=3,oi(12),fs(this),Pr(this);break e}Lr(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,o)}this.U?(ds(this,ve,A),Sn&&this.i&&3==ve&&(Ni(this.V,this.W,"tick",this.fb),this.W.start())):(Lr(this.j,this.m,A,null),Xi(this,A)),4==ve&&fs(this),this.i&&!this.I&&(4==ve?$s(this.l,this):(this.i=!1,hs(this)))}else 400==o&&0<A.indexOf("Unknown SID")?(this.o=3,oi(12)):(this.o=0,oi(13)),fs(this),Pr(this)}}}catch(ve){}},Te.fb=function(){if(this.g){var a=Lt(this.g),n=this.g.ga();this.C<n.length&&(Us(this),ds(this,a,n),this.i&&4!=a&&hs(this))}},Te.cancel=function(){this.I=!0,fs(this)},Te.eb=function(){this.B=null;const a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(yi(3),oi(17)),fs(this),this.o=2,Pr(this)):Or(this,this.Y-a)},(Te=ts.prototype).R=function(){vs(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},Te.T=function(){return vs(this),this.g.concat()},Te.get=function(a,n){return L(this.h,a)?this.h[a]:n},Te.set=function(a,n){L(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},Te.forEach=function(a,n){for(var o=this.T(),u=0;u<o.length;u++){var d=o[u],w=this.get(d);a.call(n,w,d,this)}};var ee=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ie(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof ie){this.g=void 0!==n?n:a.g,st(this,a.j),this.s=a.s,Tt(this,a.i),U(this,a.m),this.l=a.l,n=a.h;var o=new ao;o.i=n.i,n.g&&(o.g=new ts(n.g),o.h=n.h),k(this,o),this.o=a.o}else a&&(o=String(a).match(ee))?(this.g=!!n,st(this,o[1]||"",!0),this.s=Cn(o[2]||""),Tt(this,o[3]||"",!0),U(this,o[4]),this.l=Cn(o[5]||"",!0),k(this,o[6]||"",!0),this.o=Cn(o[7]||"")):(this.g=!!n,this.h=new ao(null,this.g))}function we(a){return new ie(a)}function st(a,n,o){a.j=o?Cn(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function Tt(a,n,o){a.i=o?Cn(n,!0):n}function U(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function k(a,n,o){n instanceof ao?(a.h=n,function(a,n){n&&!a.j&&(js(a),a.i=null,a.g.forEach(function(o,u){var d=u.toLowerCase();u!=d&&(Aa(this,u),da(this,d,o))},a)),a.j=n}(a.h,a.g)):(o||(n=cr(n,Tn)),a.h=new ao(n,a.g))}function N(a,n,o){a.h.set(n,o)}function J(a){return N(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Cn(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function cr(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,fi),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function fi(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}ie.prototype.toString=function(){var a=[],n=this.j;n&&a.push(cr(n,Br,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(cr(n,Br,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(cr(o,"/"==o.charAt(0)?ns:pi,!0))),(o=this.h.toLowerCase().toString())&&a.push("?",o),(o=this.o)&&a.push("#",cr(o,wo)),a.join("")};var Br=/[#\/\?@]/g,pi=/[#\?:]/g,ns=/[#\?]/g,Tn=/[#\?@]/g,wo=/#/g;function ao(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function js(a){a.g||(a.g=new ts,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var u=a[o].indexOf("="),d=null;if(0<=u){var w=a[o].substring(0,u);d=a[o].substring(u+1)}else w=a[o];n(w,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function Aa(a,n){js(a),n=Js(a,n),L(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,L((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&vs(a)))}function Qs(a,n){return js(a),n=Js(a,n),L(a.g.h,n)}function da(a,n,o){Aa(a,n),0<o.length&&(a.i=null,a.g.set(Js(a,n),xt(o)),a.h+=o.length)}function Js(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}function Co(a){this.l=a||li,a=Ee.PerformanceNavigationTiming?0<(a=Ee.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=ao.prototype).add=function(a,n){js(this),this.i=null,a=Js(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},Te.forEach=function(a,n){js(this),this.g.forEach(function(o,u){gn(o,function(d){a.call(n,d,u,this)},this)},this)},Te.T=function(){js(this);for(var a=this.g.R(),n=this.g.T(),o=[],u=0;u<n.length;u++)for(var d=a[u],w=0;w<d.length;w++)o.push(n[u]);return o},Te.R=function(a){js(this);var n=[];if("string"==typeof a)Qs(this,a)&&(n=Ln(n,this.g.get(Js(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=Ln(n,a[o])}return n},Te.set=function(a,n){return js(this),this.i=null,Qs(this,a=Js(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},Te.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var u=n[o],d=encodeURIComponent(String(u));u=this.R(u);for(var w=0;w<u.length;w++){var A=d;""!==u[w]&&(A+="="+encodeURIComponent(String(u[w]))),a.push(A)}}return this.i=a.join("&")};var li=10;function ha(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Ss(a){return a.h?1:a.g?a.g.size:0}function xs(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function Xs(a,n){a.g?a.g.add(n):a.h=n}function To(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function ja(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let n=a.i;for(const o of a.g.values())n=n.concat(o.D);return n}return xt(a.i)}function Io(){}function Oo(){this.g=new Io}function Do(a,n,o){const u=o||"";try{es(a,function(d,w){let A=d;qt(d)&&(A=on(d)),n.push(u+w+"="+encodeURIComponent(A))})}catch(d){throw n.push(u+"type="+encodeURIComponent("_badmap")),d}}function jr(a,n,o,u,d){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,d(u)}catch(w){}}function eo(a){this.l=a.$b||null,this.j=a.ib||!1}function ws(a,n){Vn.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=$i,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Co.prototype.cancel=function(){if(this.i=ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},Io.prototype.stringify=function(a){return Ee.JSON.stringify(a,void 0)},Io.prototype.parse=function(a){return Ee.JSON.parse(a,void 0)},qe(eo,Ji),eo.prototype.g=function(){return new ws(this.l,this.j)},eo.prototype.i=function(a){return function(){return a}}({}),qe(ws,Vn);var $i=0;function Sa(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function to(a){a.readyState=4,a.l=null,a.j=null,a.A=null,lo(a)}function lo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(Te=ws.prototype).open=function(a,n){if(this.readyState!=$i)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,lo(this)},Te.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||Ee).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,to(this)),this.readyState=$i},Te.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,lo(this)),this.g&&(this.readyState=3,lo(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ee.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Sa(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},Te.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?to(this):lo(this),3==this.readyState&&Sa(this)}},Te.Ua=function(a){this.g&&(this.response=this.responseText=a,to(this))},Te.Ta=function(a){this.g&&(this.response=a,to(this))},Te.ha=function(){this.g&&to(this)},Te.setRequestHeader=function(a,n){this.v.append(a,n)},Te.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],n=this.h.entries();for(var o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(ws.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var ia=Ee.JSON.parse;function Hr(a){Vn.call(this),this.headers=new ts,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uo,this.K=this.L=!1}qe(Hr,Vn);var uo="",sa=/^https?$/i,q=["POST","PUT"];function K(a){return"content-type"==a.toLowerCase()}function ae(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,Se(a),ft(a)}function Se(a){a.D||(a.D=!0,yr(a,"complete"),yr(a,"error"))}function rt(a){if(a.h&&void 0!==We&&(!a.C[1]||4!=Lt(a)||2!=a.ba()))if(a.v&&4==Lt(a))mi(a.Fa,0,a);else if(yr(a,"readystatechange"),4==Lt(a)){a.h=!1;try{const j=a.ba();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var o;if(!(o=n)){var u;if(u=0===j){var d=String(a.H).match(ee)[1]||null;if(!d&&Ee.self&&Ee.self.location){var w=Ee.self.location.protocol;d=w.substr(0,w.length-1)}u=!sa.test(d?d.toLowerCase():"")}o=u}if(o)yr(a,"complete"),yr(a,"success");else{a.m=6;try{var A=2<Lt(a)?a.g.statusText:""}catch(Q){A=""}a.j=A+" ["+a.ba()+"]",Se(a)}}finally{ft(a)}}}function ft(a,n){if(a.g){cn(a);const o=a.g,u=a.C[0]?wt:null;a.g=null,a.C=null,n||yr(a,"ready");try{o.onreadystatechange=u}catch(d){}}}function cn(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Ee.clearTimeout(a.A),a.A=null)}function Lt(a){return a.g?a.g.readyState:0}function ln(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case uo:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function On(a,n,o){e:{for(u in o){var u=!1;break e}u=!0}u||(o=function(a){let n="";return Qt(a,function(o,u){n+=u,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):N(a,n,o))}function Xn(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function Wn(a){this.za=0,this.l=[],this.h=new ri,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xn("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xn("baseRetryDelayMs",5e3,a),this.$a=Xn("retryDelaySeedMs",1e4,a),this.Ya=Xn("forwardChannelMaxRetries",2,a),this.ra=Xn("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Co(a&&a.concurrentRequestLimit),this.Ca=new Oo,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Dr(a){if(Zi(a),3==a.G){var n=a.V++,o=we(a.F);N(o,"SID",a.J),N(o,"RID",n),N(o,"TYPE","terminate"),Fi(a,o),(n=new vi(a,a.h,n,void 0)).K=2,n.v=J(we(o)),o=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(o=Ee.navigator.sendBeacon(n.v.toLowerCase().toString(),"")),!o&&Ee.Image&&((new Image).src=n.v,o=!0),o||(n.g=Ne(n.l,null),n.g.ea(n.v)),n.F=Date.now(),hs(n)}P(a)}function gi(a){a.g&&(ro(a),a.g.cancel(),a.g=null)}function Zi(a){gi(a),a.u&&(Ee.clearTimeout(a.u),a.u=null),Jr(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Ee.clearTimeout(a.m),a.m=null)}function qi(a,n){a.l.push(new class{constructor(a,n){this.h=a,this.g=n}}(a.Za++,n)),3==a.G&&Di(a)}function Di(a){ha(a.i)||a.m||(a.m=!0,an(a.Ha,a),a.C=0)}function xr(a,n){var o;o=n?n.m:a.V++;const u=we(a.F);N(u,"SID",a.J),N(u,"RID",o),N(u,"AID",a.U),Fi(a,u),a.o&&a.s&&On(u,a.o,a.s),o=new vi(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=Hs(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Xs(a.i,o),ki(o,u,n)}function Fi(a,n){a.j&&es({},function(o,u){N(n,u,o)})}function Hs(a,n,o){o=Math.min(a.l.length,o);var u=a.j?lt(a.j.Oa,a.j,a):null;e:{var d=a.l;let w=-1;for(;;){const A=["count="+o];-1==w?0<o?(w=d[0].h,A.push("ofs="+w)):w=0:A.push("ofs="+w);let j=!0;for(let Q=0;Q<o;Q++){let ce=d[Q].h;const ve=d[Q].g;if(ce-=w,0>ce)w=Math.max(0,d[Q].h-100),j=!1;else try{Do(ve,A,"req"+ce+"_")}catch(Ge){u&&u(ve)}}if(j){u=A.join("&");break e}}}return a=a.l.splice(0,o),n.D=a,u}function Po(a){a.g||a.u||(a.Y=1,an(a.Ga,a),a.A=0)}function no(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=Oi(lt(a.Ga,a),Ms(a,a.A)),a.A++,0))}function ro(a){null!=a.B&&(Ee.clearTimeout(a.B),a.B=null)}function Rs(a){a.g=new vi(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=we(a.oa);N(n,"RID","rpc"),N(n,"SID",a.J),N(n,"CI",a.N?"0":"1"),N(n,"AID",a.U),Fi(a,n),N(n,"TYPE","xmlhttp"),a.o&&a.s&&On(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=J(we(n)),o.s=null,o.U=!0,vo(o,a)}function Jr(a){null!=a.v&&(Ee.clearTimeout(a.v),a.v=null)}function $s(a,n){var o=null;if(a.g==n){Jr(a),ro(a),a.g=null;var u=2}else{if(!xs(a.i,n))return;o=n.D,To(a.i,n),u=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==u){o=n.s?n.s.length:0,n=Date.now()-n.F;var d=a.C;yr(u=Yi(),new Ds(u,o,n,d)),Di(a)}else Po(a);else if(3==(d=n.o)||0==d&&0<a.I||!(1==u&&function(a,n){return!(Ss(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=Oi(lt(a.Ha,a,n),Ms(a,a.C)),a.C++,0)))}(a,n)||2==u&&no(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),d){case 1:O(a,5);break;case 4:O(a,10);break;case 3:O(a,6);break;default:O(a,2)}}function Ms(a,n){let o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function O(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var u=lt(a.jb,a);o||(o=new ie("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||st(o,"https"),J(o)),function(a,n){const o=new ri;if(Ee.Image){const u=new Image;u.onload=Ae(jr,o,u,"TestLoadImage: loaded",!0,n),u.onerror=Ae(jr,o,u,"TestLoadImage: error",!1,n),u.onabort=Ae(jr,o,u,"TestLoadImage: abort",!1,n),u.ontimeout=Ae(jr,o,u,"TestLoadImage: timeout",!1,n),Ee.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=a}else n(!1)}(o.toLowerCase().toString(),u)}else oi(2);a.G=0,a.j&&a.j.va(n),P(a),Zi(a)}function P(a){a.G=0,a.I=-1,a.j&&((0!=ja(a.i).length||0!=a.l.length)&&(a.i.i.length=0,xt(a.l),a.l.length=0),a.j.ua())}function Y(a,n,o){let u=function(a){return a instanceof ie?we(a):new ie(a,void 0)}(o);if(""!=u.i)n&&Tt(u,n+"."+u.i),U(u,u.m);else{const d=Ee.location;u=function(a,n,o,u){var d=new ie(null,void 0);return a&&st(d,a),n&&Tt(d,n),o&&U(d,o),u&&(d.l=u),d}(d.protocol,n?n+"."+d.hostname:d.hostname,+d.port,o)}return a.aa&&Qt(a.aa,function(d,w){N(u,w,d)}),o=a.sa,(n=a.D)&&o&&N(u,n,o),N(u,"VER",a.ma),Fi(a,u),u}function Ne(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Hr(o&&a.Ba&&!a.qa?new eo({ib:!0}):a.qa)).L=a.H,n}function St(){}function Dn(){if(Gr&&!(10<=Number(Tr)))throw Error("Environmental error: no available transport.")}function Qn(a,n){Vn.call(this),this.g=new Wn(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!He(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!He(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new Li(this)}function rs(a){_o.call(this);var n=a.__sm__;if(n){e:{for(const o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function Gi(){ai.call(this),this.status=1}function Li(a){this.g=a}(Te=Hr.prototype).ea=function(a,n,o,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():hi.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:hi),this.g.onreadystatechange=lt(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(w){return void ae(this,w)}a=o||"";const d=new ts(this.headers);u&&es(u,function(w,A){d.set(A,w)}),u=function(a){e:{var n=K;const o=a.length,u="string"==typeof a?a.split(""):a;for(let d=0;d<o;d++)if(d in u&&n.call(void 0,u[d],d,a)){n=d;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(d.T()),o=Ee.FormData&&a instanceof Ee.FormData,!(0<=sr(q,n))||u||o||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(w,A){this.g.setRequestHeader(A,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{cn(this),0<this.B&&((this.K=function(a){return Gr&&jt()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=lt(this.pa,this)):this.A=mi(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(w){ae(this,w)}},Te.pa=function(){void 0!==We&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yr(this,"timeout"),this.abort(8))},Te.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,yr(this,"complete"),yr(this,"abort"),ft(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ft(this,!0)),Hr.Z.M.call(this)},Te.Fa=function(){this.s||(this.F||this.v||this.l?rt(this):this.cb())},Te.cb=function(){rt(this)},Te.ba=function(){try{return 2<Lt(this)?this.g.status:-1}catch(a){return-1}},Te.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},Te.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),ia(n)}},Te.Da=function(){return this.m},Te.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=Wn.prototype).ma=8,Te.G=1,Te.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},Te.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;const d=new vi(this,this.h,a,void 0);let w=this.s;if(this.P&&(w?(w=vn(w),Sr(w,this.P)):w=this.P),null===this.o&&(d.H=w),this.ja)e:{for(var n=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(n+=u)){n=o;break e}if(4096===n||o===this.l.length-1){n=o+1;break e}}n=1e3}else n=1e3;n=Hs(this,d,n),N(o=we(this.F),"RID",a),N(o,"CVER",22),this.D&&N(o,"X-HTTP-Session-Id",this.D),Fi(this,o),this.o&&w&&On(o,this.o,w),Xs(this.i,d),this.Ra&&N(o,"TYPE","init"),this.ja?(N(o,"$req",n),N(o,"SID","null"),d.$=!0,ki(d,o,null)):ki(d,o,n),this.G=2}}else 3==this.G&&(a?xr(this,a):0==this.l.length||ha(this.i)||xr(this))},Te.Ga=function(){if(this.u=null,Rs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=Oi(lt(this.bb,this),a)}},Te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,oi(10),gi(this),Rs(this))},Te.ab=function(){null!=this.v&&(this.v=null,gi(this),no(this),oi(19))},Te.jb=function(a){a?(this.h.info("Successfully pinged google.com"),oi(2)):(this.h.info("Failed to ping google.com"),oi(1))},(Te=St.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Oa=function(){},Dn.prototype.g=function(a,n){return new Qn(a,n)},qe(Qn,Vn),Qn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),an(lt(a.hb,a,n))),oi(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=Y(a,null,a.W),Di(a)},Qn.prototype.close=function(){Dr(this.g)},Qn.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,qi(this.g,n)}else this.v?((n={}).__data__=on(a),qi(this.g,n)):qi(this.g,a)},Qn.prototype.M=function(){this.g.j=null,delete this.j,Dr(this.g),delete this.g,Qn.Z.M.call(this)},qe(rs,_o),qe(Gi,ai),qe(Li,St),Li.prototype.xa=function(){yr(this.g,"a")},Li.prototype.wa=function(a){yr(this.g,new rs(a))},Li.prototype.va=function(a){yr(this.g,new Gi(a))},Li.prototype.ua=function(){yr(this.g,"b")},Dn.prototype.createWebChannel=Dn.prototype.g,Qn.prototype.send=Qn.prototype.u,Qn.prototype.open=Qn.prototype.m,Qn.prototype.close=Qn.prototype.close,Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,as.COMPLETE="complete",qo.EventType=_i,_i.OPEN="a",_i.CLOSE="b",_i.ERROR="c",_i.MESSAGE="d",Vn.prototype.listen=Vn.prototype.N,Hr.prototype.listenOnce=Hr.prototype.O,Hr.prototype.getLastError=Hr.prototype.La,Hr.prototype.getLastErrorCode=Hr.prototype.Da,Hr.prototype.getStatus=Hr.prototype.ba,Hr.prototype.getResponseJson=Hr.prototype.Qa,Hr.prototype.getResponseText=Hr.prototype.ga,Hr.prototype.send=Hr.prototype.ea;var fa=Qe.createWebChannelTransport=function(){return new Dn},wi=Qe.getStatEventTarget=function(){return Yi()},xa=Qe.ErrorCode=Qi,ko=Qe.EventType=as,pa=Qe.Event=Qr,Ra=Qe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ha=Qe.FetchXmlHttpFactory=eo,gl=Qe.WebChannel=qo,ml=Qe.XhrIo=Hr;class ps{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ps.UNAUTHENTICATED=new ps(null),ps.GOOGLE_CREDENTIALS=new ps("google-credentials-uid"),ps.FIRST_PARTY=new ps("first-party-uid"),ps.MOCK_USER=new ps("mock-user");let Fo="9.1.0";const bo=new Xe.Yd("@firebase/firestore");function co(){return bo.logLevel}function Bt(a,...n){if(bo.logLevel<=Xe.in.DEBUG){const o=n.map($a);bo.debug(`Firestore (${Fo}): ${a}`,...o)}}function ui(a,...n){if(bo.logLevel<=Xe.in.ERROR){const o=n.map($a);bo.error(`Firestore (${Fo}): ${a}`,...o)}}function Ao(a,...n){if(bo.logLevel<=Xe.in.WARN){const o=n.map($a);bo.warn(`Firestore (${Fo}): ${a}`,...o)}}function $a(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function In(a="Unexpected state"){const n=`FIRESTORE (${Fo}) INTERNAL ASSERTION FAILED: `+a;throw ui(n),new Error(n)}function Un(a,n){a||In()}function Wt(a,n){return a}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class I{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class V{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(ps.UNAUTHENTICATED))}shutdown(){}}class re{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class be{constructor(n){this.t=n,this.currentUser=ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var u=this;let d=this.i;const w=ce=>this.i!==d?(d=this.i,o(ce)):Promise.resolve();let A=new I;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new I,n.enqueueRetryable(()=>w(this.currentUser))};const j=()=>{const ce=A;n.enqueueRetryable((0,_.Z)(function*(){yield ce.promise,yield w(u.currentUser)}))},Q=ce=>{Bt("FirebaseCredentialsProvider","Auth detected"),this.auth=ce,this.auth.addAuthTokenListener(this.o),j()};this.t.onInit(ce=>Q(ce)),setTimeout(()=>{if(!this.auth){const ce=this.t.getImmediate({optional:!0});ce?Q(ce):(Bt("FirebaseCredentialsProvider","Auth not yet detected"),A.resolve(),A=new I)}},0),j()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(u=>this.i!==n?(Bt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(Un("string"==typeof u.accessToken),new V(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Un(null===n||"string"==typeof n),new ps(n)}}class Fe{constructor(n,o,u){this.h=n,this.l=o,this.m=u,this.type="FirstParty",this.user=ps.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class M{constructor(n,o,u){this.h=n,this.l=o,this.m=u}getToken(){return Promise.resolve(new Fe(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.g(u),this.p=u=>o.writeSequenceNumber(u))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function b(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let u=0;u<a;u++)o[u]=Math.floor(256*Math.random());return o}v.T=-1;class x{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let u="";for(;u.length<20;){const d=b(40);for(let w=0;w<d.length;++w)u.length<20&&d[w]<o&&(u+=n.charAt(d[w]%n.length))}return u}}function $(a,n){return a<n?-1:a>n?1:0}function X(a,n,o){return a.length===n.length&&a.every((u,d)=>o(u,n[d]))}function ge(a){return a+"\0"}class _e{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return _e.fromMillis(Date.now())}static fromDate(n){return _e.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),u=Math.floor(1e6*(n-1e3*o));return new _e(o,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?$(this.nanoseconds,n.nanoseconds):$(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toLowerCase().toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xe{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xe(n)}static min(){return new xe(new _e(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toLowerCase().toString(){return"SnapshotVersion("+this.timestamp.toLowerCase().toString()+")"}toTimestamp(){return this.timestamp}}function mt(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function Ot(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function tn(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class Pn{constructor(n,o,u){void 0===o?o=0:o>n.length&&In(),void 0===u?u=n.length-o:u>n.length-o&&In(),this.segments=n,this.offset=o,this.len=u}get length(){return this.len}isEqual(n){return 0===Pn.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof Pn?n.forEach(u=>{o.push(u)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,u=this.limit();o<u;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const u=Math.min(n.length,o.length);for(let d=0;d<u;d++){const w=n.get(d),A=o.get(d);if(w<A)return-1;if(w>A)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class dn extends Pn{construct(n,o,u){return new dn(n,o,u)}canonicalString(){return this.toArray().join("/")}toLowerCase().toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const u of n){if(u.indexOf("//")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);o.push(...u.split("/").filter(d=>d.length>0))}return new dn(o)}static emptyPath(){return new dn([])}}const Yt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Pn{construct(n,o,u){return new yn(n,o,u)}static isValidIdentifier(n){return Yt.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toLowerCase().toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new yn(["__name__"])}static fromServerFormat(n){const o=[];let u="",d=0;const w=()=>{if(0===u.length)throw new T(D.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(u),u=""};let A=!1;for(;d<n.length;){const j=n[d];if("\\"===j){if(d+1===n.length)throw new T(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const Q=n[d+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new T(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);u+=Q,d+=2}else"`"===j?(A=!A,d++):"."!==j||A?(u+=j,d++):(w(),d++)}if(w(),A)throw new T(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new yn(o)}static emptyPath(){return new yn([])}}class ar{constructor(n){this.fields=n,n.sort(yn.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return X(this.fields,n.fields,(o,u)=>o.isEqual(u))}}class fr{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new fr(o)}static fromUint8Array(n){const o=function(u){let d="";for(let w=0;w<u.length;++w)d+=String.fromCharCode(u[w]);return d}(n);return new fr(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return $(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}fr.EMPTY_BYTE_STRING=new fr("");const Ns=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(a){if(Un(!!a),"string"==typeof a){let n=0;const o=Ns.exec(a);if(Un(!!o),o[1]){let d=o[1];d=(d+"000000000").substr(0,9),n=Number(d)}const u=new Date(a);return{seconds:Math.floor(u.getTime()/1e3),nanos:n}}return{seconds:ii(a.seconds),nanos:ii(a.nanos)}}function ii(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function gs(a){return"string"==typeof a?fr.fromBase64String(a):fr.fromUint8Array(a)}function ms(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function ho(a){const n=a.mapValue.fields.__previous_value__;return ms(n)?ho(n):n}function bs(a){const n=Xr(a.mapValue.fields.__local_write_time__.timestampValue);return new _e(n.seconds,n.nanos)}function Ei(a){return null==a}function Na(a){return 0===a&&1/a==-1/0}function $r(a){return"number"==typeof a&&Number.isInteger(a)&&!Na(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class Jt{constructor(n){this.path=n}static fromPath(n){return new Jt(dn.fromString(n))}static fromName(n){return new Jt(dn.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===dn.comparator(this.path,n.path)}toLowerCase().toString(){return this.path.toLowerCase().toString()}static comparator(n,o){return dn.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Jt(new dn(n.slice()))}}function Ci(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ms(a)?4:10:In()}function Zr(a,n){const o=Ci(a);if(o!==Ci(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return bs(a).isEqual(bs(n));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const w=Xr(u.timestampValue),A=Xr(d.timestampValue);return w.seconds===A.seconds&&w.nanos===A.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return d=n,gs(a.bytesValue).isEqual(gs(d.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(u,d){return ii(u.geoPointValue.latitude)===ii(d.geoPointValue.latitude)&&ii(u.geoPointValue.longitude)===ii(d.geoPointValue.longitude)}(a,n);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return ii(u.integerValue)===ii(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const w=ii(u.doubleValue),A=ii(d.doubleValue);return w===A?Na(w)===Na(A):isNaN(w)&&isNaN(A)}return!1}(a,n);case 9:return X(a.arrayValue.values||[],n.arrayValue.values||[],Zr);case 10:return function(u,d){const w=u.mapValue.fields||{},A=d.mapValue.fields||{};if(mt(w)!==mt(A))return!1;for(const j in w)if(w.hasOwnProperty(j)&&(void 0===A[j]||!Zr(w[j],A[j])))return!1;return!0}(a,n);default:return In()}var d}function fn(a,n){return void 0!==(a.values||[]).find(o=>Zr(o,n))}function hn(a,n){const o=Ci(a),u=Ci(n);if(o!==u)return $(o,u);switch(o){case 0:return 0;case 1:return $(a.booleanValue,n.booleanValue);case 2:return function(d,w){const A=ii(d.integerValue||d.doubleValue),j=ii(w.integerValue||w.doubleValue);return A<j?-1:A>j?1:A===j?0:isNaN(A)?isNaN(j)?0:-1:1}(a,n);case 3:return kn(a.timestampValue,n.timestampValue);case 4:return kn(bs(a),bs(n));case 5:return $(a.stringValue,n.stringValue);case 6:return function(d,w){const A=gs(d),j=gs(w);return A.compareTo(j)}(a.bytesValue,n.bytesValue);case 7:return function(d,w){const A=d.split("/"),j=w.split("/");for(let Q=0;Q<A.length&&Q<j.length;Q++){const ce=$(A[Q],j[Q]);if(0!==ce)return ce}return $(A.length,j.length)}(a.referenceValue,n.referenceValue);case 8:return function(d,w){const A=$(ii(d.latitude),ii(w.latitude));return 0!==A?A:$(ii(d.longitude),ii(w.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(d,w){const A=d.values||[],j=w.values||[];for(let Q=0;Q<A.length&&Q<j.length;++Q){const ce=hn(A[Q],j[Q]);if(ce)return ce}return $(A.length,j.length)}(a.arrayValue,n.arrayValue);case 10:return function(d,w){const A=d.fields||{},j=Object.keys(A),Q=w.fields||{},ce=Object.keys(Q);j.sort(),ce.sort();for(let ve=0;ve<j.length&&ve<ce.length;++ve){const Ge=$(j[ve],ce[ve]);if(0!==Ge)return Ge;const vt=hn(A[j[ve]],Q[ce[ve]]);if(0!==vt)return vt}return $(j.length,ce.length)}(a.mapValue,n.mapValue);default:throw In()}}function kn(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return $(a,n);const o=Xr(a),u=Xr(n),d=$(o.seconds,u.seconds);return 0!==d?d:$(o.nanos,u.nanos)}function vr(a){return ci(a)}function ci(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(u){const d=Xr(u);return`time(${d.seconds},${d.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?gs(a.bytesValue).toBase64():"referenceValue"in a?Jt.fromName(a.referenceValue).toLowerCase().toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(u){let d="[",w=!0;for(const A of u.values||[])w?w=!1:d+=",",d+=ci(A);return d+"]"}(a.arrayValue):"mapValue"in a?function(u){const d=Object.keys(u.fields||{}).sort();let w="{",A=!0;for(const j of d)A?A=!1:w+=",",w+=`${j}:${ci(u.fields[j])}`;return w+"}"}(a.mapValue):In();var n}function ys(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function io(a){return!!a&&"integerValue"in a}function Lo(a){return!!a&&"arrayValue"in a}function Vi(a){return!!a&&"nullValue"in a}function Au(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vo(a){return!!a&&"mapValue"in a}function Uo(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return Ot(a.mapValue.fields,(o,u)=>n.mapValue.fields[o]=Uo(u)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=Uo(a.arrayValue.values[o]);return n}return Object.assign({},a)}class Rr{constructor(n){this.value=n}static empty(){return new Rr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let u=0;u<n.length-1;++u)if(o=(o.mapValue.fields||{})[n.get(u)],!Vo(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=Uo(o)}setAll(n){let o=yn.emptyPath(),u={},d=[];n.forEach((A,j)=>{if(!o.isImmediateParentOf(j)){const Q=this.getFieldsMap(o);this.applyChanges(Q,u,d),u={},d=[],o=j.popLast()}A?u[j.lastSegment()]=Uo(A):d.push(j.lastSegment())});const w=this.getFieldsMap(o);this.applyChanges(w,u,d)}delete(n){const o=this.field(n.popLast());Vo(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return Zr(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let u=0;u<n.length;++u){let d=o.mapValue.fields[n.get(u)];Vo(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},o.mapValue.fields[n.get(u)]=d),o=d}return o.mapValue.fields}applyChanges(n,o,u){Ot(o,(d,w)=>n[d]=w);for(const d of u)delete n[d]}clone(){return new Rr(Uo(this.value))}}function oa(a){const n=[];return Ot(a.fields,(o,u)=>{const d=new yn([o]);if(Vo(u)){const w=oa(u.mapValue).fields;if(0===w.length)n.push(d);else for(const A of w)n.push(d.child(A))}else n.push(d)}),new ar(n)}class Mr{constructor(n,o,u,d,w){this.key=n,this.documentType=o,this.version=u,this.data=d,this.documentState=w}static newInvalidDocument(n){return new Mr(n,0,xe.min(),Rr.empty(),0)}static newFoundDocument(n,o,u){return new Mr(n,1,o,u,0)}static newNoDocument(n,o){return new Mr(n,2,o,Rr.empty(),0)}static newUnknownDocument(n,o){return new Mr(n,3,o,Rr.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Rr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Mr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Mr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toLowerCase().toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class im{constructor(n,o=null,u=[],d=[],w=null,A=null,j=null){this.path=n,this.collectionGroup=o,this.orderBy=u,this.filters=d,this.limit=w,this.startAt=A,this.endAt=j,this.A=null}}function ed(a,n=null,o=[],u=[],d=null,w=null,A=null){return new im(a,n,o,u,d,w,A)}function _l(a){const n=Wt(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(u=>function(a){return a.field.canonicalString()+a.op.toLowerCase().toString()+vr(a.value)}(u)).join(","),o+="|ob:",o+=n.orderBy.map(u=>{return(d=u).field.canonicalString()+d.dir;var d}).join(","),Ei(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=Yl(n.startAt)),n.endAt&&(o+="|ub:",o+=Yl(n.endAt)),n.A=o}return n.A}function zl(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let d=0;d<a.orderBy.length;d++)if(!Ql(a.orderBy[d],n.orderBy[d]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let d=0;d<a.filters.length;d++)if((o=a.filters[d]).op!==(u=n.filters[d]).op||!o.field.isEqual(u.field)||!Zr(o.value,u.value))return!1;var o,u;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!tl(a.startAt,n.startAt)&&tl(a.endAt,n.endAt)}function dc(a){return Jt.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class fo extends class{}{constructor(n,o,u){super(),this.field=n,this.op=o,this.value=u}static create(n,o,u){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,u):new nd(n,o,u):"array-contains"===o?new rd(n,u):"in"===o?new Xa(n,u):"not-in"===o?new zf(n,u):"array-contains-any"===o?new Wf(n,u):new fo(n,o,u)}static R(n,o,u){return"in"===o?new hc(n,u):new lh(n,u)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(hn(o,this.value)):null!==o&&Ci(this.value)===Ci(o)&&this.P(hn(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return In()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class nd extends fo{constructor(n,o,u){super(n,o,u),this.key=Jt.fromName(u.referenceValue)}matches(n){const o=Jt.comparator(n.key,this.key);return this.P(o)}}class hc extends fo{constructor(n,o){super(n,"in",o),this.keys=Kl(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class lh extends fo{constructor(n,o){super(n,"not-in",o),this.keys=Kl(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function Kl(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(u=>Jt.fromName(u.referenceValue))}class rd extends fo{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return Lo(o)&&fn(o.arrayValue,this.value)}}class Xa extends fo{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&fn(this.value.arrayValue,o)}}class zf extends fo{constructor(n,o){super(n,"not-in",o)}matches(n){if(fn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!fn(this.value.arrayValue,o)}}class Wf extends fo{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!Lo(o)||!o.arrayValue.values)&&o.arrayValue.values.some(u=>fn(this.value.arrayValue,u))}}class vl{constructor(n,o){this.position=n,this.before=o}}function Yl(a){return`${a.before?"b":"a"}:${a.position.map(n=>vr(n)).join(",")}`}class wl{constructor(n,o="asc"){this.field=n,this.dir=o}}function Ql(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function el(a,n,o){let u=0;for(let d=0;d<a.position.length;d++){const w=n[d],A=a.position[d];if(u=w.field.isKeyField()?Jt.comparator(Jt.fromName(A.referenceValue),o.key):hn(A,o.data.field(w.field)),"desc"===w.dir&&(u*=-1),0!==u)break}return a.before?u<=0:u<0}function tl(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!Zr(a.position[o],n.position[o]))return!1;return!0}class ga{constructor(n,o=null,u=[],d=[],w=null,A="F",j=null,Q=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=u,this.filters=d,this.limit=w,this.limitType=A,this.startAt=j,this.endAt=Q,this.V=null,this.S=null}}function Es(a,n,o,u,d,w,A,j){return new ga(a,n,o,u,d,w,A,j)}function nl(a){return new ga(a)}function fc(a){return!Ei(a.limit)&&"F"===a.limitType}function ma(a){return!Ei(a.limit)&&"L"===a.limitType}function bl(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function pc(a){for(const n of a.filters)if(n.v())return n.field;return null}function Jl(a){return null!==a.collectionGroup}function El(a){const n=Wt(a);if(null===n.V){n.V=[];const o=pc(n),u=bl(n);if(null!==o&&null===u)o.isKeyField()||n.V.push(new wl(o)),n.V.push(new wl(yn.keyField(),"asc"));else{let d=!1;for(const w of n.explicitOrderBy)n.V.push(w),w.field.isKeyField()&&(d=!0);if(!d){const w=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new wl(yn.keyField(),w))}}}return n.V}function ya(a){const n=Wt(a);if(!n.S)if("F"===n.limitType)n.S=ed(n.path,n.collectionGroup,El(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const w of El(n))o.push(new wl(w.field,"desc"===w.dir?"asc":"desc"));const u=n.endAt?new vl(n.endAt.position,!n.endAt.before):null,d=n.startAt?new vl(n.startAt.position,!n.startAt.before):null;n.S=ed(n.path,n.collectionGroup,o,n.filters,n.limit,u,d)}return n.S}function Cl(a,n,o){return new ga(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function So(a,n){return zl(ya(a),ya(n))&&a.limitType===n.limitType}function Su(a){return`${_l(ya(a))}|lt:${a.limitType}`}function Oa(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(u=o).field.canonicalString()} ${u.op} ${vr(u.value)}`;var u}).join(", ")}]`),Ei(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),a.startAt&&(n+=", startAt: "+Yl(a.startAt)),a.endAt&&(n+=", endAt: "+Yl(a.endAt)),`Target(${n})`}(ya(a))}; limitType=${a.limitType})`}function Xl(a,n){return n.isFoundDocument()&&function(o,u){const d=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):Jt.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(a,n)&&function(o,u){for(const d of o.explicitOrderBy)if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(a,n)&&function(o,u){for(const d of o.filters)if(!d.matches(u))return!1;return!0}(a,n)&&(u=n,!((o=a).startAt&&!el(o.startAt,El(o),u)||o.endAt&&el(o.endAt,El(o),u)));var o,u}function id(a){return(n,o)=>{let u=!1;for(const d of El(a)){const w=eu(d,n,o);if(0!==w)return w;u=u||d.field.isKeyField()}return 0}}function eu(a,n,o){const u=a.field.isKeyField()?Jt.comparator(n.key,o.key):function(d,w,A){const j=w.data.field(d),Q=A.data.field(d);return null!==j&&null!==Q?hn(j,Q):In()}(a.field,n,o);switch(a.dir){case"asc":return u;case"desc":return-1*u;default:return In()}}function xu(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Na(n)?"-0":n}}function sd(a){return{integerValue:""+a}}function uh(a,n){return $r(n)?sd(n):xu(a,n)}class gc{constructor(){this._=void 0}}function tu(a,n,o){return a instanceof Mu?function(u,d){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&(w.fields.__previous_value__=d),{mapValue:w}}(o,n):a instanceof Pa?dh(a,n):a instanceof nu?hh(a,n):function(u,d){const w=ch(u,d),A=fh(w)+fh(u.C);return io(w)&&io(u.C)?sd(A):xu(u.N,A)}(a,n)}function Ru(a,n,o){return a instanceof Pa?dh(a,n):a instanceof nu?hh(a,n):o}function ch(a,n){return a instanceof ru?io(o=n)||(u=o)&&"doubleValue"in u?n:{integerValue:0}:null;var u,o}class Mu extends gc{}class Pa extends gc{constructor(n){super(),this.elements=n}}function dh(a,n){const o=iu(n);for(const u of a.elements)o.some(d=>Zr(d,u))||o.push(u);return{arrayValue:{values:o}}}class nu extends gc{constructor(n){super(),this.elements=n}}function hh(a,n){let o=iu(n);for(const u of a.elements)o=o.filter(d=>!Zr(d,u));return{arrayValue:{values:o}}}class ru extends gc{constructor(n,o){super(),this.N=n,this.C=o}}function fh(a){return ii(a.integerValue||a.doubleValue)}function iu(a){return Lo(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Tl{constructor(n,o){this.field=n,this.transform=o}}class Kf{constructor(n,o){this.version=n,this.transformResults=o}}class Os{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new Os}static exists(n){return new Os(void 0,n)}static updateTime(n){return new Os(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Nu(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class Il{}function Ou(a,n,o){a instanceof Pu?function(u,d,w){const A=u.value.clone(),j=gh(u.fieldTransforms,d,w.transformResults);A.setAll(j),d.convertToFoundDocument(w.version,A).setHasCommittedMutations()}(a,n,o):a instanceof rl?function(u,d,w){if(!Nu(u.precondition,d))return void d.convertToUnknownDocument(w.version);const A=gh(u.fieldTransforms,d,w.transformResults),j=d.data;j.setAll(ph(u)),j.setAll(A),d.convertToFoundDocument(w.version,j).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function mc(a,n,o){var d;a instanceof Pu?function(u,d,w){if(!Nu(u.precondition,d))return;const A=u.value.clone(),j=mh(u.fieldTransforms,w,d);A.setAll(j),d.convertToFoundDocument(ka(d),A).setHasLocalMutations()}(a,n,o):a instanceof rl?function(u,d,w){if(!Nu(u.precondition,d))return;const A=mh(u.fieldTransforms,w,d),j=d.data;j.setAll(ph(u)),j.setAll(A),d.convertToFoundDocument(ka(d),j).setHasLocalMutations()}(a,n,o):Nu(a.precondition,d=n)&&d.convertToNoDocument(xe.min())}function od(a,n){let o=null;for(const u of a.fieldTransforms){const d=n.data.field(u.field),w=ch(u.transform,d||null);null!=w&&(null==o&&(o=Rr.empty()),o.set(u.field,w))}return o||null}function ad(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&X(o,u,(d,w)=>function(a,n){return a.field.isEqual(n.field)&&(u=n.transform,(o=a.transform)instanceof Pa&&u instanceof Pa||o instanceof nu&&u instanceof nu?X(o.elements,u.elements,Zr):o instanceof ru&&u instanceof ru?Zr(o.C,u.C):o instanceof Mu&&u instanceof Mu);var o,u}(d,w))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,u}function ka(a){return a.isFoundDocument()?a.version:xe.min()}class Pu extends Il{constructor(n,o,u,d=[]){super(),this.key=n,this.value=o,this.precondition=u,this.fieldTransforms=d,this.type=0}}class rl extends Il{constructor(n,o,u,d,w=[]){super(),this.key=n,this.data=o,this.fieldMask=u,this.precondition=d,this.fieldTransforms=w,this.type=1}}function ph(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const u=a.data.field(o);n.set(o,u)}}),n}function gh(a,n,o){const u=new Map;Un(a.length===o.length);for(let d=0;d<o.length;d++){const w=a[d],A=w.transform,j=n.data.field(w.field);u.set(w.field,Ru(A,j,o[d]))}return u}function mh(a,n,o){const u=new Map;for(const d of a){const w=d.transform,A=o.data.field(d.field);u.set(d.field,tu(w,A,n))}return u}class Go extends Il{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class Dl extends Il{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class il{constructor(n){this.count=n}}var Ps,kr;function yc(a){switch(a){case D.OK:return In();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return In()}}function yh(a){if(void 0===a)return ui("GRPC error has no .code"),D.UNKNOWN;switch(a){case Ps.OK:return D.OK;case Ps.CANCELLED:return D.CANCELLED;case Ps.UNKNOWN:return D.UNKNOWN;case Ps.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case Ps.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case Ps.INTERNAL:return D.INTERNAL;case Ps.UNAVAILABLE:return D.UNAVAILABLE;case Ps.UNAUTHENTICATED:return D.UNAUTHENTICATED;case Ps.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case Ps.NOT_FOUND:return D.NOT_FOUND;case Ps.ALREADY_EXISTS:return D.ALREADY_EXISTS;case Ps.PERMISSION_DENIED:return D.PERMISSION_DENIED;case Ps.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case Ps.ABORTED:return D.ABORTED;case Ps.OUT_OF_RANGE:return D.OUT_OF_RANGE;case Ps.UNIMPLEMENTED:return D.UNIMPLEMENTED;case Ps.DATA_LOSS:return D.DATA_LOSS;default:return In()}}(kr=Ps||(Ps={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";class Cs{constructor(n,o){this.comparator=n,this.root=o||po.EMPTY}insert(n,o){return new Cs(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,po.BLACK,null,null))}remove(n){return new Cs(this.comparator,this.root.remove(n,this.comparator).copy(null,null,po.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return o.value;u<0?o=o.left:u>0&&(o=o.right)}return null}indexOf(n){let o=0,u=this.root;for(;!u.isEmpty();){const d=this.comparator(n,u.key);if(0===d)return o+u.left.size;d<0?u=u.left:(o+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,u)=>(n(o,u),!1))}toLowerCase().toString(){const n=[];return this.inorderTraversal((o,u)=>(n.push(`${o}:${u}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ku(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ku(this.root,n,this.comparator,!1)}getReverseIterator(){return new ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ku(this.root,n,this.comparator,!0)}}class ku{constructor(n,o,u,d){this.isReverse=d,this.nodeStack=[];let w=1;for(;!n.isEmpty();)if(w=o?u(n.key,o):1,d&&(w*=-1),w<0)n=this.isReverse?n.left:n.right;else{if(0===w){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class po{constructor(n,o,u,d,w){this.key=n,this.value=o,this.color=null!=u?u:po.RED,this.left=null!=d?d:po.EMPTY,this.right=null!=w?w:po.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,u,d,w){return new po(null!=n?n:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=d?d:this.left,null!=w?w:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,u){let d=this;const w=u(n,d.key);return d=w<0?d.copy(null,null,null,d.left.insert(n,o,u),null):0===w?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(n,o,u)),d.fixUp()}removeMin(){if(this.left.isEmpty())return po.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let u,d=this;if(o(n,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(n,o),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===o(n,d.key)){if(d.right.isEmpty())return po.EMPTY;u=d.right.min(),d=d.copy(u.key,u.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(n,o))}return d.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,po.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,po.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw In();const n=this.left.check();if(n!==this.right.check())throw In();return n+(this.isRed()?0:1)}}po.EMPTY=null,po.RED=!0,po.BLACK=!1,po.EMPTY=new class{constructor(){this.size=0}get key(){throw In()}get value(){throw In()}get color(){throw In()}get left(){throw In()}get right(){throw In()}copy(a,n,o,u,d){return this}insert(a,n,o){return new po(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zi{constructor(n){this.comparator=n,this.data=new Cs(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,u)=>(n(o),!1))}forEachInRange(n,o){const u=this.data.getIteratorFrom(n[0]);for(;u.hasNext();){const d=u.getNext();if(this.comparator(d.key,n[1])>=0)return;o(d.key)}}forEachWhile(n,o){let u;for(u=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();u.hasNext();)if(!n(u.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new _h(this.data.getIterator())}getIteratorFrom(n){return new _h(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(u=>{o=o.add(u)}),o}isEqual(n){if(!(n instanceof zi)||this.size!==n.size)return!1;const o=this.data.getIterator(),u=n.data.getIterator();for(;o.hasNext();){const d=o.getNext().key,w=u.getNext().key;if(0!==this.comparator(d,w))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toLowerCase().toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toLowerCase().toString()+")"}copy(n){const o=new zi(this.comparator);return o.data=n,o}}class _h{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Yf=new Cs(Jt.comparator);function zo(){return Yf}const Qf=new Cs(Jt.comparator);function Al(){return Qf}const vh=new Cs(Jt.comparator);function _a(){return vh}const Fu=new zi(Jt.comparator);function ei(...a){let n=Fu;for(const o of a)n=n.add(o);return n}const _c=new zi($);function Lu(){return _c}class vc{constructor(n,o,u,d,w){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=u,this.documentUpdates=d,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(n,o){const u=new Map;return u.set(n,ou.createSynthesizedTargetChangeForCurrentChange(n,o)),new vc(xe.min(),u,Lu(),zo(),ei())}}class ou{constructor(n,o,u,d,w){this.resumeToken=n,this.current=o,this.addedDocuments=u,this.modifiedDocuments=d,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(n,o){return new ou(fr.EMPTY_BYTE_STRING,o,ei(),ei(),ei())}}class Vu{constructor(n,o,u,d){this.k=n,this.removedTargetIds=o,this.key=u,this.$=d}}class wc{constructor(n,o){this.targetId=n,this.O=o}}class bc{constructor(n,o,u=fr.EMPTY_BYTE_STRING,d=null){this.state=n,this.targetIds=o,this.resumeToken=u,this.cause=d}}class Sl{constructor(){this.F=0,this.M=ld(),this.L=fr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=ei(),o=ei(),u=ei();return this.M.forEach((d,w)=>{switch(w){case 0:n=n.add(d);break;case 2:o=o.add(d);break;case 1:u=u.add(d);break;default:In()}}),new ou(this.L,this.B,n,o,u)}G(){this.U=!1,this.M=ld()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class sm{constructor(n){this.tt=n,this.et=new Map,this.nt=zo(),this.st=Jf(),this.it=new zi($)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const u=this.ut(o);switch(n.state){case 0:this.ht(o)&&u.j(n.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(n.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(o);break;case 3:this.ht(o)&&(u.Z(),u.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),u.j(n.resumeToken));break;default:In()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((u,d)=>{this.ht(d)&&o(d)})}ft(n){const o=n.targetId,u=n.O.count,d=this.dt(o);if(d){const w=d.target;if(dc(w))if(0===u){const A=new Jt(w.path);this.at(o,A,Mr.newNoDocument(A,xe.min()))}else Un(1===u);else this.wt(o)!==u&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((w,A)=>{const j=this.dt(A);if(j){if(w.current&&dc(j.target)){const Q=new Jt(j.target.path);null!==this.nt.get(Q)||this.gt(A,Q)||this.at(A,Q,Mr.newNoDocument(Q,n))}w.K&&(o.set(A,w.W()),w.G())}});let u=ei();this.st.forEach((w,A)=>{let j=!0;A.forEachWhile(Q=>{const ce=this.dt(Q);return!ce||2===ce.purpose||(j=!1,!1)}),j&&(u=u.add(w))});const d=new vc(n,o,this.it,this.nt,u);return this.nt=zo(),this.st=Jf(),this.it=new zi($),d}ot(n,o){if(!this.ht(n))return;const u=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,u),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,u){if(!this.ht(n))return;const d=this.ut(n);this.gt(n,o)?d.H(o,1):d.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),u&&(this.nt=this.nt.insert(o,u))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new Sl,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new zi($),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||Bt("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new Sl),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function Jf(){return new Cs(Jt.comparator)}function ld(){return new Cs(Jt.comparator)}const wh={asc:"ASCENDING",desc:"DESCENDING"},Xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ep{constructor(n,o){this.databaseId=n,this.D=o}}function Uu(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ud(a,n){return a.D?n.toBase64():n.toUint8Array()}function xl(a,n){return Uu(a,n.toTimestamp())}function Zs(a){return Un(!!a),xe.fromTimestamp(function(n){const o=Xr(n);return new _e(o.seconds,o.nanos)}(a))}function au(a,n){return(o=a,new dn(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function bh(a){const n=dn.fromString(a);return Un(Th(n)),n}function Ai(a,n){return au(a.databaseId,n.path)}function va(a,n){const o=bh(n);if(o.get(1)!==a.databaseId.projectId)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new Jt(Ec(o))}function cd(a,n){return au(a.databaseId,n)}function Bu(a){const n=bh(a);return 4===n.length?dn.emptyPath():Ec(n)}function sl(a){return new dn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function Ec(a){return Un(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function dd(a,n,o){return{name:Ai(a,n),fields:o.value.mapValue.fields}}function Eh(a,n,o){const u=va(a,n.name),d=Zs(n.updateTime),w=new Rr({mapValue:{fields:n.fields}}),A=Mr.newFoundDocument(u,d,w);return o&&A.setHasCommittedMutations(),o?A.setHasCommittedMutations():A}function Rl(a,n){let o;if(n instanceof Pu)o={update:dd(a,n.key,n.value)};else if(n instanceof Go)o={delete:Ai(a,n.key)};else if(n instanceof rl)o={update:dd(a,n.key,n.data),updateMask:Cc(n.fieldMask)};else{if(!(n instanceof Dl))return In();o={verify:Ai(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(u=>function(d,w){const A=w.transform;if(A instanceof Mu)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Pa)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof nu)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof ru)return{fieldPath:w.field.canonicalString(),increment:A.C};throw In()}(0,u))),n.precondition.isNone||(o.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:xl(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:In()),o;var d}function Ch(a,n){const o=n.currentDocument?void 0!==(d=n.currentDocument).updateTime?Os.updateTime(Zs(d.updateTime)):void 0!==d.exists?Os.exists(d.exists):Os.none():Os.none(),u=n.updateTransforms?n.updateTransforms.map(d=>function(w,A){let j=null;"setToServerValue"in A?(Un("REQUEST_TIME"===A.setToServerValue),j=new Mu):"appendMissingElements"in A?j=new Pa(A.appendMissingElements.values||[]):"removeAllFromArray"in A?j=new nu(A.removeAllFromArray.values||[]):"increment"in A?j=new ru(w,A.increment):In();const Q=yn.fromServerFormat(A.fieldPath);return new Tl(Q,j)}(a,d)):[];var d;if(n.update){const d=va(a,n.update.name),w=new Rr({mapValue:{fields:n.update.fields}});if(n.updateMask){const A=new ar((n.updateMask.fieldPaths||[]).map(ce=>yn.fromServerFormat(ce)));return new rl(d,w,A,o,u)}return new Pu(d,w,o,u)}if(n.delete){const d=va(a,n.delete);return new Go(d,o)}if(n.verify){const d=va(a,n.verify);return new Dl(d,o)}return In()}function so(a,n){return{documents:[cd(a,n.path)]}}function lu(a,n){const o={structuredQuery:{}},u=n.path;null!==n.collectionGroup?(o.parent=cd(a,u),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=cd(a,u.popLast()),o.structuredQuery.from=[{collectionId:u.lastSegment()}]);const d=function(j){if(0===j.length)return;const Q=j.map(ce=>function(ve){if("=="===ve.op){if(Au(ve.value))return{unaryFilter:{field:Ml(ve.field),op:"IS_NAN"}};if(Vi(ve.value))return{unaryFilter:{field:Ml(ve.field),op:"IS_NULL"}}}else if("!="===ve.op){if(Au(ve.value))return{unaryFilter:{field:Ml(ve.field),op:"IS_NOT_NAN"}};if(Vi(ve.value))return{unaryFilter:{field:Ml(ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(ve.field),op:np(ve.op),value:ve.value}}}(ce));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(n.filters);d&&(o.structuredQuery.where=d);const w=function(j){if(0!==j.length)return j.map(Q=>{return{field:Ml((ce=Q).field),direction:tp(ce.dir)};var ce})}(n.orderBy);w&&(o.structuredQuery.orderBy=w);const A=(Q=n.limit,a.D||Ei(Q)?Q:{value:Q});var Q;return null!==A&&(o.structuredQuery.limit=A),n.startAt&&(o.structuredQuery.startAt=Ko(n.startAt)),n.endAt&&(o.structuredQuery.endAt=Ko(n.endAt)),o}function fd(a){let n=Bu(a.parent);const o=a.structuredQuery,u=o.from?o.from.length:0;let d=null;if(u>0){Un(1===u);const ve=o.from[0];ve.allDescendants?d=ve.collectionId:n=n.child(ve.collectionId)}let w=[];o.where&&(w=go(o.where));let A=[];o.orderBy&&(A=o.orderBy.map(ve=>{return new wl(Nl((Ge=ve).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ge.direction));var Ge}));let j=null;o.limit&&(j=function(ve){let Ge;return Ge="object"==typeof ve?ve.value:ve,Ei(Ge)?null:Ge}(o.limit));let Q=null;o.startAt&&(Q=Hu(o.startAt));let ce=null;return o.endAt&&(ce=Hu(o.endAt)),Es(n,d,A,w,j,"F",Q,ce)}function go(a){return a?void 0!==a.unaryFilter?[gd(a)]:void 0!==a.fieldFilter?[xo(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>go(n)).reduce((n,o)=>n.concat(o)):In():[]}function Ko(a){return{before:a.before,values:a.position}}function Hu(a){return new vl(a.values||[],!!a.before)}function tp(a){return wh[a]}function np(a){return Xf[a]}function Ml(a){return{fieldPath:a.canonicalString()}}function Nl(a){return yn.fromServerFormat(a.fieldPath)}function xo(a){return fo.create(Nl(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return In()}}(a.fieldFilter.op),a.fieldFilter.value)}function gd(a){switch(a.unaryFilter.op){case"IS_NAN":const n=Nl(a.unaryFilter.field);return fo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Nl(a.unaryFilter.field);return fo.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Nl(a.unaryFilter.field);return fo.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Nl(a.unaryFilter.field);return fo.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return In()}}function Cc(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function Th(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function qs(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=Tc(n)),n=$u(a.get(o),n);return Tc(n)}function $u(a,n){let o=n;const u=a.length;for(let d=0;d<u;d++){const w=a.charAt(d);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function Tc(a){return a+"\x01\x01"}function aa(a){const n=a.length;if(Un(n>=2),2===n)return Un("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),dn.emptyPath();const o=n-2,u=[];let d="";for(let w=0;w<n;){const A=a.indexOf("\x01",w);switch((A<0||A>o)&&In(),a.charAt(A+1)){case"\x01":const j=a.substring(w,A);let Q;0===d.length?Q=j:(d+=j,Q=d,d=""),u.push(Q);break;case"\x10":d+=a.substring(w,A),d+="\0";break;case"\x11":d+=a.substring(w,A+1);break;default:In()}w=A+2}return new dn(u)}class Ic{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class Yo{constructor(n,o,u){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=u}}Yo.store="owner",Yo.key="owner";class Ol{constructor(n,o,u){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=u}}Ol.store="mutationQueues",Ol.keyPath="userId";class Si{constructor(n,o,u,d,w){this.userId=n,this.batchId=o,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=w}}Si.store="mutations",Si.keyPath="batchId",Si.userMutationsIndex="userMutationsIndex",Si.userMutationsKeyPath=["userId","batchId"];class Gs{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,qs(o)]}static key(n,o,u){return[n,qs(o),u]}}Gs.store="documentMutations",Gs.PLACEHOLDER=new Gs;class C{constructor(n,o){this.path=n,this.readTime=o}}class g{constructor(n,o){this.path=n,this.version=o}}class m{constructor(n,o,u,d,w,A){this.unknownDocument=n,this.noDocument=o,this.document=u,this.hasCommittedMutations=d,this.readTime=w,this.parentPath=A}}m.store="remoteDocuments",m.readTimeIndex="readTimeIndex",m.readTimeIndexPath="readTime",m.collectionReadTimeIndex="collectionReadTimeIndex",m.collectionReadTimeIndexPath=["parentPath","readTime"];class S{constructor(n){this.byteSize=n}}S.store="remoteDocumentGlobal",S.key="remoteDocumentGlobalKey";class z{constructor(n,o,u,d,w,A,j){this.targetId=n,this.canonicalId=o,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=w,this.lastLimboFreeSnapshotVersion=A,this.query=j}}z.store="targets",z.keyPath="targetId",z.queryTargetsIndexName="queryTargetsIndex",z.queryTargetsKeyPath=["canonicalId","targetId"];class se{constructor(n,o,u){this.targetId=n,this.path=o,this.sequenceNumber=u}}se.store="targetDocuments",se.keyPath=["targetId","path"],se.documentTargetsIndex="documentTargetsIndex",se.documentTargetsKeyPath=["path","targetId"];class Be{constructor(n,o,u,d){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=u,this.targetCount=d}}Be.key="targetGlobalKey",Be.store="targetGlobal";class yt{constructor(n,o){this.collectionId=n,this.parent=o}}yt.store="collectionParents",yt.keyPath=["collectionId","parent"];class $t{constructor(n,o,u,d){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=u,this.inForeground=d}}$t.store="clientMetadata",$t.keyPath="clientId";class rn{constructor(n,o,u){this.bundleId=n,this.createTime=o,this.version=u}}rn.store="bundles",rn.keyPath="bundleId";class Zn{constructor(n,o,u){this.name=n,this.readTime=o,this.bundledQuery=u}}Zn.store="namedQueries",Zn.keyPath="name";const Kn=[Ol.store,Si.store,Gs.store,m.store,z.store,Yo.store,Be.store,se.store,$t.store,S.store,yt.store,rn.store,Zn.store],ks="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Rt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&In(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new Rt((u,d)=>{this.nextCallback=w=>{this.wrapSuccess(n,w).next(u,d)},this.catchCallback=w=>{this.wrapFailure(o,w).next(u,d)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof Rt?o:Rt.resolve(o)}catch(o){return Rt.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):Rt.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):Rt.reject(o)}static resolve(n){return new Rt((o,u)=>{o(n)})}static reject(n){return new Rt((o,u)=>{u(n)})}static waitFor(n){return new Rt((o,u)=>{let d=0,w=0,A=!1;n.forEach(j=>{++d,j.next(()=>{++w,A&&w===d&&o()},Q=>u(Q))}),A=!0,w===d&&o()})}static or(n){let o=Rt.resolve(!1);for(const u of n)o=o.next(d=>d?Rt.resolve(d):u());return o}static forEach(n,o){const u=[];return n.forEach((d,w)=>{u.push(o.call(this,d,w))}),this.waitFor(u)}}class uu{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new I,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new cu(n,o.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const d=Zu(u.target.error);this.Tt.reject(new cu(n,d))}}static open(n,o,u,d){try{return new uu(o,n.transaction(d,u))}catch(w){throw new cu(o,w)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Bt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new wa(o)}}class Jo{constructor(n,o,u){this.name=n,this.version=o,this.At=u,12.2===Jo.Rt((0,Le.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Bt("SimpleDb","Removing database:",n),Pl(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Le.hl)())return!1;if(Jo.Pt())return!0;const n=(0,Le.z$)(),o=Jo.Rt(n),u=0<o&&o<10,d=Jo.vt(n),w=0<d&&d<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||u||w)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(n){const o=n.match(/Android ([\d.]+)/i),u=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(n){var o=this;return(0,_.Z)(function*(){return o.db||(Bt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((u,d)=>{const w=indexedDB.open(o.name,o.version);w.onsuccess=A=>{u(A.target.result)},w.onblocked=()=>{d(new cu(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=A=>{const j=A.target.error;d("VersionError"===j.name?new T(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===j.name?new T(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+j):new cu(n,j))},w.onupgradeneeded=A=>{Bt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',A.oldVersion),o.At.Ct(A.target.result,w.transaction,A.oldVersion,o.version).next(()=>{Bt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=u=>o.Nt(u)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,u,d){var w=this;return(0,_.Z)(function*(){const A="readonly"===o;let j=0;for(;;){++j;try{w.db=yield w.Dt(n);const Q=uu.open(w.db,n,A?"readonly":"readwrite",u),ce=d(Q).catch(ve=>(Q.abort(ve),Rt.reject(ve))).toPromise();return ce.catch(()=>{}),yield Q.It,ce}catch(Q){const ce="FirebaseError"!==Q.name&&j<3;if(Bt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",ce),w.close(),!ce)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ih{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Pl(this.kt.delete())}}class cu extends T{constructor(n,o){super(D.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Bo(a){return"IndexedDbTransactionError"===a.name}class wa{constructor(n){this.store=n}put(n,o){let u;return void 0!==o?(Bt("SimpleDb","PUT",this.store.name,n,o),u=this.store.put(o,n)):(Bt("SimpleDb","PUT",this.store.name,"<auto-key>",n),u=this.store.put(n)),Pl(u)}add(n){return Bt("SimpleDb","ADD",this.store.name,n,n),Pl(this.store.add(n))}get(n){return Pl(this.store.get(n)).next(o=>(void 0===o&&(o=null),Bt("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return Bt("SimpleDb","DELETE",this.store.name,n),Pl(this.store.delete(n))}count(){return Bt("SimpleDb","COUNT",this.store.name),Pl(this.store.count())}Lt(n,o){const u=this.cursor(this.options(n,o)),d=[];return this.Bt(u,(w,A)=>{d.push(A)}).next(()=>d)}Ut(n,o){Bt("SimpleDb","DELETE ALL",this.store.name);const u=this.options(n,o);u.qt=!1;const d=this.cursor(u);return this.Bt(d,(w,A,j)=>j.delete())}Kt(n,o){let u;o?u=n:(u={},o=n);const d=this.cursor(u);return this.Bt(d,o)}jt(n){const o=this.cursor({});return new Rt((u,d)=>{o.onerror=w=>{const A=Zu(w.target.error);d(A)},o.onsuccess=w=>{const A=w.target.result;A?n(A.primaryKey,A.value).next(j=>{j?A.continue():u()}):u()}})}Bt(n,o){const u=[];return new Rt((d,w)=>{n.onerror=A=>{w(A.target.error)},n.onsuccess=A=>{const j=A.target.result;if(!j)return void d();const Q=new Ih(j),ce=o(j.primaryKey,j.value,Q);if(ce instanceof Rt){const ve=ce.catch(Ge=>(Q.done(),Rt.reject(Ge)));u.push(ve)}Q.isDone?d():null===Q.Ft?j.continue():j.continue(Q.Ft)}}).next(()=>Rt.waitFor(u))}options(n,o){let u;return void 0!==n&&("string"==typeof n?u=n:o=n),{index:u,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const u=this.store.index(n.index);return n.qt?u.openKeyCursor(n.range,o):u.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function Pl(a){return new Rt((n,o)=>{a.onsuccess=u=>{n(u.target.result)},a.onerror=u=>{const d=Zu(u.target.error);o(d)}})}let md=!1;function Zu(a){const n=Jo.Rt((0,Le.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const u=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return md||(md=!0,setTimeout(()=>{throw u},0)),u}}return a}class rp extends Qo{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function Ui(a,n){const o=Wt(a);return Jo.St(o.Qt,n)}class qu{constructor(n,o,u,d){this.batchId=n,this.localWriteTime=o,this.baseMutations=u,this.mutations=d}applyToRemoteDocument(n,o){const u=o.mutationResults;for(let d=0;d<this.mutations.length;d++){const w=this.mutations[d];w.key.isEqual(n.key)&&Ou(w,n,u[d])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&mc(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&mc(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const u=n.get(o.key),d=u;this.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(xe.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),ei())}isEqual(n){return this.batchId===n.batchId&&X(this.mutations,n.mutations,(o,u)=>ad(o,u))&&X(this.baseMutations,n.baseMutations,(o,u)=>ad(o,u))}}class yd{constructor(n,o,u,d){this.batch=n,this.commitVersion=o,this.mutationResults=u,this.docVersions=d}static from(n,o,u){Un(n.mutations.length===u.length);let d=_a();const w=n.mutations;for(let A=0;A<w.length;A++)d=d.insert(w[A].key,u[A].version);return new yd(n,o,u,d)}}class du{constructor(n,o,u,d,w=xe.min(),A=xe.min(),j=fr.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=u,this.sequenceNumber=d,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=j}withSequenceNumber(n){return new du(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ip{constructor(n){this.Wt=n}}function Gu(a,n){if(n.document)return Eh(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=Jt.fromSegments(n.noDocument.path),u=zu(n.noDocument.readTime),d=Mr.newNoDocument(o,u);return n.hasCommittedMutations?d.setHasCommittedMutations():d}if(n.unknownDocument){const o=Jt.fromSegments(n.unknownDocument.path),u=zu(n.unknownDocument.version);return Mr.newUnknownDocument(o,u)}return In()}function sp(a,n,o){const u=Dh(o),d=n.key.path.popLast().toArray();if(n.isFoundDocument()){const w={name:Ai(j=a.Wt,(Q=n).key),fields:Q.data.value.mapValue.fields,updateTime:Uu(j,Q.version.toTimestamp())};return new m(null,null,w,n.hasCommittedMutations,u,d)}var j,Q;if(n.isNoDocument()){const w=n.key.path.toArray(),A=hu(n.version),j=n.hasCommittedMutations;return new m(null,new C(w,A),null,j,u,d)}if(n.isUnknownDocument()){const w=n.key.path.toArray(),A=hu(n.version);return new m(new g(w,A),null,null,!0,u,d)}return In()}function Dh(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Ah(a){const n=new _e(a[0],a[1]);return xe.fromTimestamp(n)}function hu(a){const n=a.toTimestamp();return new Ic(n.seconds,n.nanoseconds)}function zu(a){const n=new _e(a.seconds,a.nanoseconds);return xe.fromTimestamp(n)}function _d(a,n){const o=(n.baseMutations||[]).map(w=>Ch(a.Wt,w));for(let w=0;w<n.mutations.length-1;++w){const A=n.mutations[w];w+1<n.mutations.length&&void 0!==n.mutations[w+1].transform&&(A.updateTransforms=n.mutations[w+1].transform.fieldTransforms,n.mutations.splice(w+1,1),++w)}const u=n.mutations.map(w=>Ch(a.Wt,w)),d=_e.fromMillis(n.localWriteTimeMs);return new qu(n.batchId,d,o,u)}function ol(a){const n=zu(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?zu(a.lastLimboFreeSnapshotVersion):xe.min();let u;var d;return void 0!==a.query.documents?(Un(1===(d=a.query).documents.length),u=ya(nl(Bu(d.documents[0])))):u=ya(fd(a.query)),new du(u,a.targetId,0,a.lastListenSequenceNumber,n,o,fr.fromBase64String(a.resumeToken))}function Sh(a,n){const o=hu(n.snapshotVersion),u=hu(n.lastLimboFreeSnapshotVersion);let d;d=dc(n.target)?so(a.Wt,n.target):lu(a.Wt,n.target);const w=n.resumeToken.toBase64();return new z(n.targetId,_l(n.target),o,w,n.sequenceNumber,u,d)}function xh(a){const n=fd({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?Cl(n,n.limit,"L"):n}class y_{getBundleMetadata(n,o){return Rh(n).get(o).next(u=>{if(u)return{id:(d=u).bundleId,createTime:zu(d.createTime),version:d.version};var d})}saveBundleMetadata(n,o){return Rh(n).put({bundleId:(u=o).id,createTime:hu(Zs(u.createTime)),version:u.version});var u}getNamedQuery(n,o){return om(n).get(o).next(u=>{if(u)return{name:(d=u).name,query:xh(d.bundledQuery),readTime:zu(d.readTime)};var d})}saveNamedQuery(n,o){return om(n).put({name:(u=o).name,readTime:hu(Zs(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Rh(a){return Ui(a,rn.store)}function om(a){return Ui(a,Zn.store)}class __{constructor(){this.Gt=new op}addToCollectionParentIndex(n,o){return this.Gt.add(o),Rt.resolve()}getCollectionParents(n,o){return Rt.resolve(this.Gt.getEntries(o))}}class op{constructor(){this.index={}}add(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o]||new zi(dn.comparator),w=!d.has(u);return this.index[o]=d.add(u),w}has(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o];return d&&d.has(u)}getEntries(n){return(this.index[n]||new zi(dn.comparator)).toArray()}}class v_{constructor(){this.zt=new op}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const u=o.lastSegment(),d=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const w={collectionId:u,parent:qs(d)};return am(n).put(w)}return Rt.resolve()}getCollectionParents(n,o){const u=[],d=IDBKeyRange.bound([o,""],[ge(o),""],!1,!0);return am(n).Lt(d).next(w=>{for(const A of w){if(A.collectionId!==o)break;u.push(aa(A.parent))}return u})}}function am(a){return Ui(a,yt.store)}const lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xo{constructor(n,o,u){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=u}static withCacheSize(n){return new Xo(n,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mh(a,n,o){const u=a.store(Si.store),d=a.store(Gs.store),w=[],A=IDBKeyRange.only(o.batchId);let j=0;const Q=u.Kt({range:A},(ve,Ge,vt)=>(j++,vt.delete()));w.push(Q.next(()=>{Un(1===j)}));const ce=[];for(const ve of o.mutations){const Ge=Gs.key(n,ve.key.path,o.batchId);w.push(d.delete(Ge)),ce.push(ve.key)}return Rt.waitFor(w).next(()=>ce)}function vd(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw In();n=a.noDocument}return JSON.stringify(n).length}Xo.DEFAULT_COLLECTION_PERCENTILE=10,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xo.DEFAULT=new Xo(41943040,Xo.DEFAULT_COLLECTION_PERCENTILE,Xo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xo.DISABLED=new Xo(-1,0,0);class wd{constructor(n,o,u,d){this.userId=n,this.N=o,this.Ht=u,this.referenceDelegate=d,this.Jt={}}static Yt(n,o,u,d){Un(""!==n.uid);const w=n.isAuthenticated()?n.uid:"";return new wd(w,o,u,d)}checkEmpty(n){let o=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fu(n).Kt({index:Si.userMutationsIndex,range:u},(d,w,A)=>{o=!1,A.done()}).next(()=>o)}addMutationBatch(n,o,u,d){const w=Wu(n),A=fu(n);return A.add({}).next(j=>{Un("number"==typeof j);const Q=new qu(j,o,u,d),ce=function(vt,Dt,zt){const Fn=zt.baseMutations.map(Ts=>Rl(vt.Wt,Ts)),Er=zt.mutations.map(Ts=>Rl(vt.Wt,Ts));return new Si(Dt,zt.batchId,zt.localWriteTime.toMillis(),Fn,Er)}(this.N,this.userId,Q),ve=[];let Ge=new zi((vt,Dt)=>$(vt.canonicalString(),Dt.canonicalString()));for(const vt of d){const Dt=Gs.key(this.userId,vt.key.path,j);Ge=Ge.add(vt.key.path.popLast()),ve.push(A.put(ce)),ve.push(w.put(Dt,Gs.PLACEHOLDER))}return Ge.forEach(vt=>{ve.push(this.Ht.addToCollectionParentIndex(n,vt))}),n.addOnCommittedListener(()=>{this.Jt[j]=Q.keys()}),Rt.waitFor(ve).next(()=>Q)})}lookupMutationBatch(n,o){return fu(n).get(o).next(u=>u?(Un(u.userId===this.userId),_d(this.N,u)):null)}Xt(n,o){return this.Jt[o]?Rt.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(u=>{if(u){const d=u.keys();return this.Jt[o]=d,d}return null})}getNextMutationBatchAfterBatchId(n,o){const u=o+1,d=IDBKeyRange.lowerBound([this.userId,u]);let w=null;return fu(n).Kt({index:Si.userMutationsIndex,range:d},(A,j,Q)=>{j.userId===this.userId&&(Un(j.batchId>=u),w=_d(this.N,j)),Q.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return fu(n).Kt({index:Si.userMutationsIndex,range:o,reverse:!0},(d,w,A)=>{u=w.batchId,A.done()}).next(()=>u)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fu(n).Lt(Si.userMutationsIndex,o).next(u=>u.map(d=>_d(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(n,o){const u=Gs.prefixForPath(this.userId,o.path),d=IDBKeyRange.lowerBound(u),w=[];return Wu(n).Kt({range:d},(A,j,Q)=>{const[ce,ve,Ge]=A,vt=aa(ve);if(ce===this.userId&&o.path.isEqual(vt))return fu(n).get(Ge).next(Dt=>{if(!Dt)throw In();Un(Dt.userId===this.userId),w.push(_d(this.N,Dt))});Q.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new zi($);const d=[];return o.forEach(w=>{const A=Gs.prefixForPath(this.userId,w.path),j=IDBKeyRange.lowerBound(A),Q=Wu(n).Kt({range:j},(ce,ve,Ge)=>{const[vt,Dt,zt]=ce,Fn=aa(Dt);vt===this.userId&&w.path.isEqual(Fn)?u=u.add(zt):Ge.done()});d.push(Q)}),Rt.waitFor(d).next(()=>this.Zt(n,u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1,w=Gs.prefixForPath(this.userId,u),A=IDBKeyRange.lowerBound(w);let j=new zi($);return Wu(n).Kt({range:A},(Q,ce,ve)=>{const[Ge,vt,Dt]=Q,zt=aa(vt);Ge===this.userId&&u.isPrefixOf(zt)?zt.length===d&&(j=j.add(Dt)):ve.done()}).next(()=>this.Zt(n,j))}Zt(n,o){const u=[],d=[];return o.forEach(w=>{d.push(fu(n).get(w).next(A=>{if(null===A)throw In();Un(A.userId===this.userId),u.push(_d(this.N,A))}))}),Rt.waitFor(d).next(()=>u)}removeMutationBatch(n,o){return Mh(n.Qt,this.userId,o).next(u=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),Rt.forEach(u,d=>this.referenceDelegate.markPotentiallyOrphaned(n,d))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return Rt.resolve();const u=IDBKeyRange.lowerBound(Gs.prefixForUser(this.userId)),d=[];return Wu(n).Kt({range:u},(w,A,j)=>{if(w[0]===this.userId){const Q=aa(w[1]);d.push(Q)}else j.done()}).next(()=>{Un(0===d.length)})})}containsKey(n,o){return um(n,this.userId,o)}ee(n){return ap(n).get(this.userId).next(o=>o||new Ol(this.userId,-1,""))}}function um(a,n,o){const u=Gs.prefixForPath(n,o.path),d=u[1],w=IDBKeyRange.lowerBound(u);let A=!1;return Wu(a).Kt({range:w,qt:!0},(j,Q,ce)=>{const[ve,Ge,vt]=j;ve===n&&Ge===d&&(A=!0),ce.done()}).next(()=>A)}function fu(a){return Ui(a,Si.store)}function Wu(a){return Ui(a,Gs.store)}function ap(a){return Ui(a,Ol.store)}class ba{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new ba(0)}static ie(){return new ba(-1)}}class cm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const u=new ba(o.highestTargetId);return o.highestTargetId=u.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>xe.fromTimestamp(new _e(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,u){return this.re(n).next(d=>(d.highestListenSequenceNumber=o,u&&(d.lastRemoteSnapshotVersion=u.toTimestamp()),o>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=o),this.oe(n,d)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(u=>(u.targetCount+=1,this.ce(o,u),this.oe(n,u))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>Ku(n).delete(o.targetId)).next(()=>this.re(n)).next(u=>(Un(u.targetCount>0),u.targetCount-=1,this.oe(n,u)))}removeTargets(n,o,u){let d=0;const w=[];return Ku(n).Kt((A,j)=>{const Q=ol(j);Q.sequenceNumber<=o&&null===u.get(Q.targetId)&&(d++,w.push(this.removeTargetData(n,Q)))}).next(()=>Rt.waitFor(w)).next(()=>d)}forEachTarget(n,o){return Ku(n).Kt((u,d)=>{const w=ol(d);o(w)})}re(n){return dm(n).get(Be.key).next(o=>(Un(null!==o),o))}oe(n,o){return dm(n).put(Be.key,o)}ae(n,o){return Ku(n).put(Sh(this.N,o))}ce(n,o){let u=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,u=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,u=!0),u}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const u=_l(o),d=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let w=null;return Ku(n).Kt({range:d,index:z.queryTargetsIndexName},(A,j,Q)=>{const ce=ol(j);zl(o,ce.target)&&(w=ce,Q.done())}).next(()=>w)}addMatchingKeys(n,o,u){const d=[],w=Za(n);return o.forEach(A=>{const j=qs(A.path);d.push(w.put(new se(u,j))),d.push(this.referenceDelegate.addReference(n,u,A))}),Rt.waitFor(d)}removeMatchingKeys(n,o,u){const d=Za(n);return Rt.forEach(o,w=>{const A=qs(w.path);return Rt.waitFor([d.delete([u,A]),this.referenceDelegate.removeReference(n,u,w)])})}removeMatchingKeysForTargetId(n,o){const u=Za(n),d=IDBKeyRange.bound([o],[o+1],!1,!0);return u.delete(d)}getMatchingKeysForTargetId(n,o){const u=IDBKeyRange.bound([o],[o+1],!1,!0),d=Za(n);let w=ei();return d.Kt({range:u,qt:!0},(A,j,Q)=>{const ce=aa(A[1]),ve=new Jt(ce);w=w.add(ve)}).next(()=>w)}containsKey(n,o){const u=qs(o.path),d=IDBKeyRange.bound([u],[ge(u)],!1,!0);let w=0;return Za(n).Kt({index:se.documentTargetsIndex,qt:!0,range:d},([A,j],Q,ce)=>{0!==A&&(w++,ce.done())}).next(()=>w>0)}Et(n,o){return Ku(n).get(o).next(u=>u?ol(u):null)}}function Ku(a){return Ui(a,z.store)}function dm(a){return Ui(a,Be.store)}function Za(a){return Ui(a,se.store)}function Yu(a){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,_.Z)(function*(a){if(a.code!==D.FAILED_PRECONDITION||a.message!==ks)throw a;Bt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function lp([a,n],[o,u]){const d=$(a,o);return 0===d?$(n,u):d}class hm{constructor(n){this.ue=n,this.buffer=new zi(lp),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const u=this.buffer.last();lp(o,u)<0&&(this.buffer=this.buffer.delete(u).add(o))}}get maxValue(){return this.buffer.last()[0]}}class up{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const u=this.de?3e5:6e4;Bt("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,_.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(d){Bo(d)?Bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Yu(d)}yield o._e(n)}))}}class fm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(u=>Math.floor(o/100*u))}nthSequenceNumber(n,o){if(0===o)return Rt.resolve(v.T);const u=new hm(o);return this.me.forEachTarget(n,d=>u.fe(d.sequenceNumber)).next(()=>this.me.ye(n,d=>u.fe(d))).next(()=>u.maxValue)}removeTargets(n,o,u){return this.me.removeTargets(n,o,u)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),Rt.resolve(lm)):this.getCacheSize(n).next(u=>u<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lm):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let u,d,w,A,j,Q,ce;const ve=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Ge=>(Ge>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ge}`),d=this.params.maximumSequenceNumbersToCollect):d=Ge,A=Date.now(),this.nthSequenceNumber(n,d))).next(Ge=>(u=Ge,j=Date.now(),this.removeTargets(n,u,o))).next(Ge=>(w=Ge,Q=Date.now(),this.removeOrphanedDocuments(n,u))).next(Ge=>(ce=Date.now(),co()<=Xe.in.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-ve}ms\n\tDetermined least recently used ${d} in `+(j-A)+`ms\n\tRemoved ${w} targets in `+(Q-j)+`ms\n\tRemoved ${Ge} documents in `+(ce-Q)+`ms\nTotal Duration: ${ce-ve}ms`),Rt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:w,documentsRemoved:Ge})))}}class Oh{constructor(n,o){this.db=n,this.garbageCollector=new fm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(u=>o.next(d=>u+d))}Ee(n){let o=0;return this.ye(n,u=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(u,d)=>o(d))}addReference(n,o,u){return Qu(n,u)}removeReference(n,o,u){return Qu(n,u)}removeTargets(n,o,u){return this.db.getTargetCache().removeTargets(n,o,u)}markPotentiallyOrphaned(n,o){return Qu(n,o)}Ie(n,o){return function(u,d){let w=!1;return ap(u).jt(A=>um(u,A,d).next(j=>(j&&(w=!0),Rt.resolve(!j)))).next(()=>w)}(n,o)}removeOrphanedDocuments(n,o){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let w=0;return this.Te(n,(A,j)=>{if(j<=o){const Q=this.Ie(n,A).next(ce=>{if(!ce)return w++,u.getEntry(n,A).next(()=>(u.removeEntry(A),Za(n).delete([0,qs(A.path)])))});d.push(Q)}}).next(()=>Rt.waitFor(d)).next(()=>u.apply(n)).next(()=>w)}removeTarget(n,o){const u=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,u)}updateLimboDocument(n,o){return Qu(n,o)}Te(n,o){const u=Za(n);let d,w=v.T;return u.Kt({index:se.documentTargetsIndex},([A,j],{path:Q,sequenceNumber:ce})=>{0===A?(w!==v.T&&o(new Jt(aa(d)),w),w=ce,d=Q):w=v.T}).next(()=>{w!==v.T&&o(new Jt(aa(d)),w)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Qu(a,n){return Za(a).put((u=a.currentSequenceNumber,new se(0,qs(n.path),u)));var u}class Ju{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0!==u)for(const[d,w]of u)if(this.equalsFn(d,n))return w}has(n){return void 0!==this.get(n)}set(n,o){const u=this.mapKeyFn(n),d=this.inner[u];if(void 0!==d){for(let w=0;w<d.length;w++)if(this.equalsFn(d[w][0],n))return void(d[w]=[n,o]);d.push([n,o])}else this.inner[u]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return!1;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],n))return 1===u.length?delete this.inner[o]:u.splice(d,1),!0;return!1}forEach(n){Ot(this.inner,(o,u)=>{for(const[d,w]of u)n(d,w)})}isEmpty(){return tn(this.inner)}}class Ph{constructor(){this.changes=new Ju(n=>n.toLowerCase().toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:xe.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:Mr.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const u=this.changes.get(o);return void 0!==u?Rt.resolve(u.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class pm{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,u){return pu(n).put(bd(o),u)}removeEntry(n,o){const u=pu(n),d=bd(o);return u.delete(d)}updateMetadata(n,o){return this.getMetadata(n).next(u=>(u.byteSize+=o,this.Ae(n,u)))}getEntry(n,o){return pu(n).get(bd(o)).next(u=>this.Re(o,u))}be(n,o){return pu(n).get(bd(o)).next(u=>({document:this.Re(o,u),size:vd(u)}))}getEntries(n,o){let u=zo();return this.Pe(n,o,(d,w)=>{const A=this.Re(d,w);u=u.insert(d,A)}).next(()=>u)}ve(n,o){let u=zo(),d=new Cs(Jt.comparator);return this.Pe(n,o,(w,A)=>{const j=this.Re(w,A);u=u.insert(w,j),d=d.insert(w,vd(A))}).next(()=>({documents:u,Ve:d}))}Pe(n,o,u){if(o.isEmpty())return Rt.resolve();const d=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),w=o.getIterator();let A=w.getNext();return pu(n).Kt({range:d},(j,Q,ce)=>{const ve=Jt.fromSegments(j);for(;A&&Jt.comparator(A,ve)<0;)u(A,null),A=w.getNext();A&&A.isEqual(ve)&&(u(A,Q),A=w.hasNext()?w.getNext():null),A?ce.Mt(A.path.toArray()):ce.done()}).next(()=>{for(;A;)u(A,null),A=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(n,o,u){let d=zo();const w=o.path.length+1,A={};if(u.isEqual(xe.min())){const j=o.path.toArray();A.range=IDBKeyRange.lowerBound(j)}else{const j=o.path.toArray(),Q=Dh(u);A.range=IDBKeyRange.lowerBound([j,Q],!0),A.index=m.collectionReadTimeIndex}return pu(n).Kt(A,(j,Q,ce)=>{if(j.length!==w)return;const ve=Gu(this.N,Q);o.path.isPrefixOf(ve.key.path)?Xl(o,ve)&&(d=d.insert(ve.key,ve)):ce.done()}).next(()=>d)}newChangeBuffer(n){return new cp(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return Dc(n).get(S.key).next(o=>(Un(!!o),o))}Ae(n,o){return Dc(n).put(S.key,o)}Re(n,o){if(o){const u=Gu(this.N,o);if(!u.isNoDocument()||!u.version.isEqual(xe.min()))return u}return Mr.newInvalidDocument(n)}}class cp extends Ph{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new Ju(u=>u.toLowerCase().toString(),(u,d)=>u.isEqual(d))}applyChanges(n){const o=[];let u=0,d=new zi((w,A)=>$(w.canonicalString(),A.canonicalString()));return this.changes.forEach((w,A)=>{const j=this.De.get(w);if(A.document.isValidDocument()){const Q=sp(this.Se.N,A.document,this.getReadTime(w));d=d.add(w.path.popLast()),u+=vd(Q)-j,o.push(this.Se.addEntry(n,w,Q))}else if(u-=j,this.trackRemovals){const Q=sp(this.Se.N,Mr.newNoDocument(w,xe.min()),this.getReadTime(w));o.push(this.Se.addEntry(n,w,Q))}else o.push(this.Se.removeEntry(n,w))}),d.forEach(w=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,w))}),o.push(this.Se.updateMetadata(n,u)),Rt.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(u=>(this.De.set(o,u.size),u.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:u,Ve:d})=>(d.forEach((w,A)=>{this.De.set(w,A)}),u))}}function Dc(a){return Ui(a,S.store)}function pu(a){return Ui(a,m.store)}function bd(a){return a.path.toArray()}class w_{constructor(n){this.N=n}Ct(n,o,u,d){Un(u<d&&u>=0&&d<=11);const w=new uu("createOrUpgrade",o);var j;u<1&&d>=1&&(n.createObjectStore(Yo.store),(j=n).createObjectStore(Ol.store,{keyPath:Ol.keyPath}),j.createObjectStore(Si.store,{keyPath:Si.keyPath,autoIncrement:!0}).createIndex(Si.userMutationsIndex,Si.userMutationsKeyPath,{unique:!0}),j.createObjectStore(Gs.store),gm(n),function(j){j.createObjectStore(m.store)}(n));let A=Rt.resolve();return u<3&&d>=3&&(0!==u&&(function(j){j.deleteObjectStore(se.store),j.deleteObjectStore(z.store),j.deleteObjectStore(Be.store)}(n),gm(n)),A=A.next(()=>function(j){const Q=j.store(Be.store),ce=new Be(0,0,xe.min().toTimestamp(),0);return Q.put(Be.key,ce)}(w))),u<4&&d>=4&&(0!==u&&(A=A.next(()=>function(j,Q){return Q.store(Si.store).Lt().next(ce=>{j.deleteObjectStore(Si.store),j.createObjectStore(Si.store,{keyPath:Si.keyPath,autoIncrement:!0}).createIndex(Si.userMutationsIndex,Si.userMutationsKeyPath,{unique:!0});const ve=Q.store(Si.store),Ge=ce.map(vt=>ve.put(vt));return Rt.waitFor(Ge)})}(n,w))),A=A.next(()=>{!function(j){j.createObjectStore($t.store,{keyPath:$t.keyPath})}(n)})),u<5&&d>=5&&(A=A.next(()=>this.Ce(w))),u<6&&d>=6&&(A=A.next(()=>(function(j){j.createObjectStore(S.store)}(n),this.Ne(w)))),u<7&&d>=7&&(A=A.next(()=>this.xe(w))),u<8&&d>=8&&(A=A.next(()=>this.ke(n,w))),u<9&&d>=9&&(A=A.next(()=>{(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(n),function(j){const Q=j.objectStore(m.store);Q.createIndex(m.readTimeIndex,m.readTimeIndexPath,{unique:!1}),Q.createIndex(m.collectionReadTimeIndex,m.collectionReadTimeIndexPath,{unique:!1})}(o)})),u<10&&d>=10&&(A=A.next(()=>this.$e(w))),u<11&&d>=11&&(A=A.next(()=>{(function(j){j.createObjectStore(rn.store,{keyPath:rn.keyPath})})(n),function(j){j.createObjectStore(Zn.store,{keyPath:Zn.keyPath})}(n)})),A}Ne(n){let o=0;return n.store(m.store).Kt((u,d)=>{o+=vd(d)}).next(()=>{const u=new S(o);return n.store(S.store).put(S.key,u)})}Ce(n){const o=n.store(Ol.store),u=n.store(Si.store);return o.Lt().next(d=>Rt.forEach(d,w=>{const A=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return u.Lt(Si.userMutationsIndex,A).next(j=>Rt.forEach(j,Q=>{Un(Q.userId===w.userId);const ce=_d(this.N,Q);return Mh(n,w.userId,ce).next(()=>{})}))}))}xe(n){const o=n.store(se.store),u=n.store(m.store);return n.store(Be.store).get(Be.key).next(d=>{const w=[];return u.Kt((A,j)=>{const Q=new dn(A),ce=[0,qs(Q)];w.push(o.get(ce).next(ve=>ve?Rt.resolve():o.put(new se(0,qs(Q),d.highestListenSequenceNumber))))}).next(()=>Rt.waitFor(w))})}ke(n,o){n.createObjectStore(yt.store,{keyPath:yt.keyPath});const u=o.store(yt.store),d=new op,w=A=>{if(d.add(A)){const j=A.lastSegment(),Q=A.popLast();return u.put({collectionId:j,parent:qs(Q)})}};return o.store(m.store).Kt({qt:!0},(A,j)=>{const Q=new dn(A);return w(Q.popLast())}).next(()=>o.store(Gs.store).Kt({qt:!0},([A,j,Q],ce)=>{const ve=aa(j);return w(ve.popLast())}))}$e(n){const o=n.store(z.store);return o.Kt((u,d)=>{const w=ol(d),A=Sh(this.N,w);return o.put(A)})}}function gm(a){a.createObjectStore(se.store,{keyPath:se.keyPath}).createIndex(se.documentTargetsIndex,se.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(z.store,{keyPath:z.keyPath}).createIndex(z.queryTargetsIndexName,z.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Be.store)}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ed{constructor(n,o,u,d,w,A,j,Q,ce,ve){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=u,this.Oe=w,this.window=A,this.document=j,this.Fe=ce,this.Me=ve,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Ge=>Promise.resolve(),!Ed.bt())throw new T(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oh(this,d),this.We=o+"main",this.N=new ip(Q),this.Ge=new Jo(this.We,11,new w_(this.N)),this.ze=new cm(this.referenceDelegate,this.N),this.Ht=new v_,this.He=new pm(this.N,this.Ht),this.Je=new y_,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ve&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new T(D.FAILED_PRECONDITION,kh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new v(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var u=(0,_.Z)(function*(d){if(o.started)return n(d)});return function(d){return u.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,_.Z)(function*(u){null===u.newVersion&&(yield n())});return function(u){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,_.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>dp(n).put(new $t(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(Bo(n))return Bt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Ac(n).get(Yo.key).next(o=>Rt.resolve(this.cn(o)))}un(n){return dp(n).delete(this.clientId)}hn(){var n=this;return(0,_.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const d=Ui(u,$t.store);return d.Lt().next(w=>{const A=n.fn(w,18e5),j=w.filter(Q=>-1===A.indexOf(Q));return Rt.forEach(j,Q=>d.delete(Q.clientId)).next(()=>j)})}).catch(()=>[]);if(n.Ye)for(const u of o)n.Ye.removeItem(n.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Rt.resolve(!0):Ac(n).get(Yo.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new T(D.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||dp(n).Lt().next(u=>void 0===this.fn(u,5e3).find(d=>{if(this.clientId!==d.clientId){const A=!this.inForeground&&d.inForeground,j=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||A&&j)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Bt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,_.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Yo.store,$t.store],o=>{const u=new rp(o,v.T);return n.on(u).next(()=>n.un(u))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(u=>this.ln(u.updateTimeMs,o)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>dp(n).Lt().next(o=>this.fn(o,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(n){return wd.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,u){let w;return Bt("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",Kn,A=>(w=new rp(A,this.Le?this.Le.next():v.T),"readwrite-primary"===o?this.sn(w).next(j=>!!j||this.rn(w)).next(j=>{if(!j)throw ui(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new T(D.FAILED_PRECONDITION,ks);return u(w)}).next(j=>this.an(w).next(()=>j)):this.En(w).next(()=>u(w)))).then(A=>(w.raiseOnCommittedEvent(),A))}En(n){return Ac(n).get(Yo.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new T(D.FAILED_PRECONDITION,kh)})}an(n){const o=new Yo(this.clientId,this.allowTabSynchronization,Date.now());return Ac(n).put(Yo.key,o)}static bt(){return Jo.bt()}on(n){const o=Ac(n);return o.get(Yo.key).next(u=>this.cn(u)?(Bt("IndexedDbPersistence","Releasing primary lease."),o.delete(Yo.key)):Rt.resolve())}ln(n,o){const u=Date.now();return!(n<u-o||n>u&&(ui(`Detected an update time that is in the future: ${n} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Le.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const u=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return Bt("IndexedDbPersistence",`Client '${n}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return ui("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){ui("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ac(a){return Ui(a,Yo.store)}function dp(a){return Ui(a,$t.store)}function Fh(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class b_{constructor(n,o){this.progress=n,this.Tn=o}}class hp{constructor(n,o,u){this.He=n,this.In=o,this.Ht=u}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(u=>this.Rn(n,o,u))}Rn(n,o,u){return this.He.getEntry(n,o).next(d=>{for(const w of u)w.applyToLocalView(d);return d})}bn(n,o){n.forEach((u,d)=>{for(const w of o)w.applyToLocalView(d)})}Pn(n,o){return this.He.getEntries(n,o).next(u=>this.vn(n,u).next(()=>u))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(u=>this.bn(o,u))}getDocumentsMatchingQuery(n,o,u){return Jt.isDocumentKey((d=o).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(n,o.path):Jl(o)?this.Sn(n,o,u):this.Dn(n,o,u);var d}Vn(n,o){return this.An(n,new Jt(o)).next(u=>{let d=Al();return u.isFoundDocument()&&(d=d.insert(u.key,u)),d})}Sn(n,o,u){const d=o.collectionGroup;let w=Al();return this.Ht.getCollectionParents(n,d).next(A=>Rt.forEach(A,j=>{const Q=(ce=o,ve=j.child(d),new ga(ve,null,ce.explicitOrderBy.slice(),ce.filters.slice(),ce.limit,ce.limitType,ce.startAt,ce.endAt));var ce,ve;return this.Dn(n,Q,u).next(ce=>{ce.forEach((ve,Ge)=>{w=w.insert(ve,Ge)})})}).next(()=>w))}Dn(n,o,u){let d,w;return this.He.getDocumentsMatchingQuery(n,o,u).next(A=>(d=A,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(A=>(w=A,this.Cn(n,w,d).next(j=>{d=j;for(const Q of w)for(const ce of Q.mutations){const ve=ce.key;let Ge=d.get(ve);null==Ge&&(Ge=Mr.newInvalidDocument(ve),d=d.insert(ve,Ge)),mc(ce,Ge,Q.localWriteTime),Ge.isFoundDocument()||(d=d.remove(ve))}}))).next(()=>(d.forEach((A,j)=>{Xl(o,j)||(d=d.remove(A))}),d))}Cn(n,o,u){let d=ei();for(const A of o)for(const j of A.mutations)j instanceof rl&&null===u.get(j.key)&&(d=d.add(j.key));let w=u;return this.He.getEntries(n,d).next(A=>(A.forEach((j,Q)=>{Q.isFoundDocument()&&(w=w.insert(j,Q))}),w))}}class fp{constructor(n,o,u,d){this.targetId=n,this.fromCache=o,this.Nn=u,this.xn=d}static kn(n,o){let u=ei(),d=ei();for(const w of o.docChanges)switch(w.type){case 0:u=u.add(w.doc.key);break;case 1:d=d.add(w.doc.key)}return new fp(n,o.fromCache,u,d)}}class mm{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,u,d){return 0===(w=o).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||u.isEqual(xe.min())?this.Fn(n,o):this.On.Pn(n,d).next(w=>{const A=this.Mn(o,w);return(fc(o)||ma(o))&&this.Ln(o.limitType,A,d,u)?this.Fn(n,o):(co()<=Xe.in.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toLowerCase().toString(),Oa(o)),this.On.getDocumentsMatchingQuery(n,o,u).next(j=>(A.forEach(Q=>{j=j.insert(Q.key,Q)}),j)))});var w}Mn(n,o){let u=new zi(id(n));return o.forEach((d,w)=>{Xl(n,w)&&(u=u.add(w))}),u}Ln(n,o,u,d){if(u.size!==o.size)return!0;const w="F"===n?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(d)>0)}Fn(n,o){return co()<=Xe.in.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",Oa(o)),this.On.getDocumentsMatchingQuery(n,o,xe.min())}}class qa{constructor(n,o,u,d){this.persistence=n,this.Bn=o,this.N=d,this.Un=new Cs($),this.qn=new Ju(w=>_l(w),zl),this.Kn=xe.min(),this.In=n.getMutationQueue(u),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new hp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function ym(a,n,o,u){return new qa(a,n,o,u)}function pp(a,n){return gp.apply(this,arguments)}function gp(){return(gp=(0,_.Z)(function*(a,n){const o=Wt(a);let u=o.In,d=o.Qn;const w=yield o.persistence.runTransaction("Handle user change","readonly",A=>{let j;return o.In.getAllMutationBatches(A).next(Q=>(j=Q,u=o.persistence.getMutationQueue(n),d=new hp(o.jn,u,o.persistence.getIndexManager()),u.getAllMutationBatches(A))).next(Q=>{const ce=[],ve=[];let Ge=ei();for(const vt of j){ce.push(vt.batchId);for(const Dt of vt.mutations)Ge=Ge.add(Dt.key)}for(const vt of Q){ve.push(vt.batchId);for(const Dt of vt.mutations)Ge=Ge.add(Dt.key)}return d.Pn(A,Ge).next(vt=>({Wn:vt,removedBatchIds:ce,addedBatchIds:ve}))})});return o.In=u,o.Qn=d,o.Bn.$n(o.Qn),w})).apply(this,arguments)}function E_(a,n){const o=Wt(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const d=n.batch.keys(),w=o.jn.newChangeBuffer({trackRemovals:!0});return function(A,j,Q,ce){const ve=Q.batch,Ge=ve.keys();let vt=Rt.resolve();return Ge.forEach(Dt=>{vt=vt.next(()=>ce.getEntry(j,Dt)).next(zt=>{const Fn=Q.docVersions.get(Dt);Un(null!==Fn),zt.version.compareTo(Fn)<0&&(ve.applyToRemoteDocument(zt,Q),zt.isValidDocument()&&ce.addEntry(zt,Q.commitVersion))})}),vt.next(()=>A.In.removeMutationBatch(j,ve))}(o,u,n,w).next(()=>w.apply(u)).next(()=>o.In.performConsistencyCheck(u)).next(()=>o.Qn.Pn(u,d))})}function _m(a){const n=Wt(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function C_(a,n){const o=Wt(a),u=n.snapshotVersion;let d=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const A=o.jn.newChangeBuffer({trackRemovals:!0});d=o.Un;const j=[];n.targetChanges.forEach((ce,ve)=>{const Ge=d.get(ve);if(!Ge)return;j.push(o.ze.removeMatchingKeys(w,ce.removedDocuments,ve).next(()=>o.ze.addMatchingKeys(w,ce.addedDocuments,ve)));const vt=ce.resumeToken;if(vt.approximateByteSize()>0){const Dt=Ge.withResumeToken(vt,u).withSequenceNumber(w.currentSequenceNumber);d=d.insert(ve,Dt),zt=Ge,Er=ce,Un((Fn=Dt).resumeToken.approximateByteSize()>0),(0===zt.resumeToken.approximateByteSize()||Fn.snapshotVersion.toMicroseconds()-zt.snapshotVersion.toMicroseconds()>=3e8||Er.addedDocuments.size+Er.modifiedDocuments.size+Er.removedDocuments.size>0)&&j.push(o.ze.updateTargetData(w,Dt))}var zt,Fn,Er});let Q=zo();if(n.documentUpdates.forEach((ce,ve)=>{n.resolvedLimboDocuments.has(ce)&&j.push(o.persistence.referenceDelegate.updateLimboDocument(w,ce))}),j.push(mp(w,A,n.documentUpdates,u,void 0).next(ce=>{Q=ce})),!u.isEqual(xe.min())){const ce=o.ze.getLastRemoteSnapshotVersion(w).next(ve=>o.ze.setTargetsMetadata(w,w.currentSequenceNumber,u));j.push(ce)}return Rt.waitFor(j).next(()=>A.apply(w)).next(()=>o.Qn.vn(w,Q)).next(()=>Q)}).then(w=>(o.Un=d,w))}function mp(a,n,o,u,d){let w=ei();return o.forEach(A=>w=w.add(A)),n.getEntries(a,w).next(A=>{let j=zo();return o.forEach((Q,ce)=>{const ve=A.get(Q),Ge=(null==d?void 0:d.get(Q))||u;ce.isNoDocument()&&ce.version.isEqual(xe.min())?(n.removeEntry(Q,Ge),j=j.insert(Q,ce)):!ve.isValidDocument()||ce.version.compareTo(ve.version)>0||0===ce.version.compareTo(ve.version)&&ve.hasPendingWrites?(n.addEntry(ce,Ge),j=j.insert(Q,ce)):Bt("LocalStore","Ignoring outdated watch update for ",Q,". Current version:",ve.version," Watch version:",ce.version)}),j})}function T_(a,n){const o=Wt(a);return o.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(u,n)))}function Sc(a,n){const o=Wt(a);return o.persistence.runTransaction("Allocate target","readwrite",u=>{let d;return o.ze.getTargetData(u,n).next(w=>w?(d=w,Rt.resolve(d)):o.ze.allocateTargetId(u).next(A=>(d=new du(n,A,0,u.currentSequenceNumber),o.ze.addTargetData(u,d).next(()=>d))))}).then(u=>{const d=o.Un.get(u.targetId);return(null===d||u.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(o.Un=o.Un.insert(u.targetId,u),o.qn.set(n,u.targetId)),u})}function xc(a,n,o){return pr.apply(this,arguments)}function pr(){return(pr=(0,_.Z)(function*(a,n,o){const u=Wt(a),d=u.Un.get(n),w=o?"readwrite":"readwrite-primary";try{o||(yield u.persistence.runTransaction("Release target",w,A=>u.persistence.referenceDelegate.removeTarget(A,d)))}catch(A){if(!Bo(A))throw A;Bt("LocalStore",`Failed to update sequence numbers for target ${n}: ${A}`)}u.Un=u.Un.remove(n),u.qn.delete(d.target)})).apply(this,arguments)}function Cd(a,n,o){const u=Wt(a);let d=xe.min(),w=ei();return u.persistence.runTransaction("Execute query","readonly",A=>function(j,Q,ce){const ve=Wt(j),Ge=ve.qn.get(ce);return void 0!==Ge?Rt.resolve(ve.Un.get(Ge)):ve.ze.getTargetData(Q,ce)}(u,A,ya(n)).next(j=>{if(j)return d=j.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(A,j.targetId).next(Q=>{w=Q})}).next(()=>u.Bn.getDocumentsMatchingQuery(A,n,o?d:xe.min(),o?w:ei())).next(j=>({documents:j,Gn:w})))}function yp(a,n){const o=Wt(a),u=Wt(o.ze),d=o.Un.get(n);return d?Promise.resolve(d.target):o.persistence.runTransaction("Get target data","readonly",w=>u.Et(w,n).next(A=>A?A.target:null))}function Td(a){const n=Wt(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(u,d,w){const A=Wt(u);let j=zo(),Q=Dh(w);const ce=pu(d),ve=IDBKeyRange.lowerBound(Q,!0);return ce.Kt({index:m.readTimeIndex,range:ve},(Ge,vt)=>{const Dt=Gu(A.N,vt);j=j.insert(Dt.key,Dt),Q=vt.readTime}).next(()=>({Tn:j,readTime:Ah(Q)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:u})=>(n.Kn=u,o))}function Lh(){return(Lh=(0,_.Z)(function*(a){const n=Wt(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(u){const d=pu(u);let w=xe.min();return d.Kt({index:m.readTimeIndex,reverse:!0},(A,j,Q)=>{j.readTime&&(w=Ah(j.readTime)),Q.done()}).next(()=>w)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function Id(){return(Id=(0,_.Z)(function*(a,n,o,u){const d=Wt(a);let w=ei(),A=zo(),j=_a();for(const ve of o){const Ge=n.zn(ve.metadata.name);ve.document&&(w=w.add(Ge)),A=A.insert(Ge,n.Hn(ve)),j=j.insert(Ge,n.Jn(ve.metadata.readTime))}const Q=d.jn.newChangeBuffer({trackRemovals:!0}),ce=yield Sc(d,(ve=u,ya(nl(dn.fromString(`__bundle__/docs/${ve}`)))));var ve;return d.persistence.runTransaction("Apply bundle documents","readwrite",ve=>mp(ve,Q,A,xe.min(),j).next(Ge=>(Q.apply(ve),Ge)).next(Ge=>d.ze.removeMatchingKeysForTargetId(ve,ce.targetId).next(()=>d.ze.addMatchingKeys(ve,w,ce.targetId)).next(()=>d.Qn.vn(ve,Ge)).next(()=>Ge)))})).apply(this,arguments)}function kl(a,n){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,_.Z)(function*(a,n,o=ei()){const u=yield Sc(a,ya(xh(n.bundledQuery))),d=Wt(a);return d.persistence.runTransaction("Save named query","readwrite",w=>{const A=Zs(n.readTime);if(u.snapshotVersion.compareTo(A)>=0)return d.Je.saveNamedQuery(w,n);const j=u.withResumeToken(fr.EMPTY_BYTE_STRING,A);return d.Un=d.Un.insert(j.targetId,j),d.ze.updateTargetData(w,j).next(()=>d.ze.removeMatchingKeysForTargetId(w,u.targetId)).next(()=>d.ze.addMatchingKeys(w,o,u.targetId)).next(()=>d.Je.saveNamedQuery(w,n))})})).apply(this,arguments)}class vm{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return Rt.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var u;return this.Yn.set(o.id,{id:(u=o).id,version:u.version,createTime:Zs(u.createTime)}),Rt.resolve()}getNamedQuery(n,o){return Rt.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(u=o).name,query:xh(u.bundledQuery),readTime:Zs(u.readTime)}),Rt.resolve();var u}}class Ad{constructor(){this.Zn=new zi(Ro.ts),this.es=new zi(Ro.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const u=new Ro(n,o);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(n,o){n.forEach(u=>this.addReference(u,o))}removeReference(n,o){this.rs(new Ro(n,o))}os(n,o){n.forEach(u=>this.removeReference(u,o))}cs(n){const o=new Jt(new dn([])),u=new Ro(o,n),d=new Ro(o,n+1),w=[];return this.es.forEachInRange([u,d],A=>{this.rs(A),w.push(A.key)}),w}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new Jt(new dn([])),u=new Ro(o,n),d=new Ro(o,n+1);let w=ei();return this.es.forEachInRange([u,d],A=>{w=w.add(A.key)}),w}containsKey(n){const o=new Ro(n,0),u=this.Zn.firstAfterOrEqual(o);return null!==u&&n.isEqual(u.key)}}class Ro{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return Jt.comparator(n.key,o.key)||$(n.ls,o.ls)}static ns(n,o){return $(n.ls,o.ls)||Jt.comparator(n.key,o.key)}}class wm{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new zi(Ro.ts)}checkEmpty(n){return Rt.resolve(0===this.In.length)}addMutationBatch(n,o,u,d){const w=this.fs;this.fs++;const A=new qu(w,o,u,d);this.In.push(A);for(const j of d)this.ds=this.ds.add(new Ro(j.key,w)),this.Ht.addToCollectionParentIndex(n,j.key.path.popLast());return Rt.resolve(A)}lookupMutationBatch(n,o){return Rt.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const d=this._s(o+1),w=d<0?0:d;return Rt.resolve(this.In.length>w?this.In[w]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Rt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const u=new Ro(o,0),d=new Ro(o,Number.POSITIVE_INFINITY),w=[];return this.ds.forEachInRange([u,d],A=>{const j=this.ws(A.ls);w.push(j)}),Rt.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new zi($);return o.forEach(d=>{const w=new Ro(d,0),A=new Ro(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([w,A],j=>{u=u.add(j.ls)})}),Rt.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1;let w=u;Jt.isDocumentKey(w)||(w=w.child(""));const A=new Ro(new Jt(w),0);let j=new zi($);return this.ds.forEachWhile(Q=>{const ce=Q.key.path;return!!u.isPrefixOf(ce)&&(ce.length===d&&(j=j.add(Q.ls)),!0)},A),Rt.resolve(this.gs(j))}gs(n){const o=[];return n.forEach(u=>{const d=this.ws(u);null!==d&&o.push(d)}),o}removeMutationBatch(n,o){Un(0===this.ys(o.batchId,"removed")),this.In.shift();let u=this.ds;return Rt.forEach(o.mutations,d=>{const w=new Ro(d.key,o.batchId);return u=u.delete(w),this.referenceDelegate.markPotentiallyOrphaned(n,d.key)}).next(()=>{this.ds=u})}te(n){}containsKey(n,o){const u=new Ro(o,0),d=this.ds.firstAfterOrEqual(u);return Rt.resolve(o.isEqual(d&&d.key))}performConsistencyCheck(n){return Rt.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class k0{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new Cs(Jt.comparator),this.size=0}addEntry(n,o,u){const d=o.key,w=this.docs.get(d),A=w?w.size:0,j=this.ps(o);return this.docs=this.docs.insert(d,{document:o.clone(),size:j,readTime:u}),this.size+=j-A,this.Ht.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const u=this.docs.get(o);return Rt.resolve(u?u.document.clone():Mr.newInvalidDocument(o))}getEntries(n,o){let u=zo();return o.forEach(d=>{const w=this.docs.get(d);u=u.insert(d,w?w.document.clone():Mr.newInvalidDocument(d))}),Rt.resolve(u)}getDocumentsMatchingQuery(n,o,u){let d=zo();const w=new Jt(o.path.child("")),A=this.docs.getIteratorFrom(w);for(;A.hasNext();){const{key:j,value:{document:Q,readTime:ce}}=A.getNext();if(!o.path.isPrefixOf(j.path))break;ce.compareTo(u)<=0||Xl(o,Q)&&(d=d.insert(Q.key,Q.clone()))}return Rt.resolve(d)}Es(n,o){return Rt.forEach(this.docs,u=>o(u))}newChangeBuffer(n){return new Fl(this)}getSize(n){return Rt.resolve(this.size)}}class Fl extends Ph{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((u,d)=>{d.document.isValidDocument()?o.push(this.Se.addEntry(n,d.document,this.getReadTime(u))):this.Se.removeEntry(u)}),Rt.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class Vh{constructor(n){this.persistence=n,this.Ts=new Ju(o=>_l(o),zl),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Is=0,this.As=new Ad,this.targetCount=0,this.Rs=ba.se()}forEachTarget(n,o){return this.Ts.forEach((u,d)=>o(d)),Rt.resolve()}getLastRemoteSnapshotVersion(n){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Rt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(n,o,u){return u&&(this.lastRemoteSnapshotVersion=u),o>this.Is&&(this.Is=o),Rt.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new ba(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,Rt.resolve()}updateTargetData(n,o){return this.ae(o),Rt.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(n,o,u){let d=0;const w=[];return this.Ts.forEach((A,j)=>{j.sequenceNumber<=o&&null===u.get(j.targetId)&&(this.Ts.delete(A),w.push(this.removeMatchingKeysForTargetId(n,j.targetId)),d++)}),Rt.waitFor(w).next(()=>d)}getTargetCount(n){return Rt.resolve(this.targetCount)}getTargetData(n,o){const u=this.Ts.get(o)||null;return Rt.resolve(u)}addMatchingKeys(n,o,u){return this.As.ss(o,u),Rt.resolve()}removeMatchingKeys(n,o,u){this.As.os(o,u);const d=this.persistence.referenceDelegate,w=[];return d&&o.forEach(A=>{w.push(d.markPotentiallyOrphaned(n,A))}),Rt.waitFor(w)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),Rt.resolve()}getMatchingKeysForTargetId(n,o){const u=this.As.hs(o);return Rt.resolve(u)}containsKey(n,o){return Rt.resolve(this.As.containsKey(o))}}class Uh{constructor(n,o){this.bs={},this.Le=new v(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new Vh(this),this.Ht=new __,this.He=new k0(this.Ht,u=>this.referenceDelegate.Ps(u)),this.N=new ip(o),this.Je=new vm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new wm(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,u){Bt("MemoryPersistence","Starting transaction:",n);const d=new _p(this.Le.next());return this.referenceDelegate.vs(),u(d).next(w=>this.referenceDelegate.Vs(d).next(()=>w)).toPromise().then(w=>(d.raiseOnCommittedEvent(),w))}Ss(n,o){return Rt.or(Object.values(this.bs).map(u=>()=>u.containsKey(n,o)))}}class _p extends Qo{constructor(n){super(),this.currentSequenceNumber=n}}class bm{constructor(n){this.persistence=n,this.Ds=new Ad,this.Cs=null}static Ns(n){return new bm(n)}get xs(){if(this.Cs)return this.Cs;throw In()}addReference(n,o,u){return this.Ds.addReference(u,o),this.xs.delete(u.toLowerCase().toString()),Rt.resolve()}removeReference(n,o,u){return this.Ds.removeReference(u,o),this.xs.add(u.toLowerCase().toString()),Rt.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toLowerCase().toString()),Rt.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(d=>this.xs.add(d.toLowerCase().toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(n,o.targetId).next(d=>{d.forEach(w=>this.xs.add(w.toLowerCase().toString()))}).next(()=>u.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.xs,u=>{const d=Jt.fromPath(u);return this.ks(n,d).next(w=>{w||o.removeEntry(d)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(u=>{u?this.xs.delete(o.toLowerCase().toString()):this.xs.add(o.toLowerCase().toString())})}Ps(n){return 0}ks(n,o){return Rt.or([()=>Rt.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function Em(a,n){return`firestore_clients_${a}_${n}`}function vp(a,n,o){let u=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(u+=`_${n.uid}`),u}function Cm(a,n){return`firestore_targets_${a}_${n}`}class Bh{constructor(n,o,u,d){this.user=n,this.batchId=o,this.state=u,this.error=d}static $s(n,o,u){const d=JSON.parse(u);let w,A="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return A&&d.error&&(A="string"==typeof d.error.message&&"string"==typeof d.error.code,A&&(w=new T(d.error.code,d.error.message))),A?new Bh(n,o,d.state,w):(ui("SharedClientState",`Failed to parse mutation state for ID '${o}': ${u}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class jh{constructor(n,o,u){this.targetId=n,this.state=o,this.error=u}static $s(n,o){const u=JSON.parse(o);let d,w="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return w&&u.error&&(w="string"==typeof u.error.message&&"string"==typeof u.error.code,w&&(d=new T(u.error.code,u.error.message))),w?new jh(n,u.state,d):(ui("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Sd{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const u=JSON.parse(o);let d="object"==typeof u&&u.activeTargetIds instanceof Array,w=Lu();for(let A=0;d&&A<u.activeTargetIds.length;++A)d=$r(u.activeTargetIds[A]),w=w.add(u.activeTargetIds[A]);return d?new Sd(n,w):(ui("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class Hh{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Hh(o.clientId,o.onlineState):(ui("SharedClientState",`Failed to parse online state: ${n}`),null)}}class wp{constructor(){this.activeTargetIds=Lu()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class xd{constructor(n,o,u,d,w){this.window=n,this.Oe=o,this.persistenceKey=u,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Cs($),this.started=!1,this.Ks=[];const A=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.js=Em(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new wp),this.Ws=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(j){return`firestore_bundle_loaded_${j}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,_.Z)(function*(){const o=yield n.syncEngine.pn();for(const d of o){if(d===n.Ls)continue;const w=n.getItem(Em(n.persistenceKey,d));if(w){const A=Sd.$s(d,w);A&&(n.qs=n.qs.insert(A.clientId,A))}}n.Ys();const u=n.storage.getItem(n.Hs);if(u){const d=n.Xs(u);d&&n.Zs(d)}for(const d of n.Ks)n.Us(d);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((u,d)=>{d.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,u){this.ei(n,o,u),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(Cm(this.persistenceKey,n));if(u){const d=jh.$s(n,u);d&&(o=d.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Cm(this.persistenceKey,n))}updateQueryState(n,o,u){this.ii(n,o,u)}handleUserChange(n,o,u){o.forEach(d=>{this.ni(d)}),this.currentUser=n,u.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return Bt("SharedClientState","READ",n,o),o}setItem(n,o){Bt("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){Bt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const u=n;if(u.storageArea===this.storage){if(Bt("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_.Z)(function*(){if(o.started){if(null!==u.key)if(o.Ws.test(u.key)){if(null==u.newValue){const d=o.ai(u.key);return o.ci(d,null)}{const d=o.ui(u.key,u.newValue);if(d)return o.ci(d.clientId,d)}}else if(o.Gs.test(u.key)){if(null!==u.newValue){const d=o.hi(u.key,u.newValue);if(d)return o.li(d)}}else if(o.zs.test(u.key)){if(null!==u.newValue){const d=o.fi(u.key,u.newValue);if(d)return o.di(d)}}else if(u.key===o.Hs){if(null!==u.newValue){const d=o.Xs(u.newValue);if(d)return o.Zs(d)}}else if(u.key===o.Qs){const d=function(w){let A=v.T;if(null!=w)try{const j=JSON.parse(w);Un("number"==typeof j),A=j}catch(j){ui("SharedClientState","Failed to read sequence number from WebStorage",j)}return A}(u.newValue);d!==v.T&&o.sequenceNumberHandler(d)}else if(u.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,u){const d=new Bh(this.currentUser,n,o,u),w=vp(this.persistenceKey,this.currentUser,n);this.setItem(w,d.Os())}ni(n){const o=vp(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,u){const d=Cm(this.persistenceKey,n),w=new jh(n,o,u);this.setItem(d,w.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const u=this.ai(n);return Sd.$s(u,o)}hi(n,o){const u=this.Gs.exec(n),d=Number(u[1]);return Bh.$s(new ps(void 0!==u[2]?u[2]:null),d,o)}fi(n,o){const u=this.zs.exec(n),d=Number(u[1]);return jh.$s(d,o)}Xs(n){return Hh.$s(n)}li(n){var o=this;return(0,_.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);Bt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const u=o?this.qs.insert(n,o):this.qs.remove(n),d=this.ti(this.qs),w=this.ti(u),A=[],j=[];return w.forEach(Q=>{d.has(Q)||A.push(Q)}),d.forEach(Q=>{w.has(Q)||j.push(Q)}),this.syncEngine.gi(A,j).then(()=>{this.qs=u})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=Lu();return n.forEach((u,d)=>{o=o.unionWith(d.activeTargetIds)}),o}}class D_{constructor(){this.yi=new wp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,u){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,u){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new wp,Promise.resolve()}handleUserChange(n,o,u){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class F0{Ei(n){}shutdown(){}}class A_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const L0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class V0{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class U0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,u,d){const w=this.Bi(n,o);Bt("RestConnection","Sending: ",w,u);const A={};return this.Ui(A,d),this.qi(n,w,A,u).then(j=>(Bt("RestConnection","Received: ",j),j),j=>{throw Ao("RestConnection",`${n} failed with error: `,j,"url: ",w,"request:",u),j})}Ki(n,o,u,d){return this.Li(n,o,u,d)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+Fo,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const u in o.authHeaders)o.authHeaders.hasOwnProperty(u)&&(n[u]=o.authHeaders[u])}Bi(n,o){return`${this.Fi}/v1/${o}:${L0[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,u,d){return new Promise((w,A)=>{const j=new ml;j.listenOnce(ko.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case xa.NO_ERROR:const ce=j.getResponseJson();Bt("Connection","XHR received:",JSON.stringify(ce)),w(ce);break;case xa.TIMEOUT:Bt("Connection",'RPC "'+n+'" timed out'),A(new T(D.DEADLINE_EXCEEDED,"Request time out"));break;case xa.HTTP_ERROR:const ve=j.getStatus();if(Bt("Connection",'RPC "'+n+'" failed with status:',ve,"response text:",j.getResponseText()),ve>0){const Ge=j.getResponseJson().error;if(Ge&&Ge.status&&Ge.message){const vt=function(Dt){const zt=Dt.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(zt)>=0?zt:D.UNKNOWN}(Ge.status);A(new T(vt,Ge.message))}else A(new T(D.UNKNOWN,"Server responded with status "+j.getStatus()))}else A(new T(D.UNAVAILABLE,"Connection failed."));break;default:In()}}finally{Bt("Connection",'RPC "'+n+'" completed.')}});const Q=JSON.stringify(d);j.send(o,"POST",Q,u,15)})}ji(n,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=fa(),w=wi(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Ha({})),this.Ui(A.initMessageHeaders,o),(0,Le.uI)()||(0,Le.b$)()||(0,Le.d)()||(0,Le.w1)()||(0,Le.Mn)()||(0,Le.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const j=u.join("");Bt("Connection","Creating WebChannel: "+j,A);const Q=d.createWebChannel(j,A);let ce=!1,ve=!1;const Ge=new V0({vi:Dt=>{ve?Bt("Connection","Not sending because WebChannel is closed:",Dt):(ce||(Bt("Connection","Opening WebChannel transport."),Q.open(),ce=!0),Bt("Connection","WebChannel sending:",Dt),Q.send(Dt))},Vi:()=>Q.close()}),vt=(Dt,zt,Fn)=>{Dt.listen(zt,Er=>{try{Fn(Er)}catch(Ts){setTimeout(()=>{throw Ts},0)}})};return vt(Q,gl.EventType.OPEN,()=>{ve||Bt("Connection","WebChannel transport opened.")}),vt(Q,gl.EventType.CLOSE,()=>{ve||(ve=!0,Bt("Connection","WebChannel transport closed"),Ge.$i())}),vt(Q,gl.EventType.ERROR,Dt=>{ve||(ve=!0,Ao("Connection","WebChannel transport errored:",Dt),Ge.$i(new T(D.UNAVAILABLE,"The operation could not be completed")))}),vt(Q,gl.EventType.MESSAGE,Dt=>{var zt;if(!ve){const Fn=Dt.data[0];Un(!!Fn);const Er=Fn,Ts=Er.error||(null===(zt=Er[0])||void 0===zt?void 0:zt.error);if(Ts){Bt("Connection","WebChannel received error:",Ts);const ra=Ts.status;let jl=function(th){const Rf=Ps[th];if(void 0!==Rf)return yh(Rf)}(ra),Qa=Ts.message;void 0===jl&&(jl=D.INTERNAL,Qa="Unknown error status: "+ra+" with message "+Ts.message),ve=!0,Ge.$i(new T(jl,Qa)),Q.close()}else Bt("Connection","WebChannel received:",Fn),Ge.Oi(Fn)}}),vt(w,pa.STAT_EVENT,Dt=>{Dt.stat===Ra.PROXY?Bt("Connection","Detected buffering proxy"):Dt.stat===Ra.NOPROXY&&Bt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ge.ki()},0),Ge}}function S_(){return"undefined"!=typeof window?window:null}function bp(){return"undefined"!=typeof document?document:null}function $h(a){return new ep(a,!0)}class Tm{constructor(n,o,u=1e3,d=1.5,w=6e4){this.Oe=n,this.timerId=o,this.Qi=u,this.Wi=d,this.Gi=w,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),d=Math.max(0,o-u);d>0&&Bt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class x_{constructor(n,o,u,d,w,A){this.Oe=n,this.er=u,this.nr=d,this.credentialsProvider=w,this.listener=A,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Tm(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,_.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,_.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var u=this;return(0,_.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==n?u.rr.reset():o&&o.code===D.RESOURCE_EXHAUSTED?(ui(o.toLowerCase().toString()),ui("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):o&&o.code===D.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=n,yield u.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===o&&this.yr(u)},u=>{n(()=>{const d=new T(D.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(d)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{o(()=>this.pr(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ur(){var n=this;this.state=4,this.rr.Xi((0,_.Z)(function*(){n.state=0,n.start()}))}pr(n){return Bt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gu extends x_{constructor(n,o,u,d,w){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,u,w),this.N=d}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const u="NO_CHANGE"===(Q=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:In(),d=n.targetChange.targetIds||[],w=function(Q,ce){return Q.D?(Un(void 0===ce||"string"==typeof ce),fr.fromBase64String(ce||"")):(Un(void 0===ce||ce instanceof Uint8Array),fr.fromUint8Array(ce||new Uint8Array))}(a,n.targetChange.resumeToken),A=n.targetChange.cause,j=A&&function(Q){const ce=void 0===Q.code?D.UNKNOWN:yh(Q.code);return new T(ce,Q.message||"")}(A);o=new bc(u,d,w,j||null)}else if("documentChange"in n){const u=n.documentChange,d=va(a,u.document.name),w=Zs(u.document.updateTime),A=new Rr({mapValue:{fields:u.document.fields}}),j=Mr.newFoundDocument(d,w,A);o=new Vu(u.targetIds||[],u.removedTargetIds||[],j.key,j)}else if("documentDelete"in n){const u=n.documentDelete,d=va(a,u.document),w=u.readTime?Zs(u.readTime):xe.min(),A=Mr.newNoDocument(d,w);o=new Vu([],u.removedTargetIds||[],A.key,A)}else if("documentRemove"in n){const u=n.documentRemove,d=va(a,u.document);o=new Vu([],u.removedTargetIds||[],d,null)}else{if(!("filter"in n))return In();{const u=n.filter,w=new il(u.count||0);o=new wc(u.targetId,w)}}var Q;return o}(this.N,n),u=function(d){if(!("targetChange"in d))return xe.min();const w=d.targetChange;return w.targetIds&&w.targetIds.length?xe.min():w.readTime?Zs(w.readTime):xe.min()}(n);return this.listener.Tr(o,u)}Ir(n){const o={};o.database=sl(this.N),o.addTarget=function(d,w){let A;const j=w.target;return A=dc(j)?{documents:so(d,j)}:{query:lu(d,j)},A.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?A.resumeToken=ud(d,w.resumeToken):w.snapshotVersion.compareTo(xe.min())>0&&(A.readTime=Uu(d,w.snapshotVersion.toTimestamp())),A}(this.N,n);const u=function(a,n){const o=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return In()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);u&&(o.labels=u),this.wr(o)}Ar(n){const o={};o.database=sl(this.N),o.removeTarget=n,this.wr(o)}}class Ep extends x_{constructor(n,o,u,d,w){super(n,"write_stream_connection_backoff","write_stream_idle",o,u,w),this.N=d,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(Un(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(Un(void 0!==n),a.map(o=>function(u,d){let w=Zs(u.updateTime?u.updateTime:d);return w.isEqual(xe.min())&&(w=Zs(d)),new Kf(w,u.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),u=Zs(n.commitTime);return this.listener.vr(u,o)}return Un(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=sl(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(u=>Rl(this.N,u))};this.wr(o)}}class R_ extends class{}{constructor(n,o,u){super(),this.credentials=n,this.nr=o,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===D.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new T(D.UNKNOWN,d.toLowerCase().toString())})}Ki(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===D.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new T(D.UNKNOWN,d.toLowerCase().toString())})}terminate(){this.Dr=!0}}class Im{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toLowerCase().toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ui(o),this.$r=!1):Bt("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Cp{constructor(n,o,u,d,w){var A=this;this.localStore=n,this.datastore=o,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=w,this.Qr.Ei(j=>{u.enqueueAndForget((0,_.Z)(function*(){var Q;mu(A)&&(Bt("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,_.Z)(function*(ce){const ve=Wt(ce);ve.Kr.add(4),yield Mc(ve),ve.Wr.set("Unknown"),ve.Kr.delete(4),yield Rc(ve)}),function(ce){return Q.apply(this,arguments)})(A))}))}),this.Wr=new Im(u,d)}}function Rc(a){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,_.Z)(function*(a){if(mu(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function Mc(a){return al.apply(this,arguments)}function al(){return(al=(0,_.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function Md(a,n){const o=Wt(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),qh(o)?Tp(o):Fd(o).cr()&&Dm(o,n))}function Nd(a,n){const o=Wt(a),u=Fd(o);o.qr.delete(n),u.cr()&&Zh(o,n),0===o.qr.size&&(u.cr()?u.lr():mu(o)&&o.Wr.set("Unknown"))}function Dm(a,n){a.Gr.Y(n.targetId),Fd(a).Ir(n)}function Zh(a,n){a.Gr.Y(n),Fd(a).Ar(n)}function Tp(a){a.Gr=new sm({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),Fd(a).start(),a.Wr.Or()}function qh(a){return mu(a)&&!Fd(a).ar()&&a.qr.size>0}function mu(a){return 0===Wt(a).Kr.size}function Am(a){a.Gr=void 0}function Od(a){return yu.apply(this,arguments)}function yu(){return(yu=(0,_.Z)(function*(a){a.qr.forEach((n,o)=>{Dm(a,n)})})).apply(this,arguments)}function Ip(a,n){return _u.apply(this,arguments)}function _u(){return(_u=(0,_.Z)(function*(a,n){Am(a),qh(a)?(a.Wr.Lr(n),Tp(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function Pd(a,n,o){return vu.apply(this,arguments)}function vu(){return(vu=(0,_.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof bc&&2===n.state&&n.cause)try{yield(u=(0,_.Z)(function*(d,w){const A=w.cause;for(const j of w.targetIds)d.qr.has(j)&&(yield d.remoteSyncer.rejectListen(j,A),d.qr.delete(j),d.Gr.removeTarget(j))}),function(d,w){return u.apply(this,arguments)})(a,n)}catch(u){Bt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),u),yield Gh(a,u)}else if(n instanceof Vu?a.Gr.rt(n):n instanceof wc?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(xe.min()))try{const u=yield _m(a.localStore);o.compareTo(u)>=0&&(yield function(d,w){const A=d.Gr._t(w);return A.targetChanges.forEach((j,Q)=>{if(j.resumeToken.approximateByteSize()>0){const ce=d.qr.get(Q);ce&&d.qr.set(Q,ce.withResumeToken(j.resumeToken,w))}}),A.targetMismatches.forEach(j=>{const Q=d.qr.get(j);if(!Q)return;d.qr.set(j,Q.withResumeToken(fr.EMPTY_BYTE_STRING,Q.snapshotVersion)),Zh(d,j);const ce=new du(Q.target,j,1,Q.sequenceNumber);Dm(d,ce)}),d.remoteSyncer.applyRemoteEvent(A)}(a,o))}catch(u){Bt("RemoteStore","Failed to raise snapshot:",u),yield Gh(a,u)}var u})).apply(this,arguments)}function Gh(a,n,o){return zh.apply(this,arguments)}function zh(){return(zh=(0,_.Z)(function*(a,n,o){if(!Bo(n))throw n;a.Kr.add(1),yield Mc(a),a.Wr.set("Offline"),o||(o=()=>_m(a.localStore)),a.asyncQueue.enqueueRetryable((0,_.Z)(function*(){Bt("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield Rc(a)}))})).apply(this,arguments)}function Dp(a,n){return n().catch(o=>Gh(a,o,n))}function wu(a){return kd.apply(this,arguments)}function kd(){return(kd=(0,_.Z)(function*(a){const n=Wt(a),o=Xu(n);let u=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Sm(n);)try{const d=yield T_(n.localStore,u);if(null===d){0===n.Ur.length&&o.lr();break}u=d.batchId,Wh(n,d)}catch(d){yield Gh(n,d)}xm(n)&&Ap(n)})).apply(this,arguments)}function Sm(a){return mu(a)&&a.Ur.length<10}function Wh(a,n){a.Ur.push(n);const o=Xu(a);o.cr()&&o.br&&o.Pr(n.mutations)}function xm(a){return mu(a)&&!Xu(a).ar()&&a.Ur.length>0}function Ap(a){Xu(a).start()}function B0(a){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,_.Z)(function*(a){Xu(a).Sr()})).apply(this,arguments)}function Rm(a){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,_.Z)(function*(a){const n=Xu(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Mm(a,n,o){return xp.apply(this,arguments)}function xp(){return(xp=(0,_.Z)(function*(a,n,o){const u=a.Ur.shift(),d=yd.from(u,n,o);yield Dp(a,()=>a.remoteSyncer.applySuccessfulWrite(d)),yield wu(a)})).apply(this,arguments)}function M_(a,n){return ea.apply(this,arguments)}function ea(){return(ea=(0,_.Z)(function*(a,n){var o;n&&Xu(a).br&&(yield(o=(0,_.Z)(function*(u,d){if(yc(w=d.code)&&w!==D.ABORTED){const A=u.Ur.shift();Xu(u).hr(),yield Dp(u,()=>u.remoteSyncer.rejectFailedWrite(A.batchId,d)),yield wu(u)}var w}),function(u,d){return o.apply(this,arguments)})(a,n)),xm(a)&&Ap(a)})).apply(this,arguments)}function Rp(a,n){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,_.Z)(function*(a,n){const o=Wt(a);n?(o.Kr.delete(2),yield Rc(o)):n||(o.Kr.add(2),yield Mc(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function Fd(a){return a.zr||(a.zr=function(n,o,u){const d=Wt(n);return d.Cr(),new gu(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:Od.bind(null,a),Ci:Ip.bind(null,a),Tr:Pd.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.zr.hr(),qh(a)?Tp(a):a.Wr.set("Unknown")):(yield a.zr.stop(),Am(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function Xu(a){return a.Hr||(a.Hr=function(n,o,u){const d=Wt(n);return d.Cr(),new Ep(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:B0.bind(null,a),Ci:M_.bind(null,a),Vr:Rm.bind(null,a),vr:Mm.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.Hr.hr(),yield wu(a)):(yield a.Hr.stop(),a.Ur.length>0&&(Bt("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class Yh{constructor(n,o,u,d,w){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=u,this.op=d,this.removalCallback=w,this.deferred=new I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(n,o,u,d,w){const A=Date.now()+u,j=new Yh(n,o,A,d,w);return j.start(u),j}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(D.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ld(a,n){if(ui("AsyncQueue",`${n}: ${a}`),Bo(a))return new T(D.UNAVAILABLE,`${n}: ${a}`);throw a}class Nc{constructor(n){this.comparator=n?(o,u)=>n(o,u)||Jt.comparator(o.key,u.key):(o,u)=>Jt.comparator(o.key,u.key),this.keyedMap=Al(),this.sortedSet=new Cs(this.comparator)}static emptySet(n){return new Nc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,u)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof Nc)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),u=n.sortedSet.getIterator();for(;o.hasNext();){const d=o.getNext().key,w=u.getNext().key;if(!d.isEqual(w))return!1}return!0}toLowerCase().toString(){const n=[];return this.forEach(o=>{n.push(o.toLowerCase().toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const u=new Nc;return u.comparator=this.comparator,u.keyedMap=n,u.sortedSet=o,u}}class Qh{constructor(){this.Jr=new Cs(Jt.comparator)}track(n){const o=n.doc.key,u=this.Jr.get(o);u?0!==n.type&&3===u.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==u.type?this.Jr=this.Jr.insert(o,{type:u.type,doc:n.doc}):2===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===u.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===u.type?this.Jr=this.Jr.remove(o):1===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:1,doc:u.doc}):0===n.type&&1===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):In():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,u)=>{n.push(u)}),n}}class ec{constructor(n,o,u,d,w,A,j,Q){this.query=n,this.docs=o,this.oldDocs=u,this.docChanges=d,this.mutatedKeys=w,this.fromCache=A,this.syncStateChanged=j,this.excludesMetadataChanges=Q}static fromInitialDocuments(n,o,u,d){const w=[];return o.forEach(A=>{w.push({type:0,doc:A})}),new ec(n,o,Nc.emptySet(o),w,u,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&So(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,u=n.docChanges;if(o.length!==u.length)return!1;for(let d=0;d<o.length;d++)if(o[d].type!==u[d].type||!o[d].doc.isEqual(u[d].doc))return!1;return!0}}class N_{constructor(){this.Xr=void 0,this.listeners=[]}}class O_{constructor(){this.queries=new Ju(n=>Su(n),So),this.onlineState="Unknown",this.Zr=new Set}}function Np(a,n){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,_.Z)(function*(a,n){const o=Wt(a),u=n.query;let d=!1,w=o.queries.get(u);if(w||(d=!0,w=new N_),d)try{w.Xr=yield o.onListen(u)}catch(A){const j=Ld(A,`Initialization of query '${Oa(n.query)}' failed`);return void n.onError(j)}o.queries.set(u,w),w.listeners.push(n),n.eo(o.onlineState),w.Xr&&n.no(w.Xr)&&ef(o)})).apply(this,arguments)}function Op(a,n){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,_.Z)(function*(a,n){const o=Wt(a),u=n.query;let d=!1;const w=o.queries.get(u);if(w){const A=w.listeners.indexOf(n);A>=0&&(w.listeners.splice(A,1),d=0===w.listeners.length)}if(d)return o.queries.delete(u),o.onUnlisten(u)})).apply(this,arguments)}function P_(a,n){const o=Wt(a);let u=!1;for(const d of n){const A=o.queries.get(d.query);if(A){for(const j of A.listeners)j.no(d)&&(u=!0);A.Xr=d}}u&&ef(o)}function k_(a,n,o){const u=Wt(a),d=u.queries.get(n);if(d)for(const w of d.listeners)w.onError(o);u.queries.delete(n)}function ef(a){a.Zr.forEach(n=>{n.next()})}class tf{constructor(n,o,u){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(n){if(!this.options.includeMetadataChanges){const u=[];for(const d of n.docChanges)3!==d.type&&u.push(d);n=new ec(n.query,n.docs,n.oldDocs,u,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=ec.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class F_{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class za{constructor(n){this.N=n}zn(n){return va(this.N,n)}Hn(n){return n.metadata.exists?Eh(this.N,n.document,!1):Mr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Zs(n)}}class Pp{constructor(n,o,u){this.lo=n,this.localStore=o,this.N=u,this.queries=[],this.documents=[],this.progress=Nm(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,u=new za(this.N);for(const d of n)if(d.metadata.queries){const w=u.zn(d.metadata.name);for(const A of d.metadata.queries){const j=(o.get(A)||ei()).add(w);o.set(A,j)}}return o}complete(){var n=this;return(0,_.Z)(function*(){const o=yield function(a,n,o,u){return Id.apply(this,arguments)}(n.localStore,new za(n.N),n.documents,n.lo.id),u=n.wo(n.documents);for(const d of n.queries)yield kl(n.localStore,d,u.get(d.name));return n.progress.taskState="Success",new b_(Object.assign({},n.progress),o)})()}}function Nm(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Om{constructor(n){this.key=n}}class L_{constructor(n){this.key=n}}class kp{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=ei(),this.mutatedKeys=ei(),this.po=id(n),this.Eo=new Nc(this.po)}get To(){return this._o}Io(n,o){const u=o?o.Ao:new Qh,d=o?o.Eo:this.Eo;let w=o?o.mutatedKeys:this.mutatedKeys,A=d,j=!1;const Q=fc(this.query)&&d.size===this.query.limit?d.last():null,ce=ma(this.query)&&d.size===this.query.limit?d.first():null;if(n.inorderTraversal((ve,Ge)=>{const vt=d.get(ve),Dt=Xl(this.query,Ge)?Ge:null,zt=!!vt&&this.mutatedKeys.has(vt.key),Fn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let Er=!1;vt&&Dt?vt.data.isEqual(Dt.data)?zt!==Fn&&(u.track({type:3,doc:Dt}),Er=!0):this.Ro(vt,Dt)||(u.track({type:2,doc:Dt}),Er=!0,(Q&&this.po(Dt,Q)>0||ce&&this.po(Dt,ce)<0)&&(j=!0)):!vt&&Dt?(u.track({type:0,doc:Dt}),Er=!0):vt&&!Dt&&(u.track({type:1,doc:vt}),Er=!0,(Q||ce)&&(j=!0)),Er&&(Dt?(A=A.add(Dt),w=Fn?w.add(ve):w.delete(ve)):(A=A.delete(ve),w=w.delete(ve)))}),fc(this.query)||ma(this.query))for(;A.size>this.query.limit;){const ve=fc(this.query)?A.last():A.first();A=A.delete(ve.key),w=w.delete(ve.key),u.track({type:1,doc:ve})}return{Eo:A,Ao:u,Ln:j,mutatedKeys:w}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,u){const d=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const w=n.Ao.Yr();w.sort((ce,ve)=>function(Ge,vt){const Dt=zt=>{switch(zt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return In()}};return Dt(Ge)-Dt(vt)}(ce.type,ve.type)||this.po(ce.doc,ve.doc)),this.bo(u);const A=o?this.Po():[],j=0===this.yo.size&&this.current?1:0,Q=j!==this.mo;return this.mo=j,0!==w.length||Q?{snapshot:new ec(this.query,n.Eo,d,w,n.mutatedKeys,0===j,Q,!1),vo:A}:{vo:A}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Qh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=ei(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const o=[];return n.forEach(u=>{this.yo.has(u)||o.push(new L_(u))}),this.yo.forEach(u=>{n.has(u)||o.push(new Om(u))}),o}So(n){this._o=n.Gn,this.yo=ei();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return ec.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class V_{constructor(n,o,u){this.query=n,this.targetId=o,this.view=u}}class U_{constructor(n){this.key=n,this.Co=!1}}class B_{constructor(n,o,u,d,w,A){this.localStore=n,this.remoteStore=o,this.eventManager=u,this.sharedClientState=d,this.currentUser=w,this.maxConcurrentLimboResolutions=A,this.No={},this.xo=new Ju(j=>Su(j),So),this.ko=new Map,this.$o=new Set,this.Oo=new Cs(Jt.comparator),this.Fo=new Map,this.Mo=new Ad,this.Lo={},this.Bo=new Map,this.Uo=ba.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Fp(a,n){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,_.Z)(function*(a,n){const o=$m(a);let u,d;const w=o.xo.get(n);if(w)u=w.targetId,o.sharedClientState.addLocalQueryTarget(u),d=w.view.Do();else{const A=yield Sc(o.localStore,ya(n)),j=o.sharedClientState.addLocalQueryTarget(A.targetId);u=A.targetId,d=yield Vp(o,n,u,"current"===j),o.isPrimaryClient&&Md(o.remoteStore,A)}return d})).apply(this,arguments)}function Vp(a,n,o,u){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,_.Z)(function*(a,n,o,u){a.Ko=(ve,Ge,vt)=>{return(Dt=(0,_.Z)(function*(zt,Fn,Er,Ts){let ra=Fn.view.Io(Er);ra.Ln&&(ra=yield Cd(zt.localStore,Fn.query,!1).then(({documents:th})=>Fn.view.Io(th,ra)));const jl=Ts&&Ts.targetChanges.get(Fn.targetId),Qa=Fn.view.applyChanges(ra,zt.isPrimaryClient,jl);return Um(zt,Fn.targetId,Qa.vo),Qa.snapshot}),function(zt,Fn,Er,Ts){return Dt.apply(this,arguments)})(a,ve,Ge,vt);var Dt};const d=yield Cd(a.localStore,n,!0),w=new kp(n,d.Gn),A=w.Io(d.documents),j=ou.createSynthesizedTargetChangeForCurrentChange(o,u&&"Offline"!==a.onlineState),Q=w.applyChanges(A,a.isPrimaryClient,j);Um(a,o,Q.vo);const ce=new V_(n,o,w);return a.xo.set(n,ce),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),Q.snapshot})).apply(this,arguments)}function Up(a,n){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,_.Z)(function*(a,n){const o=Wt(a),u=o.xo.get(n),d=o.ko.get(u.targetId);if(d.length>1)return o.ko.set(u.targetId,d.filter(w=>!So(w,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield xc(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),Nd(o.remoteStore,u.targetId),kc(o,u.targetId)}).catch(Yu))):(kc(o,u.targetId),yield xc(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Vd(){return(Vd=(0,_.Z)(function*(a,n,o){const u=Yp(a);try{const d=yield function(w,A){const j=Wt(w),Q=_e.now(),ce=A.reduce((Ge,vt)=>Ge.add(vt.key),ei());let ve;return j.persistence.runTransaction("Locally write mutations","readwrite",Ge=>j.Qn.Pn(Ge,ce).next(vt=>{ve=vt;const Dt=[];for(const zt of A){const Fn=od(zt,ve.get(zt.key));null!=Fn&&Dt.push(new rl(zt.key,Fn,oa(Fn.value.mapValue),Os.exists(!0)))}return j.In.addMutationBatch(Ge,Q,Dt,A)})).then(Ge=>(Ge.applyToLocalDocumentSet(ve),{batchId:Ge.batchId,changes:ve}))}(u.localStore,n);u.sharedClientState.addPendingMutation(d.batchId),function(w,A,j){let Q=w.Lo[w.currentUser.toKey()];Q||(Q=new Cs($)),Q=Q.insert(A,j),w.Lo[w.currentUser.toKey()]=Q}(u,d.batchId,o),yield Ea(u,d.changes),yield wu(u.remoteStore)}catch(d){const w=Ld(d,"Failed to persist write");o.reject(w)}})).apply(this,arguments)}function Hp(a,n){return $p.apply(this,arguments)}function $p(){return($p=(0,_.Z)(function*(a,n){const o=Wt(a);try{const u=yield C_(o.localStore,n);n.targetChanges.forEach((d,w)=>{const A=o.Fo.get(w);A&&(Un(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?A.Co=!0:d.modifiedDocuments.size>0?Un(A.Co):d.removedDocuments.size>0&&(Un(A.Co),A.Co=!1))}),yield Ea(o,u,n)}catch(u){yield Yu(u)}})).apply(this,arguments)}function Pm(a,n,o){const u=Wt(a);if(u.isPrimaryClient&&0===o||!u.isPrimaryClient&&1===o){const d=[];u.xo.forEach((w,A)=>{const j=A.view.eo(n);j.snapshot&&d.push(j.snapshot)}),function(w,A){const j=Wt(w);j.onlineState=A;let Q=!1;j.queries.forEach((ce,ve)=>{for(const Ge of ve.listeners)Ge.eo(A)&&(Q=!0)}),Q&&ef(j)}(u.eventManager,n),d.length&&u.No.Tr(d),u.onlineState=n,u.isPrimaryClient&&u.sharedClientState.setOnlineState(n)}}function Zp(a,n,o){return km.apply(this,arguments)}function km(){return(km=(0,_.Z)(function*(a,n,o){const u=Wt(a);u.sharedClientState.updateQueryState(n,"rejected",o);const d=u.Fo.get(n),w=d&&d.key;if(w){let A=new Cs(Jt.comparator);A=A.insert(w,Mr.newNoDocument(w,xe.min()));const j=ei().add(w),Q=new vc(xe.min(),new Map,new zi($),A,j);yield Hp(u,Q),u.Oo=u.Oo.remove(w),u.Fo.delete(n),of(u)}else yield xc(u.localStore,n,!1).then(()=>kc(u,n,o)).catch(Yu)})).apply(this,arguments)}function j_(a,n){return nf.apply(this,arguments)}function nf(){return(nf=(0,_.Z)(function*(a,n){const o=Wt(a),u=n.batch.batchId;try{const d=yield E_(o.localStore,n);Pc(o,u,null),Wa(o,u),o.sharedClientState.updateMutationState(u,"acknowledged"),yield Ea(o,d)}catch(d){yield Yu(d)}})).apply(this,arguments)}function Fm(a,n,o){return rf.apply(this,arguments)}function rf(){return(rf=(0,_.Z)(function*(a,n,o){const u=Wt(a);try{const d=yield function(w,A){const j=Wt(w);return j.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let ce;return j.In.lookupMutationBatch(Q,A).next(ve=>(Un(null!==ve),ce=ve.keys(),j.In.removeMutationBatch(Q,ve))).next(()=>j.In.performConsistencyCheck(Q)).next(()=>j.Qn.Pn(Q,ce))})}(u.localStore,n);Pc(u,n,o),Wa(u,n),u.sharedClientState.updateMutationState(n,"rejected",o),yield Ea(u,d)}catch(d){yield Yu(d)}})).apply(this,arguments)}function sf(){return(sf=(0,_.Z)(function*(a,n){const o=Wt(a);mu(o.remoteStore)||Bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(w){const A=Wt(w);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",j=>A.In.getHighestUnacknowledgedBatchId(j))}(o.localStore);if(-1===u)return void n.resolve();const d=o.Bo.get(u)||[];d.push(n),o.Bo.set(u,d)}catch(u){const d=Ld(u,"Initialization of waitForPendingWrites() operation failed");n.reject(d)}})).apply(this,arguments)}function Wa(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function Pc(a,n,o){const u=Wt(a);let d=u.Lo[u.currentUser.toKey()];if(d){const w=d.get(n);w&&(o?w.reject(o):w.resolve(),d=d.remove(n)),u.Lo[u.currentUser.toKey()]=d}}function kc(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const u of a.ko.get(n))a.xo.delete(u),o&&a.No.jo(u,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(u=>{a.Mo.containsKey(u)||Vm(a,u)})}function Vm(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(Nd(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),of(a))}function Um(a,n,o){for(const u of o)u instanceof Om?(a.Mo.addReference(u.key,n),Fc(a,u)):u instanceof L_?(Bt("SyncEngine","Document no longer in limbo: "+u.key),a.Mo.removeReference(u.key,n),a.Mo.containsKey(u.key)||Vm(a,u.key)):In()}function Fc(a,n){const o=n.key,u=o.path.canonicalString();a.Oo.get(o)||a.$o.has(u)||(Bt("SyncEngine","New document in limbo: "+o),a.$o.add(u),of(a))}function of(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new Jt(dn.fromString(n)),u=a.Uo.next();a.Fo.set(u,new U_(o)),a.Oo=a.Oo.insert(o,u),Md(a.remoteStore,new du(ya(nl(o.path)),u,2,v.T))}}function Ea(a,n,o){return tc.apply(this,arguments)}function tc(){return(tc=(0,_.Z)(function*(a,n,o){const u=Wt(a),d=[],w=[],A=[];var j;u.xo.isEmpty()||(u.xo.forEach((j,Q)=>{A.push(u.Ko(Q,n,o).then(ce=>{if(ce){u.isPrimaryClient&&u.sharedClientState.updateQueryState(Q.targetId,ce.fromCache?"not-current":"current"),d.push(ce);const ve=fp.kn(Q.targetId,ce);w.push(ve)}}))}),yield Promise.all(A),u.No.Tr(d),yield(j=(0,_.Z)(function*(Q,ce){const ve=Wt(Q);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ge=>Rt.forEach(ce,vt=>Rt.forEach(vt.Nn,Dt=>ve.persistence.referenceDelegate.addReference(Ge,vt.targetId,Dt)).next(()=>Rt.forEach(vt.xn,Dt=>ve.persistence.referenceDelegate.removeReference(Ge,vt.targetId,Dt)))))}catch(Ge){if(!Bo(Ge))throw Ge;Bt("LocalStore","Failed to update sequence numbers: "+Ge)}for(const Ge of ce){const vt=Ge.targetId;if(!Ge.fromCache){const Dt=ve.Un.get(vt),Fn=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);ve.Un=ve.Un.insert(vt,Fn)}}}),function(Q,ce){return j.apply(this,arguments)})(u.localStore,w))})).apply(this,arguments)}function H_(a,n){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,_.Z)(function*(a,n){const o=Wt(a);if(!o.currentUser.isEqual(n)){Bt("SyncEngine","User change. New user:",n.toKey());const u=yield pp(o.localStore,n);o.currentUser=n,(d=o).Bo.forEach(A=>{A.forEach(j=>{j.reject(new T(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),o.sharedClientState.handleUserChange(n,u.removedBatchIds,u.addedBatchIds),yield Ea(o,u.Wn)}var d})).apply(this,arguments)}function Bm(a,n){const o=Wt(a),u=o.Fo.get(n);if(u&&u.Co)return ei().add(u.key);{let d=ei();const w=o.ko.get(n);if(!w)return d;for(const A of w){const j=o.xo.get(A);d=d.unionWith(j.view.To)}return d}}function $_(a,n){return af.apply(this,arguments)}function af(){return(af=(0,_.Z)(function*(a,n){const o=Wt(a),u=yield Cd(o.localStore,n.query,!0),d=n.view.So(u);return o.isPrimaryClient&&Um(o,n.targetId,d.vo),d})).apply(this,arguments)}function Z_(a){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,_.Z)(function*(a){const n=Wt(a);return Td(n.localStore).then(o=>Ea(n,o))})).apply(this,arguments)}function q_(a,n,o,u){return qp.apply(this,arguments)}function qp(){return(qp=(0,_.Z)(function*(a,n,o,u){const d=Wt(a),w=yield function(A,j){const Q=Wt(A),ce=Wt(Q.In);return Q.persistence.runTransaction("Lookup mutation documents","readonly",ve=>ce.Xt(ve,j).next(Ge=>Ge?Q.Qn.Pn(ve,Ge):Rt.resolve(null)))}(d.localStore,n);var j;null!==w?("pending"===o?yield wu(d.remoteStore):"acknowledged"===o||"rejected"===o?(Pc(d,n,u||null),Wa(d,n),j=n,Wt(Wt(d.localStore).In).te(j)):In(),yield Ea(d,w)):Bt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function bu(){return(bu=(0,_.Z)(function*(a,n){const o=Wt(a);if($m(o),Yp(o),!0===n&&!0!==o.qo){const u=o.sharedClientState.getAllActiveQueryTargets(),d=yield Gp(o,u.toArray());o.qo=!0,yield Rp(o.remoteStore,!0);for(const w of d)Md(o.remoteStore,w)}else if(!1===n&&!1!==o.qo){const u=[];let d=Promise.resolve();o.ko.forEach((w,A)=>{o.sharedClientState.isLocalQueryTarget(A)?u.push(A):d=d.then(()=>(kc(o,A),xc(o.localStore,A,!0))),Nd(o.remoteStore,A)}),yield d,yield Gp(o,u),function(w){const A=Wt(w);A.Fo.forEach((j,Q)=>{Nd(A.remoteStore,Q)}),A.Mo.us(),A.Fo=new Map,A.Oo=new Cs(Jt.comparator)}(o),o.qo=!1,yield Rp(o.remoteStore,!1)}})).apply(this,arguments)}function Gp(a,n,o){return zp.apply(this,arguments)}function zp(){return(zp=(0,_.Z)(function*(a,n,o){const u=Wt(a),d=[],w=[];for(const A of n){let j;const Q=u.ko.get(A);if(Q&&0!==Q.length){j=yield Sc(u.localStore,ya(Q[0]));for(const ce of Q){const ve=u.xo.get(ce),Ge=yield $_(u,ve);Ge.snapshot&&w.push(Ge.snapshot)}}else{const ce=yield yp(u.localStore,A);j=yield Sc(u.localStore,ce),yield Vp(u,Hm(ce),A,!1)}d.push(j)}return u.No.Tr(w),d})).apply(this,arguments)}function Hm(a){return Es(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Lc(a){const n=Wt(a);return Wt(Wt(n.localStore).persistence).pn()}function G_(a,n,o,u){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,_.Z)(function*(a,n,o,u){const d=Wt(a);if(d.qo)Bt("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(n))switch(o){case"current":case"not-current":{const w=yield Td(d.localStore),A=vc.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield Ea(d,w,A);break}case"rejected":yield xc(d.localStore,n,!0),kc(d,n,u);break;default:In()}})).apply(this,arguments)}function z_(a,n,o){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,_.Z)(function*(a,n,o){const u=$m(a);if(u.qo){for(const d of n){if(u.ko.has(d)){Bt("SyncEngine","Adding an already active target "+d);continue}const w=yield yp(u.localStore,d),A=yield Sc(u.localStore,w);yield Vp(u,Hm(w),A.targetId,!1),Md(u.remoteStore,A)}for(const d of o)u.ko.has(d)&&(yield xc(u.localStore,d,!1).then(()=>{Nd(u.remoteStore,d),kc(u,d)}).catch(Yu))}})).apply(this,arguments)}function $m(a){const n=Wt(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=Hp.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bm.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Zp.bind(null,n),n.No.Tr=P_.bind(null,n.eventManager),n.No.jo=k_.bind(null,n.eventManager),n}function Yp(a){const n=Wt(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,n),n}class is{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,_.Z)(function*(){o.N=$h(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}Go(n){return new Uh(bm.Ns,this.N)}Wo(n){return new D_}terminate(){var n=this;return(0,_.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class lf extends is{constructor(n,o,u){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n),yield function(a){return Lh.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,n),yield Yp(u.Jo.syncEngine),yield wu(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}zo(n){return new up(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Fh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Xo.withCacheSize(this.cacheSizeBytes):Xo.DEFAULT;return new Ed(this.synchronizeTabs,o,n.clientId,u,n.asyncQueue,S_(),bp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new D_}}class j0 extends lf{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n);const d=u.Jo.syncEngine;u.sharedClientState instanceof xd&&(u.sharedClientState.syncEngine={_i:q_.bind(null,d),mi:G_.bind(null,d),gi:z_.bind(null,d),pn:Lc.bind(null,d),wi:Z_.bind(null,d)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var w=(0,_.Z)(function*(A){yield function(a,n){return bu.apply(this,arguments)}(u.Jo.syncEngine,A),u.gcScheduler&&(A&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):A||u.gcScheduler.stop())});return function(A){return w.apply(this,arguments)}}())})()}Wo(n){const o=S_();if(!xd.bt(o))throw new T(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Fh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new xd(o,n.asyncQueue,u,n.clientId,n.initialUser)}}class Ka{initialize(n,o){var u=this;return(0,_.Z)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=d=>Pm(u.syncEngine,d,1),u.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,u.syncEngine),yield Rp(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new O_}createDatastore(n){const o=$h(n.databaseInfo.databaseId),u=new U0(n.databaseInfo);return new R_(n.credentials,u,o)}createRemoteStore(n){return o=this.localStore,u=this.datastore,d=n.asyncQueue,w=j=>Pm(this.syncEngine,j,0),A=A_.bt()?new A_:new F0,new Cp(o,u,d,w,A);var o,u,d,w,A}createSyncEngine(n,o){return function(u,d,w,A,j,Q,ce){const ve=new B_(u,d,w,A,j,Q);return ce&&(ve.qo=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,_.Z)(function*(o){const u=Wt(o);Bt("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield Mc(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function uf(a,n=10240){let o=0;return{read:()=>(0,_.Z)(function*(){if(o<a.byteLength){const u={value:a.slice(o,o+n),done:!1};return o+=n,u}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Vc{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class H0{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new I,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,_.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,_.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,_.Z)(function*(){const o=yield n.na();if(null===o)return null;const u=n.ta.decode(o),d=Number(u);isNaN(d)&&n.sa(`length string (${u}) is not valid number`);const w=yield n.ia(d);return new F_(JSON.parse(w),o.length+d)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,_.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const u=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),u})()}ia(n){var o=this;return(0,_.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const u=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),u})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,_.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const u=new Uint8Array(n.buffer.length+o.value.length);u.set(n.buffer),u.set(o.value,n.buffer.length),n.buffer=u}return o.done})()}}class W_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,_.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new T(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(d=(0,_.Z)(function*(w,A){const j=Wt(w),Q=sl(j.N)+"/documents",ce={documents:A.map(Dt=>Ai(j.N,Dt))},ve=yield j.Ki("BatchGetDocuments",Q,ce),Ge=new Map;ve.forEach(Dt=>{const zt=function(a,n){return"found"in n?function(o,u){Un(!!u.found);const d=va(o,u.found.name),w=Zs(u.found.updateTime),A=new Rr({mapValue:{fields:u.found.fields}});return Mr.newFoundDocument(d,w,A)}(a,n):"missing"in n?function(o,u){Un(!!u.missing),Un(!!u.readTime);const d=va(o,u.missing),w=Zs(u.readTime);return Mr.newNoDocument(d,w)}(a,n):In()}(j.N,Dt);Ge.set(zt.key.toLowerCase().toString(),zt)});const vt=[];return A.forEach(Dt=>{const zt=Ge.get(Dt.toLowerCase().toString());Un(!!zt),vt.push(zt)}),vt}),function(w,A){return d.apply(this,arguments)})(o.datastore,n);var d;return u.forEach(d=>o.recordVersion(d)),u})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toLowerCase().toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(n.toLowerCase().toString())}delete(n){this.write(new Go(n,this.precondition(n))),this.writtenDocs.add(n.toLowerCase().toString())}commit(){var n=this;return(0,_.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var u;n.mutations.forEach(u=>{o.delete(u.key.toLowerCase().toString())}),o.forEach((u,d)=>{const w=Jt.fromPath(d);n.mutations.push(new Dl(w,n.precondition(w)))}),yield(u=(0,_.Z)(function*(d,w){const A=Wt(d),j=sl(A.N)+"/documents",Q={writes:w.map(ce=>Rl(A.N,ce))};yield A.Li("Commit",j,Q)}),function(d,w){return u.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw In();o=xe.min()}const u=this.readVersions.get(n.key.toLowerCase().toString());if(u){if(!o.isEqual(u))throw new T(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toLowerCase().toString(),o)}precondition(n){const o=this.readVersions.get(n.toLowerCase().toString());return!this.writtenDocs.has(n.toLowerCase().toString())&&o?Os.updateTime(o):Os.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toLowerCase().toString());if(!this.writtenDocs.has(n.toLowerCase().toString())&&o){if(o.isEqual(xe.min()))throw new T(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Os.updateTime(o)}return Os.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class K_{constructor(n,o,u,d){this.asyncQueue=n,this.datastore=o,this.updateFunction=u,this.deferred=d,this.aa=5,this.rr=new Tm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,_.Z)(function*(){const o=new W_(n.datastore),u=n.ua(o);u&&u.then(d=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(d)}).catch(w=>{n.ha(w)}))}).catch(d=>{n.ha(d)})}))}ua(n){try{const o=this.updateFunction(n);return!Ei(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!yc(o)}return!1}}class qm{constructor(n,o,u){var d=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=ps.UNAUTHENTICATED,this.clientId=x.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var w=(0,_.Z)(function*(A){Bt("FirestoreClient","Received user=",A.uid),yield d.credentialListener(A),d.user=A});return function(A){return w.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,_.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(u){const d=Ld(u,"Failed to shutdown persistence");o.reject(d)}})),o.promise}}function Qp(a,n){return cf.apply(this,arguments)}function cf(){return(cf=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let u=o.initialUser;a.setCredentialChangeListener(function(){var d=(0,_.Z)(function*(w){u.isEqual(w)||(yield pp(n.localStore,w),u=w)});return function(w){return d.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Jp(a,n){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield eg(a);Bt("FirestoreClient","Initializing OnlineComponentProvider");const u=yield a.getConfiguration();yield n.initialize(o,u),a.setCredentialChangeListener(d=>{return(w=(0,_.Z)(function*(A,j){const Q=Wt(A);Q.asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials");const ce=mu(Q);Q.Kr.add(3),yield Mc(Q),ce&&Q.Wr.set("Unknown"),yield Q.remoteSyncer.handleCredentialChange(j),Q.Kr.delete(3),yield Rc(Q)}),function(A,j){return w.apply(this,arguments)})(n.remoteStore,d);var w}),a.onlineComponents=n})).apply(this,arguments)}function eg(a){return nc.apply(this,arguments)}function nc(){return(nc=(0,_.Z)(function*(a){return a.offlineComponents||(Bt("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(a,new is)),a.offlineComponents})).apply(this,arguments)}function Uc(a){return df.apply(this,arguments)}function df(){return(df=(0,_.Z)(function*(a){return a.onlineComponents||(Bt("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(a,new Ka)),a.onlineComponents})).apply(this,arguments)}function tg(a){return eg(a).then(n=>n.persistence)}function hf(a){return eg(a).then(n=>n.localStore)}function ng(a){return Uc(a).then(n=>n.remoteStore)}function rg(a){return Uc(a).then(n=>n.syncEngine)}function Bc(a){return ig.apply(this,arguments)}function ig(){return(ig=(0,_.Z)(function*(a){const n=yield Uc(a),o=n.eventManager;return o.onListen=Fp.bind(null,n.syncEngine),o.onUnlisten=Up.bind(null,n.syncEngine),o})).apply(this,arguments)}function sg(a,n,o={}){const u=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,w,A,j,Q){const ce=new Vc({next:Ge=>{w.enqueueAndForget(()=>Op(d,ve));const vt=Ge.docs.has(A);!vt&&Ge.fromCache?Q.reject(new T(D.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&Ge.fromCache&&j&&"server"===j.source?Q.reject(new T(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(Ge)},error:Ge=>Q.reject(Ge)}),ve=new tf(nl(A.path),ce,{includeMetadataChanges:!0,uo:!0});return Np(d,ve)}(yield Bc(a),a.asyncQueue,n,o,u)})),u.promise}function zm(a,n,o={}){const u=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,w,A,j,Q){const ce=new Vc({next:Ge=>{w.enqueueAndForget(()=>Op(d,ve)),Ge.fromCache&&"server"===j.source?Q.reject(new T(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(Ge)},error:Ge=>Q.reject(Ge)}),ve=new tf(A,ce,{includeMetadataChanges:!0,uo:!0});return Np(d,ve)}(yield Bc(a),a.asyncQueue,n,o,u)})),u.promise}class Wm{constructor(n,o,u,d,w,A,j,Q){this.databaseId=n,this.appId=o,this.persistenceKey=u,this.host=d,this.ssl=w,this.forceLongPolling=A,this.autoDetectLongPolling=j,this.useFetchStreams=Q}}class rc{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof rc&&n.projectId===this.projectId&&n.database===this.database}}const X_=new Map;function Ca(a,n,o){if(!o)throw new T(D.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function ev(a,n,o,u){if(!0===n&&!0===u)throw new T(D.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function tv(a){if(!Jt.isDocumentKey(a))throw new T(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function nv(a){if(Jt.isDocumentKey(a))throw new T(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function jd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=(o=a).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof a?"a function":In()}function qr(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new T(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=jd(a);throw new T(D.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function ag(a,n){if(n<=0)throw new T(D.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class Km{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new T(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new T(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,ev("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class ff{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,n instanceof rc?this._databaseId=n:(this._app=n,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(u.options.projectId)}(n))}get app(){if(!this._app)throw new T(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new G;switch(o.type){case"gapi":const u=o.client;return Un(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new M(u,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new T(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=X_.get(n);o&&(Bt("ComponentProvider","Removing Datastore"),X_.delete(n),o.terminate())}(this),Promise.resolve()}}class Bi{constructor(n,o,u){this.converter=o,this._key=u,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Bi(this.firestore,n,this._key)}}class jo{constructor(n,o,u){this.converter=o,this._query=u,this.type="query",this.firestore=n}withConverter(n){return new jo(this.firestore,n,this._query)}}class Fa extends jo{constructor(n,o,u){super(n,o,nl(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Bi(this.firestore,null,new Jt(n))}withConverter(n){return new Fa(this.firestore,n,this._path)}}function Qm(a,n,...o){if(a=(0,Le.m9)(a),Ca("collection","path",n),a instanceof ff){const u=dn.fromString(n,...o);return nv(u),new Fa(a,null,u)}{if(!(a instanceof Bi||a instanceof Fa))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(dn.fromString(n,...o));return nv(u),new Fa(a.firestore,null,u)}}function pf(a,n,...o){if(a=(0,Le.m9)(a),1===arguments.length&&(n=x.I()),Ca("doc","path",n),a instanceof ff){const u=dn.fromString(n,...o);return tv(u),new Bi(a,null,new Jt(u))}{if(!(a instanceof Bi||a instanceof Fa))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(dn.fromString(n,...o));return tv(u),new Bi(a.firestore,a instanceof Fa?a.converter:null,new Jt(u))}}function Jm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),(a instanceof Bi||a instanceof Fa)&&(n instanceof Bi||n instanceof Fa)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function Xm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),a instanceof jo&&n instanceof jo&&a.firestore===n.firestore&&So(a._query,n._query)&&a.converter===n.converter}class iv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Tm(this,"async_queue_retry"),this.Ea=()=>{const o=bp();o&&Bt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=bp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=bp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new I;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,_.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!Bo(o))throw o;Bt("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(u=>{throw this.ma=u,this.ga=!1,ui("INTERNAL UNHANDLED ERROR: ",function(d){let w=d.message||"";return d.stack&&(w=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),w}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=o,o}enqueueAfterDelay(n,o,u){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const d=Yh.createAndSchedule(this,n,o,u,w=>this.Ra(w));return this._a.push(d),d}Ta(){this.ma&&In()}verifyOperationInProgress(){}ba(){var n=this;return(0,_.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,u)=>o.targetTimeMs-u.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function jc(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(a)}class Hc{constructor(){this._progressObserver={},this._taskCompletionResolver=new I,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,u){this._progressObserver={next:n,error:o,complete:u}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class si extends ff{constructor(n,o){super(n,o),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mf(this),this._firestoreClient.terminate()}}function mo(a){return a._firestoreClient||mf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function mf(a){var n;const o=a._freezeSettings(),u=(w=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new Wm(a._databaseId,w,a._persistenceKey,(j=o).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));var w,j;a._firestoreClient=new qm(a._credentials,a._queue,u)}function Mo(a,n,o){const u=new I;return a.asyncQueue.enqueue((0,_.Z)(function*(){try{yield Qp(a,o),yield Jp(a,n),u.resolve()}catch(d){if(!("FirebaseError"===(w=d).name?w.code===D.FAILED_PRECONDITION||w.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d)}var w})).then(()=>u.promise)}function sc(a){if(a._initialized||a._terminated)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class la{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new T(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class ta{constructor(n){this._byteString=n}static fromBase64String(n){try{return new ta(fr.fromBase64String(n))}catch(o){throw new T(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new ta(fr.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toLowerCase().toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Va{constructor(n){this._methodName=n}}class Ll{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new T(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new T(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return $(this._lat,n._lat)||$(this._long,n._long)}}const ty=/^__.*__$/;class ny{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return null!==this.fieldMask?new rl(n,this.data,this.fieldMask,o,this.fieldTransforms):new Pu(n,this.data,o,this.fieldTransforms)}}class ug{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return new rl(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function cg(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw In()}}class qd{constructor(n,o,u,d,w,A){this.settings=n,this.databaseId=o,this.N=u,this.ignoreUndefinedProperties=d,void 0===w&&this.Sa(),this.fieldTransforms=w||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new qd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.ka(n),d}$a(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.Sa(),d}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return zd(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(cg(this.Da)&&ty.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class ry{constructor(n,o,u){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=u||$h(n)}Ba(n,o,u,d=!1){return new qd({Da:n,methodName:o,La:u,path:yn.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Eu(a){const n=a._freezeSettings(),o=$h(a._databaseId);return new ry(a._databaseId,!!n.ignoreUndefinedProperties,o)}function Gd(a,n,o,u,d,w={}){const A=a.Ba(w.merge||w.mergeFields?2:0,n,o,d);fg("Data must be an object, but it was:",A,u);const j=uy(u,A);let Q,ce;if(w.merge)Q=new ar(A.fieldMask),ce=A.fieldTransforms;else if(w.mergeFields){const ve=[];for(const Ge of w.mergeFields){const vt=pg(n,Ge,o);if(!A.contains(vt))throw new T(D.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);ov(ve,vt)||ve.push(vt)}Q=new ar(ve),ce=A.fieldTransforms.filter(Ge=>Q.covers(Ge.field))}else Q=null,ce=A.fieldTransforms;return new ny(new Rr(j),Q,ce)}class qc extends Va{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof qc}}function iy(a,n,o){return new qd({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class _f extends Va{_toFieldTransform(n){return new Tl(n.path,new Mu)}isEqual(n){return n instanceof _f}}class sv extends Va{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(w=>Cu(w,o)),d=new Pa(u);return new Tl(n.path,d)}isEqual(n){return this===n}}class sy extends Va{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(w=>Cu(w,o)),d=new nu(u);return new Tl(n.path,d)}isEqual(n){return this===n}}class oy extends Va{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new ru(n.N,uh(n.N,this.qa));return new Tl(n.path,o)}isEqual(n){return this===n}}function dg(a,n,o,u){const d=a.Ba(1,n,o);fg("Data must be an object, but it was:",d,u);const w=[],A=Rr.empty();Ot(u,(Q,ce)=>{const ve=gg(n,Q,o);ce=(0,Le.m9)(ce);const Ge=d.$a(ve);if(ce instanceof qc)w.push(ve);else{const vt=Cu(ce,Ge);null!=vt&&(w.push(ve),A.set(ve,vt))}});const j=new ar(w);return new ug(A,j,d.fieldTransforms)}function ay(a,n,o,u,d,w){const A=a.Ba(1,n,o),j=[pg(n,u,o)],Q=[d];if(w.length%2!=0)throw new T(D.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let vt=0;vt<w.length;vt+=2)j.push(pg(n,w[vt])),Q.push(w[vt+1]);const ce=[],ve=Rr.empty();for(let vt=j.length-1;vt>=0;--vt)if(!ov(ce,j[vt])){const Dt=j[vt];let zt=Q[vt];zt=(0,Le.m9)(zt);const Fn=A.$a(Dt);if(zt instanceof qc)ce.push(Dt);else{const Er=Cu(zt,Fn);null!=Er&&(ce.push(Dt),ve.set(Dt,Er))}}const Ge=new ar(ce);return new ug(ve,Ge,A.fieldTransforms)}function ly(a,n,o,u=!1){return Cu(o,a.Ba(u?4:3,n))}function Cu(a,n){if(hg(a=(0,Le.m9)(a)))return fg("Unsupported field value:",n,a),uy(a,n);if(a instanceof Va)return function(o,u){if(!cg(u.Da))throw u.Fa(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,u){const d=[];let w=0;for(const A of o){let j=Cu(A,u.Oa(w));null==j&&(j={nullValue:"NULL_VALUE"}),d.push(j),w++}return{arrayValue:{values:d}}}(a,n)}return function(o,u){if(null===(o=(0,Le.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return uh(u.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=_e.fromDate(o);return{timestampValue:Uu(u.N,d)}}if(o instanceof _e){const d=new _e(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Uu(u.N,d)}}if(o instanceof Ll)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof ta)return{bytesValue:ud(u.N,o._byteString)};if(o instanceof Bi){const d=u.databaseId,w=o.firestore._databaseId;if(!w.isEqual(d))throw u.Fa(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:au(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Fa(`Unsupported field value: ${jd(o)}`)}(a,n)}function uy(a,n){const o={};return tn(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ot(a,(u,d)=>{const w=Cu(d,n.Na(u));null!=w&&(o[u]=w)}),{mapValue:{fields:o}}}function hg(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof _e||a instanceof Ll||a instanceof ta||a instanceof Bi||a instanceof Va)}function fg(a,n,o){if(!hg(o)||"object"!=typeof(u=o)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=jd(o);throw n.Fa("an object"===u?a+" a custom object":a+" "+u)}var u}function pg(a,n,o){if((n=(0,Le.m9)(n))instanceof la)return n._internalPath;if("string"==typeof n)return gg(a,n);throw zd("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const z0=new RegExp("[~\\*/\\[\\]]");function gg(a,n,o){if(n.search(z0)>=0)throw zd(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new la(...n.split("."))._internalPath}catch(u){throw zd(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function zd(a,n,o,u,d){const w=u&&!u.isEmpty(),A=void 0!==d;let j=`Function ${n}() called with invalid data`;o&&(j+=" (via `toFirestore()`)"),j+=". ";let Q="";return(w||A)&&(Q+=" (found",w&&(Q+=` in field ${u}`),A&&(Q+=` in document ${d}`),Q+=")"),new T(D.INVALID_ARGUMENT,j+a+Q)}function ov(a,n){return a.some(o=>o.isEqual(n))}class vf{constructor(n,o,u,d,w){this._firestore=n,this._userDataWriter=o,this._key=u,this._document=d,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new W0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(wf("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class W0 extends vf{data(){return super.data()}}function wf(a,n){return"string"==typeof n?gg(a,n):n instanceof la?n._internalPath:n._delegate._internalPath}class Gc{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Vl extends vf{constructor(n,o,u,d,w,A){super(n,o,u,d,A),this._firestore=n,this._firestoreImpl=n,this.metadata=w}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const u=this._document.data.field(wf("DocumentSnapshot.get",n));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}}}class Wd extends Vl{data(n={}){return super.data(n)}}class ul{constructor(n,o,u,d){this._firestore=n,this._userDataWriter=o,this._snapshot=d,this.metadata=new Gc(d.hasPendingWrites,d.fromCache),this.query=u}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(u=>{n.call(o,new Wd(this._firestore,this._userDataWriter,u.key,u,new Gc(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new T(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let w=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new Wd(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Gc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:w++}))}{let w=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const j=new Wd(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Gc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let Q=-1,ce=-1;return 0!==A.type&&(Q=w.indexOf(A.doc.key),w=w.delete(A.doc.key)),1!==A.type&&(w=w.add(A.doc),ce=w.indexOf(A.doc.key)),{type:mg(A.type),doc:j,oldIndex:Q,newIndex:ce}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function mg(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return In()}}function cy(a,n){return a instanceof Vl&&n instanceof Vl?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof ul&&n instanceof ul&&a._firestore===n._firestore&&Xm(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function av(a){if(ma(a)&&0===a.explicitOrderBy.length)throw new T(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}function oc(a,...n){for(const o of n)a=o._apply(a);return a}class lv extends bf{constructor(n,o,u){super(),this.Ka=n,this.ja=o,this.Qa=u,this.type="where"}_apply(n){const o=Eu(n.firestore),u=function(d,w,A,j,Q,ce,ve){let Ge;if(Q.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new T(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on FieldPath.documentId().`);if("in"===ce||"not-in"===ce){vy(ve,ce);const Dt=[];for(const zt of ve)Dt.push(_y(j,d,zt));Ge={arrayValue:{values:Dt}}}else Ge=_y(j,d,ve)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||vy(ve,ce),Ge=ly(A,"where",ve,"in"===ce||"not-in"===ce);const vt=fo.create(Q,ce,Ge);return function(Dt,zt){if(zt.v()){const Er=pc(Dt);if(null!==Er&&!Er.isEqual(zt.field))throw new T(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Er.toLowerCase().toString()}' and '${zt.field.toLowerCase().toString()}'`);const Ts=bl(Dt);null!==Ts&&wy(0,zt.field,Ts)}const Fn=function(Er,Ts){for(const ra of Er.filters)if(Ts.indexOf(ra.op)>=0)return ra.op;return null}(Dt,function(Er){switch(Er){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(zt.op));if(null!==Fn)throw new T(D.INVALID_ARGUMENT,Fn===zt.op?`Invalid query. You cannot use more than one '${zt.op.toLowerCase().toString()}' filter.`:`Invalid query. You cannot use '${zt.op.toLowerCase().toString()}' filters with '${Fn.toLowerCase().toString()}' filters.`)}(d,vt),vt}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new jo(n.firestore,n.converter,function(d,w){const A=d.filters.concat([w]);return new ga(d.path,d.collectionGroup,d.explicitOrderBy.slice(),A,d.limit,d.limitType,d.startAt,d.endAt)}(n._query,u))}}class K0 extends bf{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(u,d,w){if(null!==u.startAt)throw new T(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new T(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new wl(d,w);return function(j,Q){if(null===bl(j)){const ce=pc(j);null!==ce&&wy(0,ce,Q.field)}}(u,A),A}(n._query,this.Ka,this.Wa);return new jo(n.firestore,n.converter,function(u,d){const w=u.explicitOrderBy.concat([d]);return new ga(u.path,u.collectionGroup,w,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))}}class ac extends bf{constructor(n,o,u){super(),this.type=n,this.Ga=o,this.za=u}_apply(n){return new jo(n.firestore,n.converter,Cl(n._query,this.Ga,this.za))}}class fy extends bf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new jo(n.firestore,n.converter,(d=o,new ga((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}class gy extends bf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new jo(n.firestore,n.converter,(d=o,new ga((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function yy(a,n,o,u){if(o[0]=(0,Le.m9)(o[0]),o[0]instanceof vf)return function(d,w,A,j,Q){if(!j)throw new T(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const ce=[];for(const ve of El(d))if(ve.field.isKeyField())ce.push(ys(w,j.key));else{const Ge=j.data.field(ve.field);if(ms(Ge))throw new T(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ge){const vt=ve.field.canonicalString();throw new T(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}ce.push(Ge)}return new vl(ce,Q)}(a._query,a.firestore._databaseId,n,o[0]._document,u);{const d=Eu(a.firestore);return function(w,A,j,Q,ce,ve){const Ge=w.explicitOrderBy;if(ce.length>Ge.length)throw new T(D.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let Dt=0;Dt<ce.length;Dt++){const zt=ce[Dt];if(Ge[Dt].field.isKeyField()){if("string"!=typeof zt)throw new T(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof zt}`);if(!Jl(w)&&-1!==zt.indexOf("/"))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${Q}() must be a plain document ID, but '${zt}' contains a slash.`);const Fn=w.path.child(dn.fromString(zt));if(!Jt.isDocumentKey(Fn))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${Q}() must result in a valid document path, but '${Fn}' is not because it contains an odd number of segments.`);const Er=new Jt(Fn);vt.push(ys(A,Er))}else{const Fn=ly(j,Q,zt);vt.push(Fn)}}return new vl(vt,ve)}(a._query,a.firestore._databaseId,d,n,o,u)}}function _y(a,n,o){if("string"==typeof(o=(0,Le.m9)(o))){if(""===o)throw new T(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jl(n)&&-1!==o.indexOf("/"))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const u=n.path.child(dn.fromString(o));if(!Jt.isDocumentKey(u))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return ys(a,new Jt(u))}if(o instanceof Bi)return ys(a,o._key);throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${jd(o)}.`)}function vy(a,n){if(!Array.isArray(a)||0===a.length)throw new T(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toLowerCase().toString()}' filters.`);if(a.length>10)throw new T(D.INVALID_ARGUMENT,`Invalid Query. '${n.toLowerCase().toString()}' filters support a maximum of 10 elements in the value array.`)}function wy(a,n,o){if(!o.isEqual(n))throw new T(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toLowerCase().toString()}' and so you must also use '${n.toLowerCase().toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toLowerCase().toString()}' instead.`)}class Cf{convertValue(n,o="none"){switch(Ci(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ii(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(gs(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw In()}}convertObject(n,o){const u={};return Ot(n.fields,(d,w)=>{u[d]=this.convertValue(w,o)}),u}convertGeoPoint(n){return new Ll(ii(n.latitude),ii(n.longitude))}convertArray(n,o){return(n.values||[]).map(u=>this.convertValue(u,o))}convertServerTimestamp(n,o){switch(o){case"previous":const u=ho(n);return null==u?null:this.convertValue(u,o);case"estimate":return this.convertTimestamp(bs(n));default:return null}}convertTimestamp(n){const o=Xr(n);return new _e(o.seconds,o.nanos)}convertDocumentKey(n,o){const u=dn.fromString(n);Un(Th(u));const d=new rc(u.get(1),u.get(3)),w=new Jt(u.popFirst(5));return d.isEqual(o)||ui(`Document ${w} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),w}}function Tf(a,n,o){let u;return u=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,u}class by extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new ta(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Bi(this.firestore,null,o)}}class yg{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=Eu(n)}set(n,o,u){this._verifyNotCommitted();const d=cl(n,this._firestore),w=Tf(d.converter,o,u),A=Gd(this._dataReader,"WriteBatch.set",d._key,w,null!==d.converter,u);return this._mutations.push(A.toMutation(d._key,Os.none())),this}update(n,o,u,...d){this._verifyNotCommitted();const w=cl(n,this._firestore);let A;return A="string"==typeof(o=(0,Le.m9)(o))||o instanceof la?ay(this._dataReader,"WriteBatch.update",w._key,o,u,d):dg(this._dataReader,"WriteBatch.update",w._key,o),this._mutations.push(A.toMutation(w._key,Os.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=cl(n,this._firestore);return this._mutations=this._mutations.concat(new Go(o._key,Os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cl(a,n){if((a=(0,Le.m9)(a)).firestore!==n)throw new T(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Ul extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new ta(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Bi(this.firestore,null,o)}}function If(a,n,o){a=qr(a,Bi);const u=qr(a.firestore,si),d=Tf(a.converter,n,o);return zc(u,[Gd(Eu(u),"setDoc",a._key,d,null!==a.converter,o).toMutation(a._key,Os.none())])}function Ey(a,n,o,...u){a=qr(a,Bi);const d=qr(a.firestore,si),w=Eu(d);let A;return A="string"==typeof(n=(0,Le.m9)(n))||n instanceof la?ay(w,"updateDoc",a._key,n,o,u):dg(w,"updateDoc",a._key,n),zc(d,[A.toMutation(a._key,Os.exists(!0))])}function bg(a,...n){var o,u,d;a=(0,Le.m9)(a);let w={includeMetadataChanges:!1},A=0;"object"!=typeof n[A]||jc(n[A])||(w=n[A],A++);const j={includeMetadataChanges:w.includeMetadataChanges};if(jc(n[A])){const Ge=n[A];n[A]=null===(o=Ge.next)||void 0===o?void 0:o.bind(Ge),n[A+1]=null===(u=Ge.error)||void 0===u?void 0:u.bind(Ge),n[A+2]=null===(d=Ge.complete)||void 0===d?void 0:d.bind(Ge)}let Q,ce,ve;if(a instanceof Bi)ce=qr(a.firestore,si),ve=nl(a._key.path),Q={next:Ge=>{n[A]&&n[A](Yd(ce,a,Ge))},error:n[A+1],complete:n[A+2]};else{const Ge=qr(a,jo);ce=qr(Ge.firestore,si),ve=Ge._query;const vt=new Ul(ce);Q={next:Dt=>{n[A]&&n[A](new ul(ce,vt,Ge,Dt))},error:n[A+1],complete:n[A+2]},av(a._query)}return function(Ge,vt,Dt,zt){const Fn=new Vc(zt),Er=new tf(vt,Fn,Dt);return Ge.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Np(yield Bc(Ge),Er)})),()=>{Fn.Xo(),Ge.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Op(yield Bc(Ge),Er)}))}}(mo(ce),ve,j,Q)}function zc(a,n){return function(o,u){const d=new I;return o.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n,o){return Vd.apply(this,arguments)}(yield rg(o),u,d)})),d.promise}(mo(a),n)}function Yd(a,n,o){const u=o.docs.get(n._key),d=new Ul(a);return new Vl(a,d,n._key,u,new Gc(o.hasPendingWrites,o.fromCache),n.converter)}class Eg extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=Eu(n)}get(n){const o=cl(n,this._firestore),u=new by(this._firestore);return this._transaction.lookup([o._key]).then(d=>{if(!d||1!==d.length)return In();const w=d[0];if(w.isFoundDocument())return new vf(this._firestore,u,w.key,w,o.converter);if(w.isNoDocument())return new vf(this._firestore,u,o._key,null,o.converter);throw In()})}set(n,o,u){const d=cl(n,this._firestore),w=Tf(d.converter,o,u),A=Gd(this._dataReader,"Transaction.set",d._key,w,null!==d.converter,u);return this._transaction.set(d._key,A),this}update(n,o,u,...d){const w=cl(n,this._firestore);let A;return A="string"==typeof(o=(0,Le.m9)(o))||o instanceof la?ay(this._dataReader,"Transaction.update",w._key,o,u,d):dg(this._dataReader,"Transaction.update",w._key,o),this._transaction.update(w._key,A),this}delete(n){const o=cl(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=cl(n,this._firestore),u=new Ul(this._firestore);return super.get(n).then(d=>new Vl(this._firestore,u,o._key,d._document,new Gc(!1,!1),o.converter))}}function Qd(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new T("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function Dg(){if("undefined"==typeof Uint8Array)throw new T("unimplemented","Uint8Arrays are not available in this environment.")}function Ay(){if("undefined"==typeof atob)throw new T("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){Fo=a})(Zt.SDK_VERSION),(0,Zt._registerComponent)(new Xt.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),u=new si(o,new be(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),u._setSettings(n),u},"PUBLIC")),(0,Zt.registerVersion)("@firebase/firestore","3.1.0",void 0);class Jd{constructor(n){this._delegate=n}static fromBase64String(n){return Ay(),new Jd(ta.fromBase64String(n))}static fromUint8Array(n){return Dg(),new Jd(ta.fromUint8Array(n))}toBase64(){return Ay(),this._delegate.toBase64()}toUint8Array(){return Dg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toLowerCase().toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ag(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(a)}class Sg{enableIndexedDbPersistence(n,o){return function(a,n){sc(a=qr(a,si));const o=mo(a),u=a._freezeSettings(),d=new Ka;return Mo(o,d,new lf(d,u.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){sc(a=qr(a,si));const n=mo(a),o=a._freezeSettings(),u=new Ka;return Mo(n,u,new j0(u,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new T(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new I;return a._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(o=(0,_.Z)(function*(u){if(!Jo.bt())return Promise.resolve();const d=u+"main";yield Jo.delete(d)}),function(u){return o.apply(this,arguments)})(Fh(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class xg{constructor(n,o,u){this._delegate=o,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},n instanceof rc||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&Ao("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,u={}){!function(a,n,o,u={}){var d;const w=(a=qr(a,ff))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==n&&Ao("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},w),{host:`${n}:${o}`,ssl:!1})),u.mockUserToken){let A,j;if("string"==typeof u.mockUserToken)A=u.mockUserToken,j=ps.MOCK_USER;else{A=(0,Le.Sg)(u.mockUserToken,null===(d=a._app)||void 0===d?void 0:d.options.projectId);const Q=u.mockUserToken.sub||u.mockUserToken.user_id;if(!Q)throw new T(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new ps(Q)}a._credentials=new re(new V(A,j))}}(this._delegate,n,o,u)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield tg(a),o=yield ng(a);return n.setNetworkEnabled(!0),function(u){const d=Wt(u);return d.Kr.delete(0),Rc(d)}(o)}))}(mo(a=qr(a,si)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield tg(a),o=yield ng(a);return n.setNetworkEnabled(!1),(u=(0,_.Z)(function*(d){const w=Wt(d);w.Kr.add(0),yield Mc(w),w.Wr.set("Offline")}),function(d){return u.apply(this,arguments)})(o);var u}))}(mo(a=qr(a,si)))}(this._delegate)}enablePersistence(n){let o=!1,u=!1;return n&&(o=!!n.synchronizeTabs,u=!!n.experimentalForceOwningTab,ev("synchronizeTabs",o,"experimentalForceOwningTab",u)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new I;return n.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n){return sf.apply(this,arguments)}(yield rg(n),o)})),o.promise}(mo(a=qr(a,si)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new Vc(n);return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Bc(a),d=o,Wt(u).Zr.add(d),void d.next();var u,d})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Bc(a),d=o,void Wt(u).Zr.delete(d);var u,d}))}}(mo(a=qr(a,si)),jc(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new T("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Kc(this,Qm(this._delegate,n))}catch(o){throw Ho(o,"collection()","Firestore.collection()")}}doc(n){try{return new Ta(this,pf(this._delegate,n))}catch(o){throw Ho(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new na(this,function(a,n){if(a=qr(a,ff),Ca("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new jo(a,null,(o=n,new ga(dn.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw Ho(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const u=yield(d=a,Uc(d).then(w=>w.datastore));var d;new K_(a.asyncQueue,u,n,o).run()})),o.promise}(mo(a),o=>n(new Eg(a,o)))}(this._delegate,o=>n(new Rg(this,o)))}batch(){return mo(this._delegate),new Mg(new yg(this._delegate,n=>zc(this._delegate,n)))}loadBundle(n){return function(a,n){const o=mo(a=qr(a,si)),u=new Hc;return function(a,n,o,u){const d=function(w,A){let j;return j="string"==typeof w?(new TextEncoder).encode(w):w,Q=function(Q,ce){if(Q instanceof Uint8Array)return uf(Q,void 0);if(Q instanceof ArrayBuffer)return uf(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(j),new H0(Q,A);var Q}(o,$h(n));a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function(a,n,o){const u=Wt(a);var d;(d=(0,_.Z)(function*(w,A,j){try{const Q=yield A.getMetadata();if(yield function(vt,Dt){const zt=Wt(vt),Fn=Zs(Dt.createTime);return zt.persistence.runTransaction("hasNewerBundle","readonly",Er=>zt.Je.getBundleMetadata(Er,Dt.id)).then(Er=>!!Er&&Er.createTime.compareTo(Fn)>=0)}(w.localStore,Q))return yield A.close(),void j._completeWith((vt=Q,{taskState:"Success",documentsLoaded:vt.totalDocuments,bytesLoaded:vt.totalBytes,totalDocuments:vt.totalDocuments,totalBytes:vt.totalBytes}));j._updateProgress(Nm(Q));const ce=new Pp(Q,w.localStore,A.N);let ve=yield A.Qo();for(;ve;){const vt=yield ce.fo(ve);vt&&j._updateProgress(vt),ve=yield A.Qo()}const Ge=yield ce.complete();yield Ea(w,Ge.Tn,void 0),yield function(vt,Dt){const zt=Wt(vt);return zt.persistence.runTransaction("Save bundle","readwrite",Fn=>zt.Je.saveBundleMetadata(Fn,Dt))}(w.localStore,Q),j._completeWith(Ge.progress)}catch(Q){Ao("SyncEngine",`Loading bundle failed with ${Q}`),j._failWith(Q)}var vt}),function(w,A,j){return d.apply(this,arguments)})(u,n,o).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield rg(a),d,u)}))}(o,a._databaseId,n,u),u}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,_.Z)(function*(){return function(o,u){const d=Wt(o);return d.persistence.runTransaction("Get named query","readonly",w=>d.Je.getNamedQuery(w,u))}(yield hf(a),n)}))}(mo(a=qr(a,si)),n).then(o=>o?new jo(a,null,o.query):null)}(this._delegate,n).then(o=>o?new na(this,o):null)}}class Xd extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new Jd(new ta(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return Ta.forKey(o,this.firestore,null)}}class Rg{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Xd(n)}get(n){const o=lc(n);return this._delegate.get(o).then(u=>new eh(this._firestore,new Vl(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,o.converter)))}set(n,o,u){const d=lc(n);return u?(Qd("Transaction.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const w=lc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...d),this}delete(n){const o=lc(n);return this._delegate.delete(o),this}}class Mg{constructor(n){this._delegate=n}set(n,o,u){const d=lc(n);return u?(Qd("WriteBatch.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const w=lc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...d),this}delete(n){const o=lc(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class Tu{constructor(n,o,u){this._firestore=n,this._userDataWriter=o,this._delegate=u}fromFirestore(n,o){const u=new Wd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Wc(this._firestore,u),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const u=Tu.INSTANCES;let d=u.get(n);d||(d=new WeakMap,u.set(n,d));let w=d.get(o);return w||(w=new Tu(n,new Xd(n),o),d.set(o,w)),w}}Tu.INSTANCES=new WeakMap;class Ta{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Xd(n)}static forPath(n,o,u){if(n.length%2!=0)throw new T("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Ta(o,new Bi(o._delegate,u,new Jt(n)))}static forKey(n,o,u){return new Ta(o,new Bi(o._delegate,u,n))}get id(){return this._delegate.id}get parent(){return new Kc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Kc(this.firestore,Qm(this._delegate,n))}catch(o){throw Ho(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Le.m9)(n))instanceof Bi&&Jm(this._delegate,n)}set(n,o){o=Qd("DocumentReference.set",o);try{return o?If(this._delegate,n,o):If(this._delegate,n)}catch(u){throw Ho(u,"setDoc()","DocumentReference.set()")}}update(n,o,...u){try{return 1===arguments.length?Ey(this._delegate,n):Ey(this._delegate,n,o,...u)}catch(d){throw Ho(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return zc(qr(a.firestore,si),[new Go(a._key,Os.none())])}(this._delegate)}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new eh(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return bg(this._delegate,o,u)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=qr(a,Bi);const n=qr(a.firestore,si),o=mo(n),u=new Ul(n);return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,w,A){try{const j=yield function(Q,ce){const ve=Wt(Q);return ve.persistence.runTransaction("read document","readonly",Ge=>ve.Qn.An(Ge,ce))}(d,w);j.isFoundDocument()?A.resolve(j):j.isNoDocument()?A.resolve(null):A.reject(new T(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(j){const Q=Ld(j,`Failed to get document '${w} from cache`);A.reject(Q)}}),function(d,w,A){return u.apply(this,arguments)})(yield hf(a),n,o);var u})),o.promise}(o,a._key).then(d=>new Vl(n,u,a._key,d,new Gc(null!==d&&d.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=qr(a,Bi);const n=qr(a.firestore,si);return sg(mo(n),a._key,{source:"server"}).then(o=>Yd(n,a,o))}(this._delegate):function(a){a=qr(a,Bi);const n=qr(a.firestore,si);return sg(mo(n),a._key).then(o=>Yd(n,a,o))}(this._delegate),o.then(u=>new eh(this.firestore,new Vl(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(n){return new Ta(this.firestore,this._delegate.withConverter(n?Tu.getInstance(this.firestore,n):null))}}function Ho(a,n,o){return a.message=a.message.replace(n,o),a}function yv(a){for(const n of a)if("object"==typeof n&&!Ag(n))return n;return{}}function Ry(a,n){var o,u;let d;return d=Ag(a[0])?a[0]:Ag(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:w=>{d.next&&d.next(n(w))},error:null===(o=d.error)||void 0===o?void 0:o.bind(d),complete:null===(u=d.complete)||void 0===u?void 0:u.bind(d)}}class eh{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new Ta(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return cy(this._delegate,n._delegate)}}class Wc extends eh{data(n){const o=this._delegate.data(n);return function(a,n){a||In()}(void 0!==o),o}}class na{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Xd(n)}where(n,o,u){try{return new na(this.firestore,oc(this._delegate,function(a,n,o){const u=n,d=wf("where",a);return new lv(d,u,o)}(n,o,u)))}catch(d){throw Ho(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new na(this.firestore,oc(this._delegate,function(a,n="asc"){const o=n,u=wf("orderBy",a);return new K0(u,o)}(n,o)))}catch(u){throw Ho(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new na(this.firestore,oc(this._delegate,function(a){return ag("limit",a),new ac("limit",a,"F")}(n)))}catch(o){throw Ho(o,"limit()","Query.limit()")}}limitToLast(n){try{return new na(this.firestore,oc(this._delegate,function(a){return ag("limitToLast",a),new ac("limitToLast",a,"L")}(n)))}catch(o){throw Ho(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new na(this.firestore,oc(this._delegate,function(...a){return new fy("startAt",a,!0)}(...n)))}catch(o){throw Ho(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new na(this.firestore,oc(this._delegate,function(...a){return new fy("startAfter",a,!1)}(...n)))}catch(o){throw Ho(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new na(this.firestore,oc(this._delegate,function(...a){return new gy("endBefore",a,!0)}(...n)))}catch(o){throw Ho(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new na(this.firestore,oc(this._delegate,function(...a){return new gy("endAt",a,!1)}(...n)))}catch(o){throw Ho(o,"endAt()","Query.endAt()")}}isEqual(n){return Xm(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=qr(a,jo);const n=qr(a.firestore,si),o=mo(n),u=new Ul(n);return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,w,A){try{const j=yield Cd(d,w,!0),Q=new kp(w,j.Gn),ce=Q.Io(j.documents),ve=Q.applyChanges(ce,!1);A.resolve(ve.snapshot)}catch(j){const Q=Ld(j,`Failed to execute query '${w} against cache`);A.reject(Q)}}),function(d,w,A){return u.apply(this,arguments)})(yield hf(a),n,o);var u})),o.promise}(o,a._query).then(d=>new ul(n,u,a,d))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=qr(a,jo);const n=qr(a.firestore,si),o=mo(n),u=new Ul(n);return zm(o,a._query,{source:"server"}).then(d=>new ul(n,u,a,d))}(this._delegate):function(a){a=qr(a,jo);const n=qr(a.firestore,si),o=mo(n),u=new Ul(n);return av(a._query),zm(o,a._query).then(d=>new ul(n,u,a,d))}(this._delegate),o.then(u=>new Df(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new Df(this.firestore,new ul(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return bg(this._delegate,o,u)}withConverter(n){return new na(this.firestore,this._delegate.withConverter(n?Tu.getInstance(this.firestore,n):null))}}class yo{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new Wc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Df{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new na(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Wc(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new yo(this._firestore,o))}forEach(n,o){this._delegate.forEach(u=>{n.call(o,new Wc(this._firestore,u))})}isEqual(n){return cy(this._delegate,n._delegate)}}class Kc extends na{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Ta(this.firestore,n):null}doc(n){try{return new Ta(this.firestore,void 0===n?pf(this._delegate):pf(this._delegate,n))}catch(o){throw Ho(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=qr(a.firestore,si),u=pf(a),d=Tf(a.converter,n);return zc(o,[Gd(Eu(a.firestore),"addDoc",u._key,d,null!==a.converter,{}).toMutation(u._key,Os.exists(!1))]).then(()=>u)}(this._delegate,n).then(o=>new Ta(this.firestore,o))}isEqual(n){return Jm(this._delegate,n._delegate)}withConverter(n){return new Kc(this.firestore,this._delegate.withConverter(n?Tu.getInstance(this.firestore,n):null))}}function lc(a){return qr(a,Bi)}class Af{constructor(...n){this._delegate=new la(...n)}static documentId(){return new Af(yn.keyField().canonicalString())}isEqual(n){return(n=(0,Le.m9)(n))instanceof la&&this._delegate._internalPath.isEqual(n._internalPath)}}class uc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new _f("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new uc(n)}static delete(){const n=new qc("deleteField");return n._methodName="FieldValue.delete",new uc(n)}static arrayUnion(...n){const o=function(...a){return new sv("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new uc(o)}static arrayRemove(...n){const o=function(...a){return new sy("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new uc(o)}static increment(n){const o=function(a){return new oy("increment",a)}(n);return o._methodName="FieldValue.increment",new uc(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const My={Firestore:xg,GeoPoint:Ll,Timestamp:_e,Blob:Jd,Transaction:Rg,WriteBatch:Mg,DocumentReference:Ta,DocumentSnapshot:eh,Query:na,QueryDocumentSnapshot:Wc,QuerySnapshot:Df,CollectionReference:Kc,FieldPath:Af,FieldValue:uc,setLogLevel:function(a){!function(a){bo.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new Xt.wA("firestore-compat",o=>((n,o)=>new xg(n,o,new Sg))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},My)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.3")}(At.Z);var Bl=Z(7057);function Py(a,n){return function(a,n=Ue.z){return new Re.y(o=>{let u;return null!=n?n.schedule(()=>{u=a.onSnapshot({includeMetadataChanges:!0},o)}):u=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=u&&u()}})}(a,n)}function Fy(a,n){return Py(a,n).pipe((0,Pe.U)(o=>({payload:o,type:"query"})))}function Qc(a,n){return Fy(a,n).pipe((0,ye.O)(void 0),le(),(0,Pe.U)(([o,u])=>{const d=u.payload.docChanges(),w=d.map(A=>({type:A.type,payload:A}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((A,j)=>{const Q=d.find(ve=>ve.doc.ref.isEqual(A.ref)),ce=null==o?void 0:o.payload.docs.find(ve=>ve.ref.isEqual(A.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(A.metadata)||!Q&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(A.metadata)||w.push({type:"modified",payload:{oldIndex:j,newIndex:j,type:"modified",doc:A}})}),w}))}function Sf(a,n,o){return Qc(a,o).pipe((0,Ke.R)((u,d)=>function(a,n,o){return n.forEach(u=>{o.indexOf(u.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ng(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return Ng(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ng(a,n.oldIndex,1)}return a}(a,u))}),a}(u,d.map(w=>w.payload),n),[]),o=>o.lift(new pt(void 0,void 0)),(0,Pe.U)(u=>u.map(d=>({type:d.type,payload:d}))))}function Ng(a,n,o,...u){const d=a.slice();return d.splice(n,o,...u),d}function Ya(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}Z(7841);class Ua{constructor(n,o,u){this.ref=n,this.query=o,this.afs=u}stateChanges(n){let o=Qc(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,Pe.U)(u=>u.filter(d=>n.indexOf(d.type)>-1)))),o.pipe((0,ye.O)(void 0),le(),(0,dt.h)(([u,d])=>d.length>0||!u),(0,Pe.U)(([u,d])=>d),he.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ke.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Ya(n);return Sf(this.query,o,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(o=>o.payload.docs.map(u=>n.idField?Object.assign(Object.assign({},u.data()),{[n.idField]:u.id}):u.data())),he.iC)}get(n){return(0,pe.D)(this.query.get(n)).pipe(he.iC)}add(n){return this.ref.add(n)}doc(n){return new Ba(this.ref.doc(n),this.afs)}}class Ba{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const u=this.ref.collection(n),{ref:d,query:w}=By(u,o);return new Ua(d,w,this.afs)}snapshotChanges(){return function(a,n){return Py(a,n).pipe((0,ye.O)(void 0),le(),(0,Pe.U)(([o,u])=>u.exists?(null==o?void 0:o.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Pe.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,pe.D)(this.ref.get(n)).pipe(he.iC)}}class Vy{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?Qc(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(o=>o.filter(u=>n.indexOf(u.type)>-1)),(0,dt.h)(o=>o.length>0),he.iC):Qc(this.query,this.afs.schedulers.outsideAngular).pipe(he.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ke.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Ya(n);return Sf(this.query,o,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pe.U)(u=>u.payload.docs.map(d=>n.idField?Object.assign({[n.idField]:d.id},d.data()):d.data())),he.iC)}get(n){return(0,pe.D)(this.query.get(n)).pipe(he.iC)}}const Uy=new te.OlP("angularfire2.enableFirestorePersistence"),_v=new te.OlP("angularfire2.firestore.persistenceSettings"),vv=new te.OlP("angularfire2.firestore.settings"),wv=new te.OlP("angularfire2.firestore.use-emulator");function By(a,n=(o=>o)){return{query:n(a),ref:a}}let Og=(()=>{class a{constructor(o,u,d,w,A,j,Q,ce,ve,Ge,vt,Dt,zt,Fn,Er,Ts){this.schedulers=Q;const ra=(0,_t.on)(o,j,u),jl=ve;Ge&&(0,Bl.nw)(ra,j,vt,zt,Fn,Er,Dt,Ts),[this.firestore,this.persistenceEnabled$]=(0,he.cc)(`${ra.name}.firestore`,"AngularFirestore",ra.name,()=>{const Qa=j.runOutsideAngular(()=>ra.firestore());if(w&&Qa.settings(w),jl&&Qa.useEmulator(...jl),d&&!(0,ut.PM)(A)){const th=()=>{try{return(0,pe.D)(Qa.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(Rf){return"undefined"!=typeof console&&console.warn(Rf),(0,ze.of)(!1)}};return[Qa,j.runOutsideAngular(th)]}return[Qa,(0,ze.of)(!1)]},[w,jl,d])}collection(o,u){let d;d="string"==typeof o?this.firestore.collection(o):o;const{ref:w,query:A}=By(d,u),j=this.schedulers.ngZone.run(()=>w);return new Ua(j,A,this)}collectionGroup(o,u){const d=u||(A=>A),w=this.firestore.collectionGroup(o);return new Vy(d(w),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const d=this.schedulers.ngZone.run(()=>u);return new Ba(d,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(te.LFG(_t.Dh),te.LFG(_t.xv,8),te.LFG(Uy,8),te.LFG(vv,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(he.HU),te.LFG(_v,8),te.LFG(wv,8),te.LFG(Bl.zQ,8),te.LFG(Bl.Qv,8),te.LFG(Bl.L6,8),te.LFG(Bl._Q,8),te.LFG(Bl.rT,8),te.LFG(Bl.lh,8),te.LFG(Bl.f7,8))},a.\u0275prov=te.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),bv=(()=>{class a{constructor(o,u){this.af=o,this.auth=u,this.isLogged=!1,this.pacienteCollectionReference=this.af.collection("pacientes"),this.pacientesObs=this.pacienteCollectionReference.valueChanges({idField:"id"}),this.especialistaCollectionReference=this.af.collection("especialistas"),this.especialistasObs=this.especialistaCollectionReference.valueChanges({idField:"id"}),this.adminCollectionReference=this.af.collection("administradores"),this.adminObs=this.adminCollectionReference.valueChanges({idField:"id"}),this.especialidadesCollectionReference=this.af.collection("especialidades"),this.especialidadesObs=this.especialidadesCollectionReference.valueChanges({idField:"id"}),this.turnosCollectionReference=this.af.collection("turnos"),this.turnosObs=this.turnosCollectionReference.valueChanges({idField:"id"}),this.encuestasCollectionReference=this.af.collection("encuestas"),this.encuestaObs=this.encuestasCollectionReference.valueChanges({idField:"id"})}getPacientes(){return this.pacientesObs}getEspecialistas(){return this.especialistasObs}getAdmins(){return this.adminObs}addPaciente(o){this.pacienteCollectionReference.add(Object.assign({},o))}addEspecialidad(o){this.especialidadesCollectionReference.add(o)}updateEspecialista(o,u){this.af.collection("especialistas").doc(u).update({horarios:o})}addTurnoPaciente(o,u){this.af.collection("pacientes").doc(u).update({turno:o})}addTurnoEspecialista(o){this.af.collection("especialistas").doc(o.id).update(o)}addAdmin(o){this.adminCollectionReference.add(Object.assign({},o))}addTurno(o){this.turnosCollectionReference.add(o)}finalizarTurnoPaciente(o){this.pacienteCollectionReference.doc(o.id).update({turno:o.turno})}addHistoriaClinica(o){this.pacienteCollectionReference.doc(o.id).update({historiaClinica:o.historiaClinica})}finalizarTurnoEspecialista(o){this.especialistaCollectionReference.doc(o.id).update({turno:o.turno})}addEspecialista(o){this.especialistaCollectionReference.add(Object.assign({},o))}addEncuesta(o){this.encuestasCollectionReference.add(o)}modificarEstadoTurno(o){o.razon?this.turnosCollectionReference.doc(o.id).update({estado:o.estado,razon:o.razon}):o.comentario?this.turnosCollectionReference.doc(o.id).update({estado:o.estado,comentario:o.comentario}):this.turnosCollectionReference.doc(o.id).update({estado:o.estado})}addSatisfaccionAtencion(o){this.turnosCollectionReference.doc(o.id).update({satisfaccion:o.satisfaccion,atencion:o.atencion})}addEncuestaTurno(o,u){this.turnosCollectionReference.doc(o.id).update({encuesta:u})}getUser(o){var u=this;return(0,_.Z)(function*(){let d=yield u.af.collection("administradores",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise();return 0===d.length&&(d=yield u.af.collection("pacientes",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise()),0===d.length&&(d=yield u.af.collection("especialistas",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise()),u.usuarioActual=d[0],d[0]})()}getGenerico(o,u,d){var w=this;return(0,_.Z)(function*(){return yield w.af.collection(o,A=>A.where(u,"==",d).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise()})()}getPaciente(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("pacientes",w=>w.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise())[0]})()}getEspecialista(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("especialistas",w=>w.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise())[0]})()}}return a.\u0275fac=function(o){return new(o||a)(te.LFG(Og),te.LFG(Bl.zQ))},a.\u0275prov=te.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},7126:(Ht,tt,Z)=>{"use strict";var _=Z(9075),f=Z(7716);const te_firebaseConfig={apiKey:"AIzaSyB71LrO5NbBWRHi_rsIxIYvnaO_eQgUrjI",authDomain:"clinicaonline-ee233.firebaseapp.com",projectId:"clinicaonline-ee233",storageBucket:"clinicaonline-ee233.appspot.com",messagingSenderId:"420028550231",appId:"1:420028550231:web:c4ec3baf3185efe7126712"};var Ue=Z(1896),Re=Z(8583),pe=Z(164);function ze(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"div",3),f.TgZ(1,"button",4),f.NdJ("click",function(){return f.CHM(b),f.oxw().tipo="paciente"}),f._UZ(2,"img",5),f.qZA(),f.TgZ(3,"button",6),f.NdJ("click",function(){return f.CHM(b),f.oxw().tipo="especialista"}),f._UZ(4,"img",7),f.qZA(),f.qZA()}}function he(M,v){if(1&M&&f._UZ(0,"app-registro",8),2&M){const b=f.oxw();f.Q6J("tipo",b.tipo)}}let ye=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(b){return new(b||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-page-registro"]],decls:3,vars:2,consts:[[1,"container"],["class","row justify-content-center my-2 gap-3 p-0 mx-0",4,"ngIf"],[3,"tipo",4,"ngIf"],[1,"row","justify-content-center","my-2","gap-3","p-0","mx-0"],[1,"col-12","col-md-5","btn","btn-danger",2,"background-color","#80BAD8","border-radius","50%",3,"click"],["src","../../../assets/paciente.png","alt","","width","80%"],[1,"col-12","col-md-5","btn","btn-danger",2,"background-color","#80BAD8","border-radius","50%","overflow","hidden",3,"click"],["src","../../../assets/especialista.jpg","alt","","width","100%"],[3,"tipo"]],template:function(b,x){1&b&&(f.TgZ(0,"div",0),f.YNc(1,ze,5,0,"div",1),f.qZA(),f.YNc(2,he,1,1,"app-registro",2)),2&b&&(f.xp6(1),f.Q6J("ngIf",!x.tipo),f.xp6(1),f.Q6J("ngIf",x.tipo))},directives:[Re.O5,pe.J],styles:[""]}),M})();var ne=Z(5160),le=Z(611);const ue=function(){return["/login"]},Ve=function(){return["/registro"]};function Pe(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"div",7),f.NdJ("click",function(){return f.CHM(b),f.oxw().test()}),f.TgZ(1,"button",8),f._uU(2,"Iniciar sesi\xf3n"),f.qZA(),f.TgZ(3,"button",8),f._uU(4,"Registrarse"),f.qZA(),f.qZA()}2&M&&(f.xp6(1),f.Q6J("routerLink",f.DdM(2,ue)),f.xp6(2),f.Q6J("routerLink",f.DdM(3,Ve)))}const Ke=function(){return["/turnos/mis-turnos/especialista"]};function Ze(M,v){1&M&&(f.TgZ(0,"button",14),f._uU(1,"Ir a mis turnos"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,Ke))}const pt=function(){return["/turnos/mis-turnos/paciente"]};function fe(M,v){1&M&&(f.TgZ(0,"button",14),f._uU(1,"Ir a mis turnos"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,pt))}function dt(M,v){if(1&M&&(f.TgZ(0,"div",15),f.TgZ(1,"div",16),f.TgZ(2,"h2"),f._uU(3,"Mis turnos"),f.qZA(),f.TgZ(4,"p"),f._uU(5,"Ver mis turnos"),f.qZA(),f.YNc(6,Ze,2,2,"button",17),f.YNc(7,fe,2,2,"button",17),f.qZA(),f.qZA()),2&M){const b=f.oxw(2);f.xp6(6),f.Q6J("ngIf","especialista"===(null==b.firestore.usuarioActual?null:b.firestore.usuarioActual.perfil)),f.xp6(1),f.Q6J("ngIf","paciente"===(null==b.firestore.usuarioActual?null:b.firestore.usuarioActual.perfil))}}const _t=function(){return["/usuarios"]};function ut(M,v){1&M&&(f.TgZ(0,"div",18),f.TgZ(1,"div",13),f.TgZ(2,"h2"),f._uU(3,"Ver usuarios"),f.qZA(),f.TgZ(4,"h4"),f._uU(5,"En esta secci\xf3n se encuentran todos los usuarios de la clinica en detalle"),f.qZA(),f.TgZ(6,"button",14),f._uU(7,"Ir a Usuarios"),f.qZA(),f.qZA(),f.qZA()),2&M&&(f.xp6(6),f.Q6J("routerLink",f.DdM(1,_t)))}const Ie=function(){return["/mi-perfil"]};function At(M,v){if(1&M&&(f.TgZ(0,"div",9),f.YNc(1,dt,8,2,"div",10),f.YNc(2,ut,8,2,"div",11),f.TgZ(3,"div",12),f.TgZ(4,"div",13),f.TgZ(5,"h2"),f._uU(6,"Mi perfil"),f.qZA(),f.TgZ(7,"p"),f._uU(8,"Ir a 'Mi Perfil', aqui se encuentran todos tus datos"),f.qZA(),f.TgZ(9,"button",14),f._uU(10,"Ir a mi perfil"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&M){const b=f.oxw();f.xp6(1),f.Q6J("ngIf","admin"!==(null==b.firestore.usuarioActual?null:b.firestore.usuarioActual.perfil)),f.xp6(1),f.Q6J("ngIf","admin"===(null==b.firestore.usuarioActual?null:b.firestore.usuarioActual.perfil)),f.xp6(7),f.Q6J("routerLink",f.DdM(3,Ie))}}let Zt=(()=>{class M{constructor(b){this.firestore=b}ngOnInit(){}test(){console.log(this.firestore.usuarioActual)}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(ne.C))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-home"]],decls:10,vars:2,consts:[[1,"container","py-4"],[1,"py-5","mb-4","bg-light","rounded-3","text-center","bg"],[1,"container-fluid","py-5",2,"text-shadow","1px 1px 1px rgb(0, 0, 0)"],[1,"display-5","fw-bold"],[1,"fs-4"],[3,"click",4,"ngIf"],["class","row justify-content-between align-items-md-stretch gap-3",4,"ngIf"],[3,"click"],["type","button",1,"btn","btn-primary","px-4","mx-2","gap-3",3,"routerLink"],[1,"row","justify-content-between","align-items-md-stretch","gap-3"],["class","col-md-5 bgT",4,"ngIf"],["class","col-md-5 bgU",4,"ngIf"],[1,"col-md-5","mp"],[1,"h-100","p-5","text-dark","rounded-3",2,"text-shadow","1px 1px 1px rgb(0, 0, 0)"],["type","button",1,"btn","btn-primary",3,"routerLink"],[1,"col-md-5","bgT"],[1,"h-100","p-5","text-dark","rounded-3"],["class","btn btn-primary","type","button",3,"routerLink",4,"ngIf"],[1,"col-md-5","bgU"]],template:function(b,x){1&b&&(f.TgZ(0,"main"),f.TgZ(1,"div",0),f.TgZ(2,"div",1),f.TgZ(3,"div",2),f.TgZ(4,"h1",3),f._uU(5,"Clinica Online"),f.qZA(),f.TgZ(6,"h4",4),f._uU(7,"Bienvenido a la Clinica Online"),f.qZA(),f.YNc(8,Pe,5,4,"div",5),f.qZA(),f.qZA(),f.YNc(9,At,11,4,"div",6),f.qZA(),f.qZA()),2&b&&(f.xp6(8),f.Q6J("ngIf",!x.firestore.usuarioActual),f.xp6(1),f.Q6J("ngIf",x.firestore.usuarioActual))},directives:[Re.O5,le.rH],styles:[".bg[_ngcontent-%COMP%]{background:url(a.de33f9e4283d9f3014db.jpg) center}.bgT[_ngcontent-%COMP%]{background:url(b.57cd6601630e632fb0a1.jpeg) center}.bgU[_ngcontent-%COMP%]{background:url(u.83772ba10b406afa3959.jpeg) bottom}.mp[_ngcontent-%COMP%]{background:url(mp.52caf0716f8d68288669.jpeg) bottom}"]}),M})();var Xt=Z(8239),Xe=Z(665),Le=Z(7556),nt=Z(4132);function Qe(M,v){1&M&&(f.TgZ(0,"div"),f._UZ(1,"app-spinner"),f.qZA())}function Te(M,v){1&M&&(f.TgZ(0,"div",13),f._uU(1," Ingrese su email "),f.qZA())}function We(M,v){1&M&&(f.TgZ(0,"div",13),f._uU(1," Ingrese un email valido "),f.qZA())}function Ee(M,v){1&M&&(f.TgZ(0,"div",14),f._uU(1," Ingrese su contrase\xf1a "),f.qZA())}function wt(M,v){1&M&&(f.TgZ(0,"div",14),f._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),f.qZA())}function Pt(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"div",19),f.TgZ(1,"img",20),f.NdJ("click",function(){const X=f.CHM(b).$implicit;return f.oxw(2).logIn(X.email,X.password)}),f.qZA(),f.qZA()}if(2&M){const b=v.$implicit;f.xp6(1),f.Q6J("src",b.imagen,f.LSH)}}const qt=function(M){return{"d-none":M}};function Gt(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"div",21),f.TgZ(1,"img",20),f.NdJ("click",function(){const X=f.CHM(b).$implicit;return f.oxw(2).logIn(X.email,X.password)}),f.qZA(),f.qZA()}if(2&M){const b=v.$implicit;f.Q6J("ngClass",f.VKq(2,qt,v.index>2)),f.xp6(1),f.Q6J("src",null==b?null:b.imagenes[0],f.LSH)}}function Ft(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"div",21),f.TgZ(1,"img",20),f.NdJ("click",function(){const X=f.CHM(b).$implicit;return f.oxw(2).logIn(X.email,X.password)}),f.qZA(),f.qZA()}if(2&M){const b=v.$implicit;f.Q6J("ngClass",f.VKq(2,qt,v.index>1)),f.xp6(1),f.Q6J("src",null==b?null:b.imagen,f.LSH)}}function Kt(M,v){if(1&M&&(f.TgZ(0,"div",15),f.TgZ(1,"div",5),f.TgZ(2,"button",16),f._uU(3,"Ingresar"),f.qZA(),f.qZA(),f.YNc(4,Pt,2,1,"div",17),f.YNc(5,Gt,2,4,"div",18),f.YNc(6,Ft,2,4,"div",18),f.qZA()),2&M){const b=f.oxw();f.xp6(2),f.Q6J("disabled",b.form.invalid),f.xp6(2),f.Q6J("ngForOf",b.admin),f.xp6(1),f.Q6J("ngForOf",b.pacientes),f.xp6(1),f.Q6J("ngForOf",b.especialistas)}}let Rn=(()=>{class M{constructor(b,x,$,X){var ge=this;this.auth=b,this.formBuilder=x,this.router=$,this.firestore=X,this.spinner="../../../assets/spinnerImage.gif",this.usuarios=[],this.form=this.formBuilder.group({email:["",[Xe.kI.required,Xe.kI.email]],password:["",[Xe.kI.required,Xe.kI.minLength(8)]]}),this.firestore.getPacientes().subscribe(_e=>{this.pacientes=_e,this.usuarios=this.usuarios.concat(this.pacientes),this.firestore.getEspecialistas().subscribe(function(){var xe=(0,Xt.Z)(function*(mt){ge.especialistas=mt,ge.admin=yield ge.firestore.getGenerico("administradores","email","admin@admin.com"),ge.usuarios.push(ge.admin[0]),ge.usuarios=ge.usuarios.concat(ge.especialistas)});return function(mt){return xe.apply(this,arguments)}}())})}ngOnInit(){}signIn(){this.auth.signIn(this.form.value)}logIn(b,x){var $,X;console.log(b,x),null===($=this.form.get("email"))||void 0===$||$.setValue(b),null===(X=this.form.get("password"))||void 0===X||X.setValue(x),this.signIn()}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(Le.e),f.Y36(Xe.qu),f.Y36(le.F0),f.Y36(ne.C))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-login"]],decls:24,vars:7,consts:[[1,"container",2,"max-height","100vh !important"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],["class","row justify-content-center aling-items-center",4,"ngIf"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"],[1,"row","justify-content-center","aling-items-center"],["type","submit",1,"btn",3,"disabled"],["class","col-sm-4 col-4 d-flex justify-content-center mb-1",4,"ngFor","ngForOf"],["class","col-sm-4 col-4 d-flex justify-content-center mb-1",3,"ngClass",4,"ngFor","ngForOf"],[1,"col-sm-4","col-4","d-flex","justify-content-center","mb-1"],["alt","","width","80px","height","80px",2,"border-radius","50%",3,"src","click"],[1,"col-sm-4","col-4","d-flex","justify-content-center","mb-1",3,"ngClass"]],template:function(b,x){if(1&b&&(f.TgZ(0,"div",0),f.YNc(1,Qe,2,0,"div",1),f.TgZ(2,"form",2),f.NdJ("ngSubmit",function(){return x.signIn()}),f.TgZ(3,"div",3),f.TgZ(4,"h1"),f._uU(5,"Login"),f.qZA(),f.TgZ(6,"h3"),f._uU(7,"Ingrese sus datos:"),f.qZA(),f.TgZ(8,"div",4),f.TgZ(9,"div",5),f.TgZ(10,"label",6),f.TgZ(11,"b"),f._uU(12,"Email"),f.qZA(),f.qZA(),f._UZ(13,"input",7),f.YNc(14,Te,2,0,"div",8),f.YNc(15,We,2,0,"div",8),f.qZA(),f.TgZ(16,"div",5),f.TgZ(17,"label",9),f.TgZ(18,"b"),f._uU(19,"Contrase\xf1a"),f.qZA(),f.qZA(),f._UZ(20,"input",10),f.YNc(21,Ee,2,0,"div",11),f.YNc(22,wt,2,0,"div",11),f.qZA(),f.qZA(),f.YNc(23,Kt,7,4,"div",12),f.qZA(),f.qZA(),f.qZA()),2&b){let $,X,ge,_e;f.xp6(1),f.Q6J("ngIf",x.auth.loading),f.xp6(1),f.Q6J("formGroup",x.form),f.xp6(12),f.Q6J("ngIf",(null==($=x.form.get("email"))?null:$.touched)&&(null==($=x.form.get("email"))||null==$.errors?null:$.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(X=x.form.get("email"))?null:X.touched)&&(null==(X=x.form.get("email"))||null==X.errors?null:X.errors.email)),f.xp6(6),f.Q6J("ngIf",(null==(ge=x.form.get("password"))?null:ge.touched)&&(null==(ge=x.form.get("password"))||null==ge.errors?null:ge.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(_e=x.form.get("password"))?null:_e.touched)&&(null==(_e=x.form.get("password"))||null==_e.errors?null:_e.errors.minlength)),f.xp6(1),f.Q6J("ngIf",x.usuarios.length)}},directives:[Re.O5,Xe._Y,Xe.JL,Xe.sg,Xe.Fj,Xe.JJ,Xe.u,Xe.Q7,nt.O,Re.sg,Re.mk],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:250px}}']}),M})();const ct=function(){return["/home"]};let lt=(()=>{class M{constructor(){}ngOnInit(){}}return M.\u0275fac=function(b){return new(b||M)},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-sin-permisos"]],decls:10,vars:2,consts:[[1,"container"],[1,"row","justify-content-center","p-0","m-0","align-items-center",2,"height","100px"],[1,"card","border-danger","mb-3","text-center",2,"max-width","20rem","max-height","12rem","margin-top","200px"],[1,"card-body","text-danger"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","m-auto","d-block",3,"routerLink"]],template:function(b,x){1&b&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h5",4),f._uU(5,"Error"),f.qZA(),f.TgZ(6,"p",5),f._uU(7,"No tiene permisos para acceder a esta pagina. Vuelva al inicio"),f.qZA(),f.TgZ(8,"button",6),f._uU(9,"Inicio"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&b&&(f.xp6(8),f.Q6J("routerLink",f.DdM(1,ct)))},directives:[le.rH],styles:[""]}),M})();var Ae=Z(916),qe=Z(8259),Et=Z.n(qe);function Ut(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",15),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function An(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",16),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function sr(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",17),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function gn(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",18),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function er(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",19),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function Ln(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",20),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function xt(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",21),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function He(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",22),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function ot(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",23),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function at(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",22),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function en(M,v){1&M&&(f.TgZ(0,"div",14),f._UZ(1,"input",24),f.TgZ(2,"label",6),f._uU(3,"08:00 a 14:00"),f.qZA(),f.qZA())}let sn=(()=>{class M{constructor(b,x){this.formBuilder=b,this.firestore=x,this.form=this.formBuilder.group({lunes:["",[]],lunesM:["",[]],lunesT:["",[]],martes:["",[]],martesM:["",[]],martesT:["",[]],miercoles:["",[]],miercolesM:["",[]],miercolesT:["",[]],jueves:["",[]],juevesM:["",[]],juevesT:["",[]],viernes:["",[]],viernesM:["",[]],viernesT:["",[]],sabado:["",[]],sabadoM:["",[]]})}ngOnInit(){}actualizarHorarios(){var b,x,$,X,ge,_e,xe,mt,Ot,tn,Pn,dn,Yt,yn,ar,bi,fr,Ns,Xr,ii,gs,ms,ho,bs,Ei,Na,$r,Jt;let Ci=[],Zr={};(null===(b=this.form.controls)||void 0===b?void 0:b.lunes.value)&&(Zr=(null===($=null===(x=this.form.controls)||void 0===x?void 0:x.lunesM)||void 0===$?void 0:$.value)&&(null===(X=this.form.controls)||void 0===X?void 0:X.lunesT.value)?{dia:1,turno:"T-M"}:{dia:1,turno:(null===(ge=this.form.controls.lunesM)||void 0===ge?void 0:ge.value)?"M":"T"},Ci.push(Zr)),(null===(_e=this.form.controls)||void 0===_e?void 0:_e.martes.value)&&(Zr=(null===(mt=null===(xe=this.form.controls)||void 0===xe?void 0:xe.martesM)||void 0===mt?void 0:mt.value)&&(null===(Ot=this.form.controls)||void 0===Ot?void 0:Ot.martesT.value)?{dia:2,turno:"T-M"}:{dia:2,turno:(null===(tn=this.form.controls.martesM)||void 0===tn?void 0:tn.value)?"M":"T"},Ci.push(Zr)),(null===(Pn=this.form.controls)||void 0===Pn?void 0:Pn.miercoles.value)&&(Zr=(null===(Yt=null===(dn=this.form.controls)||void 0===dn?void 0:dn.miercolesM)||void 0===Yt?void 0:Yt.value)&&(null===(yn=this.form.controls)||void 0===yn?void 0:yn.miercolesT.value)?{dia:3,turno:"T-M"}:{dia:3,turno:(null===(ar=this.form.controls.miercolesM)||void 0===ar?void 0:ar.value)?"M":"T"},Ci.push(Zr)),(null===(bi=this.form.controls)||void 0===bi?void 0:bi.jueves.value)&&(Zr=(null===(Ns=null===(fr=this.form.controls)||void 0===fr?void 0:fr.juevesM)||void 0===Ns?void 0:Ns.value)&&(null===(Xr=this.form.controls)||void 0===Xr?void 0:Xr.juevesT.value)?{dia:4,turno:"T-M"}:{dia:4,turno:(null===(ii=this.form.controls.juevesM)||void 0===ii?void 0:ii.value)?"M":"T"},Ci.push(Zr)),(null===(gs=this.form.controls)||void 0===gs?void 0:gs.viernes.value)&&(Zr=(null===(ho=null===(ms=this.form.controls)||void 0===ms?void 0:ms.viernesM)||void 0===ho?void 0:ho.value)&&(null===(bs=this.form.controls)||void 0===bs?void 0:bs.viernesT.value)?{dia:5,turno:"T-M"}:{dia:5,turno:(null===(Ei=this.form.controls.viernesM)||void 0===Ei?void 0:Ei.value)?"M":"T"},Ci.push(Zr)),(null===(Na=this.form.controls)||void 0===Na?void 0:Na.sabado.value)&&(null===($r=this.form.controls)||void 0===$r?void 0:$r.sabadoM.value)&&(Zr={dia:6,turno:"M"},Ci.push(Zr)),this.firestore.updateEspecialista(Ci,null===(Jt=this.firestore.usuarioActual)||void 0===Jt?void 0:Jt.id),Et().fire({text:"Horarios actualizados con exito",timer:2e3,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"})}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(Xe.qu),f.Y36(ne.C))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-mis-horarios"]],decls:48,vars:12,consts:[[1,"container","text-white"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-check","form-switch"],["formControlName","lunes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label","noselect"],["class","form-check form-switch ms-3",4,"ngIf"],["formControlName","martes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercoles","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","jueves","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","viernes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","sabado","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"form-check","form-switch","ms-3"],["formControlName","lunesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","lunesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","martesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","martesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercolesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercolesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","juevesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","juevesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","viernesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","sabadoM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"]],template:function(b,x){1&b&&(f.TgZ(0,"div",0),f._uU(1," Seleccione los horarios disponibles "),f.TgZ(2,"div",1),f.TgZ(3,"form",2),f.NdJ("ngSubmit",function(){return x.actualizarHorarios()}),f.TgZ(4,"div",3),f.TgZ(5,"div",4),f._UZ(6,"input",5),f.TgZ(7,"label",6),f._uU(8,"Lunes"),f.qZA(),f.qZA(),f.YNc(9,Ut,4,0,"div",7),f.YNc(10,An,4,0,"div",7),f.qZA(),f.TgZ(11,"div",3),f.TgZ(12,"div",4),f._UZ(13,"input",8),f.TgZ(14,"label",6),f._uU(15,"Martes"),f.qZA(),f.qZA(),f.YNc(16,sr,4,0,"div",7),f.YNc(17,gn,4,0,"div",7),f.qZA(),f.TgZ(18,"div",3),f.TgZ(19,"div",4),f._UZ(20,"input",9),f.TgZ(21,"label",6),f._uU(22,"Miercoles"),f.qZA(),f.qZA(),f.YNc(23,er,4,0,"div",7),f.YNc(24,Ln,4,0,"div",7),f.qZA(),f.TgZ(25,"div",3),f.TgZ(26,"div",4),f._UZ(27,"input",10),f.TgZ(28,"label",6),f._uU(29,"Jueves"),f.qZA(),f.qZA(),f.YNc(30,xt,4,0,"div",7),f.YNc(31,He,4,0,"div",7),f.qZA(),f.TgZ(32,"div",3),f.TgZ(33,"div",4),f._UZ(34,"input",11),f.TgZ(35,"label",6),f._uU(36,"Viernes"),f.qZA(),f.qZA(),f.YNc(37,ot,4,0,"div",7),f.YNc(38,at,4,0,"div",7),f.qZA(),f.TgZ(39,"div",3),f.TgZ(40,"div",4),f._UZ(41,"input",12),f.TgZ(42,"label",6),f._uU(43,"Sabado"),f.qZA(),f.qZA(),f.YNc(44,en,4,0,"div",7),f.qZA(),f.TgZ(45,"div",3),f.TgZ(46,"button",13),f._uU(47,"Actualizar horarios"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&b&&(f.xp6(3),f.Q6J("formGroup",x.form),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.lunes?null:x.form.controls.lunes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==x.form.controls.lunes?null:x.form.controls.lunes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.martes?null:x.form.controls.martes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==x.form.controls.martes?null:x.form.controls.martes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.miercoles?null:x.form.controls.miercoles.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==x.form.controls.miercoles?null:x.form.controls.miercoles.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.jueves?null:x.form.controls.jueves.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==x.form.controls.jueves?null:x.form.controls.jueves.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.viernes?null:x.form.controls.viernes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==x.form.controls.viernes?null:x.form.controls.viernes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==x.form.controls.sabado?null:x.form.controls.sabado.value)))},directives:[Xe._Y,Xe.JL,Xe.sg,Xe.Wl,Xe.JJ,Xe.u,Re.O5],styles:[""]}),M})();function _n(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"button",21),f.NdJ("click",function(){return f.CHM(b),f.oxw(2).verHorarios()}),f._uU(1),f.qZA()}if(2&M){const b=f.oxw(2);f.xp6(1),f.Oqu(b.verHorariosBtn)}}function un(M,v){if(1&M&&(f.TgZ(0,"div"),f.TgZ(1,"div",22),f.TgZ(2,"div",23),f.TgZ(3,"div",24),f._UZ(4,"img",25),f.qZA(),f.TgZ(5,"div",26),f._UZ(6,"img",27),f.qZA(),f.qZA(),f.TgZ(7,"button",28),f._UZ(8,"span",29),f.TgZ(9,"span",30),f._uU(10,"Previous"),f.qZA(),f.qZA(),f.TgZ(11,"button",31),f._UZ(12,"span",32),f.TgZ(13,"span",30),f._uU(14,"Next"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&M){const b=f.oxw(2);f.xp6(4),f.Q6J("defaultImage",b.defaultImage)("lazyLoad",b.usuario.imagenes[0]),f.xp6(2),f.Q6J("src",b.usuario.imagenes[1],f.LSH)}}function Qt(M,v){if(1&M&&(f.TgZ(0,"div"),f._UZ(1,"img",33),f.qZA()),2&M){const b=f.oxw(2);f.xp6(1),f.Q6J("defaultImage",b.defaultImage)("lazyLoad",null==b.usuario?null:b.usuario.imagen)}}function vn(M,v){if(1&M&&(f.TgZ(0,"div"),f.TgZ(1,"div",16),f._uU(2," Obra social: "),f.qZA(),f.TgZ(3,"div",19),f._uU(4),f.qZA(),f._UZ(5,"div",14),f._UZ(6,"div",18),f.qZA()),2&M){const b=f.oxw(2);f.xp6(4),f.hij(" ",null==b.usuario?null:b.usuario.obraSocial," ")}}function Yn(M,v){if(1&M&&(f.TgZ(0,"div"),f.TgZ(1,"div",16),f._uU(2," Especialidad: "),f.qZA(),f.TgZ(3,"div",19),f._uU(4),f.qZA(),f._UZ(5,"div",14),f._UZ(6,"div",18),f.qZA()),2&M){const b=f.oxw(2);f.xp6(4),f.hij(" ",null==b.usuario?null:b.usuario.especialidad," ")}}function Sr(M,v){1&M&&(f.TgZ(0,"div",34),f._UZ(1,"app-mis-horarios"),f.qZA())}function tr(M,v){if(1&M&&(f.TgZ(0,"div"),f.TgZ(1,"div",3),f.TgZ(2,"div",4),f.YNc(3,_n,2,1,"button",5),f.TgZ(4,"div"),f.TgZ(5,"div",6),f.TgZ(6,"div",7),f._uU(7),f.qZA(),f.TgZ(8,"div",8),f.TgZ(9,"div",9),f.TgZ(10,"div",10),f.TgZ(11,"div",11),f.TgZ(12,"div",12),f.YNc(13,un,15,3,"div",13),f.qZA(),f.YNc(14,Qt,2,2,"div",13),f.qZA(),f.qZA(),f._UZ(15,"br"),f.qZA(),f._UZ(16,"div",14),f._UZ(17,"hr",15),f.TgZ(18,"div",16),f._uU(19," Nombre: "),f.qZA(),f.TgZ(20,"div",17),f._uU(21),f.qZA(),f._UZ(22,"div",14),f._UZ(23,"div",18),f.TgZ(24,"div",16),f._uU(25," Apellido: "),f.qZA(),f.TgZ(26,"div",19),f._uU(27),f.qZA(),f._UZ(28,"div",14),f._UZ(29,"div",18),f.TgZ(30,"div"),f.TgZ(31,"div",16),f._uU(32," Edad: "),f.qZA(),f.TgZ(33,"div",19),f._uU(34),f.qZA(),f._UZ(35,"div",14),f._UZ(36,"div",18),f.qZA(),f.YNc(37,vn,7,1,"div",13),f.YNc(38,Yn,7,1,"div",13),f.TgZ(39,"div",16),f._uU(40," Correo electronico: "),f.qZA(),f.TgZ(41,"div",19),f._uU(42),f.qZA(),f._UZ(43,"div",14),f._UZ(44,"div",18),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(45,Sr,2,0,"div",20),f.qZA(),f.qZA()),2&M){const b=f.oxw();f.xp6(3),f.Q6J("ngIf","especialista"===(null==b.firestore||null==b.firestore.usuarioActual?null:b.firestore.usuarioActual.perfil)),f.xp6(4),f.AsE("",null==b.usuario?null:b.usuario.nombre," ",null==b.usuario?null:b.usuario.apellido,""),f.xp6(6),f.Q6J("ngIf","paciente"===(null==b.usuario?null:b.usuario.perfil)),f.xp6(1),f.Q6J("ngIf","paciente"!==(null==b.usuario?null:b.usuario.perfil)),f.xp6(7),f.hij(" ",null==b.usuario?null:b.usuario.nombre," "),f.xp6(6),f.hij(" ",null==b.usuario?null:b.usuario.apellido," "),f.xp6(7),f.hij(" ",null==b.usuario?null:b.usuario.edad," "),f.xp6(3),f.Q6J("ngIf","paciente"===(null==b.usuario?null:b.usuario.perfil)),f.xp6(1),f.Q6J("ngIf","especialista"===(null==b.usuario?null:b.usuario.perfil)),f.xp6(4),f.hij(" ",null==b.usuario?null:b.usuario.email," "),f.xp6(3),f.Q6J("ngIf",b.horarios)}}function kt(M,v){1&M&&f._UZ(0,"app-spinner")}const Gr=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Zt},{path:"login",component:Rn},{path:"registro",component:ye},{path:"usuarios",loadChildren:()=>Z.e(433).then(Z.bind(Z,9433)).then(M=>M.UsuariosModule),canActivate:[Ue.u]},{path:"turnos",loadChildren:()=>Promise.all([Z.e(433),Z.e(903)]).then(Z.bind(Z,1903)).then(M=>M.TurnosModule)},{path:"sin-permisos",component:lt},{path:"mi-perfil",component:(()=>{class M{constructor(b){this.firestore=b,this.horarios=!1,this.verHorariosBtn="Ver horarios",this.defaultImage="../../../assets/spinnerImage.gif"}ngOnInit(){}ngAfterViewChecked(){setTimeout(()=>{this.usuario=this.firestore.usuarioActual},1e3)}verHorarios(){this.horarios=!this.horarios,this.verHorariosBtn=this.horarios?"Ocultar horarios":"Ver horarios"}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(ne.C))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-mi-perfil"]],decls:4,vars:2,consts:[[1,"container","text-white"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"box","box-info"],[1,"box-body"],[1,"col-sm-6"],["align","center"],[4,"ngIf"],[1,"clearfix"],[2,"margin","5px 0 5px 0"],[1,"col-sm-5","col-xs-6","title"],[1,"col-sm-7","col-xs-6"],[1,"bot-border"],[1,"col-sm-7"],["class","col-12 col-sm-6 col-md-4 mt-5",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","",1,"img-circle","img-responsive","profile-image",3,"defaultImage","lazyLoad"],[1,"carousel-item"],["alt","",1,"img-circle","img-responsive","profile-image","noselect",3,"src"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"fas","fa-chevron-left",2,"color","white"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"fas","fa-chevron-right",2,"color","white"],["alt","",1,"img-circle","img-responsive","profile-image","d-block","m-auto","noselect",3,"defaultImage","lazyLoad"],[1,"col-12","col-sm-6","col-md-4","mt-5"]],template:function(b,x){if(1&b&&(f.TgZ(0,"div",0),f.YNc(1,tr,46,12,"div",1),f.YNc(2,kt,1,0,"ng-template",null,2,f.W1O),f.qZA()),2&b){const $=f.MAs(3);f.xp6(1),f.Q6J("ngIf",void 0!==x.usuario)("ngIfElse",$)}},directives:[Re.O5,Ae.z1,sn,nt.O],styles:["input.hidden[_ngcontent-%COMP%]{position:absolute;left:-9999px}.profile-image[_ngcontent-%COMP%]{cursor:pointer;width:100px;height:100px;border-radius:50%}.title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.bot-border[_ngcontent-%COMP%]{border-bottom:1px #f8f8f8 solid;margin:5px 0}"]}),M})()}];let Ri=(()=>{class M{}return M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({imports:[[le.Bz.forRoot(Gr)],le.Bz]}),M})();const Sn=function(){return["/login"]};function dr(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Login"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,Sn))}const zr=function(){return["/registro"]};function Mi(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Registrarse"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,zr))}const Me=function(){return["/mi-perfil"]};function Ce(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Mi perfil"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,Me))}const ke=function(){return["/usuarios"]};function bt(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Usuarios"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,ke))}const et=function(){return["/turnos/solicitar-turno"]};function jt(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Solicitar turno"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,et))}const pn=function(){return["/turnos/mis-turnos/paciente"]};function qn(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Mis turnos"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,pn))}const Tr=function(){return["/turnos/mis-turnos/especialista"]};function Gn(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Mis turnos"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,Tr))}const Bn=function(){return["/turnos"]};function Hn(M,v){1&M&&(f.TgZ(0,"a",14),f._uU(1,"Turnos"),f.qZA()),2&M&&f.Q6J("routerLink",f.DdM(1,Bn))}function Wr(M,v){if(1&M){const b=f.EpF();f.TgZ(0,"a",15),f.NdJ("click",function(){return f.CHM(b),f.oxw().auth.logOut()}),f._uU(1,"Cerrar sesi\xf3n"),f.qZA()}}const Fr=function(){return["/"]};let ss=(()=>{class M{constructor(b,x){this.firestore=b,this.auth=x,this.usuario=JSON.parse(localStorage.getItem("usuario"))}ngOnInit(){}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(ne.C),f.Y36(Le.e))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-navbar"]],decls:33,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","noselect",3,"routerLink"],["src","../../../assets/favicon.ico","alt","","width","30","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active","text-white","noselect",3,"routerLink"],["class","nav-link text-white noselect",3,"routerLink",4,"ngIf"],[1,"navbar-nav","ms-auto"],[1,"nav-link","text-white","noselect"],["class","nav-link text-white noselect",3,"click",4,"ngIf"],[1,"nav-link","text-white","noselect",3,"routerLink"],[1,"nav-link","text-white","noselect",3,"click"]],template:function(b,x){1&b&&(f.TgZ(0,"nav",0),f.TgZ(1,"div",1),f.TgZ(2,"a",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"button",4),f._UZ(5,"span",5),f.qZA(),f.TgZ(6,"div",6),f.TgZ(7,"ul",7),f.TgZ(8,"li",8),f.TgZ(9,"a",9),f._uU(10,"Home"),f.qZA(),f.qZA(),f.TgZ(11,"li",8),f.YNc(12,dr,2,2,"a",10),f.qZA(),f.TgZ(13,"li",8),f.YNc(14,Mi,2,2,"a",10),f.qZA(),f.TgZ(15,"li",8),f.YNc(16,Ce,2,2,"a",10),f.qZA(),f.TgZ(17,"li",8),f.YNc(18,bt,2,2,"a",10),f.qZA(),f.TgZ(19,"li",8),f.YNc(20,jt,2,2,"a",10),f.qZA(),f.TgZ(21,"li",8),f.YNc(22,qn,2,2,"a",10),f.qZA(),f.TgZ(23,"li",8),f.YNc(24,Gn,2,2,"a",10),f.qZA(),f.TgZ(25,"li",8),f.YNc(26,Hn,2,2,"a",10),f.qZA(),f.qZA(),f.TgZ(27,"ul",11),f.TgZ(28,"li",8),f.TgZ(29,"a",12),f._uU(30),f.qZA(),f.qZA(),f.TgZ(31,"li",8),f.YNc(32,Wr,2,0,"a",13),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&b&&(f.xp6(2),f.Q6J("routerLink",f.DdM(12,Fr)),f.xp6(7),f.Q6J("routerLink",f.DdM(13,Fr)),f.xp6(3),f.Q6J("ngIf",!x.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf",!x.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf",x.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf","admin"===(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==x.firestore?null:x.firestore.usuarioActual)&&"especialista"!==(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==x.firestore?null:x.firestore.usuarioActual)&&"paciente"===(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==x.firestore?null:x.firestore.usuarioActual)&&"especialista"===(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==x.firestore?null:x.firestore.usuarioActual)&&"admin"===(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.perfil)),f.xp6(4),f.Oqu(null==x.firestore.usuarioActual?null:x.firestore.usuarioActual.email),f.xp6(2),f.Q6J("ngIf",null==x.firestore?null:x.firestore.usuarioActual))},directives:[le.yS,Re.O5],styles:[""]}),M})(),bn=(()=>{class M{constructor(b,x){this.firestore=b,this.auth=x,this.title="ClinicaOnline";let $=JSON.parse(localStorage.getItem("usuario"));$&&(console.log($),this.auth.signInReload($))}}return M.\u0275fac=function(b){return new(b||M)(f.Y36(ne.C),f.Y36(Le.e))},M.\u0275cmp=f.Xpm({type:M,selectors:[["app-root"]],decls:2,vars:0,template:function(b,x){1&b&&(f._UZ(0,"app-navbar"),f._UZ(1,"router-outlet"))},directives:[ss,le.lC],styles:[""]}),M})();var ji=Z(8939),os=Z(9344),Jn=Z(7238);function Wi(){return"undefined"!=typeof window&&void 0!==window.document}function _r(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function En(M){switch(M.length){case 0:return new Jn.ZN;case 1:return M[0];default:return new Jn.ZE(M)}}function nn(M,v,b,x,$={},X={}){const ge=[],_e=[];let xe=-1,mt=null;if(x.forEach(Ot=>{const tn=Ot.offset,Pn=tn==xe,dn=Pn&&mt||{};Object.keys(Ot).forEach(Yt=>{let yn=Yt,ar=Ot[Yt];if("offset"!==Yt)switch(yn=v.normalizePropertyName(yn,ge),ar){case Jn.k1:ar=$[Yt];break;case Jn.l3:ar=X[Yt];break;default:ar=v.normalizeStyleValue(Yt,yn,ar,ge)}dn[yn]=ar}),Pn||_e.push(dn),mt=dn,xe=tn}),ge.length){const Ot="\n - ";throw new Error(`Unable to animate due to the following errors:${Ot}${ge.join(Ot)}`)}return _e}function br(M,v,b,x){switch(v){case"start":M.onStart(()=>x(b&&Hi(b,"start",M)));break;case"done":M.onDone(()=>x(b&&Hi(b,"done",M)));break;case"destroy":M.onDestroy(()=>x(b&&Hi(b,"destroy",M)))}}function Hi(M,v,b){const x=b.totalTime,X=zn(M.element,M.triggerName,M.fromState,M.toState,v||M.phaseName,null==x?M.totalTime:x,!!b.disabled),ge=M._data;return null!=ge&&(X._data=ge),X}function zn(M,v,b,x,$="",X=0,ge){return{element:M,triggerName:v,fromState:b,toState:x,phaseName:$,totalTime:X,disabled:!!ge}}function Nt(M,v,b){let x;return M instanceof Map?(x=M.get(v),x||M.set(v,x=b)):(x=M[v],x||(x=M[v]=b)),x}function Mn(M){const v=M.indexOf(":");return[M.substring(1,v),M.substr(v+1)]}let hr=(M,v)=>!1,nr=(M,v)=>!1,Kr=(M,v,b)=>[];const yr=_r();(yr||"undefined"!=typeof Element)&&(hr=Wi()?(M,v)=>{for(;v&&v!==document.documentElement;){if(v===M)return!0;v=v.parentNode||v.host}return!1}:(M,v)=>M.contains(v),nr=(()=>{if(yr||Element.prototype.matches)return(M,v)=>M.matches(v);{const M=Element.prototype,v=M.matchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||M.webkitMatchesSelector;return v?(b,x)=>v.apply(b,[x]):nr}})(),Kr=(M,v,b)=>{let x=[];if(b){const $=M.querySelectorAll(v);for(let X=0;X<$.length;X++)x.push($[X])}else{const $=M.querySelector(v);$&&x.push($)}return x});let on=null,$e=!1;function Oe(M){on||(on=("undefined"!=typeof document?document.body:null)||{},$e=!!on.style&&"WebkitAppearance"in on.style);let v=!0;return on.style&&!function(M){return"ebkit"==M.substring(1,6)}(M)&&(v=M in on.style,!v&&$e&&(v="Webkit"+M.charAt(0).toUpperCase()+M.substr(1)in on.style)),v}const Je=nr,gt=hr,an=Kr;function xn(M){const v={};return Object.keys(M).forEach(b=>{const x=b.replace(/([a-z])([A-Z])/g,"$1-$2");v[x]=M[b]}),v}let lr=(()=>{class M{validateStyleProperty(b){return Oe(b)}matchesElement(b,x){return Je(b,x)}containsElement(b,x){return gt(b,x)}query(b,x,$){return an(b,x,$)}computeStyle(b,x,$){return $||""}animate(b,x,$,X,ge,_e=[],xe){return new Jn.ZN($,X)}}return M.\u0275fac=function(b){return new(b||M)},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})(),Nn=(()=>{class M{}return M.NOOP=new lr,M})();const Ur="ng-enter",mi="ng-leave",Ir="ng-trigger",Fs=".ng-trigger",Ni="ng-animating",rr=".ng-animating";function ri(M){if("number"==typeof M)return M;const v=M.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Ls(parseFloat(v[1]),v[2])}function Ls(M,v){switch(v){case"s":return 1e3*M;default:return M}}function Yr(M,v,b){return M.hasOwnProperty("duration")?M:function(M,v,b){let $,X=0,ge="";if("string"==typeof M){const _e=M.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===_e)return v.push(`The provided timing value "${M}" is invalid.`),{duration:0,delay:0,easing:""};$=Ls(parseFloat(_e[1]),_e[2]);const xe=_e[3];null!=xe&&(X=Ls(parseFloat(xe),_e[4]));const mt=_e[5];mt&&(ge=mt)}else $=M;if(!b){let _e=!1,xe=v.length;$<0&&(v.push("Duration values below 0 are not allowed for this animation step."),_e=!0),X<0&&(v.push("Delay values below 0 are not allowed for this animation step."),_e=!0),_e&&v.splice(xe,0,`The provided timing value "${M}" is invalid.`)}return{duration:$,delay:X,easing:ge}}(M,v,b)}function ur(M,v={}){return Object.keys(M).forEach(b=>{v[b]=M[b]}),v}function Qr(M,v,b={}){if(v)for(let x in M)b[x]=M[x];else ur(M,b);return b}function Ti(M,v,b){return b?v+":"+b+";":""}function Yi(M){let v="";for(let b=0;b<M.style.length;b++){const x=M.style.item(b);v+=Ti(0,x,M.style.getPropertyValue(x))}for(const b in M.style)M.style.hasOwnProperty(b)&&!b.startsWith("_")&&(v+=Ti(0,qo(b),M.style[b]));M.setAttribute("style",v)}function di(M,v,b){M.style&&(Object.keys(v).forEach(x=>{const $=Ks(x);b&&!b.hasOwnProperty(x)&&(b[x]=M.style[$]),M.style[$]=v[x]}),_r()&&Yi(M))}function yi(M,v){M.style&&(Object.keys(v).forEach(b=>{const x=Ks(b);M.style[x]=""}),_r()&&Yi(M))}function _s(M){return Array.isArray(M)?1==M.length?M[0]:(0,Jn.vP)(M):M}const Ds=new RegExp("{{\\s*(.+?)\\s*}}","g");function Oi(M){let v=[];if("string"==typeof M){let b;for(;b=Ds.exec(M);)v.push(b[1]);Ds.lastIndex=0}return v}function Qi(M,v,b){const x=M.toLowerCase().toString(),$=x.replace(Ds,(X,ge)=>{let _e=v[ge];return v.hasOwnProperty(ge)||(b.push(`Please provide a value for the animation param ${ge}`),_e=""),_e.toLowerCase().toString()});return $==x?M:$}function as(M){const v=[];let b=M.next();for(;!b.done;)v.push(b.value),b=M.next();return v}const Ji=/-+([a-z0-9])/g;function Ks(M){return M.replace(Ji,(...v)=>v[1].toUpperCase())}function qo(M){return M.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function _i(M,v){return 0===M||0===v}function _o(M,v,b){const x=Object.keys(b);if(x.length&&v.length){let X=v[0],ge=[];if(x.forEach(_e=>{X.hasOwnProperty(_e)||ge.push(_e),X[_e]=b[_e]}),ge.length)for(var $=1;$<v.length;$++){let _e=v[$];ge.forEach(function(xe){_e[xe]=hi(M,xe)})}}return v}function ai(M,v,b){switch(v.type){case 7:return M.visitTrigger(v,b);case 0:return M.visitState(v,b);case 1:return M.visitTransition(v,b);case 2:return M.visitSequence(v,b);case 3:return M.visitGroup(v,b);case 4:return M.visitAnimate(v,b);case 5:return M.visitKeyframes(v,b);case 6:return M.visitStyle(v,b);case 8:return M.visitReference(v,b);case 9:return M.visitAnimateChild(v,b);case 10:return M.visitAnimateRef(v,b);case 11:return M.visitQuery(v,b);case 12:return M.visitStagger(v,b);default:throw new Error(`Unable to resolve animation metadata node #${v.type}`)}}function hi(M,v){return window.getComputedStyle(M)[v]}function vi(M,v){const b=[];return"string"==typeof M?M.split(/\s*,\s*/).forEach(x=>function(M,v,b){if(":"==M[0]){const xe=function(M,v){switch(M){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(b,x)=>parseFloat(x)>parseFloat(b);case":decrement":return(b,x)=>parseFloat(x)<parseFloat(b);default:return v.push(`The transition alias value "${M}" is not supported`),"* => *"}}(M,b);if("function"==typeof xe)return void v.push(xe);M=xe}const x=M.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==x||x.length<4)return b.push(`The provided transition expression "${M}" is not supported`),v;const $=x[1],X=x[2],ge=x[3];v.push(ki($,ge));"<"==X[0]&&!("*"==$&&"*"==ge)&&v.push(ki(ge,$))}(x,b,v)):b.push(M),b}const us=new Set(["true","1"]),cs=new Set(["false","0"]);function ki(M,v){const b=us.has(M)||cs.has(M),x=us.has(v)||cs.has(v);return($,X)=>{let ge="*"==M||M==$,_e="*"==v||v==X;return!ge&&b&&"boolean"==typeof $&&(ge=$?us.has(M):cs.has(M)),!_e&&x&&"boolean"==typeof X&&(_e=X?us.has(v):cs.has(v)),ge&&_e}}const Eo=new RegExp("s*:selfs*,?","g");function ds(M,v,b){return new hs(M).build(v,b)}class hs{constructor(v){this._driver=v}build(v,b){const x=new Pr(b);return this._resetContextStyleTimingState(x),ai(this,_s(v),x)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles={},v.collectedStyles[""]={},v.currentTime=0}visitTrigger(v,b){let x=b.queryCount=0,$=b.depCount=0;const X=[],ge=[];return"@"==v.name.charAt(0)&&b.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),v.definitions.forEach(_e=>{if(this._resetContextStyleTimingState(b),0==_e.type){const xe=_e,mt=xe.name;mt.toLowerCase().toString().split(/\s*,\s*/).forEach(Ot=>{xe.name=Ot,X.push(this.visitState(xe,b))}),xe.name=mt}else if(1==_e.type){const xe=this.visitTransition(_e,b);x+=xe.queryCount,$+=xe.depCount,ge.push(xe)}else b.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:v.name,states:X,transitions:ge,queryCount:x,depCount:$,options:null}}visitState(v,b){const x=this.visitStyle(v.styles,b),$=v.options&&v.options.params||null;if(x.containsDynamicStyles){const X=new Set,ge=$||{};if(x.styles.forEach(_e=>{if(Xi(_e)){const xe=_e;Object.keys(xe).forEach(mt=>{Oi(xe[mt]).forEach(Ot=>{ge.hasOwnProperty(Ot)||X.add(Ot)})})}}),X.size){const _e=as(X.values());b.errors.push(`state("${v.name}", ...) must define default values for all the following style substitutions: ${_e.join(", ")}`)}}return{type:0,name:v.name,style:x,options:$?{params:$}:null}}visitTransition(v,b){b.queryCount=0,b.depCount=0;const x=ai(this,_s(v.animation),b);return{type:1,matchers:vi(v.expr,b.errors),animation:x,queryCount:b.queryCount,depCount:b.depCount,options:es(v.options)}}visitSequence(v,b){return{type:2,steps:v.steps.map(x=>ai(this,x,b)),options:es(v.options)}}visitGroup(v,b){const x=b.currentTime;let $=0;const X=v.steps.map(ge=>{b.currentTime=x;const _e=ai(this,ge,b);return $=Math.max($,b.currentTime),_e});return b.currentTime=$,{type:3,steps:X,options:es(v.options)}}visitAnimate(v,b){const x=function(M,v){let b=null;if(M.hasOwnProperty("duration"))b=M;else if("number"==typeof M)return ts(Yr(M,v).duration,0,"");const x=M;if(x.split(/\s+/).some(X=>"{"==X.charAt(0)&&"{"==X.charAt(1))){const X=ts(0,0,"");return X.dynamic=!0,X.strValue=x,X}return b=b||Yr(x,v),ts(b.duration,b.delay,b.easing)}(v.timings,b.errors);b.currentAnimateTimings=x;let $,X=v.styles?v.styles:(0,Jn.oB)({});if(5==X.type)$=this.visitKeyframes(X,b);else{let ge=v.styles,_e=!1;if(!ge){_e=!0;const mt={};x.easing&&(mt.easing=x.easing),ge=(0,Jn.oB)(mt)}b.currentTime+=x.duration+x.delay;const xe=this.visitStyle(ge,b);xe.isEmptyStep=_e,$=xe}return b.currentAnimateTimings=null,{type:4,timings:x,style:$,options:null}}visitStyle(v,b){const x=this._makeStyleAst(v,b);return this._validateStyleAst(x,b),x}_makeStyleAst(v,b){const x=[];Array.isArray(v.styles)?v.styles.forEach(ge=>{"string"==typeof ge?ge==Jn.l3?x.push(ge):b.errors.push(`The provided style string value ${ge} is not allowed.`):x.push(ge)}):x.push(v.styles);let $=!1,X=null;return x.forEach(ge=>{if(Xi(ge)){const _e=ge,xe=_e.easing;if(xe&&(X=xe,delete _e.easing),!$)for(let mt in _e)if(_e[mt].toLowerCase().toString().indexOf("{{")>=0){$=!0;break}}}),{type:6,styles:x,easing:X,offset:v.offset,containsDynamicStyles:$,options:null}}_validateStyleAst(v,b){const x=b.currentAnimateTimings;let $=b.currentTime,X=b.currentTime;x&&X>0&&(X-=x.duration+x.delay),v.styles.forEach(ge=>{"string"!=typeof ge&&Object.keys(ge).forEach(_e=>{if(!this._driver.validateStyleProperty(_e))return void b.errors.push(`The provided animation property "${_e}" is not a supported CSS property for animations`);const xe=b.collectedStyles[b.currentQuerySelector],mt=xe[_e];let Ot=!0;mt&&(X!=$&&X>=mt.startTime&&$<=mt.endTime&&(b.errors.push(`The CSS property "${_e}" that exists between the times of "${mt.startTime}ms" and "${mt.endTime}ms" is also being animated in a parallel animation between the times of "${X}ms" and "${$}ms"`),Ot=!1),X=mt.startTime),Ot&&(xe[_e]={startTime:X,endTime:$}),b.options&&function(M,v,b){const x=v.params||{},$=Oi(M);$.length&&$.forEach(X=>{x.hasOwnProperty(X)||b.push(`Unable to resolve the local animation param ${X} in the given list of values`)})}(ge[_e],b.options,b.errors)})})}visitKeyframes(v,b){const x={type:5,styles:[],options:null};if(!b.currentAnimateTimings)return b.errors.push("keyframes() must be placed inside of a call to animate()"),x;let X=0;const ge=[];let _e=!1,xe=!1,mt=0;const Ot=v.steps.map(bi=>{const fr=this._makeStyleAst(bi,b);let Ns=null!=fr.offset?fr.offset:function(M){if("string"==typeof M)return null;let v=null;if(Array.isArray(M))M.forEach(b=>{if(Xi(b)&&b.hasOwnProperty("offset")){const x=b;v=parseFloat(x.offset),delete x.offset}});else if(Xi(M)&&M.hasOwnProperty("offset")){const b=M;v=parseFloat(b.offset),delete b.offset}return v}(fr.styles),Xr=0;return null!=Ns&&(X++,Xr=fr.offset=Ns),xe=xe||Xr<0||Xr>1,_e=_e||Xr<mt,mt=Xr,ge.push(Xr),fr});xe&&b.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),_e&&b.errors.push("Please ensure that all keyframe offsets are in order");const tn=v.steps.length;let Pn=0;X>0&&X<tn?b.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==X&&(Pn=1/(tn-1));const dn=tn-1,Yt=b.currentTime,yn=b.currentAnimateTimings,ar=yn.duration;return Ot.forEach((bi,fr)=>{const Ns=Pn>0?fr==dn?1:Pn*fr:ge[fr],Xr=Ns*ar;b.currentTime=Yt+yn.delay+Xr,yn.duration=Xr,this._validateStyleAst(bi,b),bi.offset=Ns,x.styles.push(bi)}),x}visitReference(v,b){return{type:8,animation:ai(this,_s(v.animation),b),options:es(v.options)}}visitAnimateChild(v,b){return b.depCount++,{type:9,options:es(v.options)}}visitAnimateRef(v,b){return{type:10,animation:this.visitReference(v.animation,b),options:es(v.options)}}visitQuery(v,b){const x=b.currentQuerySelector,$=v.options||{};b.queryCount++,b.currentQuery=v;const[X,ge]=function(M){const v=!!M.split(/\s*,\s*/).find(b=>":self"==b);return v&&(M=M.replace(Eo,"")),[M=M.replace(/@\*/g,Fs).replace(/@\w+/g,b=>Fs+"-"+b.substr(1)).replace(/:animating/g,rr),v]}(v.selector);b.currentQuerySelector=x.length?x+" "+X:X,Nt(b.collectedStyles,b.currentQuerySelector,{});const _e=ai(this,_s(v.animation),b);return b.currentQuery=null,b.currentQuerySelector=x,{type:11,selector:X,limit:$.limit||0,optional:!!$.optional,includeSelf:ge,animation:_e,originalSelector:v.selector,options:es(v.options)}}visitStagger(v,b){b.currentQuery||b.errors.push("stagger() can only be used inside of query()");const x="full"===v.timings?{duration:0,delay:0,easing:"full"}:Yr(v.timings,b.errors,!0);return{type:12,animation:ai(this,_s(v.animation),b),timings:x,options:null}}}class Pr{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Xi(M){return!Array.isArray(M)&&"object"==typeof M}function es(M){return M?(M=ur(M)).params&&(M.params=function(M){return M?ur(M):null}(M.params)):M={},M}function ts(M,v,b){return{duration:M,delay:v,easing:b}}function vs(M,v,b,x,$,X,ge=null,_e=!1){return{type:1,element:M,keyframes:v,preStyleProps:b,postStyleProps:x,duration:$,delay:X,totalTime:$+X,easing:ge,subTimeline:_e}}class L{constructor(){this._map=new Map}consume(v){let b=this._map.get(v);return b?this._map.delete(v):b=[],b}append(v,b){let x=this._map.get(v);x||this._map.set(v,x=[]),x.push(...b)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const ie=new RegExp(":enter","g"),st=new RegExp(":leave","g");function Tt(M,v,b,x,$,X={},ge={},_e,xe,mt=[]){return(new U).buildKeyframes(M,v,b,x,$,X,ge,_e,xe,mt)}class U{buildKeyframes(v,b,x,$,X,ge,_e,xe,mt,Ot=[]){mt=mt||new L;const tn=new N(v,b,mt,$,X,Ot,[]);tn.options=xe,tn.currentTimeline.setStyles([ge],null,tn.errors,xe),ai(this,x,tn);const Pn=tn.timelines.filter(dn=>dn.containsAnimation());if(Pn.length&&Object.keys(_e).length){const dn=Pn[Pn.length-1];dn.allowOnlyTimelineStyles()||dn.setStyles([_e],null,tn.errors,xe)}return Pn.length?Pn.map(dn=>dn.buildKeyframes()):[vs(b,[],[],[],0,0,"",!1)]}visitTrigger(v,b){}visitState(v,b){}visitTransition(v,b){}visitAnimateChild(v,b){const x=b.subInstructions.consume(b.element);if(x){const $=b.createSubContext(v.options),X=b.currentTimeline.currentTime,ge=this._visitSubInstructions(x,$,$.options);X!=ge&&b.transformIntoNewTimeline(ge)}b.previousNode=v}visitAnimateRef(v,b){const x=b.createSubContext(v.options);x.transformIntoNewTimeline(),this.visitReference(v.animation,x),b.transformIntoNewTimeline(x.currentTimeline.currentTime),b.previousNode=v}_visitSubInstructions(v,b,x){let X=b.currentTimeline.currentTime;const ge=null!=x.duration?ri(x.duration):null,_e=null!=x.delay?ri(x.delay):null;return 0!==ge&&v.forEach(xe=>{const mt=b.appendInstructionToTimeline(xe,ge,_e);X=Math.max(X,mt.duration+mt.delay)}),X}visitReference(v,b){b.updateOptions(v.options,!0),ai(this,v.animation,b),b.previousNode=v}visitSequence(v,b){const x=b.subContextCount;let $=b;const X=v.options;if(X&&(X.params||X.delay)&&($=b.createSubContext(X),$.transformIntoNewTimeline(),null!=X.delay)){6==$.previousNode.type&&($.currentTimeline.snapshotCurrentStyles(),$.previousNode=k);const ge=ri(X.delay);$.delayNextStep(ge)}v.steps.length&&(v.steps.forEach(ge=>ai(this,ge,$)),$.currentTimeline.applyStylesToKeyframe(),$.subContextCount>x&&$.transformIntoNewTimeline()),b.previousNode=v}visitGroup(v,b){const x=[];let $=b.currentTimeline.currentTime;const X=v.options&&v.options.delay?ri(v.options.delay):0;v.steps.forEach(ge=>{const _e=b.createSubContext(v.options);X&&_e.delayNextStep(X),ai(this,ge,_e),$=Math.max($,_e.currentTimeline.currentTime),x.push(_e.currentTimeline)}),x.forEach(ge=>b.currentTimeline.mergeTimelineCollectedStyles(ge)),b.transformIntoNewTimeline($),b.previousNode=v}_visitTiming(v,b){if(v.dynamic){const x=v.strValue;return Yr(b.params?Qi(x,b.params,b.errors):x,b.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,b){const x=b.currentAnimateTimings=this._visitTiming(v.timings,b),$=b.currentTimeline;x.delay&&(b.incrementTime(x.delay),$.snapshotCurrentStyles());const X=v.style;5==X.type?this.visitKeyframes(X,b):(b.incrementTime(x.duration),this.visitStyle(X,b),$.applyStylesToKeyframe()),b.currentAnimateTimings=null,b.previousNode=v}visitStyle(v,b){const x=b.currentTimeline,$=b.currentAnimateTimings;!$&&x.getCurrentStyleProperties().length&&x.forwardFrame();const X=$&&$.easing||v.easing;v.isEmptyStep?x.applyEmptyStep(X):x.setStyles(v.styles,X,b.errors,b.options),b.previousNode=v}visitKeyframes(v,b){const x=b.currentAnimateTimings,$=b.currentTimeline.duration,X=x.duration,_e=b.createSubContext().currentTimeline;_e.easing=x.easing,v.styles.forEach(xe=>{_e.forwardTime((xe.offset||0)*X),_e.setStyles(xe.styles,xe.easing,b.errors,b.options),_e.applyStylesToKeyframe()}),b.currentTimeline.mergeTimelineCollectedStyles(_e),b.transformIntoNewTimeline($+X),b.previousNode=v}visitQuery(v,b){const x=b.currentTimeline.currentTime,$=v.options||{},X=$.delay?ri($.delay):0;X&&(6===b.previousNode.type||0==x&&b.currentTimeline.getCurrentStyleProperties().length)&&(b.currentTimeline.snapshotCurrentStyles(),b.previousNode=k);let ge=x;const _e=b.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!$.optional,b.errors);b.currentQueryTotal=_e.length;let xe=null;_e.forEach((mt,Ot)=>{b.currentQueryIndex=Ot;const tn=b.createSubContext(v.options,mt);X&&tn.delayNextStep(X),mt===b.element&&(xe=tn.currentTimeline),ai(this,v.animation,tn),tn.currentTimeline.applyStylesToKeyframe(),ge=Math.max(ge,tn.currentTimeline.currentTime)}),b.currentQueryIndex=0,b.currentQueryTotal=0,b.transformIntoNewTimeline(ge),xe&&(b.currentTimeline.mergeTimelineCollectedStyles(xe),b.currentTimeline.snapshotCurrentStyles()),b.previousNode=v}visitStagger(v,b){const x=b.parentContext,$=b.currentTimeline,X=v.timings,ge=Math.abs(X.duration),_e=ge*(b.currentQueryTotal-1);let xe=ge*b.currentQueryIndex;switch(X.duration<0?"reverse":X.easing){case"reverse":xe=_e-xe;break;case"full":xe=x.currentStaggerTime}const Ot=b.currentTimeline;xe&&Ot.delayNextStep(xe);const tn=Ot.currentTime;ai(this,v.animation,b),b.previousNode=v,x.currentStaggerTime=$.currentTime-tn+($.startTime-x.currentTimeline.startTime)}}const k={};class N{constructor(v,b,x,$,X,ge,_e,xe){this._driver=v,this.element=b,this.subInstructions=x,this._enterClassName=$,this._leaveClassName=X,this.errors=ge,this.timelines=_e,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=k,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=xe||new J(this._driver,b,0),_e.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,b){if(!v)return;const x=v;let $=this.options;null!=x.duration&&($.duration=ri(x.duration)),null!=x.delay&&($.delay=ri(x.delay));const X=x.params;if(X){let ge=$.params;ge||(ge=this.options.params={}),Object.keys(X).forEach(_e=>{(!b||!ge.hasOwnProperty(_e))&&(ge[_e]=Qi(X[_e],ge,this.errors))})}}_copyOptions(){const v={};if(this.options){const b=this.options.params;if(b){const x=v.params={};Object.keys(b).forEach($=>{x[$]=b[$]})}}return v}createSubContext(v=null,b,x){const $=b||this.element,X=new N(this._driver,$,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork($,x||0));return X.previousNode=this.previousNode,X.currentAnimateTimings=this.currentAnimateTimings,X.options=this._copyOptions(),X.updateOptions(v),X.currentQueryIndex=this.currentQueryIndex,X.currentQueryTotal=this.currentQueryTotal,X.parentContext=this,this.subContextCount++,X}transformIntoNewTimeline(v){return this.previousNode=k,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,b,x){const $={duration:null!=b?b:v.duration,delay:this.currentTimeline.currentTime+(null!=x?x:0)+v.delay,easing:""},X=new Ye(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,$,v.stretchStartingKeyframe);return this.timelines.push(X),$}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,b,x,$,X,ge){let _e=[];if($&&_e.push(this.element),v.length>0){v=(v=v.replace(ie,"."+this._enterClassName)).replace(st,"."+this._leaveClassName);let mt=this._driver.query(this.element,v,1!=x);0!==x&&(mt=x<0?mt.slice(mt.length+x,mt.length):mt.slice(0,x)),_e.push(...mt)}return!X&&0==_e.length&&ge.push(`\`query("${b}")\` returned zero elements. (Use \`query("${b}", { optional: true })\` if you wish to allow this.)`),_e}}class J{constructor(v,b,x,$){this._driver=v,this.element=b,this.startTime=x,this._elementTimelineStylesLookup=$,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(b),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(b,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const b=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||b?(this.forwardTime(this.currentTime+v),b&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,b){return this.applyStylesToKeyframe(),new J(this._driver,v,b||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,b){this._localTimelineStyles[v]=b,this._globalTimelineStyles[v]=b,this._styleSummary[v]={time:this.currentTime,value:b}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&(this._previousKeyframe.easing=v),Object.keys(this._globalTimelineStyles).forEach(b=>{this._backFill[b]=this._globalTimelineStyles[b]||Jn.l3,this._currentKeyframe[b]=Jn.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,b,x,$){b&&(this._previousKeyframe.easing=b);const X=$&&$.params||{},ge=function(M,v){const b={};let x;return M.forEach($=>{"*"===$?(x=x||Object.keys(v),x.forEach(X=>{b[X]=Jn.l3})):Qr($,!1,b)}),b}(v,this._globalTimelineStyles);Object.keys(ge).forEach(_e=>{const xe=Qi(ge[_e],X,x);this._pendingStyles[_e]=xe,this._localTimelineStyles.hasOwnProperty(_e)||(this._backFill[_e]=this._globalTimelineStyles.hasOwnProperty(_e)?this._globalTimelineStyles[_e]:Jn.l3),this._updateStyle(_e,xe)})}applyStylesToKeyframe(){const v=this._pendingStyles,b=Object.keys(v);0!=b.length&&(this._pendingStyles={},b.forEach(x=>{this._currentKeyframe[x]=v[x]}),Object.keys(this._localTimelineStyles).forEach(x=>{this._currentKeyframe.hasOwnProperty(x)||(this._currentKeyframe[x]=this._localTimelineStyles[x])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(v=>{const b=this._localTimelineStyles[v];this._pendingStyles[v]=b,this._updateStyle(v,b)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let b in this._currentKeyframe)v.push(b);return v}mergeTimelineCollectedStyles(v){Object.keys(v._styleSummary).forEach(b=>{const x=this._styleSummary[b],$=v._styleSummary[b];(!x||$.time>x.time)&&this._updateStyle(b,$.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,b=new Set,x=1===this._keyframes.size&&0===this.duration;let $=[];this._keyframes.forEach((_e,xe)=>{const mt=Qr(_e,!0);Object.keys(mt).forEach(Ot=>{const tn=mt[Ot];tn==Jn.k1?v.add(Ot):tn==Jn.l3&&b.add(Ot)}),x||(mt.offset=xe/this.duration),$.push(mt)});const X=v.size?as(v.values()):[],ge=b.size?as(b.values()):[];if(x){const _e=$[0],xe=ur(_e);_e.offset=0,xe.offset=1,$=[_e,xe]}return vs(this.element,$,X,ge,this.duration,this.startTime,this.easing,!1)}}class Ye extends J{constructor(v,b,x,$,X,ge,_e=!1){super(v,b,ge.delay),this.keyframes=x,this.preStyleProps=$,this.postStyleProps=X,this._stretchStartingKeyframe=_e,this.timings={duration:ge.duration,delay:ge.delay,easing:ge.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:b,duration:x,easing:$}=this.timings;if(this._stretchStartingKeyframe&&b){const X=[],ge=x+b,_e=b/ge,xe=Qr(v[0],!1);xe.offset=0,X.push(xe);const mt=Qr(v[0],!1);mt.offset=Mt(_e),X.push(mt);const Ot=v.length-1;for(let tn=1;tn<=Ot;tn++){let Pn=Qr(v[tn],!1);Pn.offset=Mt((b+Pn.offset*x)/ge),X.push(Pn)}x=ge,b=0,$="",v=X}return vs(this.element,v,this.preStyleProps,this.postStyleProps,x,b,$,!0)}}function Mt(M,v=3){const b=Math.pow(10,v-1);return Math.round(M*b)/b}class fi{}class pi extends fi{normalizePropertyName(v,b){return Ks(v)}normalizeStyleValue(v,b,x,$){let X="";const ge=x.toLowerCase().toString().trim();if(Tn[b]&&0!==x&&"0"!==x)if("number"==typeof x)X="px";else{const _e=x.match(/^[+-]?[\d\.]+([a-z]*)$/);_e&&0==_e[1].length&&$.push(`Please provide a CSS unit value for ${v}:${x}`)}return ge+X}}const Tn=(()=>function(M){const v={};return M.forEach(b=>v[b]=!0),v}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ao(M,v,b,x,$,X,ge,_e,xe,mt,Ot,tn,Pn){return{type:0,element:M,triggerName:v,isRemovalTransition:$,fromState:b,fromStyles:X,toState:x,toStyles:ge,timelines:_e,queriedElements:xe,preStyleProps:mt,postStyleProps:Ot,totalTime:tn,errors:Pn}}const js={};class Aa{constructor(v,b,x){this._triggerName=v,this.ast=b,this._stateStyles=x}match(v,b,x,$){return function(M,v,b,x,$){return M.some(X=>X(v,b,x,$))}(this.ast.matchers,v,b,x,$)}buildStyles(v,b,x){const $=this._stateStyles["*"],X=this._stateStyles[v],ge=$?$.buildStyles(b,x):{};return X?X.buildStyles(b,x):ge}build(v,b,x,$,X,ge,_e,xe,mt,Ot){const tn=[],Pn=this.ast.options&&this.ast.options.params||js,Yt=this.buildStyles(x,_e&&_e.params||js,tn),yn=xe&&xe.params||js,ar=this.buildStyles($,yn,tn),bi=new Set,fr=new Map,Ns=new Map,Xr="void"===$,ii={params:Object.assign(Object.assign({},Pn),yn)},gs=Ot?[]:Tt(v,b,this.ast.animation,X,ge,Yt,ar,ii,mt,tn);let ms=0;if(gs.forEach(bs=>{ms=Math.max(bs.duration+bs.delay,ms)}),tn.length)return ao(b,this._triggerName,x,$,Xr,Yt,ar,[],[],fr,Ns,ms,tn);gs.forEach(bs=>{const Ei=bs.element,Na=Nt(fr,Ei,{});bs.preStyleProps.forEach(Jt=>Na[Jt]=!0);const $r=Nt(Ns,Ei,{});bs.postStyleProps.forEach(Jt=>$r[Jt]=!0),Ei!==b&&bi.add(Ei)});const ho=as(bi.values());return ao(b,this._triggerName,x,$,Xr,Yt,ar,gs,ho,fr,Ns,ms)}}class da{constructor(v,b,x){this.styles=v,this.defaultParams=b,this.normalizer=x}buildStyles(v,b){const x={},$=ur(this.defaultParams);return Object.keys(v).forEach(X=>{const ge=v[X];null!=ge&&($[X]=ge)}),this.styles.styles.forEach(X=>{if("string"!=typeof X){const ge=X;Object.keys(ge).forEach(_e=>{let xe=ge[_e];xe.length>1&&(xe=Qi(xe,$,b));const mt=this.normalizer.normalizePropertyName(_e,b);xe=this.normalizer.normalizeStyleValue(_e,mt,xe,b),x[mt]=xe})}}),x}}class It{constructor(v,b,x){this.name=v,this.ast=b,this._normalizer=x,this.transitionFactories=[],this.states={},b.states.forEach($=>{this.states[$.name]=new da($.style,$.options&&$.options.params||{},x)}),Co(this.states,"true","1"),Co(this.states,"false","0"),b.transitions.forEach($=>{this.transitionFactories.push(new Aa(v,$,this.states))}),this.fallbackTransition=function(M,v,b){return new Aa(M,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ge,_e)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,b,x,$){return this.transitionFactories.find(ge=>ge.match(v,b,x,$))||null}matchStyles(v,b,x){return this.fallbackTransition.buildStyles(v,b,x)}}function Co(M,v,b){M.hasOwnProperty(v)?M.hasOwnProperty(b)||(M[b]=M[v]):M.hasOwnProperty(b)&&(M[v]=M[b])}const li=new L;class ha{constructor(v,b,x){this.bodyNode=v,this._driver=b,this._normalizer=x,this._animations={},this._playersById={},this.players=[]}register(v,b){const x=[],$=ds(this._driver,b,x);if(x.length)throw new Error(`Unable to build the animation due to the following errors: ${x.join("\n")}`);this._animations[v]=$}_buildPlayer(v,b,x){const $=v.element,X=nn(0,this._normalizer,0,v.keyframes,b,x);return this._driver.animate($,X,v.duration,v.delay,v.easing,[],!0)}create(v,b,x={}){const $=[],X=this._animations[v];let ge;const _e=new Map;if(X?(ge=Tt(this._driver,b,X,Ur,mi,{},{},x,li,$),ge.forEach(Ot=>{const tn=Nt(_e,Ot.element,{});Ot.postStyleProps.forEach(Pn=>tn[Pn]=null)})):($.push("The requested animation doesn't exist or has already been destroyed"),ge=[]),$.length)throw new Error(`Unable to create the animation due to the following errors: ${$.join("\n")}`);_e.forEach((Ot,tn)=>{Object.keys(Ot).forEach(Pn=>{Ot[Pn]=this._driver.computeStyle(tn,Pn,Jn.l3)})});const mt=En(ge.map(Ot=>{const tn=_e.get(Ot.element);return this._buildPlayer(Ot,{},tn)}));return this._playersById[v]=mt,mt.onDestroy(()=>this.destroy(v)),this.players.push(mt),mt}destroy(v){const b=this._getPlayer(v);b.destroy(),delete this._playersById[v];const x=this.players.indexOf(b);x>=0&&this.players.splice(x,1)}_getPlayer(v){const b=this._playersById[v];if(!b)throw new Error(`Unable to find the timeline player referenced by ${v}`);return b}listen(v,b,x,$){const X=zn(b,"","","");return br(this._getPlayer(v),x,X,$),()=>{}}command(v,b,x,$){if("register"==x)return void this.register(v,$[0]);if("create"==x)return void this.create(v,b,$[0]||{});const X=this._getPlayer(v);switch(x){case"play":X.play();break;case"pause":X.pause();break;case"reset":X.reset();break;case"restart":X.restart();break;case"finish":X.finish();break;case"init":X.init();break;case"setPosition":X.setPosition(parseFloat($[0]));break;case"destroy":this.destroy(v)}}}const Ss="ng-animate-queued",Xs="ng-animate-disabled",To=".ng-animate-disabled",Oo=[],Do={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ii={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class eo{constructor(v,b=""){this.namespaceId=b;const x=v&&v.hasOwnProperty("value");if(this.value=null!=(M=x?v.value:v)?M:null,x){const X=ur(v);delete X.value,this.options=X}else this.options={};var M;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const b=v.params;if(b){const x=this.options.params;Object.keys(b).forEach($=>{null==x[$]&&(x[$]=b[$])})}}}const ws="void",$i=new eo(ws);class Sa{constructor(v,b,x){this.id=v,this.hostElement=b,this._engine=x,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,rt(b,this._hostClassName)}listen(v,b,x,$){if(!this._triggers.hasOwnProperty(b))throw new Error(`Unable to listen on the animation trigger event "${x}" because the animation trigger "${b}" doesn't exist!`);if(null==x||0==x.length)throw new Error(`Unable to listen on the animation trigger "${b}" because the provided event is undefined!`);if("start"!=(M=x)&&"done"!=M)throw new Error(`The provided animation trigger event "${x}" for the animation trigger "${b}" is not supported!`);var M;const X=Nt(this._elementListeners,v,[]),ge={name:b,phase:x,callback:$};X.push(ge);const _e=Nt(this._engine.statesByElement,v,{});return _e.hasOwnProperty(b)||(rt(v,Ir),rt(v,Ir+"-"+b),_e[b]=$i),()=>{this._engine.afterFlush(()=>{const xe=X.indexOf(ge);xe>=0&&X.splice(xe,1),this._triggers[b]||delete _e[b]})}}register(v,b){return!this._triggers[v]&&(this._triggers[v]=b,!0)}_getTrigger(v){const b=this._triggers[v];if(!b)throw new Error(`The provided animation trigger "${v}" has not been registered!`);return b}trigger(v,b,x,$=!0){const X=this._getTrigger(b),ge=new lo(this.id,b,v);let _e=this._engine.statesByElement.get(v);_e||(rt(v,Ir),rt(v,Ir+"-"+b),this._engine.statesByElement.set(v,_e={}));let xe=_e[b];const mt=new eo(x,this.id);if(!(x&&x.hasOwnProperty("value"))&&xe&&mt.absorbOptions(xe.options),_e[b]=mt,xe||(xe=$i),mt.value!==ws&&xe.value===mt.value){if(!function(M,v){const b=Object.keys(M),x=Object.keys(v);if(b.length!=x.length)return!1;for(let $=0;$<b.length;$++){const X=b[$];if(!v.hasOwnProperty(X)||M[X]!==v[X])return!1}return!0}(xe.params,mt.params)){const yn=[],ar=X.matchStyles(xe.value,xe.params,yn),bi=X.matchStyles(mt.value,mt.params,yn);yn.length?this._engine.reportError(yn):this._engine.afterFlush(()=>{yi(v,ar),di(v,bi)})}return}const Pn=Nt(this._engine.playersByElement,v,[]);Pn.forEach(yn=>{yn.namespaceId==this.id&&yn.triggerName==b&&yn.queued&&yn.destroy()});let dn=X.matchTransition(xe.value,mt.value,v,mt.params),Yt=!1;if(!dn){if(!$)return;dn=X.fallbackTransition,Yt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:b,transition:dn,fromState:xe,toState:mt,player:ge,isFallbackTransition:Yt}),Yt||(rt(v,Ss),ge.onStart(()=>{ft(v,Ss)})),ge.onDone(()=>{let yn=this.players.indexOf(ge);yn>=0&&this.players.splice(yn,1);const ar=this._engine.playersByElement.get(v);if(ar){let bi=ar.indexOf(ge);bi>=0&&ar.splice(bi,1)}}),this.players.push(ge),Pn.push(ge),ge}deregister(v){delete this._triggers[v],this._engine.statesByElement.forEach((b,x)=>{delete b[v]}),this._elementListeners.forEach((b,x)=>{this._elementListeners.set(x,b.filter($=>$.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const b=this._engine.playersByElement.get(v);b&&(b.forEach(x=>x.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,b){const x=this._engine.driver.query(v,Fs,!0);x.forEach($=>{if($[jr])return;const X=this._engine.fetchNamespacesByElement($);X.size?X.forEach(ge=>ge.triggerLeaveAnimation($,b,!1,!0)):this.clearElementCache($)}),this._engine.afterFlushAnimationsDone(()=>x.forEach($=>this.clearElementCache($)))}triggerLeaveAnimation(v,b,x,$){const X=this._engine.statesByElement.get(v);if(X){const ge=[];if(Object.keys(X).forEach(_e=>{if(this._triggers[_e]){const xe=this.trigger(v,_e,ws,$);xe&&ge.push(xe)}}),ge.length)return this._engine.markElementAsRemoved(this.id,v,!0,b),x&&En(ge).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const b=this._elementListeners.get(v),x=this._engine.statesByElement.get(v);if(b&&x){const $=new Set;b.forEach(X=>{const ge=X.name;if($.has(ge))return;$.add(ge);const xe=this._triggers[ge].fallbackTransition,mt=x[ge]||$i,Ot=new eo(ws),tn=new lo(this.id,ge,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:ge,transition:xe,fromState:mt,toState:Ot,player:tn,isFallbackTransition:!0})})}}removeNode(v,b){const x=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,b),this.triggerLeaveAnimation(v,b,!0))return;let $=!1;if(x.totalAnimations){const X=x.players.length?x.playersByQueriedElement.get(v):[];if(X&&X.length)$=!0;else{let ge=v;for(;ge=ge.parentNode;)if(x.statesByElement.get(ge)){$=!0;break}}}if(this.prepareLeaveAnimationListeners(v),$)x.markElementAsRemoved(this.id,v,!1,b);else{const X=v[jr];(!X||X===Do)&&(x.afterFlush(()=>this.clearElementCache(v)),x.destroyInnerAnimations(v),x._onRemovalComplete(v,b))}}insertNode(v,b){rt(v,this._hostClassName)}drainQueuedTransitions(v){const b=[];return this._queue.forEach(x=>{const $=x.player;if($.destroyed)return;const X=x.element,ge=this._elementListeners.get(X);ge&&ge.forEach(_e=>{if(_e.name==x.triggerName){const xe=zn(X,x.triggerName,x.fromState.value,x.toState.value);xe._data=v,br(x.player,_e.phase,xe,_e.callback)}}),$.markedForDestroy?this._engine.afterFlush(()=>{$.destroy()}):b.push(x)}),this._queue=[],b.sort((x,$)=>{const X=x.transition.ast.depCount,ge=$.transition.ast.depCount;return 0==X||0==ge?X-ge:this._engine.driver.containsElement(x.element,$.element)?1:-1})}destroy(v){this.players.forEach(b=>b.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let b=!1;return this._elementListeners.has(v)&&(b=!0),b=!!this._queue.find(x=>x.element===v)||b,b}}class to{constructor(v,b,x){this.bodyNode=v,this.driver=b,this._normalizer=x,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=($,X)=>{}}_onRemovalComplete(v,b){this.onRemovalComplete(v,b)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(b=>{b.players.forEach(x=>{x.queued&&v.push(x)})}),v}createNamespace(v,b){const x=new Sa(v,b,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,b)?this._balanceNamespaceList(x,b):(this.newHostElements.set(b,x),this.collectEnterElement(b)),this._namespaceLookup[v]=x}_balanceNamespaceList(v,b){const x=this._namespaceList.length-1;if(x>=0){let $=!1;for(let X=x;X>=0;X--)if(this.driver.containsElement(this._namespaceList[X].hostElement,b)){this._namespaceList.splice(X+1,0,v),$=!0;break}$||this._namespaceList.splice(0,0,v)}else this._namespaceList.push(v);return this.namespacesByHostElement.set(b,v),v}register(v,b){let x=this._namespaceLookup[v];return x||(x=this.createNamespace(v,b)),x}registerTrigger(v,b,x){let $=this._namespaceLookup[v];$&&$.register(b,x)&&this.totalAnimations++}destroy(v,b){if(!v)return;const x=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(x.hostElement),delete this._namespaceLookup[v];const $=this._namespaceList.indexOf(x);$>=0&&this._namespaceList.splice($,1)}),this.afterFlushAnimationsDone(()=>x.destroy(b))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const b=new Set,x=this.statesByElement.get(v);if(x){const $=Object.keys(x);for(let X=0;X<$.length;X++){const ge=x[$[X]].namespaceId;if(ge){const _e=this._fetchNamespace(ge);_e&&b.add(_e)}}}return b}trigger(v,b,x,$){if(uo(b)){const X=this._fetchNamespace(v);if(X)return X.trigger(b,x,$),!0}return!1}insertNode(v,b,x,$){if(!uo(b))return;const X=b[jr];if(X&&X.setForRemoval){X.setForRemoval=!1,X.setForMove=!0;const ge=this.collectedLeaveElements.indexOf(b);ge>=0&&this.collectedLeaveElements.splice(ge,1)}if(v){const ge=this._fetchNamespace(v);ge&&ge.insertNode(b,x)}$&&this.collectEnterElement(b)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,b){b?this.disabledNodes.has(v)||(this.disabledNodes.add(v),rt(v,Xs)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),ft(v,Xs))}removeNode(v,b,x,$){if(uo(b)){const X=v?this._fetchNamespace(v):null;if(X?X.removeNode(b,$):this.markElementAsRemoved(v,b,!1,$),x){const ge=this.namespacesByHostElement.get(b);ge&&ge.id!==v&&ge.removeNode(b,$)}}else this._onRemovalComplete(b,$)}markElementAsRemoved(v,b,x,$){this.collectedLeaveElements.push(b),b[jr]={namespaceId:v,setForRemoval:$,hasAnimation:x,removedBeforeQueried:!1}}listen(v,b,x,$,X){return uo(b)?this._fetchNamespace(v).listen(b,x,$,X):()=>{}}_buildInstruction(v,b,x,$,X){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,x,$,v.fromState.options,v.toState.options,b,X)}destroyInnerAnimations(v){let b=this.driver.query(v,Fs,!0);b.forEach(x=>this.destroyActiveAnimationsForElement(x)),0!=this.playersByQueriedElement.size&&(b=this.driver.query(v,rr,!0),b.forEach(x=>this.finishActiveQueriedAnimationOnElement(x)))}destroyActiveAnimationsForElement(v){const b=this.playersByElement.get(v);b&&b.forEach(x=>{x.queued?x.markedForDestroy=!0:x.destroy()})}finishActiveQueriedAnimationOnElement(v){const b=this.playersByQueriedElement.get(v);b&&b.forEach(x=>x.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return En(this.players).onDone(()=>v());v()})}processLeaveNode(v){const b=v[jr];if(b&&b.setForRemoval){if(v[jr]=Do,b.namespaceId){this.destroyInnerAnimations(v);const x=this._fetchNamespace(b.namespaceId);x&&x.clearElementCache(v)}this._onRemovalComplete(v,b.setForRemoval)}this.driver.matchesElement(v,To)&&this.markElementAsDisabled(v,!1),this.driver.query(v,To,!0).forEach(x=>{this.markElementAsDisabled(x,!1)})}flush(v=-1){let b=[];if(this.newHostElements.size&&(this.newHostElements.forEach((x,$)=>this._balanceNamespaceList(x,$)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let x=0;x<this.collectedEnterElements.length;x++)rt(this.collectedEnterElements[x],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const x=[];try{b=this._flushAnimations(x,v)}finally{for(let $=0;$<x.length;$++)x[$]()}}else for(let x=0;x<this.collectedLeaveElements.length;x++)this.processLeaveNode(this.collectedLeaveElements[x]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(x=>x()),this._flushFns=[],this._whenQuietFns.length){const x=this._whenQuietFns;this._whenQuietFns=[],b.length?En(b).onDone(()=>{x.forEach($=>$())}):x.forEach($=>$())}}reportError(v){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${v.join("\n")}`)}_flushAnimations(v,b){const x=new L,$=[],X=new Map,ge=[],_e=new Map,xe=new Map,mt=new Map,Ot=new Set;this.disabledNodes.forEach(fn=>{Ot.add(fn);const hn=this.driver.query(fn,".ng-animate-queued",!0);for(let kn=0;kn<hn.length;kn++)Ot.add(hn[kn])});const tn=this.bodyNode,Pn=Array.from(this.statesByElement.keys()),dn=K(Pn,this.collectedEnterElements),Yt=new Map;let yn=0;dn.forEach((fn,hn)=>{const kn=Ur+yn++;Yt.set(hn,kn),fn.forEach(vr=>rt(vr,kn))});const ar=[],bi=new Set,fr=new Set;for(let fn=0;fn<this.collectedLeaveElements.length;fn++){const hn=this.collectedLeaveElements[fn],kn=hn[jr];kn&&kn.setForRemoval&&(ar.push(hn),bi.add(hn),kn.hasAnimation?this.driver.query(hn,".ng-star-inserted",!0).forEach(vr=>bi.add(vr)):fr.add(hn))}const Ns=new Map,Xr=K(Pn,Array.from(bi));Xr.forEach((fn,hn)=>{const kn=mi+yn++;Ns.set(hn,kn),fn.forEach(vr=>rt(vr,kn))}),v.push(()=>{dn.forEach((fn,hn)=>{const kn=Yt.get(hn);fn.forEach(vr=>ft(vr,kn))}),Xr.forEach((fn,hn)=>{const kn=Ns.get(hn);fn.forEach(vr=>ft(vr,kn))}),ar.forEach(fn=>{this.processLeaveNode(fn)})});const ii=[],gs=[];for(let fn=this._namespaceList.length-1;fn>=0;fn--)this._namespaceList[fn].drainQueuedTransitions(b).forEach(kn=>{const vr=kn.player,ci=kn.element;if(ii.push(vr),this.collectedEnterElements.length){const Vo=ci[jr];if(Vo&&Vo.setForMove)return void vr.destroy()}const ys=!tn||!this.driver.containsElement(tn,ci),io=Ns.get(ci),Lo=Yt.get(ci),Vi=this._buildInstruction(kn,x,Lo,io,ys);if(Vi.errors&&Vi.errors.length)gs.push(Vi);else{if(ys)return vr.onStart(()=>yi(ci,Vi.fromStyles)),vr.onDestroy(()=>di(ci,Vi.toStyles)),void $.push(vr);if(kn.isFallbackTransition)return vr.onStart(()=>yi(ci,Vi.fromStyles)),vr.onDestroy(()=>di(ci,Vi.toStyles)),void $.push(vr);Vi.timelines.forEach(Vo=>Vo.stretchStartingKeyframe=!0),x.append(ci,Vi.timelines),ge.push({instruction:Vi,player:vr,element:ci}),Vi.queriedElements.forEach(Vo=>Nt(_e,Vo,[]).push(vr)),Vi.preStyleProps.forEach((Vo,Uo)=>{const Rr=Object.keys(Vo);if(Rr.length){let oa=xe.get(Uo);oa||xe.set(Uo,oa=new Set),Rr.forEach(Mr=>oa.add(Mr))}}),Vi.postStyleProps.forEach((Vo,Uo)=>{const Rr=Object.keys(Vo);let oa=mt.get(Uo);oa||mt.set(Uo,oa=new Set),Rr.forEach(Mr=>oa.add(Mr))})}});if(gs.length){const fn=[];gs.forEach(hn=>{fn.push(`@${hn.triggerName} has failed due to:\n`),hn.errors.forEach(kn=>fn.push(`- ${kn}\n`))}),ii.forEach(hn=>hn.destroy()),this.reportError(fn)}const ms=new Map,ho=new Map;ge.forEach(fn=>{const hn=fn.element;x.has(hn)&&(ho.set(hn,hn),this._beforeAnimationBuild(fn.player.namespaceId,fn.instruction,ms))}),$.forEach(fn=>{const hn=fn.element;this._getPreviousPlayers(hn,!1,fn.namespaceId,fn.triggerName,null).forEach(vr=>{Nt(ms,hn,[]).push(vr),vr.destroy()})});const bs=ar.filter(fn=>On(fn,xe,mt)),Ei=new Map;B(Ei,this.driver,fr,mt,Jn.l3).forEach(fn=>{On(fn,xe,mt)&&bs.push(fn)});const $r=new Map;dn.forEach((fn,hn)=>{B($r,this.driver,new Set(fn),xe,Jn.k1)}),bs.forEach(fn=>{const hn=Ei.get(fn),kn=$r.get(fn);Ei.set(fn,Object.assign(Object.assign({},hn),kn))});const Jt=[],Ci=[],Zr={};ge.forEach(fn=>{const{element:hn,player:kn,instruction:vr}=fn;if(x.has(hn)){if(Ot.has(hn))return kn.onDestroy(()=>di(hn,vr.toStyles)),kn.disabled=!0,kn.overrideTotalTime(vr.totalTime),void $.push(kn);let ci=Zr;if(ho.size>1){let io=hn;const Lo=[];for(;io=io.parentNode;){const Vi=ho.get(io);if(Vi){ci=Vi;break}Lo.push(io)}Lo.forEach(Vi=>ho.set(Vi,ci))}const ys=this._buildAnimation(kn.namespaceId,vr,ms,X,$r,Ei);if(kn.setRealPlayer(ys),ci===Zr)Jt.push(kn);else{const io=this.playersByElement.get(ci);io&&io.length&&(kn.parentPlayer=En(io)),$.push(kn)}}else yi(hn,vr.fromStyles),kn.onDestroy(()=>di(hn,vr.toStyles)),Ci.push(kn),Ot.has(hn)&&$.push(kn)}),Ci.forEach(fn=>{const hn=X.get(fn.element);if(hn&&hn.length){const kn=En(hn);fn.setRealPlayer(kn)}}),$.forEach(fn=>{fn.parentPlayer?fn.syncPlayerEvents(fn.parentPlayer):fn.destroy()});for(let fn=0;fn<ar.length;fn++){const hn=ar[fn],kn=hn[jr];if(ft(hn,mi),kn&&kn.hasAnimation)continue;let vr=[];if(_e.size){let ys=_e.get(hn);ys&&ys.length&&vr.push(...ys);let io=this.driver.query(hn,rr,!0);for(let Lo=0;Lo<io.length;Lo++){let Vi=_e.get(io[Lo]);Vi&&Vi.length&&vr.push(...Vi)}}const ci=vr.filter(ys=>!ys.destroyed);ci.length?cn(this,hn,ci):this.processLeaveNode(hn)}return ar.length=0,Jt.forEach(fn=>{this.players.push(fn),fn.onDone(()=>{fn.destroy();const hn=this.players.indexOf(fn);this.players.splice(hn,1)}),fn.play()}),Jt}elementContainsData(v,b){let x=!1;const $=b[jr];return $&&$.setForRemoval&&(x=!0),this.playersByElement.has(b)&&(x=!0),this.playersByQueriedElement.has(b)&&(x=!0),this.statesByElement.has(b)&&(x=!0),this._fetchNamespace(v).elementContainsData(b)||x}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,b,x,$,X){let ge=[];if(b){const _e=this.playersByQueriedElement.get(v);_e&&(ge=_e)}else{const _e=this.playersByElement.get(v);if(_e){const xe=!X||X==ws;_e.forEach(mt=>{mt.queued||!xe&&mt.triggerName!=$||ge.push(mt)})}}return(x||$)&&(ge=ge.filter(_e=>!(x&&x!=_e.namespaceId||$&&$!=_e.triggerName))),ge}_beforeAnimationBuild(v,b,x){const X=b.element,ge=b.isRemovalTransition?void 0:v,_e=b.isRemovalTransition?void 0:b.triggerName;for(const xe of b.timelines){const mt=xe.element,Ot=mt!==X,tn=Nt(x,mt,[]);this._getPreviousPlayers(mt,Ot,ge,_e,b.toState).forEach(dn=>{const Yt=dn.getRealPlayer();Yt.beforeDestroy&&Yt.beforeDestroy(),dn.destroy(),tn.push(dn)})}yi(X,b.fromStyles)}_buildAnimation(v,b,x,$,X,ge){const _e=b.triggerName,xe=b.element,mt=[],Ot=new Set,tn=new Set,Pn=b.timelines.map(Yt=>{const yn=Yt.element;Ot.add(yn);const ar=yn[jr];if(ar&&ar.removedBeforeQueried)return new Jn.ZN(Yt.duration,Yt.delay);const bi=yn!==xe,fr=function(M){const v=[];return ln(M,v),v}((x.get(yn)||Oo).map(ms=>ms.getRealPlayer())).filter(ms=>!!ms.element&&ms.element===yn),Ns=X.get(yn),Xr=ge.get(yn),ii=nn(0,this._normalizer,0,Yt.keyframes,Ns,Xr),gs=this._buildPlayer(Yt,ii,fr);if(Yt.subTimeline&&$&&tn.add(yn),bi){const ms=new lo(v,_e,yn);ms.setRealPlayer(gs),mt.push(ms)}return gs});mt.forEach(Yt=>{Nt(this.playersByQueriedElement,Yt.element,[]).push(Yt),Yt.onDone(()=>function(M,v,b){let x;if(M instanceof Map){if(x=M.get(v),x){if(x.length){const $=x.indexOf(b);x.splice($,1)}0==x.length&&M.delete(v)}}else if(x=M[v],x){if(x.length){const $=x.indexOf(b);x.splice($,1)}0==x.length&&delete M[v]}return x}(this.playersByQueriedElement,Yt.element,Yt))}),Ot.forEach(Yt=>rt(Yt,Ni));const dn=En(Pn);return dn.onDestroy(()=>{Ot.forEach(Yt=>ft(Yt,Ni)),di(xe,b.toStyles)}),tn.forEach(Yt=>{Nt($,Yt,[]).push(dn)}),dn}_buildPlayer(v,b,x){return b.length>0?this.driver.animate(v.element,b,v.duration,v.delay,v.easing,x):new Jn.ZN(v.duration,v.delay)}}class lo{constructor(v,b,x){this.namespaceId=v,this.triggerName=b,this.element=x,this._player=new Jn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,Object.keys(this._queuedCallbacks).forEach(b=>{this._queuedCallbacks[b].forEach(x=>br(v,b,void 0,x))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const b=this._player;b.triggerCallback&&v.onStart(()=>b.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,b){Nt(this._queuedCallbacks,v,[]).push(b)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const b=this._player;b.triggerCallback&&b.triggerCallback(v)}}function uo(M){return M&&1===M.nodeType}function q(M,v){const b=M.style.display;return M.style.display=null!=v?v:"none",b}function B(M,v,b,x,$){const X=[];b.forEach(xe=>X.push(q(xe)));const ge=[];x.forEach((xe,mt)=>{const Ot={};xe.forEach(tn=>{const Pn=Ot[tn]=v.computeStyle(mt,tn,$);(!Pn||0==Pn.length)&&(mt[jr]=Ii,ge.push(mt))}),M.set(mt,Ot)});let _e=0;return b.forEach(xe=>q(xe,X[_e++])),ge}function K(M,v){const b=new Map;if(M.forEach(_e=>b.set(_e,[])),0==v.length)return b;const $=new Set(v),X=new Map;function ge(_e){if(!_e)return 1;let xe=X.get(_e);if(xe)return xe;const mt=_e.parentNode;return xe=b.has(mt)?mt:$.has(mt)?1:ge(mt),X.set(_e,xe),xe}return v.forEach(_e=>{const xe=ge(_e);1!==xe&&b.get(xe).push(_e)}),b}const ae="$$classes";function rt(M,v){if(M.classList)M.classList.add(v);else{let b=M[ae];b||(b=M[ae]={}),b[v]=!0}}function ft(M,v){if(M.classList)M.classList.remove(v);else{let b=M[ae];b&&delete b[v]}}function cn(M,v,b){En(b).onDone(()=>M.processLeaveNode(v))}function ln(M,v){for(let b=0;b<M.length;b++){const x=M[b];x instanceof Jn.ZE?ln(x.players,v):v.push(x)}}function On(M,v,b){const x=b.get(M);if(!x)return!1;let $=v.get(M);return $?x.forEach(X=>$.add(X)):v.set(M,x),b.delete(M),!0}class Xn{constructor(v,b,x){this.bodyNode=v,this._driver=b,this._normalizer=x,this._triggerCache={},this.onRemovalComplete=($,X)=>{},this._transitionEngine=new to(v,b,x),this._timelineEngine=new ha(v,b,x),this._transitionEngine.onRemovalComplete=($,X)=>this.onRemovalComplete($,X)}registerTrigger(v,b,x,$,X){const ge=v+"-"+$;let _e=this._triggerCache[ge];if(!_e){const xe=[],mt=ds(this._driver,X,xe);if(xe.length)throw new Error(`The animation trigger "${$}" has failed to build due to the following errors:\n - ${xe.join("\n - ")}`);_e=function(M,v,b){return new It(M,v,b)}($,mt,this._normalizer),this._triggerCache[ge]=_e}this._transitionEngine.registerTrigger(b,$,_e)}register(v,b){this._transitionEngine.register(v,b)}destroy(v,b){this._transitionEngine.destroy(v,b)}onInsert(v,b,x,$){this._transitionEngine.insertNode(v,b,x,$)}onRemove(v,b,x,$){this._transitionEngine.removeNode(v,b,$||!1,x)}disableAnimations(v,b){this._transitionEngine.markElementAsDisabled(v,b)}process(v,b,x,$){if("@"==x.charAt(0)){const[X,ge]=Mn(x);this._timelineEngine.command(X,b,ge,$)}else this._transitionEngine.trigger(v,b,x,$)}listen(v,b,x,$,X){if("@"==x.charAt(0)){const[ge,_e]=Mn(x);return this._timelineEngine.listen(ge,b,_e,X)}return this._transitionEngine.listen(v,b,x,$,X)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Wn(M,v){let b=null,x=null;return Array.isArray(v)&&v.length?(b=gi(v[0]),v.length>1&&(x=gi(v[v.length-1]))):v&&(b=gi(v)),b||x?new Dr(M,b,x):null}let Dr=(()=>{class M{constructor(b,x,$){this._element=b,this._startStyles=x,this._endStyles=$,this._state=0;let X=M.initialStylesByElement.get(b);X||M.initialStylesByElement.set(b,X={}),this._initialStyles=X}start(){this._state<1&&(this._startStyles&&di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(di(this._element,this._initialStyles),this._endStyles&&(di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(M.initialStylesByElement.delete(this._element),this._startStyles&&(yi(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yi(this._element,this._endStyles),this._endStyles=null),di(this._element,this._initialStyles),this._state=3)}}return M.initialStylesByElement=new WeakMap,M})();function gi(M){let v=null;const b=Object.keys(M);for(let x=0;x<b.length;x++){const $=b[x];Zi($)&&(v=v||{},v[$]=M[$])}return v}function Zi(M){return"display"===M||"position"===M}const Di="animation",Ar="animationend";class Fi{constructor(v,b,x,$,X,ge,_e){this._element=v,this._name=b,this._duration=x,this._delay=$,this._easing=X,this._fillMode=ge,this._onDoneFn=_e,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=xe=>this._handleCallback(xe)}apply(){(function(M,v){const b=Ms(M,"").trim();let x=0;b.length&&(function(M,v){let b=0;for(let x=0;x<M.length;x++)","===M.charAt(x)&&b++;return b}(b)+1,v=`${b}, ${v}`),$s(M,"",v)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Jr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Hs(this._element,this._name,"paused")}resume(){Hs(this._element,this._name,"running")}setPosition(v){const b=ro(this._element,this._name);this._position=v*this._duration,$s(this._element,"Delay",`-${this._position}ms`,b)}getPosition(){return this._position}_handleCallback(v){const b=v._ngTestManualTimestamp||Date.now(),x=1e3*parseFloat(v.elapsedTime.toFixed(3));v.animationName==this._name&&Math.max(b-this._startTime,0)>=this._delay&&x>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Jr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(M,v){const x=Ms(M,"").split(","),$=Rs(x,v);$>=0&&(x.splice($,1),$s(M,"",x.join(",")))}(this._element,this._name))}}function Hs(M,v,b){$s(M,"PlayState",b,ro(M,v))}function ro(M,v){const b=Ms(M,"");return b.indexOf(",")>0?Rs(b.split(","),v):Rs([b],v)}function Rs(M,v){for(let b=0;b<M.length;b++)if(M[b].indexOf(v)>=0)return b;return-1}function Jr(M,v,b){b?M.removeEventListener(Ar,v):M.addEventListener(Ar,v)}function $s(M,v,b,x){const $=Di+v;if(null!=x){const X=M.style[$];if(X.length){const ge=X.split(",");ge[x]=b,b=ge.join(",")}}M.style[$]=b}function Ms(M,v){return M.style[Di+v]||""}class Ne{constructor(v,b,x,$,X,ge,_e,xe){this.element=v,this.keyframes=b,this.animationName=x,this._duration=$,this._delay=X,this._finalStyles=_e,this._specialStyles=xe,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ge||"linear",this.totalTime=$+X,this._buildStyler()}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(v=>v()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(v){this._styler.setPosition(v)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Fi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(v){const b="start"==v?this._onStartFns:this._onDoneFns;b.forEach(x=>x()),b.length=0}beforeDestroy(){this.init();const v={};if(this.hasStarted()){const b=this._state>=3;Object.keys(this._finalStyles).forEach(x=>{"offset"!=x&&(v[x]=b?this._finalStyles[x]:hi(this.element,x))})}this.currentSnapshot=v}}class St extends Jn.ZN{constructor(v,b){super(),this.element=v,this._startingStyles={},this.__initialized=!1,this._styles=xn(b)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(v=>{this._startingStyles[v]=this.element.style[v]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(v=>this.element.style.setProperty(v,this._styles[v])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(v=>{const b=this._startingStyles[v];b?this.element.style.setProperty(v,b):this.element.style.removeProperty(v)}),this._startingStyles=null,super.destroy())}}class rs{constructor(){this._count=0}validateStyleProperty(v){return Oe(v)}matchesElement(v,b){return Je(v,b)}containsElement(v,b){return gt(v,b)}query(v,b,x){return an(v,b,x)}computeStyle(v,b,x){return window.getComputedStyle(v)[b]}buildKeyframeElement(v,b,x){x=x.map(_e=>xn(_e));let $=`@keyframes ${b} {\n`,X="";x.forEach(_e=>{X=" ";const xe=parseFloat(_e.offset);$+=`${X}${100*xe}% {\n`,X+=" ",Object.keys(_e).forEach(mt=>{const Ot=_e[mt];switch(mt){case"offset":return;case"easing":return void(Ot&&($+=`${X}animation-timing-function: ${Ot};\n`));default:return void($+=`${X}${mt}: ${Ot};\n`)}}),$+=`${X}}\n`}),$+="}\n";const ge=document.createElement("style");return ge.textContent=$,ge}animate(v,b,x,$,X,ge=[],_e){const xe=ge.filter(ar=>ar instanceof Ne),mt={};_i(x,$)&&xe.forEach(ar=>{let bi=ar.currentSnapshot;Object.keys(bi).forEach(fr=>mt[fr]=bi[fr])});const Ot=function(M){let v={};return M&&(Array.isArray(M)?M:[M]).forEach(x=>{Object.keys(x).forEach($=>{"offset"==$||"easing"==$||(v[$]=x[$])})}),v}(b=_o(v,b,mt));if(0==x)return new St(v,Ot);const tn="gen_css_kf_"+this._count++,Pn=this.buildKeyframeElement(v,tn,b);(function(M){var v;const b=null===(v=M.getRootNode)||void 0===v?void 0:v.call(M);return"undefined"!=typeof ShadowRoot&&b instanceof ShadowRoot?b:document.head})(v).appendChild(Pn);const Yt=Wn(v,b),yn=new Ne(v,b,tn,x,$,X,Ot,Yt);return yn.onDestroy(()=>{var M;(M=Pn).parentNode.removeChild(M)}),yn}}class ko{constructor(v,b,x,$){this.element=v,this.keyframes=b,this.options=x,this._specialStyles=$,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=x.duration,this._delay=x.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(v,b,x){return v.animate(b,x)}onStart(v){this._onStartFns.push(v)}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(b=>{"offset"!=b&&(v[b]=this._finished?this._finalKeyframe[b]:hi(this.element,b))}),this.currentSnapshot=v}triggerCallback(v){const b="start"==v?this._onStartFns:this._onDoneFns;b.forEach(x=>x()),b.length=0}}class pa{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ha().toLowerCase().toString()),this._cssKeyframesDriver=new rs}validateStyleProperty(v){return Oe(v)}matchesElement(v,b){return Je(v,b)}containsElement(v,b){return gt(v,b)}query(v,b,x){return an(v,b,x)}computeStyle(v,b,x){return window.getComputedStyle(v)[b]}overrideWebAnimationsSupport(v){this._isNativeImpl=v}animate(v,b,x,$,X,ge=[],_e){if(!_e&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(v,b,x,$,X,ge);const Ot={duration:x,delay:$,fill:0==$?"both":"forwards"};X&&(Ot.easing=X);const tn={},Pn=ge.filter(Yt=>Yt instanceof ko);_i(x,$)&&Pn.forEach(Yt=>{let yn=Yt.currentSnapshot;Object.keys(yn).forEach(ar=>tn[ar]=yn[ar])});const dn=Wn(v,b=_o(v,b=b.map(Yt=>Qr(Yt,!1)),tn));return new ko(v,b,Ot,dn)}}function Ha(){return Wi()&&Element.prototype.animate||{}}let gl=(()=>{class M extends Jn._j{constructor(b,x){super(),this._nextAnimationId=0,this._renderer=b.createRenderer(x.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(b){const x=this._nextAnimationId.toLowerCase().toString();this._nextAnimationId++;const $=Array.isArray(b)?(0,Jn.vP)(b):b;return Fo(this._renderer,null,x,"register",[$]),new ml(x,this._renderer)}}return M.\u0275fac=function(b){return new(b||M)(f.LFG(f.FYo),f.LFG(Re.K0))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();class ml extends Jn.LC{constructor(v,b){super(),this._id=v,this._renderer=b}create(v,b){return new ps(this._id,v,b||{},this._renderer)}}class ps{constructor(v,b,x,$){this.id=v,this.element=b,this._renderer=$,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",x)}_listen(v,b){return this._renderer.listen(this.element,`@@${this.id}:${v}`,b)}_command(v,...b){return Fo(this._renderer,this.element,this.id,v,b)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){var v,b;return null!==(b=null===(v=this._renderer.engine.players[+this.id])||void 0===v?void 0:v.getPosition())&&void 0!==b?b:0}}function Fo(M,v,b,x,$){return M.setProperty(v,`@@${b}:${x}`,$)}const co="@.disabled";let Ma=(()=>{class M{constructor(b,x,$){this.delegate=b,this.engine=x,this._zone=$,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),x.onRemovalComplete=(X,ge)=>{ge&&ge.parentNode(X)&&ge.removeChild(X.parentNode,X)}}createRenderer(b,x){const X=this.delegate.createRenderer(b,x);if(!(b&&x&&x.data&&x.data.animation)){let Ot=this._rendererCache.get(X);return Ot||(Ot=new Bt("",X,this.engine),this._rendererCache.set(X,Ot)),Ot}const ge=x.id,_e=x.id+"-"+this._currentId;this._currentId++,this.engine.register(_e,b);const xe=Ot=>{Array.isArray(Ot)?Ot.forEach(xe):this.engine.registerTrigger(ge,_e,b,Ot.name,Ot)};return x.data.animation.forEach(xe),new ui(this,_e,X,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(b,x,$){b>=0&&b<this._microtaskId?this._zone.run(()=>x($)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(X=>{const[ge,_e]=X;ge(_e)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([x,$]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return M.\u0275fac=function(b){return new(b||M)(f.LFG(f.FYo),f.LFG(Xn),f.LFG(f.R0b))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();class Bt{constructor(v,b,x){this.namespaceId=v,this.delegate=b,this.engine=x,this.destroyNode=this.delegate.destroyNode?$=>b.destroyNode($):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(v,b){return this.delegate.createElement(v,b)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,b){this.delegate.appendChild(v,b),this.engine.onInsert(this.namespaceId,b,v,!1)}insertBefore(v,b,x,$=!0){this.delegate.insertBefore(v,b,x),this.engine.onInsert(this.namespaceId,b,v,$)}removeChild(v,b,x){this.engine.onRemove(this.namespaceId,b,this.delegate,x)}selectRootElement(v,b){return this.delegate.selectRootElement(v,b)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,b,x,$){this.delegate.setAttribute(v,b,x,$)}removeAttribute(v,b,x){this.delegate.removeAttribute(v,b,x)}addClass(v,b){this.delegate.addClass(v,b)}removeClass(v,b){this.delegate.removeClass(v,b)}setStyle(v,b,x,$){this.delegate.setStyle(v,b,x,$)}removeStyle(v,b,x){this.delegate.removeStyle(v,b,x)}setProperty(v,b,x){"@"==b.charAt(0)&&b==co?this.disableAnimations(v,!!x):this.delegate.setProperty(v,b,x)}setValue(v,b){this.delegate.setValue(v,b)}listen(v,b,x){return this.delegate.listen(v,b,x)}disableAnimations(v,b){this.engine.disableAnimations(v,b)}}class ui extends Bt{constructor(v,b,x,$){super(b,x,$),this.factory=v,this.namespaceId=b}setProperty(v,b,x){"@"==b.charAt(0)?"."==b.charAt(1)&&b==co?this.disableAnimations(v,x=void 0===x||!!x):this.engine.process(this.namespaceId,v,b.substr(1),x):this.delegate.setProperty(v,b,x)}listen(v,b,x){if("@"==b.charAt(0)){const $=function(M){switch(M){case"body":return document.body;case"document":return document;case"window":return window;default:return M}}(v);let X=b.substr(1),ge="";return"@"!=X.charAt(0)&&([X,ge]=function(M){const v=M.indexOf(".");return[M.substring(0,v),M.substr(v+1)]}(X)),this.engine.listen(this.namespaceId,$,X,ge,_e=>{this.factory.scheduleListenerCallback(_e._data||-1,x,_e)})}return this.delegate.listen(v,b,x)}}let In=(()=>{class M extends Xn{constructor(b,x,$){super(b.body,x,$)}ngOnDestroy(){this.flush()}}return M.\u0275fac=function(b){return new(b||M)(f.LFG(Re.K0),f.LFG(Nn),f.LFG(fi))},M.\u0275prov=f.Yz7({token:M,factory:M.\u0275fac}),M})();const D=new f.OlP("AnimationModuleType"),T=[{provide:Jn._j,useClass:gl},{provide:fi,useFactory:function(){return new pi}},{provide:Xn,useClass:In},{provide:f.FYo,useFactory:function(M,v,b){return new Ma(M,v,b)},deps:[_.se,Xn,f.R0b]}],I=[{provide:Nn,useFactory:function(){return"function"==typeof Ha()?new pa:new rs}},{provide:D,useValue:"BrowserAnimations"},...T],V=[{provide:Nn,useClass:lr},{provide:D,useValue:"NoopAnimations"},...T];let G=(()=>{class M{static withConfig(b){return{ngModule:M,providers:b.disableAnimations?V:I}}}return M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=f.oAB({type:M}),M.\u0275inj=f.cJS({providers:I,imports:[_.b2]}),M})();var be=Z(2271);let Fe=(()=>{class M{}return M.\u0275fac=function(b){return new(b||M)},M.\u0275mod=f.oAB({type:M,bootstrap:[bn]}),M.\u0275inj=f.cJS({providers:[{provide:Ae.sN,useClass:Ae.TD}],imports:[[_.b2,Ri,Xe.UX,Xe.u5,ji.hO.initializeApp(te_firebaseConfig),G,os.Rh.forRoot({timeOut:1500,positionClass:"toast-bottom-center",preventDuplicates:!0}),Ae.mZ,be.m]]}),M})();(0,f.G48)(),_.q6().bootstrapModule(Fe).catch(M=>console.error(M))},4762:(Ht,tt,Z)=>{"use strict";function Ue(Le,nt){var Qe={};for(var Te in Le)Object.prototype.hasOwnProperty.call(Le,Te)&&nt.indexOf(Te)<0&&(Qe[Te]=Le[Te]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Te=Object.getOwnPropertySymbols(Le);We<Te.length;We++)nt.indexOf(Te[We])<0&&Object.prototype.propertyIsEnumerable.call(Le,Te[We])&&(Qe[Te[We]]=Le[Te[We]])}return Qe}function he(Le,nt,Qe,Te){return new(Qe||(Qe=Promise))(function(Ee,wt){function Pt(Ft){try{Gt(Te.next(Ft))}catch(Kt){wt(Kt)}}function qt(Ft){try{Gt(Te.throw(Ft))}catch(Kt){wt(Kt)}}function Gt(Ft){Ft.done?Ee(Ft.value):function(Ee){return Ee instanceof Qe?Ee:new Qe(function(wt){wt(Ee)})}(Ft.value).then(Pt,qt)}Gt((Te=Te.apply(Le,nt||[])).next())})}function ye(Le,nt){var Te,We,Ee,wt,Qe={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return wt={next:Pt(0),throw:Pt(1),return:Pt(2)},"function"==typeof Symbol&&(wt[Symbol.iterator]=function(){return this}),wt;function Pt(Gt){return function(Ft){return function(Gt){if(Te)throw new TypeError("Generator is already executing.");for(;Qe;)try{if(Te=1,We&&(Ee=2&Gt[0]?We.return:Gt[0]?We.throw||((Ee=We.return)&&Ee.call(We),0):We.next)&&!(Ee=Ee.call(We,Gt[1])).done)return Ee;switch(We=0,Ee&&(Gt=[2&Gt[0],Ee.value]),Gt[0]){case 0:case 1:Ee=Gt;break;case 4:return Qe.label++,{value:Gt[1],done:!1};case 5:Qe.label++,We=Gt[1],Gt=[0];continue;case 7:Gt=Qe.ops.pop(),Qe.trys.pop();continue;default:if(!(Ee=(Ee=Qe.trys).length>0&&Ee[Ee.length-1])&&(6===Gt[0]||2===Gt[0])){Qe=0;continue}if(3===Gt[0]&&(!Ee||Gt[1]>Ee[0]&&Gt[1]<Ee[3])){Qe.label=Gt[1];break}if(6===Gt[0]&&Qe.label<Ee[1]){Qe.label=Ee[1],Ee=Gt;break}if(Ee&&Qe.label<Ee[2]){Qe.label=Ee[2],Qe.ops.push(Gt);break}Ee[2]&&Qe.ops.pop(),Qe.trys.pop();continue}Gt=nt.call(Le,Qe)}catch(Ft){Gt=[6,Ft],We=0}finally{Te=Ee=0}if(5&Gt[0])throw Gt[1];return{value:Gt[0]?Gt[1]:void 0,done:!0}}([Gt,Ft])}}}function ue(Le){var nt="function"==typeof Symbol&&Symbol.iterator,Qe=nt&&Le[nt],Te=0;if(Qe)return Qe.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&Te>=Le.length&&(Le=void 0),{value:Le&&Le[Te++],done:!Le}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(Le,nt){var Qe="function"==typeof Symbol&&Le[Symbol.iterator];if(!Qe)return Le;var We,wt,Te=Qe.call(Le),Ee=[];try{for(;(void 0===nt||nt-- >0)&&!(We=Te.next()).done;)Ee.push(We.value)}catch(Pt){wt={error:Pt}}finally{try{We&&!We.done&&(Qe=Te.return)&&Qe.call(Te)}finally{if(wt)throw wt.error}}return Ee}function Ze(Le,nt,Qe){if(Qe||2===arguments.length)for(var Ee,Te=0,We=nt.length;Te<We;Te++)(Ee||!(Te in nt))&&(Ee||(Ee=Array.prototype.slice.call(nt,0,Te)),Ee[Te]=nt[Te]);return Le.concat(Ee||Array.prototype.slice.call(nt))}Z.d(tt,{_T:()=>Ue,mG:()=>he,Jh:()=>ye,XA:()=>ue,CR:()=>Ve,ev:()=>Ze})},8239:(Ht,tt,Z)=>{"use strict";function _(te,Ue,Re,pe,ze,he,ye){try{var ne=te[he](ye),le=ne.value}catch(ue){return void Re(ue)}ne.done?Ue(le):Promise.resolve(le).then(pe,ze)}function f(te){return function(){var Ue=this,Re=arguments;return new Promise(function(pe,ze){var he=te.apply(Ue,Re);function ye(le){_(he,pe,ze,ye,ne,"next",le)}function ne(le){_(he,pe,ze,ye,ne,"throw",le)}ye(void 0)})}}Z.d(tt,{Z:()=>f})}},Ht=>{Ht(Ht.s=7126)}]);