(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{8255:Gt=>{function tt(q){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+q+"'");throw _.code="MODULE_NOT_FOUND",_})}tt.keys=()=>[],tt.resolve=tt,tt.id=8255,Gt.exports=tt},7238:(Gt,tt,q)=>{"use strict";q.d(tt,{l3:()=>ee,_j:()=>_,LC:()=>g,ZN:()=>fe,jt:()=>Ne,vP:()=>$e,SB:()=>me,oB:()=>he,eR:()=>ce,X$:()=>Ve,ZE:()=>ht,k1:()=>_t});class _{}class g{}const ee="*";function Ve(ct,De){return{type:7,name:ct,definitions:De,options:{}}}function Ne(ct,De=null){return{type:4,styles:De,timings:ct}}function $e(ct,De=null){return{type:2,steps:ct,options:De}}function he(ct){return{type:6,styles:ct,offset:null}}function me(ct,De,xt){return{type:0,name:ct,styles:De,options:xt}}function ce(ct,De,xt=null){return{type:1,expr:ct,animation:De,options:xt}}function gt(ct){Promise.resolve(null).then(ct)}class fe{constructor(De=0,xt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=De+xt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}onStart(De){this._onStartFns.push(De)}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(De=>De()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(De){this._position=this.totalTime?De*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(De){const xt="start"==De?this._onStartFns:this._onDoneFns;xt.forEach($t=>$t()),xt.length=0}}class ht{constructor(De){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=De;let xt=0,$t=0,nn=0;const st=this.players.length;0==st?gt(()=>this._onFinish()):this.players.forEach(Le=>{Le.onDone(()=>{++xt==st&&this._onFinish()}),Le.onDestroy(()=>{++$t==st&&this._onDestroy()}),Le.onStart(()=>{++nn==st&&this._onStart()})}),this.totalTime=this.players.reduce((Le,nt)=>Math.max(Le,nt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(De=>De()),this._onDoneFns=[])}init(){this.players.forEach(De=>De.init())}onStart(De){this._onStartFns.push(De)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(De=>De()),this._onStartFns=[])}onDone(De){this._onDoneFns.push(De)}onDestroy(De){this._onDestroyFns.push(De)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(De=>De.play())}pause(){this.players.forEach(De=>De.pause())}restart(){this.players.forEach(De=>De.restart())}finish(){this._onFinish(),this.players.forEach(De=>De.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(De=>De.destroy()),this._onDestroyFns.forEach(De=>De()),this._onDestroyFns=[])}reset(){this.players.forEach(De=>De.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(De){const xt=De*this.totalTime;this.players.forEach($t=>{const nn=$t.totalTime?Math.min(1,xt/$t.totalTime):1;$t.setPosition(nn)})}getPosition(){const De=this.players.reduce((xt,$t)=>null===xt||$t.totalTime>xt.totalTime?$t:xt,null);return null!=De?De.getPosition():0}beforeDestroy(){this.players.forEach(De=>{De.beforeDestroy&&De.beforeDestroy()})}triggerCallback(De){const xt="start"==De?this._onStartFns:this._onDoneFns;xt.forEach($t=>$t()),xt.length=0}}const _t="!"},8583:(Gt,tt,q)=>{"use strict";q.d(tt,{mr:()=>ht,ez:()=>Ds,K0:()=>$e,uU:()=>ki,Do:()=>ct,V_:()=>te,Ye:()=>De,S$:()=>gt,mk:()=>cn,sg:()=>Un,O5:()=>mi,b0:()=>_t,lw:()=>he,gd:()=>Us,EM:()=>Ji,JF:()=>ms,PM:()=>Zi,w_:()=>ye,bD:()=>Gi,q:()=>ee,Mx:()=>vt,HT:()=>Ne});var _=q(7716);let g=null;function ee(){return g}function Ne(U){g||(g=U)}class ye{}const $e=new _.OlP("DocumentToken");let he=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=(0,_.Yz7)({factory:me,token:U,providedIn:"platform"}),U})();function me(){return(0,_.LFG)(ce)}const te=new _.OlP("Location Initialized");let ce=(()=>{class U extends he{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ee().getBaseHref(this._doc)}onPopState(H){const re=ee().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",H,!1),()=>re.removeEventListener("popstate",H)}onHashChange(H){const re=ee().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",H,!1),()=>re.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,re,we){de()?this._history.pushState(H,re,we):this.location.hash=we}replaceState(H,re,we){de()?this._history.replaceState(H,re,we):this.location.hash=we}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return U.\u0275fac=function(H){return new(H||U)(_.LFG($e))},U.\u0275prov=(0,_.Yz7)({factory:Se,token:U,providedIn:"platform"}),U})();function de(){return!!window.history.pushState}function Se(){return new ce((0,_.LFG)($e))}function Fe(U,X){if(0==U.length)return X;if(0==X.length)return U;let H=0;return U.endsWith("/")&&H++,X.startsWith("/")&&H++,2==H?U+X.substring(1):1==H?U+X:U+"/"+X}function Ke(U){const X=U.match(/#|\?|$/),H=X&&X.index||U.length;return U.slice(0,H-("/"===U[H-1]?1:0))+U.slice(H)}function qe(U){return U&&"?"!==U[0]?"?"+U:U}let gt=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=(0,_.Yz7)({factory:fe,token:U,providedIn:"root"}),U})();function fe(U){const X=(0,_.LFG)($e).location;return new _t((0,_.LFG)(he),X&&X.origin||"")}const ht=new _.OlP("appBaseHref");let _t=(()=>{class U extends gt{constructor(H,re){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==re&&(re=this._platformLocation.getBaseHrefFromDOM()),null==re)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=re}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return Fe(this._baseHref,H)}path(H=!1){const re=this._platformLocation.pathname+qe(this._platformLocation.search),we=this._platformLocation.hash;return we&&H?`${re}${we}`:re}pushState(H,re,we,it){const Dt=this.prepareExternalUrl(we+qe(it));this._platformLocation.pushState(H,re,Dt)}replaceState(H,re,we,it){const Dt=this.prepareExternalUrl(we+qe(it));this._platformLocation.replaceState(H,re,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var re,we;null===(we=(re=this._platformLocation).historyGo)||void 0===we||we.call(re,H)}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(he),_.LFG(ht,8))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})(),ct=(()=>{class U extends gt{constructor(H,re){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(H){const re=Fe(this._baseHref,H);return re.length>0?"#"+re:re}pushState(H,re,we,it){let Dt=this.prepareExternalUrl(we+qe(it));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.pushState(H,re,Dt)}replaceState(H,re,we,it){let Dt=this.prepareExternalUrl(we+qe(it));0==Dt.length&&(Dt=this._platformLocation.pathname),this._platformLocation.replaceState(H,re,Dt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var re,we;null===(we=(re=this._platformLocation).historyGo)||void 0===we||we.call(re,H)}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(he),_.LFG(ht,8))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})(),De=(()=>{class U{constructor(H,re){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const we=this._platformStrategy.getBaseHref();this._platformLocation=re,this._baseHref=Ke(nn(we)),this._platformStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,re=""){return this.path()==this.normalize(H+qe(re))}normalize(H){return U.stripTrailingSlash(function(U,X){return U&&X.startsWith(U)?X.substring(U.length):X}(this._baseHref,nn(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,re="",we=null){this._platformStrategy.pushState(we,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(re)),we)}replaceState(H,re="",we=null){this._platformStrategy.replaceState(we,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(re)),we)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var re,we;null===(we=(re=this._platformStrategy).historyGo)||void 0===we||we.call(re,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)}))}_notifyUrlChangeListeners(H="",re){this._urlChangeListeners.forEach(we=>we(H,re))}subscribe(H,re,we){return this._subject.subscribe({next:H,error:re,complete:we})}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(gt),_.LFG(he))},U.normalizeQueryParams=qe,U.joinWithSlash=Fe,U.stripTrailingSlash=Ke,U.\u0275prov=(0,_.Yz7)({factory:xt,token:U,providedIn:"root"}),U})();function xt(){return new De((0,_.LFG)(gt),(0,_.LFG)(he))}function nn(U){return U.replace(/\/index.html$/,"")}var nt=(()=>((nt=nt||{})[nt.Zero=0]="Zero",nt[nt.One=1]="One",nt[nt.Two=2]="Two",nt[nt.Few=3]="Few",nt[nt.Many=4]="Many",nt[nt.Other=5]="Other",nt))(),Qe=(()=>((Qe=Qe||{})[Qe.Format=0]="Format",Qe[Qe.Standalone=1]="Standalone",Qe))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),ze=(()=>((ze=ze||{})[ze.Short=0]="Short",ze[ze.Medium=1]="Medium",ze[ze.Long=2]="Long",ze[ze.Full=3]="Full",ze))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function ut(U,X){return rn((0,_.cg1)(U)[_.wAp.DateFormat],X)}function xe(U,X){return rn((0,_.cg1)(U)[_.wAp.TimeFormat],X)}function Ge(U,X){return rn((0,_.cg1)(U)[_.wAp.DateTimeFormat],X)}function Tt(U,X){const H=(0,_.cg1)(U),re=H[_.wAp.NumberSymbols][X];if(void 0===re){if(X===Ee.CurrencyDecimal)return H[_.wAp.NumberSymbols][Ee.Decimal];if(X===Ee.CurrencyGroup)return H[_.wAp.NumberSymbols][Ee.Group]}return re}const jn=_.kL8;function Ot(U){if(!U[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rn(U,X){for(let H=X;H>-1;H--)if(void 0!==U[H])return U[H];throw new Error("Locale data API: locale data undefined")}function un(U){const[X,H]=U.split(":");return{hours:+X,minutes:+H}}const hn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Xn={},Rr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var nr=(()=>((nr=nr||{})[nr.Short=0]="Short",nr[nr.ShortGMT=1]="ShortGMT",nr[nr.Long=2]="Long",nr[nr.Extended=3]="Extended",nr))(),kt=(()=>((kt=kt||{})[kt.FullYear=0]="FullYear",kt[kt.Month=1]="Month",kt[kt.Date=2]="Date",kt[kt.Hours=3]="Hours",kt[kt.Minutes=4]="Minutes",kt[kt.Seconds=5]="Seconds",kt[kt.FractionalSeconds=6]="FractionalSeconds",kt[kt.Day=7]="Day",kt))(),on=(()=>((on=on||{})[on.DayPeriods=0]="DayPeriods",on[on.Days=1]="Days",on[on.Months=2]="Months",on[on.Eras=3]="Eras",on))();function jr(U,X,H,re){let we=function(U){if(Yi(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[we,it=1,Dt=1]=U.split("-").map(V=>+V);return hi(we,it-1,Dt)}const H=parseFloat(U);if(!isNaN(U-H))return new Date(H);let re;if(re=U.match(hn))return function(U){const X=new Date(0);let H=0,re=0;const we=U[8]?X.setUTCFullYear:X.setFullYear,it=U[8]?X.setUTCHours:X.setHours;U[9]&&(H=Number(U[9]+U[10]),re=Number(U[9]+U[11])),we.call(X,Number(U[1]),Number(U[2])-1,Number(U[3]));const Dt=Number(U[4]||0)-H,V=Number(U[5]||0)-re,P=Number(U[6]||0),R=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return it.call(X,Dt,V,P,R),X}(re)}const X=new Date(U);if(!Yi(X))throw new Error(`Unable to convert "${U}" into a date`);return X}(U);X=kn(H,X)||X;let V,Dt=[];for(;X;){if(V=Rr.exec(X),!V){Dt.push(X);break}{Dt=Dt.concat(V.slice(1));const J=Dt.pop();if(!J)break;X=J}}let P=we.getTimezoneOffset();re&&(P=Hr(re,P),we=function(U,X,H){const we=U.getTimezoneOffset();return function(U,X){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+X),U}(U,-1*(Hr(X,we)-we))}(we,re));let R="";return Dt.forEach(J=>{const We=function(U){if(Zn[U])return Zn[U];let X;switch(U){case"G":case"GG":case"GGG":X=ke(on.Eras,Te.Abbreviated);break;case"GGGG":X=ke(on.Eras,Te.Wide);break;case"GGGGG":X=ke(on.Eras,Te.Narrow);break;case"y":X=Re(kt.FullYear,1,0,!1,!0);break;case"yy":X=Re(kt.FullYear,2,0,!0,!0);break;case"yyy":X=Re(kt.FullYear,3,0,!1,!0);break;case"yyyy":X=Re(kt.FullYear,4,0,!1,!0);break;case"Y":X=Hn(1);break;case"YY":X=Hn(2,!0);break;case"YYY":X=Hn(3);break;case"YYYY":X=Hn(4);break;case"M":case"L":X=Re(kt.Month,1,1);break;case"MM":case"LL":X=Re(kt.Month,2,1);break;case"MMM":X=ke(on.Months,Te.Abbreviated);break;case"MMMM":X=ke(on.Months,Te.Wide);break;case"MMMMM":X=ke(on.Months,Te.Narrow);break;case"LLL":X=ke(on.Months,Te.Abbreviated,Qe.Standalone);break;case"LLLL":X=ke(on.Months,Te.Wide,Qe.Standalone);break;case"LLLLL":X=ke(on.Months,Te.Narrow,Qe.Standalone);break;case"w":X=Gn(1);break;case"ww":X=Gn(2);break;case"W":X=Gn(1,!0);break;case"d":X=Re(kt.Date,1);break;case"dd":X=Re(kt.Date,2);break;case"c":case"cc":X=Re(kt.Day,1);break;case"ccc":X=ke(on.Days,Te.Abbreviated,Qe.Standalone);break;case"cccc":X=ke(on.Days,Te.Wide,Qe.Standalone);break;case"ccccc":X=ke(on.Days,Te.Narrow,Qe.Standalone);break;case"cccccc":X=ke(on.Days,Te.Short,Qe.Standalone);break;case"E":case"EE":case"EEE":X=ke(on.Days,Te.Abbreviated);break;case"EEEE":X=ke(on.Days,Te.Wide);break;case"EEEEE":X=ke(on.Days,Te.Narrow);break;case"EEEEEE":X=ke(on.Days,Te.Short);break;case"a":case"aa":case"aaa":X=ke(on.DayPeriods,Te.Abbreviated);break;case"aaaa":X=ke(on.DayPeriods,Te.Wide);break;case"aaaaa":X=ke(on.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":X=ke(on.DayPeriods,Te.Abbreviated,Qe.Standalone,!0);break;case"bbbb":X=ke(on.DayPeriods,Te.Wide,Qe.Standalone,!0);break;case"bbbbb":X=ke(on.DayPeriods,Te.Narrow,Qe.Standalone,!0);break;case"B":case"BB":case"BBB":X=ke(on.DayPeriods,Te.Abbreviated,Qe.Format,!0);break;case"BBBB":X=ke(on.DayPeriods,Te.Wide,Qe.Format,!0);break;case"BBBBB":X=ke(on.DayPeriods,Te.Narrow,Qe.Format,!0);break;case"h":X=Re(kt.Hours,1,-12);break;case"hh":X=Re(kt.Hours,2,-12);break;case"H":X=Re(kt.Hours,1);break;case"HH":X=Re(kt.Hours,2);break;case"m":X=Re(kt.Minutes,1);break;case"mm":X=Re(kt.Minutes,2);break;case"s":X=Re(kt.Seconds,1);break;case"ss":X=Re(kt.Seconds,2);break;case"S":X=Re(kt.FractionalSeconds,1);break;case"SS":X=Re(kt.FractionalSeconds,2);break;case"SSS":X=Re(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":X=Je(nr.Short);break;case"ZZZZZ":X=Je(nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":X=Je(nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":X=Je(nr.Long);break;default:return null}return Zn[U]=X,X}(J);R+=We?We(we,H,P):"''"===J?"'":J.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),R}function hi(U,X,H){const re=new Date(0);return re.setFullYear(U,X,H),re.setHours(0,0,0),re}function kn(U,X){const H=function(U){return(0,_.cg1)(U)[_.wAp.LocaleId]}(U);if(Xn[H]=Xn[H]||{},Xn[H][X])return Xn[H][X];let re="";switch(X){case"shortDate":re=ut(U,ze.Short);break;case"mediumDate":re=ut(U,ze.Medium);break;case"longDate":re=ut(U,ze.Long);break;case"fullDate":re=ut(U,ze.Full);break;case"shortTime":re=xe(U,ze.Short);break;case"mediumTime":re=xe(U,ze.Medium);break;case"longTime":re=xe(U,ze.Long);break;case"fullTime":re=xe(U,ze.Full);break;case"short":const we=kn(U,"shortTime"),it=kn(U,"shortDate");re=dr(Ge(U,ze.Short),[we,it]);break;case"medium":const Dt=kn(U,"mediumTime"),V=kn(U,"mediumDate");re=dr(Ge(U,ze.Medium),[Dt,V]);break;case"long":const P=kn(U,"longTime"),R=kn(U,"longDate");re=dr(Ge(U,ze.Long),[P,R]);break;case"full":const J=kn(U,"fullTime"),We=kn(U,"fullDate");re=dr(Ge(U,ze.Full),[J,We])}return re&&(Xn[H][X]=re),re}function dr(U,X){return X&&(U=U.replace(/\{([^}]+)}/g,function(H,re){return null!=X&&re in X?X[re]:H})),U}function ei(U,X,H="-",re,we){let it="";(U<0||we&&U<=0)&&(we?U=1-U:(U=-U,it=H));let Dt=String(U);for(;Dt.length<X;)Dt="0"+Dt;return re&&(Dt=Dt.substr(Dt.length-X)),it+Dt}function Re(U,X,H=0,re=!1,we=!1){return function(it,Dt){let V=function(U,X){switch(U){case kt.FullYear:return X.getFullYear();case kt.Month:return X.getMonth();case kt.Date:return X.getDate();case kt.Hours:return X.getHours();case kt.Minutes:return X.getMinutes();case kt.Seconds:return X.getSeconds();case kt.FractionalSeconds:return X.getMilliseconds();case kt.Day:return X.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,it);if((H>0||V>-H)&&(V+=H),U===kt.Hours)0===V&&-12===H&&(V=12);else if(U===kt.FractionalSeconds)return function(U,X){return ei(U,3).substr(0,X)}(V,X);const P=Tt(Dt,Ee.MinusSign);return ei(V,X,P,re,we)}}function ke(U,X,H=Qe.Format,re=!1){return function(we,it){return function(U,X,H,re,we,it){switch(H){case on.Months:return function(U,X,H){const re=(0,_.cg1)(U),it=rn([re[_.wAp.MonthsFormat],re[_.wAp.MonthsStandalone]],X);return rn(it,H)}(X,we,re)[U.getMonth()];case on.Days:return function(U,X,H){const re=(0,_.cg1)(U),it=rn([re[_.wAp.DaysFormat],re[_.wAp.DaysStandalone]],X);return rn(it,H)}(X,we,re)[U.getDay()];case on.DayPeriods:const Dt=U.getHours(),V=U.getMinutes();if(it){const R=function(U){const X=(0,_.cg1)(U);return Ot(X),(X[_.wAp.ExtraData][2]||[]).map(re=>"string"==typeof re?un(re):[un(re[0]),un(re[1])])}(X),J=function(U,X,H){const re=(0,_.cg1)(U);Ot(re);const it=rn([re[_.wAp.ExtraData][0],re[_.wAp.ExtraData][1]],X)||[];return rn(it,H)||[]}(X,we,re),We=R.findIndex(Pt=>{if(Array.isArray(Pt)){const[An,sr]=Pt,vi=Dt>=An.hours&&V>=An.minutes,Ur=Dt<sr.hours||Dt===sr.hours&&V<sr.minutes;if(An.hours<sr.hours){if(vi&&Ur)return!0}else if(vi||Ur)return!0}else if(Pt.hours===Dt&&Pt.minutes===V)return!0;return!1});if(-1!==We)return J[We]}return function(U,X,H){const re=(0,_.cg1)(U),it=rn([re[_.wAp.DayPeriodsFormat],re[_.wAp.DayPeriodsStandalone]],X);return rn(it,H)}(X,we,re)[Dt<12?0:1];case on.Eras:return function(U,X){return rn((0,_.cg1)(U)[_.wAp.Eras],X)}(X,re)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(we,it,U,X,H,re)}}function Je(U){return function(X,H,re){const we=-1*re,it=Tt(H,Ee.MinusSign),Dt=we>0?Math.floor(we/60):Math.ceil(we/60);switch(U){case nr.Short:return(we>=0?"+":"")+ei(Dt,2,it)+ei(Math.abs(we%60),2,it);case nr.ShortGMT:return"GMT"+(we>=0?"+":"")+ei(Dt,1,it);case nr.Long:return"GMT"+(we>=0?"+":"")+ei(Dt,2,it)+":"+ei(Math.abs(we%60),2,it);case nr.Extended:return 0===re?"Z":(we>=0?"+":"")+ei(Dt,2,it)+":"+ei(Math.abs(we%60),2,it);default:throw new Error(`Unknown zone width "${U}"`)}}}function Er(U){return hi(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Gn(U,X=!1){return function(H,re){let we;if(X){const it=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,Dt=H.getDate();we=1+Math.floor((Dt+it)/7)}else{const it=Er(H),Dt=function(U){const X=hi(U,0,1).getDay();return hi(U,0,1+(X<=4?4:11)-X)}(it.getFullYear()),V=it.getTime()-Dt.getTime();we=1+Math.round(V/6048e5)}return ei(we,U,Tt(re,Ee.MinusSign))}}function Hn(U,X=!1){return function(H,re){return ei(Er(H).getFullYear(),U,Tt(re,Ee.MinusSign),X)}}const Zn={};function Hr(U,X){U=U.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(H)?X:H}function Yi(U){return U instanceof Date&&!isNaN(U.valueOf())}class je{}let ge=(()=>{class U extends je{constructor(H){super(),this.locale=H}getPluralCategory(H,re){switch(jn(re||this.locale)(H)){case nt.Zero:return"zero";case nt.One:return"one";case nt.Two:return"two";case nt.Few:return"few";case nt.Many:return"many";default:return"other"}}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(_.soG))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();function vt(U,X){X=encodeURIComponent(X);for(const H of U.split(";")){const re=H.indexOf("="),[we,it]=-1==re?[H,""]:[H.slice(0,re),H.slice(re+1)];if(we.trim()===X)return decodeURIComponent(it)}return null}let cn=(()=>{class U{constructor(H,re,we,it){this._iterableDiffers=H,this._keyValueDiffers=re,this._ngEl=we,this._renderer=it,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(re=>this._toggleClass(re.key,re.currentValue)),H.forEachChangedItem(re=>this._toggleClass(re.key,re.currentValue)),H.forEachRemovedItem(re=>{re.previousValue&&this._toggleClass(re.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(re=>{if("string"!=typeof re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(re.item)}`);this._toggleClass(re.item,!0)}),H.forEachRemovedItem(re=>this._toggleClass(re.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(re=>this._toggleClass(re,!0)):Object.keys(H).forEach(re=>this._toggleClass(re,!!H[re])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(re=>this._toggleClass(re,!1)):Object.keys(H).forEach(re=>this._toggleClass(re,!1)))}_toggleClass(H,re){(H=H.trim())&&H.split(/\s+/g).forEach(we=>{re?this._renderer.addClass(this._ngEl.nativeElement,we):this._renderer.removeClass(this._ngEl.nativeElement,we)})}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class gr{constructor(X,H,re,we){this.$implicit=X,this.ngForOf=H,this.index=re,this.count=we}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Un=(()=>{class U{constructor(H,re,we){this._viewContainer=H,this._template=re,this._differs=we,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(re){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function(U){return U.name||typeof U}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const re=[];H.forEachOperation((we,it,Dt)=>{if(null==we.previousIndex){const V=this._viewContainer.createEmbeddedView(this._template,new gr(null,this._ngForOf,-1,-1),null===Dt?void 0:Dt),P=new qr(we,V);re.push(P)}else if(null==Dt)this._viewContainer.remove(null===it?void 0:it);else if(null!==it){const V=this._viewContainer.get(it);this._viewContainer.move(V,Dt);const P=new qr(we,V);re.push(P)}});for(let we=0;we<re.length;we++)this._perViewChange(re[we].view,re[we].record);for(let we=0,it=this._viewContainer.length;we<it;we++){const Dt=this._viewContainer.get(we);Dt.context.index=we,Dt.context.count=it,Dt.context.ngForOf=this._ngForOf}H.forEachIdentityChange(we=>{this._viewContainer.get(we.currentIndex).context.$implicit=we.item})}_perViewChange(H,re){H.context.$implicit=re.item}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class qr{constructor(X,H){this.record=X,this.view=H}}let mi=(()=>{class U{constructor(H,re){this._viewContainer=H,this._context=new ti,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){Mi("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){Mi("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.s_b),_.Y36(_.Rgc))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class ti{constructor(){this.$implicit=null,this.ngIf=null}}function Mi(U,X){if(X&&!X.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,_.AaK)(X)}'.`)}function Ir(U,X){return Error(`InvalidPipeArgument: '${X}' for pipe '${(0,_.AaK)(U)}'`)}let Us=(()=>{class U{transform(H){if(null==H)return null;if("string"!=typeof H)throw Ir(U,H);return H.toUpperCase()}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275pipe=_.Yjl({name:"uppercase",type:U,pure:!0}),U})(),ki=(()=>{class U{constructor(H){this.locale=H}transform(H,re="mediumDate",we,it){if(null==H||""===H||H!=H)return null;try{return jr(H,re,it||this.locale,we)}catch(Dt){throw Ir(U,Dt.message)}}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.soG,16))},U.\u0275pipe=_.Yjl({name:"date",type:U,pure:!0}),U})(),Ds=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({providers:[{provide:je,useClass:ge}]}),U})();const Gi="browser";function Zi(U){return"server"===U}let Ji=(()=>{class U{}return U.\u0275prov=(0,_.Yz7)({token:U,providedIn:"root",factory:()=>new ps((0,_.LFG)($e),window)}),U})();class ps{constructor(X,H){this.document=X,this.window=H,this.offset=()=>[0,0]}setOffset(X){this.offset=Array.isArray(X)?()=>X:X}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(X){this.supportsScrolling()&&this.window.scrollTo(X[0],X[1])}scrollToAnchor(X){if(!this.supportsScrolling())return;const H=function(U,X){const H=U.getElementById(X)||U.getElementsByName(X)[0];if(H)return H;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const re=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let we=re.currentNode;for(;we;){const it=we.shadowRoot;if(it){const Dt=it.getElementById(X)||it.querySelector(`[name="${X}"]`);if(Dt)return Dt}we=re.nextNode()}}return null}(this.document,X);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(X){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=X)}}scrollToElement(X){const H=X.getBoundingClientRect(),re=H.left+this.window.pageXOffset,we=H.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(re-it[0],we-it[1])}attemptFocus(X){return X.focus(),this.document.activeElement===X}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const X=gs(this.window.history)||gs(Object.getPrototypeOf(this.window.history));return!(!X||!X.writable&&!X.set)}catch(X){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(X){return!1}}}function gs(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class ms{}},7716:(Gt,tt,q)=>{"use strict";q.d(tt,{deG:()=>no,tb:()=>oE,AFp:()=>rE,ip1:()=>ow,CZH:()=>Uf,hGG:()=>VA,z2F:()=>Yg,sBO:()=>AT,Sil:()=>Kg,_Vd:()=>Nf,EJc:()=>lE,SBq:()=>pu,qLn:()=>m,vpe:()=>gu,gxx:()=>Sc,tBr:()=>hl,XFs:()=>lt,OlP:()=>Wi,zs3:()=>Ki,ZZ4:()=>Wy,aQg:()=>Ky,soG:()=>o_,YKP:()=>W0,v3s:()=>yA,h0i:()=>Xd,PXZ:()=>dA,R0b:()=>Va,FiY:()=>bo,Lbi:()=>sE,g9A:()=>iE,Qsj:()=>hT,FYo:()=>zy,JOm:()=>Ni,Tiy:()=>Mv,q3G:()=>Ti,tp0:()=>wa,EAV:()=>bA,Rgc:()=>Lg,dDg:()=>hE,DyG:()=>wn,q4F:()=>Pv,GfV:()=>j0,s_b:()=>Jy,ifc:()=>kt,eFA:()=>yE,G48:()=>iA,Gpc:()=>ce,X6Q:()=>fw,_c5:()=>NA,VLi:()=>rA,c2e:()=>aE,zSh:()=>fa,wAp:()=>ur,vHH:()=>Ke,EiD:()=>Ms,mCW:()=>ml,qzn:()=>gl,JVY:()=>bs,pB0:()=>cs,eBb:()=>uc,L6k:()=>Fr,LAX:()=>gh,cg1:()=>Tv,Tjo:()=>xA,kL8:()=>u0,yhl:()=>za,dqk:()=>dr,sIi:()=>ff,CqO:()=>Eg,QGY:()=>bg,F4k:()=>Ty,RDi:()=>Qs,AaK:()=>he,z3N:()=>Uo,qOj:()=>Oi,TTD:()=>Ds,_Bn:()=>F0,xp6:()=>vd,uIk:()=>og,Tol:()=>Ly,ekj:()=>Df,Suo:()=>Pb,Xpm:()=>Hn,lG2:()=>Yi,Yz7:()=>xe,cJS:()=>Tt,oAB:()=>Cn,Yjl:()=>ns,Y36:()=>Gd,_UZ:()=>vg,BQk:()=>wg,ynx:()=>Zd,qZA:()=>_g,TgZ:()=>yg,EpF:()=>Cy,n5z:()=>Xe,Ikx:()=>Ev,LFG:()=>us,$8M:()=>pn,NdJ:()=>Cg,CRH:()=>kb,O4$:()=>Vi,oxw:()=>Tg,ALo:()=>xb,lcZ:()=>Rb,Q6J:()=>mg,DdM:()=>Eb,WLB:()=>Cb,iGM:()=>Mb,MAs:()=>sy,CHM:()=>Do,oJD:()=>ca,LSH:()=>Ru,kYT:()=>gi,Udp:()=>$c,d8E:()=>Cv,YNc:()=>mf,W1O:()=>Ub,_uU:()=>j,Oqu:()=>Q,hij:()=>le,AsE:()=>ve,lnq:()=>Ze});var _=q(9765),g=q(5319),ee=q(7574),Ve=q(6682),Ne=q(8819);function ye(r){for(let i in r)if(r[i]===ye)return i;throw Error("Could not find renamed property on target object.")}function $e(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function he(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(he).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function me(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const te=ye({__forward_ref__:ye});function ce(r){return r.__forward_ref__=ce,r.toString=function(){return he(this())},r}function de(r){return Se(r)?r():r}function Se(r){return"function"==typeof r&&r.hasOwnProperty(te)&&r.__forward_ref__===ce}class Ke extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function fe(r){return"string"==typeof r?r:null==r?"":String(r)}function ht(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():fe(r)}function xt(r,i){const s=i?` in ${i}`:"";throw new Ke("201",`No provider for ${ht(r)} found${s}`)}function Lt(r,i){null==r&&function(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function xe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Tt(r){return{providers:r.providers||[],imports:r.imports||[]}}function jt(r){return On(r,jn)||On(r,Be)}function On(r,i){return r.hasOwnProperty(i)?r[i]:null}function ar(r){return r&&(r.hasOwnProperty(Ot)||r.hasOwnProperty(ot))?r[Ot]:null}const jn=ye({\u0275prov:ye}),Ot=ye({\u0275inj:ye}),Be=ye({ngInjectableDef:ye}),ot=ye({ngInjectorDef:ye});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let rn;function Ht(r){const i=rn;return rn=r,i}function dn(r,i,s){const l=jt(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&lt.Optional?null:void 0!==i?i:void xt(he(r),"Injector")}function hn(r){return{toString:r}.toString()}var Xn=(()=>((Xn=Xn||{})[Xn.OnPush=0]="OnPush",Xn[Xn.Default=1]="Default",Xn))(),kt=(()=>((kt=kt||{})[kt.Emulated=0]="Emulated",kt[kt.None=2]="None",kt[kt.ShadowDom=3]="ShadowDom",kt))();const on="undefined"!=typeof globalThis&&globalThis,jr="undefined"!=typeof window&&window,hi="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,dr=on||"undefined"!=typeof global&&global||jr||hi,Re={},Ce=[],ke=ye({\u0275cmp:ye}),mt=ye({\u0275dir:ye}),Je=ye({\u0275pipe:ye}),Vt=ye({\u0275mod:ye}),yn=ye({\u0275loc:ye}),qn=ye({\u0275fac:ye}),Er=ye({__NG_ELEMENT_ID__:ye});let Gn=0;function Hn(r){return hn(()=>{const s={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Xn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ce,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||kt.Emulated,id:"c",styles:r.styles||Ce,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,y=r.pipes;return l.id+=Gn++,l.inputs=Ai(r.inputs,s),l.outputs=Ai(r.outputs),h&&h.forEach(E=>E(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(Lr):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(Hr):null,l})}function Lr(r){return br(r)||function(r){return r[mt]||null}(r)}function Hr(r){return function(r){return r[Je]||null}(r)}const ji={};function Cn(r){return hn(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ce,declarations:r.declarations||Ce,imports:r.imports||Ce,exports:r.exports||Ce,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ji[r.id]=r.type),i})}function gi(r,i){return hn(()=>{const s=Tr(r,!0);s.declarations=i.declarations||Ce,s.imports=i.imports||Ce,s.exports=i.exports||Ce})}function Ai(r,i){if(null==r)return Re;const s={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}const Yi=Hn;function ns(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function br(r){return r[ke]||null}function Tr(r,i){const s=r[Vt]||null;if(!s&&!0===i)throw new Error(`Type ${he(r)} does not have '\u0275mod' property.`);return s}function Si(r){return Array.isArray(r)&&"object"==typeof r[1]}function mr(r){return Array.isArray(r)&&!0===r[1]}function yi(r){return 0!=(8&r.flags)}function Ls(r){return 2==(2&r.flags)}function ci(r){return 1==(1&r.flags)}function Vr(r){return null!==r.template}function Ir(r){return 0!=(512&r[2])}function Fi(r,i){return r.hasOwnProperty(qn)?r[qn]:null}class js{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ds(){return Gi}function Gi(r){return r.type.prototype.ngOnChanges&&(r.setInput=_o),yo}function yo(){const r=is(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===Re)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function _o(r,i,s,l){const c=is(r)||function(r,i){return r[rs]=i}(r,{previous:Re,current:null}),h=c.current||(c.current={}),y=c.previous,E=this.declaredInputs[s],x=y[E];h[E]=new js(x&&x.currentValue,i,y===Re),r[l]=i}Ds.ngInherit=!0;const rs="__ngSimpleChanges__";function is(r){return r[rs]||null}const Ji="http://www.w3.org/2000/svg";let gs;function Qs(r){gs=r}function ss(){return void 0!==gs?gs:"undefined"!=typeof document?document:void 0}function U(r){return!!r.listen}const H={createRenderer:(r,i)=>ss()};function we(r){for(;Array.isArray(r);)r=r[0];return r}function V(r,i){return we(i[r])}function P(r,i){return we(i[r.index])}function J(r,i){return r.data[i]}function We(r,i){return r[i]}function Pt(r,i){const s=i[r];return Si(s)?s:s[0]}function An(r){return 4==(4&r[2])}function sr(r){return 128==(128&r[2])}function Ur(r,i){return null==i?null:r[i]}function Yr(r){r[18]=0}function Li(r,i){r[5]+=i;let s=r,l=r[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const Tn={lFrame:zt(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ai(){return Tn.bindingsEnabled}function At(){return Tn.lFrame.lView}function hr(){return Tn.lFrame.tView}function Do(r){return Tn.lFrame.contextLView=r,r[8]}function ni(){let r=Ao();for(;null!==r&&64===r.type;)r=r.parent;return r}function Ao(){return Tn.lFrame.currentTNode}function vs(r,i){const s=Tn.lFrame;s.currentTNode=r,s.isParent=i}function Ss(){return Tn.lFrame.isParent}function So(){Tn.lFrame.isParent=!1}function vo(){return Tn.isInCheckNoChangesMode}function xo(r){Tn.isInCheckNoChangesMode=r}function wi(){const r=Tn.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function Xi(){return Tn.lFrame.bindingIndex}function eo(){return Tn.lFrame.bindingIndex++}function zi(r){const i=Tn.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function $s(r,i){const s=Tn.lFrame;s.bindingIndex=s.bindingRootIndex=r,$(i)}function $(r){Tn.lFrame.currentDirectiveIndex=r}function B(r){const i=Tn.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}function K(){return Tn.lFrame.currentQueryIndex}function ae(r){Tn.lFrame.currentQueryIndex=r}function Oe(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function at(r,i,s){if(s&lt.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||s&lt.Host||(c=Oe(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=Tn.lFrame=en();return l.currentTNode=i,l.lView=r,!0}function bt(r){const i=en(),s=r[1];Tn.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function en(){const r=Tn.lFrame,i=null===r?null:r.child;return null===i?zt(r):i}function zt(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function fn(){const r=Tn.lFrame;return Tn.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const $n=fn;function Wn(){const r=fn();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function tr(){return Tn.lFrame.selectedIndex}function Or(r){Tn.lFrame.selectedIndex=r}function vr(){const r=Tn.lFrame;return J(r.tView,r.selectedIndex)}function Vi(){Tn.lFrame.currentNamespace=Ji}function to(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:k,ngOnDestroy:z}=h;y&&(r.contentHooks||(r.contentHooks=[])).push(-s,y),E&&((r.contentHooks||(r.contentHooks=[])).push(s,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,E)),x&&(r.viewHooks||(r.viewHooks=[])).push(-s,x),k&&((r.viewHooks||(r.viewHooks=[])).push(s,k),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,k)),null!=z&&(r.destroyHooks||(r.destroyHooks=[])).push(s,z)}}function os(r,i,s){Jo(r,i,3,s)}function wo(r,i,s,l){(3&r[2])===s&&Jo(r,i,s,l)}function _a(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function Jo(r,i,s,l){const h=null!=l?l:-1,y=i.length-1;let E=0;for(let x=void 0!==l?65535&r[18]:0;x<y;x++)if("number"==typeof i[x+1]){if(E=i[x],null!=l&&E>=l)break}else i[x]<0&&(r[18]+=65536),(E<h||-1==h)&&(Lo(r,s,i,x),r[18]=(4294901760&r[18])+x+2),x++}function Lo(r,i,s,l){const c=s[l]<0,h=s[l+1],E=r[c?-s[l]:s[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class ri{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function rr(r,i,s){const l=U(r);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const y=s[c++],E=s[c++],x=s[c++];l?r.setAttribute(i,E,x,y):i.setAttributeNS(y,E,x)}else{const y=h,E=s[++c];b(y)?l&&r.setProperty(i,y,E):l?r.setAttribute(i,y,E):i.setAttribute(y,E),c++}}return c}function L(r){return 3===r||4===r||6===r}function b(r){return 64===r.charCodeAt(0)}function w(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||N(r,s,c,null,-1===s||2===s?i[++l]:null)}}return r}function N(r,i,s,l,c){let h=0,y=r.length;if(-1===i)y=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){y=-1;break}if(E>i){y=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===s){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(r.splice(y,0,i),h=y+1),r.splice(h++,0,s),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function W(r){return-1!==r}function oe(r){return 32767&r}function Ie(r,i){let s=function(r){return r>>16}(r),l=i;for(;s>0;)l=l[15],s--;return l}let et=!0;function pt(r){const i=et;return et=r,i}let fr=0;function Ln(r,i){const s=Rt(r,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,wr(l.data,r),wr(i,null),wr(l.blueprint,null));const c=or(r,i),h=r.injectorIndex;if(W(c)){const y=oe(c),E=Ie(c,i),x=E[1].data;for(let k=0;k<8;k++)i[h+k]=E[y+k]|x[y+k]}return i[h+8]=c,h}function wr(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Rt(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function or(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){const h=c[1],y=h.type;if(l=2===y?h.declTNode:1===y?c[6]:null,null===l)return-1;if(s++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function li(r,i,s){!function(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Er)&&(l=s[Er]),null==l&&(l=s[Er]=fr++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,s)}function mn(r,i,s){if(s&lt.Optional)return r;xt(i,"NodeInjector")}function Dn(r,i,s,l){if(s&lt.Optional&&void 0===l&&(l=null),0==(s&(lt.Self|lt.Host))){const c=r[9],h=Ht(void 0);try{return c?c.get(i,l,s&lt.Optional):dn(i,l,s&lt.Optional)}finally{Ht(h)}}return mn(l,i,s)}function as(r,i,s,l=lt.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Er)?r[Er]:void 0;return"number"==typeof i?i>=0?255&i:D:i}(s);if("function"==typeof h){if(!at(i,r,l))return l&lt.Host?mn(c,s,l):Dn(i,s,l,c);try{const y=h(l);if(null!=y||l&lt.Optional)return y;xt(s)}finally{$n()}}else if("number"==typeof h){let y=null,E=Rt(r,i),x=-1,k=l&lt.Host?i[16][6]:null;for((-1===E||l&lt.SkipSelf)&&(x=-1===E?or(r,i):i[E+8],-1!==x&&be(l,!1)?(y=i[1],E=oe(x),i=Ie(x,i)):E=-1);-1!==E;){const z=i[1];if(ne(h,E,z.data)){const se=T(E,i,s,y,l,k);if(se!==Zt)return se}x=i[E+8],-1!==x&&be(l,i[1].data[E+8]===k)&&ne(h,E,i)?(y=z,E=oe(x),i=Ie(x,i)):E=-1}}}return Dn(i,s,l,c)}const Zt={};function D(){return new pe(ni(),At())}function T(r,i,s,l,c,h){const y=i[1],E=y.data[r+8],z=I(E,y,s,null==l?Ls(E)&&et:l!=y&&0!=(3&E.type),c&lt.Host&&h===E);return null!==z?F(i,y,z,E):Zt}function I(r,i,s,l,c){const h=r.providerIndexes,y=i.data,E=1048575&h,x=r.directiveStart,z=h>>20,ue=c?E+z:r.directiveEnd;for(let Ae=l?E:E+z;Ae<ue;Ae++){const He=y[Ae];if(Ae<x&&s===He||Ae>=x&&He.type===s)return Ae}if(c){const Ae=y[x];if(Ae&&Vr(Ae)&&Ae.type===s)return x}return null}function F(r,i,s,l){let c=r[s];const h=i.data;if(function(r){return r instanceof ri}(c)){const y=c;y.resolving&&function(r,i){throw new Ke("200",`Circular dependency in DI detected for ${r}`)}(ht(h[s]));const E=pt(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?Ht(y.injectImpl):null;at(r,l,lt.Default);try{c=r[s]=y.factory(void 0,h,r,l),i.firstCreatePass&&s>=l.directiveStart&&function(r,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const y=Gi(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,h))}(s,h[s],i)}finally{null!==x&&Ht(x),pt(E),y.resolving=!1,$n()}}return c}function ne(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function be(r,i){return!(r&lt.Self||r&lt.Host&&i)}class pe{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return as(this._tNode,this._lView,i,void 0,s)}}function Xe(r){return hn(()=>{const i=r.prototype.constructor,s=i[qn]||Ct(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[qn]||Ct(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Ct(r){return Se(r)?()=>{const i=Ct(de(r));return i&&i()}:Fi(r)}function pn(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(L(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(ni(),r)}const Jt="__parameters__";function xn(r,i,s){return hn(()=>{const l=function(r){return function(...s){if(r){const l=r(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return E.annotation=y,E;function E(x,k,z){const se=x.hasOwnProperty(Jt)?x[Jt]:Object.defineProperty(x,Jt,{value:[]})[Jt];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(y),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Wi{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=xe({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const no=new Wi("AnalyzeForEntryComponents"),wn=Function;function ro(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let l=r[s];Array.isArray(l)?(i===r&&(i=r.slice(0,s)),ro(l,i)):i!==r&&i.push(l)}return i}function ia(r,i){r.forEach(s=>Array.isArray(s)?ia(s,i):i(s))}function Ba(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function va(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ii(r,i,s){let l=Jr(r,i);return l>=0?r[1|l]=s:(l=~l,function(r,i,s,l){let c=r.length;if(c==i)r.push(s,l);else if(1===c)r.push(l,r[0]),r[0]=s;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function nc(r,i){const s=Jr(r,i);if(s>=0)return r[1|s]}function Jr(r,i){return function(r,i,s){let l=0,c=r.length>>s;for(;c!==l;){const h=l+(c-l>>1),y=r[h<<s];if(i===y)return h<<s;y>i?c=h:l=h+1}return~(c<<s)}(r,i,1)}const Vl={},Xc="__NG_DI_FLAG__",Ha="ngTempTokenPath",Zf=/\n/gm,Ul="__source",Bl=ye({provide:String,useValue:ye});let $a;function qa(r){const i=$a;return $a=r,i}function oa(r,i=lt.Default){if(void 0===$a)throw new Error("inject() must be called from an injection context");return null===$a?dn(r,void 0,i):$a.get(r,i&lt.Optional?null:void 0,i)}function us(r,i=lt.Default){return(rn||oa)(de(r),i)}function aa(r){const i=[];for(let s=0;s<r.length;s++){const l=de(r[s]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,h=lt.Default;for(let y=0;y<l.length;y++){const E=l[y],x=oc(E);"number"==typeof x?-1===x?c=E.token:h|=x:c=E}i.push(us(c,h))}else i.push(us(l))}return i}function cl(r,i){return r[Xc]=i,r.prototype[Xc]=i,r}function oc(r){return r[Xc]}function jl(r,i,s,l){const c=r[Ha];throw i[Ul]&&c.unshift(i[Ul]),r.message=function(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=he(i);if(Array.isArray(i))c=i.map(he).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let E=i[y];h.push(y+":"+("string"==typeof E?JSON.stringify(E):he(E)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${r.replace(Zf,"\n  ")}`}("\n"+r.message,c,s,l),r.ngTokenPath=c,r[Ha]=null,r}const hl=cl(xn("Inject",r=>({token:r})),-1),bo=cl(xn("Optional"),8),wa=cl(xn("SkipSelf"),4);let zl,pl;function Wl(r){var i;return(null===(i=function(){if(void 0===zl&&(zl=null,dr.trustedTypes))try{zl=dr.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return zl}())||void 0===i?void 0:i.createHTML(r))||r}function lc(r){var i;return(null===(i=function(){if(void 0===pl&&(pl=null,dr.trustedTypes))try{pl=dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return pl}())||void 0===i?void 0:i.createHTML(r))||r}class Ea{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tu extends Ea{getTypeName(){return"HTML"}}class Za extends Ea{getTypeName(){return"Style"}}class hh extends Ea{getTypeName(){return"Script"}}class fh extends Ea{getTypeName(){return"URL"}}class ph extends Ea{getTypeName(){return"ResourceURL"}}function Uo(r){return r instanceof Ea?r.changingThisBreaksApplicationSecurity:r}function gl(r,i){const s=za(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function za(r){return r instanceof Ea&&r.getTypeName()||null}function bs(r){return new Tu(r)}function Fr(r){return new Za(r)}function uc(r){return new hh(r)}function gh(r){return new fh(r)}function cs(r){return new ph(r)}class so{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Wl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Bi{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Wl(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=Wl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let c=s.length-1;0<c;c--){const y=s.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Wf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Kf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ml(r){return(r=String(r)).match(Wf)||r.match(Kf)?r:"unsafe:"+r}function ua(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function Du(...r){const i={};for(const s of r)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const Xr=ua("area,br,col,hr,img,wbr"),cc=ua("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Au=ua("rp,rt"),hc=Du(Xr,Du(cc,ua("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Du(Au,ua("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Du(Au,cc)),fc=ua("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),yl=ua("srcset"),id=Du(fc,yl,ua("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ua("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),_h=ua("script,style,template");class Qf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!hc.hasOwnProperty(s))return this.sanitizedSomething=!0,!_h.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),y=h.name,E=y.toLowerCase();if(!id.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=h.value;fc[E]&&(x=ml(x)),yl[E]&&(r=x,x=(r=String(r)).split(",").map(i=>ml(i.trim())).join(", ")),this.buf.push(" ",y,'="',sd(x),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();hc.hasOwnProperty(s)&&!Xr.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(sd(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const Jf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xu=/([^\#-~ |!])/g;function sd(r){return r.replace(/&/g,"&amp;").replace(Jf,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(xu,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let _l;function Ms(r,i){let s=null;try{_l=_l||function(r){const i=new Bi(r);return function(){try{return!!(new window.DOMParser).parseFromString(Wl(""),"text/html")}catch(r){return!1}}()?new so(i):i}(r);let l=i?String(i):"";s=_l.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=_l.getInertBodyElement(l)}while(l!==h);return Wl((new Qf).sanitizeChildren(Yl(s)||s))}finally{if(s){const l=Yl(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Yl(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var Ti=(()=>((Ti=Ti||{})[Ti.NONE=0]="NONE",Ti[Ti.HTML=1]="HTML",Ti[Ti.STYLE=2]="STYLE",Ti[Ti.SCRIPT=3]="SCRIPT",Ti[Ti.URL=4]="URL",Ti[Ti.RESOURCE_URL=5]="RESOURCE_URL",Ti))();function ca(r){const i=Nu();return i?lc(i.sanitize(Ti.HTML,r)||""):gl(r,"HTML")?lc(Uo(r)):Ms(ss(),fe(r))}function Ru(r){const i=Nu();return i?i.sanitize(Ti.URL,r)||"":gl(r,"URL")?Uo(r):ml(fe(r))}function Nu(){const r=At();return r&&r[12]}const cd="__ngContext__";function oo(r,i){r[cd]=i}function Ou(r){const i=function(r){return r[cd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function ks(r){return r.ngOriginalError}function f(r,...i){r.error(...i)}class m{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=this._findContext(i),c=(r=i)&&r.ngErrorLogger||f;var r;c(this._console,"ERROR",i),s&&c(this._console,"ORIGINAL ERROR",s),l&&c(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?i.ngDebugContext||this._findContext(ks(i)):null}_findOriginalError(i){let s=i&&ks(i);for(;s&&ks(s);)s=ks(s);return s||null}}const Jl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(dr))();function da(r){return r instanceof Function?r():r}var Ni=(()=>((Ni=Ni||{})[Ni.Important=1]="Important",Ni[Ni.DashCase=2]="DashCase",Ni))();function fd(r,i){return undefined(r,i)}function Fu(r){const i=r[3];return mr(i)?i[3]:i}function Ih(r){return Lu(r[13])}function tu(r){return Lu(r[4])}function Lu(r){for(;null!==r&&!mr(r);)r=r[4];return r}function Ka(r,i,s,l,c){if(null!=l){let h,y=!1;mr(l)?h=l:Si(l)&&(y=!0,l=l[0]);const E=we(l);0===r&&null!==s?null==c?cm(i,s,E):ha(i,s,E,c||null,!0):1===r&&null!==s?ha(i,s,E,c||null,!0):2===r?function(r,i,s){const l=Ra(r,i);l&&function(r,i,s,l){U(r)?r.removeChild(i,s,l):i.removeChild(s)}(r,l,i,s)}(i,E,y):3===r&&i.destroyNode(E),null!=h&&function(r,i,s,l,c){const h=s[7];h!==we(s)&&Ka(i,r,l,h,c);for(let E=10;E<s.length;E++){const x=s[E];_c(x[1],x,r,i,l,h)}}(i,r,h,s,c)}}function Sh(r,i,s){return U(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function Zo(r,i){const s=r[9],l=s.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Li(c,-1)),s.splice(l,1)}function xh(r,i){if(r.length<=10)return;const s=10+i,l=r[s];if(l){const c=l[17];null!==c&&c!==r&&Zo(c,l),i>0&&(r[s-1][4]=l[4]);const h=va(r,10+i);!function(r,i){_c(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const y=h[19];null!==y&&y.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function gd(r,i){if(!(256&i[2])){const s=i[11];U(s)&&s.destroyNode&&_c(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return md(r[1],r);for(;i;){let s=null;if(Si(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==r;)Si(i)&&md(i[1],i),i=i[3];null===i&&(i=r),Si(i)&&md(i[1],i),s=i&&i[4]}i=s}}(i)}}function md(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof ri)){const h=s[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const E=c[h[y]],x=h[y+1];try{x.call(E)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,l=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],E="function"==typeof y?y(i):we(i[y]),x=l[c=s[h+2]],k=s[h+3];"boolean"==typeof k?E.removeEventListener(s[h],x,k):k>=0?l[c=k]():l[c=-k].unsubscribe(),h+=2}else{const y=l[c=s[h+1]];s[h].call(y)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();i[7]=null}}(r,i),1===i[1].type&&U(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&mr(i[3])){s!==i[3]&&Zo(s,i);const l=i[19];null!==l&&l.detachView(r)}}}function Vu(r,i,s){return function(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===kt.None||c===kt.Emulated)return null}return P(l,s)}(r,i.parent,s)}function ha(r,i,s,l,c){U(r)?r.insertBefore(i,s,l,c):i.insertBefore(s,l,c)}function cm(r,i,s){U(r)?r.appendChild(i,s):i.appendChild(s)}function Uu(r,i,s,l,c){null!==l?ha(r,i,s,l,c):cm(r,i,s)}function Ra(r,i){return U(r)?r.parentNode(i):i.parentNode}let hm=function(r,i,s){return 40&r.type?P(r,s):null};function Nh(r,i,s,l){const c=Vu(r,l,i),h=i[11],E=function(r,i,s){return hm(r,i,s)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)Uu(h,c,s[x],E,!1);else Uu(h,c,s,E,!1)}function ju(r,i){if(null!==i){const s=i.type;if(3&s)return P(i,r);if(4&s)return Oh(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return ju(r,l);{const c=r[i.index];return mr(c)?Oh(-1,c):we(c)}}if(32&s)return fd(i,r)()||we(r[i.index]);{const l=Hu(r,i);return null!==l?Array.isArray(l)?l[0]:ju(Fu(r[16]),l):ju(r,i.next)}}return null}function Hu(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Oh(r,i){const s=10+r+1;if(s<i.length){const l=i[s],c=l[1].firstChild;if(null!==c)return ju(l,c)}return i[7]}function lp(r,i,s,l,c,h,y){for(;null!=s;){const E=l[s.index],x=s.type;if(y&&0===i&&(E&&oo(we(E),l),s.flags|=4),64!=(64&s.flags))if(8&x)lp(r,i,s.child,l,c,h,!1),Ka(i,r,c,E,h);else if(32&x){const k=fd(s,l);let z;for(;z=k();)Ka(i,r,c,z,h);Ka(i,r,c,E,h)}else 16&x?yd(r,i,l,s,c,h):Ka(i,r,c,E,h);s=y?s.projectionNext:s.next}}function _c(r,i,s,l,c,h){lp(s,l,r.firstChild,i,c,h,!1)}function yd(r,i,s,l,c,h){const y=s[16],x=y[6].projection[l.projection];if(Array.isArray(x))for(let k=0;k<x.length;k++)Ka(i,r,c,x[k],h);else lp(r,i,x,y[3],c,h,!0)}function Mh(r,i,s){U(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function _d(r,i,s){U(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function vc(r,i,s){let l=r.length;for(;;){const c=r.indexOf(i,s);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}s=c+1}}const Ph="ng-template";function b_(r,i,s){let l=0;for(;l<r.length;){let c=r[l++];if(s&&"class"===c){if(c=r[l],-1!==vc(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function cp(r){return 4===r.type&&r.value!==Ph}function dp(r,i,s){return i===(4!==r.type||s?r.value:Ph)}function mm(r,i,s){let l=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(L(r[i]))return i;return r.length}(c);let y=!1;for(let E=0;E<i.length;E++){const x=i[E];if("number"!=typeof x){if(!y)if(4&l){if(l=2|1&l,""!==x&&!dp(r,x,s)||""===x&&1===i.length){if(Na(l))return!1;y=!0}}else{const k=8&l?x:i[++E];if(8&l&&null!==r.attrs){if(!b_(r.attrs,k,s)){if(Na(l))return!1;y=!0}continue}const se=ym(8&l?"class":x,c,cp(r),s);if(-1===se){if(Na(l))return!1;y=!0;continue}if(""!==k){let ue;ue=se>h?"":c[se+1].toLowerCase();const Ae=8&l?ue:null;if(Ae&&-1!==vc(Ae,k,0)||2&l&&k!==ue){if(Na(l))return!1;y=!0}}}}else{if(!y&&!Na(l)&&!Na(x))return!1;if(y&&Na(x))continue;y=!1,l=x|1&l}}return Na(l)||y}function Na(r){return 0==(1&r)}function ym(r,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const y=i[c];if(y===r)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let E=i[++c];for(;"string"==typeof E;)E=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function hp(r,i,s=!1){for(let l=0;l<i.length;l++)if(mm(r,i[l],s))return!0;return!1}function pp(r,i){return r?":not("+i.trim()+")":i}function T_(r){let i=r[0],s=1,l=2,c="",h=!1;for(;s<r.length;){let y=r[s];if("string"==typeof y)if(2&l){const E=r[++s];c+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Na(y)&&(i+=pp(h,c),c=""),l=y,h=h||!Na(l);s++}return""!==c&&(i+=pp(h,c)),i}const yr={};function vd(r){gp(hr(),At(),tr()+r,vo())}function gp(r,i,s,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&os(i,h,s)}else{const h=r.preOrderHooks;null!==h&&wo(i,h,0,s)}Or(s)}function wd(r,i){return r<<17|i<<2}function Oa(r){return r>>17&32767}function bd(r){return 2|r}function Tl(r){return(131068&r)>>2}function Ed(r,i){return-131069&r|i<<2}function Cd(r){return 1|r}function $h(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const c=s[l],h=s[l+1];if(-1!==h){const y=r.data[h];ae(c),y.contentQueries(2,i[h],h)}}}function xd(r,i,s,l,c,h,y,E,x,k){const z=i.blueprint.slice();return z[0]=c,z[2]=140|l,Yr(z),z[3]=z[15]=r,z[8]=s,z[10]=y||r&&r[10],z[11]=E||r&&r[11],z[12]=x||r&&r[12]||null,z[9]=k||r&&r[9]||null,z[6]=h,z[16]=2==i.type?r[16]:z,z}function ou(r,i,s,l,c){let h=r.data[i];if(null===h)h=function(r,i,s,l,c){const h=Ao(),y=Ss(),x=r.data[i]=function(r,i,s,l,c,h){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,i,l,c);return null===r.firstChild&&(r.firstChild=x),null!==h&&(y?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(r,i,s,l,c),Tn.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const y=function(){const r=Tn.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return vs(h,!0),h}function au(r,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Rd(r,i,s){bt(i);try{const l=r.viewQuery;null!==l&&Hp(1,l,s);const c=r.template;null!==c&&Gh(r,i,c,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&$h(r,i),r.staticViewQueries&&Hp(2,r.viewQuery,s);const h=r.components;null!==h&&function(r,i){for(let s=0;s<i.length;s++)kp(r,i[s])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,Wn()}}function lu(r,i,s,l){const c=i[2];if(256==(256&c))return;bt(i);const h=vo();try{Yr(i),function(r){Tn.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&Gh(r,i,s,2,l);const y=3==(3&c);if(!h)if(y){const k=r.preOrderCheckHooks;null!==k&&os(i,k,null)}else{const k=r.preOrderHooks;null!==k&&wo(i,k,0,null),_a(i,0)}if(function(r){for(let i=Ih(r);null!==i;i=tu(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const c=s[l],h=c[3];0==(1024&c[2])&&Li(h,1),c[2]|=1024}}}(i),function(r){for(let i=Ih(r);null!==i;i=tu(i))for(let s=10;s<i.length;s++){const l=i[s],c=l[1];sr(l)&&lu(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&$h(r,i),!h)if(y){const k=r.contentCheckHooks;null!==k&&os(i,k)}else{const k=r.contentHooks;null!==k&&wo(i,k,1),_a(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)Or(~c);else{const h=c,y=s[++l],E=s[++l];$s(y,h),E(2,i[h])}}}finally{Or(-1)}}(r,i);const E=r.components;null!==E&&function(r,i){for(let s=0;s<i.length;s++)B_(r,i[s])}(i,E);const x=r.viewQuery;if(null!==x&&Hp(2,x,l),!h)if(y){const k=r.viewCheckHooks;null!==k&&os(i,k)}else{const k=r.viewHooks;null!==k&&wo(i,k,2),_a(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Li(i[3],-1))}finally{Wn()}}function qh(r,i,s,l){const c=i[10],h=!vo(),y=An(i);try{h&&!y&&c.begin&&c.begin(),y&&Rd(r,i,l),lu(r,i,s,l)}finally{h&&!y&&c.end&&c.end()}}function Gh(r,i,s,l,c){const h=tr(),y=2&l;try{Or(-1),y&&i.length>20&&gp(r,i,20,vo()),s(l,c)}finally{Or(h)}}function Tp(r,i,s){if(yi(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const y=r.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function uu(r,i,s){!ai()||(function(r,i,s,l){const c=s.directiveStart,h=s.directiveEnd;r.firstCreatePass||Ln(s,i),oo(l,i);const y=s.initialInputs;for(let E=c;E<h;E++){const x=r.data[E],k=Vr(x);k&&F_(i,s,x);const z=F(i,r,E,s);oo(z,i),null!==y&&Om(0,E-c,z,x,0,y),k&&(Pt(s.index,i)[8]=z)}}(r,i,s,P(s,i)),128==(128&s.flags)&&function(r,i,s){const l=s.directiveStart,c=s.directiveEnd,y=s.index,E=Tn.lFrame.currentDirectiveIndex;try{Or(y);for(let x=l;x<c;x++){const k=r.data[x],z=i[x];$(x),(null!==k.hostBindings||0!==k.hostVars||null!==k.hostAttrs)&&Yh(k,z)}}finally{Or(-1),$(E)}}(r,i,s))}function Nd(r,i,s=P){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],E=-1===y?s(i,r):r[y];r[c++]=E}}}function Sm(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Zh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Zh(r,i,s,l,c,h,y,E,x,k){const z=20+l,se=z+c,ue=function(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:yr);return s}(z,se),Ae="function"==typeof k?k():k;return ue[1]={type:r,blueprint:ue,template:s,queries:null,viewQuery:E,declTNode:i,data:ue.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:Ae,incompleteFirstPass:!1}}function Rm(r,i,s,l){const c=ef(i);null===s?c.push(l):(c.push(s),r.firstCreatePass&&Fm(r).push(l,c.length-1))}function Nm(r,i,s){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,c):s[l]=[i,c]}return s}function zo(r,i,s,l,c,h,y,E){const x=P(i,s);let z,k=i.inputs;!E&&null!=k&&(z=k[l])?(nf(r,s,z,l,c),Ls(i)&&function(r,i){const s=Pt(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=y?y(c,i.value||"",l):c,U(h)?h.setProperty(x,l,c):b(l)||(x.setProperty?x.setProperty(l,c):x[l]=c))}function Kh(r,i,s,l){let c=!1;if(ai()){const h=function(r,i,s){const l=r.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const y=l[h];hp(s,y.selectors,!1)&&(c||(c=[]),li(Ln(s,i),r,y.type),Vr(y)?(Qh(r,s),c.unshift(y)):c.push(y))}return c}(r,i,s),y=null===l?null:{"":-1};if(null!==h){c=!0,Jh(s,r.data.length,h.length);for(let z=0;z<h.length;z++){const se=h[z];se.providersResolver&&se.providersResolver(se)}let E=!1,x=!1,k=au(r,i,h.length,null);for(let z=0;z<h.length;z++){const se=h[z];s.mergedAttrs=w(s.mergedAttrs,se.hostAttrs),Xh(r,s,i,k,se),k_(k,se,y),null!==se.contentQueries&&(s.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=128);const ue=se.type.prototype;!E&&(ue.ngOnChanges||ue.ngOnInit||ue.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),E=!0),!x&&(ue.ngOnChanges||ue.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),x=!0),k++}!function(r,i){const l=i.directiveEnd,c=r.data,h=i.attrs,y=[];let E=null,x=null;for(let k=i.directiveStart;k<l;k++){const z=c[k],se=z.inputs,ue=null===h||cp(i)?null:Mm(se,h);y.push(ue),E=Nm(se,k,E),x=Nm(z.outputs,k,x)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=E,i.outputs=x}(r,s)}y&&function(r,i,s){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Ke("301",`Export of name '${i[c+1]}' not found!`);l.push(i[c],h)}}}(s,l,y)}return s.mergedAttrs=w(s.mergedAttrs,s.attrs),c}function qu(r,i,s,l,c,h){const y=h.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const x=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=x&&E.push(x),E.push(l,c,y)}}function Yh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Qh(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function k_(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;Vr(i)&&(s[""]=r)}}function Jh(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function Xh(r,i,s,l,c){r.data[l]=c;const h=c.factory||(c.factory=Fi(c.type)),y=new ri(h,Vr(c),null);r.blueprint[l]=y,s[l]=y,qu(r,i,0,l,au(r,s,c.hostVars,yr),c)}function F_(r,i,s){const l=P(i,r),c=Sm(s),h=r[10],y=Ic(r,xd(r,c,null,s.onPush?64:16,l,i,h,h.createRenderer(l,s),null,null));r[i.index]=y}function Ma(r,i,s,l,c,h){const y=P(r,i);!function(r,i,s,l,c,h,y){if(null==h)U(r)?r.removeAttribute(i,c,s):i.removeAttribute(c);else{const E=null==y?fe(h):y(h,l||"",c);U(r)?r.setAttribute(i,c,E,s):s?i.setAttributeNS(s,c,E):i.setAttribute(c,E)}}(i[11],y,h,r.value,s,l,c)}function Om(r,i,s,l,c,h){const y=h[i];if(null!==y){const E=l.setInput;for(let x=0;x<y.length;){const k=y[x++],z=y[x++],se=y[x++];null!==E?l.setInput(s,se,k,z):s[z]=se}}}function Mm(r,i){let s=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return s}function Mp(r,i,s,l){return new Array(r,!0,!1,i,null,0,l,s,null,null)}function B_(r,i){const s=Pt(i,r);if(sr(s)){const l=s[1];80&s[2]?lu(l,s,l.template,s[8]):s[5]>0&&Pp(s)}}function Pp(r){for(let l=Ih(r);null!==l;l=tu(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const y=h[1];lu(y,h,y.template,h[8])}else h[5]>0&&Pp(h)}const s=r[1].components;if(null!==s)for(let l=0;l<s.length;l++){const c=Pt(s[l],r);sr(c)&&c[5]>0&&Pp(c)}}function kp(r,i){const s=Pt(i,r),l=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(l,s),Rd(l,s,s[8])}function Ic(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Lp(r){for(;r;){r[2]|=64;const i=Fu(r);if(Ir(r)&&!i)return r;r=i}return null}function Pd(r,i,s){const l=i[10];l.begin&&l.begin();try{lu(r,i,r.template,s)}catch(c){throw Lm(i,c),c}finally{l.end&&l.end()}}function Bp(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],l=Ou(s),c=l[1];qh(c,l,c.template,s)}}(r[8])}function Hp(r,i,s){ae(0),i(r,s)}const j_=(()=>Promise.resolve(null))();function ef(r){return r[7]||(r[7]=[])}function Fm(r){return r.cleanup||(r.cleanup=[])}function Lm(r,i){const s=r[9],l=s?s.get(m,null):null;l&&l.handleError(i)}function nf(r,i,s,l,c){for(let h=0;h<s.length;){const y=s[h++],E=s[h++],x=i[y],k=r.data[y];null!==k.setInput?k.setInput(x,c,l,E):x[E]=c}}function Pa(r,i,s){const l=V(i,r);!function(r,i,s){U(r)?r.setValue(i,s):i.textContent=s}(r[11],l,s)}function Dc(r,i,s){let l=s?r.styles:null,c=s?r.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const E=i[y];"number"==typeof E?h=E:1==h?c=me(c,E):2==h&&(l=me(l,E+": "+i[++y]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=c:r.classesWithoutHost=c}const Sc=new Wi("INJECTOR",-1);class rf{get(i,s=Vl){if(s===Vl){const l=new Error(`NullInjectorError: No provider for ${he(i)}!`);throw l.name="NullInjectorError",l}return s}}const fa=new Wi("Set Injector scope."),Gu={},H_={};let kd;function Bm(){return void 0===kd&&(kd=new rf),kd}function sf(r,i=null,s=null,l){return new q_(r,s,i||Bm(),l)}class q_{constructor(i,s,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&ia(s,E=>this.processProvider(E,i,s)),ia([i],E=>this.processInjectorType(E,[],h)),this.records.set(Sc,cu(void 0,this));const y=this.records.get(fa);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof i?null:he(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Vl,l=lt.Default){this.assertNotDestroyed();const c=qa(this),h=Ht(void 0);try{if(!(l&lt.SkipSelf)){let E=this.records.get(i);if(void 0===E){const x=("function"==typeof(r=i)||"object"==typeof r&&r instanceof Wi)&&jt(i);E=x&&this.injectableDefInScope(x)?cu(Fd(i),Gu):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&lt.Self?Bm():this.parent).get(i,s=l&lt.Optional&&s===Vl?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Ha]=y[Ha]||[]).unshift(he(i)),c)throw y;return jl(y,i,"R3InjectorError",this.source)}throw y}finally{Ht(h),qa(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(he(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,l){if(!(i=de(i)))return!1;let c=ar(i);const h=null==c&&i.ngModule||void 0,y=void 0===h?i:h,E=-1!==l.indexOf(y);if(void 0!==h&&(c=ar(h)),null==c)return!1;if(null!=c.imports&&!E){let z;l.push(y);try{ia(c.imports,se=>{this.processInjectorType(se,s,l)&&(void 0===z&&(z=[]),z.push(se))})}finally{}if(void 0!==z)for(let se=0;se<z.length;se++){const{ngModule:ue,providers:Ae}=z[se];ia(Ae,He=>this.processProvider(He,ue,Ae||Ce))}}this.injectorDefTypes.add(y);const x=Fi(y)||(()=>new y);this.records.set(y,cu(x,Gu));const k=c.providers;if(null!=k&&!E){const z=i;ia(k,se=>this.processProvider(se,z,k))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,l){let c=xc(i=de(i))?i:de(i&&i.provide);const h=qp(r=i)?cu(void 0,r.useValue):cu(jm(r),Gu);var r;if(xc(i)||!0!==i.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=cu(void 0,Gu,!0),y.factory=()=>aa(y.multi),this.records.set(c,y)),c=i,y.multi.push(i)}this.records.set(c,h)}hydrate(i,s){return s.value===Gu&&(s.value=H_,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=de(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Fd(r){const i=jt(r),s=null!==i?i.factory:Fi(r);if(null!==s)return s;if(r instanceof Wi)throw new Error(`Token ${he(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const l=function(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}(i,"?");throw new Error(`Can't resolve all parameters for ${he(r)}: (${l.join(", ")}).`)}const s=function(r){const i=r&&(r[jn]||r[Be]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function jm(r,i,s){let l;if(xc(r)){const c=de(r);return Fi(c)||Fd(c)}if(qp(r))l=()=>de(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...aa(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))l=()=>us(de(r.useExisting));else{const c=de(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Fi(c)||Fd(c);l=()=>new c(...aa(r.deps))}return l}function cu(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function qp(r){return null!==r&&"object"==typeof r&&Bl in r}function xc(r){return"function"==typeof r}const qm=function(r,i,s){return function(r,i=null,s=null,l){const c=sf(r,i,s,l);return c._resolveInjectorDefTypes(),c}({name:s},i,r,s)};let Ki=(()=>{class r{static create(s,l){return Array.isArray(s)?qm(s,l,""):qm(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=Vl,r.NULL=new rf,r.\u0275prov=xe({token:r,providedIn:"any",factory:()=>us(Sc)}),r.__NG_ELEMENT_ID__=-1,r})();function Km(r,i){to(Ou(r)[1],ni())}function Oi(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let c;if(Vr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(s){l.push(c);const y=r;y.inputs=Ca(r.inputs),y.declaredInputs=Ca(r.declaredInputs),y.outputs=Ca(r.outputs);const E=c.hostBindings;E&&hf(r,E);const x=c.viewQuery,k=c.contentQueries;if(x&&Qm(r,x),k&&rv(r,k),$e(r.inputs,c.inputs),$e(r.declaredInputs,c.declaredInputs),$e(r.outputs,c.outputs),Vr(c)&&c.data.animation){const z=r.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const E=h[y];E&&E.ngInherit&&E(r),E===Oi&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=w(c.hostAttrs,s=w(s,c.hostAttrs))}}(l)}function Ca(r){return r===Re?{}:r===Ce?[]:r}function Qm(r,i){const s=r.viewQuery;r.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function rv(r,i){const s=r.contentQueries;r.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function hf(r,i){const s=r.hostBindings;r.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}let Mc=null;function Pc(){if(!Mc){const r=dr.Symbol;if(r&&r.iterator)Mc=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Mc=l)}}}return Mc}class si{constructor(i){this.wrapped=i}static wrap(i){return new si(i)}static unwrap(i){return si.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof si}}function ff(r){return!!pf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Pc()in r)}function pf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Qa(r,i,s){return r[i]=s}function To(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function Wu(r,i,s,l){const c=To(r,i,s);return To(r,i+1,l)||c}function og(r,i,s,l){const c=At();return To(c,eo(),i)&&(hr(),Ma(vr(),c,r,i,s,l)),og}function Ku(r,i,s,l,c,h,y,E){const k=function(r,i,s,l,c){const h=Wu(r,i,s,l);return To(r,i+2,c)||h}(r,Xi(),s,c,y);return zi(3),k?i+fe(s)+l+fe(c)+h+fe(y)+E:yr}function mf(r,i,s,l,c,h,y,E){const x=At(),k=hr(),z=r+20,se=k.firstCreatePass?function(r,i,s,l,c,h,y,E,x){const k=i.consts,z=ou(i,r,4,y||null,Ur(k,E));Kh(i,s,z,Ur(k,x)),to(i,z);const se=z.tViews=Zh(2,z,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,k);return null!==i.queries&&(i.queries.template(i,z),se.queries=i.queries.embeddedTView(z)),z}(z,k,x,i,s,l,c,h,y):k.data[z];vs(se,!1);const ue=x[11].createComment("");Nh(k,x,ue,se),oo(ue,x),Ic(x,x[z]=Mp(ue,x,ue,se)),ci(se)&&uu(k,x,se),null!=y&&Nd(x,se,E)}function sy(r){return We(Tn.lFrame.contextLView,20+r)}function Gd(r,i=lt.Default){const s=At();return null===s?us(r,i):as(ni(),s,de(r),i)}function mg(r,i,s){const l=At();return To(l,eo(),i)&&zo(hr(),vr(),l,r,i,l[11],s,!1),mg}function Cf(r,i,s,l,c){const y=c?"class":"style";nf(r,s,i.inputs[y],y,l)}function yg(r,i,s,l){const c=At(),h=hr(),y=20+r,E=c[11],x=c[y]=Sh(E,i,Tn.lFrame.currentNamespace),k=h.firstCreatePass?function(r,i,s,l,c,h,y){const E=i.consts,k=ou(i,r,2,c,Ur(E,h));return Kh(i,s,k,Ur(E,y)),null!==k.attrs&&Dc(k,k.attrs,!1),null!==k.mergedAttrs&&Dc(k,k.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,k),k}(y,h,c,0,i,s,l):h.data[y];vs(k,!0);const z=k.mergedAttrs;null!==z&&rr(E,x,z);const se=k.classes;null!==se&&_d(E,x,se);const ue=k.styles;null!==ue&&Mh(E,x,ue),64!=(64&k.flags)&&Nh(h,c,x,k),0===Tn.lFrame.elementDepthCount&&oo(x,c),Tn.lFrame.elementDepthCount++,ci(k)&&(uu(h,c,k),Tp(h,k,c)),null!==l&&Nd(c,k)}function _g(){let r=ni();Ss()?So():(r=r.parent,vs(r,!1));const i=r;Tn.lFrame.elementDepthCount--;const s=hr();s.firstCreatePass&&(to(s,r),yi(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&Cf(s,i,At(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&Cf(s,i,At(),i.stylesWithoutHost,!1)}function vg(r,i,s,l){yg(r,i,s,l),_g()}function Zd(r,i,s){const l=At(),c=hr(),h=r+20,y=c.firstCreatePass?function(r,i,s,l,c){const h=i.consts,y=Ur(h,l),E=ou(i,r,8,"ng-container",y);return null!==y&&Dc(E,y,!0),Kh(i,s,E,Ur(h,c)),null!==i.queries&&i.queries.elementStart(i,E),E}(h,c,l,i,s):c.data[h];vs(y,!0);const E=l[h]=l[11].createComment("");Nh(c,l,E,y),oo(E,l),ci(y)&&(uu(c,l,y),Tp(c,y,l)),null!=s&&Nd(l,y)}function wg(){let r=ni();const i=hr();Ss()?So():(r=r.parent,vs(r,!1)),i.firstCreatePass&&(to(i,r),yi(r)&&i.queries.elementEnd(r))}function Cy(){return At()}function bg(r){return!!r&&"function"==typeof r.then}function Ty(r){return!!r&&"function"==typeof r.subscribe}const Eg=Ty;function Cg(r,i,s,l){const c=At(),h=hr(),y=ni();return function(r,i,s,l,c,h,y,E){const x=ci(l),z=r.firstCreatePass&&Fm(r),se=i[8],ue=ef(i);let Ae=!0;if(3&l.type||E){const rt=P(l,i),Bt=E?E(rt):rt,It=ue.length,zn=E?_r=>E(we(_r[l.index])):l.index;if(U(s)){let _r=null;if(!E&&x&&(_r=function(r,i,s,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===l){const E=i[7],x=c[h+2];return E.length>x?E[x]:null}"string"==typeof y&&(h+=2)}return null}(r,i,c,l.index)),null!==_r)(_r.__ngLastListenerFn__||_r).__ngNextListenerFn__=h,_r.__ngLastListenerFn__=h,Ae=!1;else{h=zd(l,i,se,h,!1);const Br=s.listen(Bt,c,h);ue.push(h,Br),z&&z.push(c,zn,It,It+1)}}else h=zd(l,i,se,h,!0),Bt.addEventListener(c,h,y),ue.push(h),z&&z.push(c,zn,It,y)}else h=zd(l,i,se,h,!1);const He=l.outputs;let ft;if(Ae&&null!==He&&(ft=He[c])){const rt=ft.length;if(rt)for(let Bt=0;Bt<rt;Bt+=2){const Io=i[ft[Bt]][ft[Bt+1]].subscribe(h),rl=ue.length;ue.push(h,Io),z&&z.push(c,l.index,rl,-(rl+1))}}}(h,c,c[11],y,r,i,!!s,l),Cg}function Dy(r,i,s,l){try{return!1!==s(l)}catch(c){return Lm(r,c),!1}}function zd(r,i,s,l,c){return function h(y){if(y===Function)return l;const E=2&r.flags?Pt(r.index,i):i;0==(32&i[2])&&Lp(E);let x=Dy(i,0,l,y),k=h.__ngNextListenerFn__;for(;k;)x=Dy(i,0,k,y)&&x,k=k.__ngNextListenerFn__;return c&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function Tg(r=1){return function(r){return(Tn.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,Tn.lFrame.contextLView))[8]}(r)}function Bc(r,i,s,l,c){const h=r[s+1],y=null===i;let E=l?Oa(h):Tl(h),x=!1;for(;0!==E&&(!1===x||y);){const z=r[E+1];Ko(r[E],i)&&(x=!0,r[E+1]=l?Cd(z):bd(z)),E=l?Oa(z):Tl(z)}x&&(r[s+1]=l?bd(h):Cd(h))}function Ko(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Jr(r,i)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tf(r){return r.substring(lo.key,lo.keyEnd)}function If(r,i){const s=lo.textEnd;return s===i?-1:(i=lo.keyEnd=function(r,i,s){for(;i<s&&r.charCodeAt(i)>32;)i++;return i}(r,lo.key=i,s),Hc(r,i,s))}function Hc(r,i,s){for(;i<s&&r.charCodeAt(i)<=32;)i++;return i}function $c(r,i,s){return Da(r,i,s,!1),$c}function Df(r,i){return Da(r,i,null,!0),Df}function Ly(r){!function(r,i,s,l){const c=hr(),h=zi(2);c.firstUpdatePass&&Uy(c,null,h,l);const y=At();if(s!==yr&&To(y,h,s)){const E=c.data[tr()];if(A(E,l)&&!Vy(c,h)){let x=l?E.classesWithoutHost:E.stylesWithoutHost;null!==x&&(s=me(x,s||"")),Cf(c,E,y,s,l)}else!function(r,i,s,l,c,h,y,E){c===yr&&(c=Ce);let x=0,k=0,z=0<c.length?c[0]:null,se=0<h.length?h[0]:null;for(;null!==z||null!==se;){const ue=x<c.length?c[x+1]:void 0,Ae=k<h.length?h[k+1]:void 0;let ft,He=null;z===se?(x+=2,k+=2,ue!==Ae&&(He=se,ft=Ae)):null===se||null!==z&&z<se?(x+=2,He=z):(k+=2,He=se,ft=Ae),null!==He&&o(r,i,s,l,He,ft,y,E),z=x<c.length?c[x]:null,se=k<h.length?h[k]:null}}(c,E,y,y[11],y[h+1],y[h+1]=function(r,i,s){if(null==s||""===s)return Ce;const l=[],c=Uo(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)r(l,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&r(l,h,c[h]);else"string"==typeof c&&i(l,c);return l}(r,i,s),l,h)}}(ii,Fa,r,!0)}function Fa(r,i){for(let s=function(r){return function(r){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=r.length}(r),If(r,Hc(r,0,lo.textEnd))}(i);s>=0;s=If(i,s))ii(r,Tf(i),!0)}function Da(r,i,s,l){const c=At(),h=hr(),y=zi(2);h.firstUpdatePass&&Uy(h,r,y,l),i!==yr&&To(c,y,i)&&o(h,h.data[tr()],c,c[11],r,c[y+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=he(Uo(r)))),r}(i,s),l,y)}function Vy(r,i){return i>=r.expandoStartIndex}function Uy(r,i,s,l){const c=r.data;if(null===c[s+1]){const h=c[tr()],y=Vy(r,s);A(h,l)&&null===i&&!y&&(i=!1),i=function(r,i,s,l){const c=B(r);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=Af(s=Ng(null,r,i,s,l),i.attrs,l),h=null);else{const y=i.directiveStylingLast;if(-1===y||r[y]!==c)if(s=Ng(c,r,i,s,l),null===h){let x=function(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Tl(l))return r[Oa(l)]}(r,i,l);void 0!==x&&Array.isArray(x)&&(x=Ng(null,r,i,x[1],l),x=Af(x,i.attrs,l),function(r,i,s,l){r[Oa(s?i.classBindings:i.styleBindings)]=l}(r,i,l,x))}else h=function(r,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=Af(l,r[h].hostAttrs,s);return Af(l,i.attrs,s)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function(r,i,s,l,c,h){let y=h?i.classBindings:i.styleBindings,E=Oa(y),x=Tl(y);r[l]=s;let z,k=!1;if(Array.isArray(s)){const se=s;z=se[1],(null===z||Jr(se,z)>0)&&(k=!0)}else z=s;if(c)if(0!==x){const ue=Oa(r[E+1]);r[l+1]=wd(ue,E),0!==ue&&(r[ue+1]=Ed(r[ue+1],l)),r[E+1]=function(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=wd(E,0),0!==E&&(r[E+1]=Ed(r[E+1],l)),E=l;else r[l+1]=wd(x,0),0===E?E=l:r[x+1]=Ed(r[x+1],l),x=l;k&&(r[l+1]=bd(r[l+1])),Bc(r,z,l,!0),Bc(r,z,l,!1),function(r,i,s,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Jr(h,i)>=0&&(s[l+1]=Cd(s[l+1]))}(i,z,r,l,h),y=wd(E,x),h?i.classBindings=y:i.styleBindings=y}(c,h,i,s,y,l)}}function Ng(r,i,s,l,c){let h=null;const y=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<y&&(h=i[E],l=Af(l,h.hostAttrs,c),h!==r);)E++;return null!==r&&(s.directiveStylingLast=E),l}function Af(r,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ii(r,y,!!s||i[++h]))}return void 0===r?null:r}function o(r,i,s,l,c,h,y,E){if(!(3&i.type))return;const x=r.data,k=x[E+1];d(function(r){return 1==(1&r)}(k)?u(x,i,s,c,Tl(k),y):void 0)||(d(h)||function(r){return 2==(2&r)}(k)&&(h=u(x,null,s,c,E,y)),function(r,i,s,l,c){const h=U(r);if(i)c?h?r.addClass(s,l):s.classList.add(l):h?r.removeClass(s,l):s.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Ni.DashCase;if(null==c)h?r.removeStyle(s,l,y):s.style.removeProperty(l);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),y|=Ni.Important),h?r.setStyle(s,l,c,y):s.style.setProperty(l,c,E?"important":"")}}}(l,y,V(tr(),s),c,h))}function u(r,i,s,l,c,h){const y=null===i;let E;for(;c>0;){const x=r[c],k=Array.isArray(x),z=k?x[1]:x,se=null===z;let ue=s[c+1];ue===yr&&(ue=se?Ce:void 0);let Ae=se?nc(ue,l):z===l?ue:void 0;if(k&&!d(Ae)&&(Ae=nc(x,l)),d(Ae)&&(E=Ae,y))return E;const He=r[c+1];c=y?Oa(He):Tl(He)}if(null!==i){let x=h?i.residualClasses:i.residualStyles;null!=x&&(E=nc(x,l))}return E}function d(r){return void 0!==r}function A(r,i){return 0!=(r.flags&(i?16:32))}function j(r,i=""){const s=At(),l=hr(),c=r+20,h=l.firstCreatePass?ou(l,c,1,i,null):l.data[c],y=s[c]=function(r,i){return U(r)?r.createText(i):r.createTextNode(i)}(s[11],i);Nh(l,s,y,h),vs(h,!1)}function Q(r){return le("",r,""),Q}function le(r,i,s){const l=At(),c=function(r,i,s,l){return To(r,eo(),s)?i+fe(s)+l:yr}(l,r,i,s);return c!==yr&&Pa(l,tr(),c),le}function ve(r,i,s,l,c){const h=At(),y=function(r,i,s,l,c,h){const E=Wu(r,Xi(),s,c);return zi(2),E?i+fe(s)+l+fe(c)+h:yr}(h,r,i,s,l,c);return y!==yr&&Pa(h,tr(),y),ve}function Ze(r,i,s,l,c,h,y){const E=At(),x=Ku(E,r,i,s,l,c,h,y);return x!==yr&&Pa(E,tr(),x),Ze}function Ev(r,i,s){const l=At();return To(l,eo(),i)&&zo(hr(),vr(),l,r,i,l[11],s,!0),Ev}function Cv(r,i,s){const l=At();if(To(l,eo(),i)){const h=hr(),y=vr();zo(h,y,l,r,i,function(r,i,s){return(null===r||Vr(r))&&(s=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(s[i.index])),s[11]}(B(h.data),y,l),s,!0)}return Cv}const Jd=void 0;var lC=["en",[["a","p"],["AM","PM"],Jd],[["AM","PM"],Jd,Jd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jd,"{1} 'at' {0}",Jd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let xf={};function Tv(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=c0(i);if(s)return s;const l=i.split("-")[0];if(s=c0(l),s)return s;if("en"===l)return lC;throw new Error(`Missing locale data for the locale "${r}".`)}function u0(r){return Tv(r)[ur.PluralCase]}function c0(r){return r in xf||(xf[r]=dr.ng&&dr.ng.common&&dr.ng.common.locales&&dr.ng.common.locales[r]),xf[r]}var ur=(()=>((ur=ur||{})[ur.LocaleId=0]="LocaleId",ur[ur.DayPeriodsFormat=1]="DayPeriodsFormat",ur[ur.DayPeriodsStandalone=2]="DayPeriodsStandalone",ur[ur.DaysFormat=3]="DaysFormat",ur[ur.DaysStandalone=4]="DaysStandalone",ur[ur.MonthsFormat=5]="MonthsFormat",ur[ur.MonthsStandalone=6]="MonthsStandalone",ur[ur.Eras=7]="Eras",ur[ur.FirstDayOfWeek=8]="FirstDayOfWeek",ur[ur.WeekendRange=9]="WeekendRange",ur[ur.DateFormat=10]="DateFormat",ur[ur.TimeFormat=11]="TimeFormat",ur[ur.DateTimeFormat=12]="DateTimeFormat",ur[ur.NumberSymbols=13]="NumberSymbols",ur[ur.NumberFormats=14]="NumberFormats",ur[ur.CurrencyCode=15]="CurrencyCode",ur[ur.CurrencySymbol=16]="CurrencySymbol",ur[ur.CurrencyName=17]="CurrencyName",ur[ur.Currencies=18]="Currencies",ur[ur.Directionality=19]="Directionality",ur[ur.PluralCase=20]="PluralCase",ur[ur.ExtraData=21]="ExtraData",ur))();const jy="en-US";let d0=jy;function Iv(r){Lt(r,"Expected localeId to be defined"),"string"==typeof r&&(d0=r.toLowerCase().replace(/_/g,"-"))}function Sv(r,i,s,l,c){if(r=de(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sv(r[h],i,s,l,c);else{const h=hr(),y=At();let E=xc(r)?r:de(r.provide),x=jm(r);const k=ni(),z=1048575&k.providerIndexes,se=k.directiveStart,ue=k.providerIndexes>>20;if(xc(r)||!r.multi){const Ae=new ri(x,c,Gd),He=Rv(E,i,c?z:z+ue,se);-1===He?(li(Ln(k,y),h,E),xv(h,r,i.length),i.push(E),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(Ae),y.push(Ae)):(s[He]=Ae,y[He]=Ae)}else{const Ae=Rv(E,i,z+ue,se),He=Rv(E,i,z,z+ue),ft=Ae>=0&&s[Ae],rt=He>=0&&s[He];if(c&&!rt||!c&&!ft){li(Ln(k,y),h,E);const Bt=function(r,i,s,l,c){const h=new ri(r,s,Gd);return h.multi=[],h.index=i,h.componentProviders=0,k0(h,c,l&&!s),h}(c?sT:iT,s.length,c,l,x);!c&&rt&&(s[He].providerFactory=Bt),xv(h,r,i.length,0),i.push(E),k.directiveStart++,k.directiveEnd++,c&&(k.providerIndexes+=1048576),s.push(Bt),y.push(Bt)}else xv(h,r,Ae>-1?Ae:He,k0(s[c?He:Ae],x,!c&&l));!c&&l&&rt&&s[He].componentProviders++}}}function xv(r,i,s,l){const c=xc(i);if(c||function(r){return!!r.useClass}(i)){const y=(i.useClass||i).prototype.ngOnDestroy;if(y){const E=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const x=E.indexOf(s);-1===x?E.push(s,[l,y]):E[x+1].push(l,y)}else E.push(s,y)}}}function k0(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Rv(r,i,s,l){for(let c=s;c<l;c++)if(i[c]===r)return c;return-1}function iT(r,i,s,l){return Nv(this.multi,[])}function sT(r,i,s,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=F(s,s[1],this.providerFactory.index,l);h=E.slice(0,y),Nv(c,h);for(let x=y;x<E.length;x++)h.push(E[x])}else h=[],Nv(c,h);return h}function Nv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function F0(r,i=[]){return s=>{s.providersResolver=(l,c)=>function(r,i,s){const l=hr();if(l.firstCreatePass){const c=Vr(r);Sv(s,l.data,l.blueprint,c,!0),Sv(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class L0{}const U0="ngComponent";class lT{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${he(r)}. Did you add it to @NgModule.entryComponents?`);return i[U0]=r,i}(i)}}let Nf=(()=>{class r{}return r.NULL=new lT,r})();function Zy(...r){}function Of(r,i){return new pu(P(r,i))}const dT=function(){return Of(ni(),At())};let pu=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=dT,r})();function B0(r){return r instanceof pu?r.nativeElement:r}class zy{}let hT=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>pT(),r})();const pT=function(){const r=At(),s=Pt(ni().index,r);return function(r){return r[11]}(Si(s)?s:r)};let Mv=(()=>{class r{}return r.\u0275prov=xe({token:r,providedIn:"root",factory:()=>null}),r})();class j0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Pv=new j0("12.2.10");class H0{constructor(){}supports(i){return ff(i)}create(i){return new _T(i)}}const yT=(r,i)=>i;class _T{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||yT}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const y=!l||s&&s.currentIndex<q0(l,c,h)?s:l,E=q0(y,c,h),x=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const k=E-c,z=x-c;if(k!=z){for(let ue=0;ue<k;ue++){const Ae=ue<h.length?h[ue]:h[ue]=0,He=Ae+ue;z<=He&&He<k&&(h[ue]=Ae+1)}h[y.previousIndex]=z-k}}E!==x&&i(y,E,x)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!ff(i))throw new Error(`Error trying to diff '${he(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],y=this._trackByFn(E,h),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,h,y,E)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,E),l=!0),s=s._next}else c=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Pc()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,E=>{y=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,E,y,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,y,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new vT(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new $0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class vT{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class wT{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class $0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new wT,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q0(r,i,s){const l=r.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class G0{constructor(){}supports(i){return i instanceof Map||pf(i)}create(){return new bT}}class bT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||pf(i)))throw new Error(`Error trying to diff '${he(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new ET(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class ET{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Z0(){return new Wy([new H0])}let Wy=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||Z0()),deps:[[r,new wa,new bo]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:Z0}),r})();function z0(){return new Ky([new G0])}let Ky=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||z0()),deps:[[r,new wa,new bo]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=xe({token:r,providedIn:"root",factory:z0}),r})();function Yy(r,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(we(h)),mr(h))for(let E=10;E<h.length;E++){const x=h[E],k=x[1].firstChild;null!==k&&Yy(x[1],x,k,l)}const y=s.type;if(8&y)Yy(r,i,s.child,l);else if(32&y){const E=fd(s,i);let x;for(;x=E();)l.push(x)}else if(16&y){const E=Hu(i,s);if(Array.isArray(E))l.push(...E);else{const x=Fu(i[16]);Yy(x[1],x,E,l,!0)}}s=c?s.projectionNext:s.next}return l}class Fg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Yy(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(mr(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(xh(i,l),va(s,l))}this._attachedToViewContainer=!1}gd(this._lView[1],this._lView)}onDestroy(i){Rm(this._lView[1],this._lView,null,i)}markForCheck(){Lp(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Pd(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){xo(!0);try{Pd(r,i,s)}finally{xo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,_c(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class TT extends Fg{constructor(i){super(i),this._view=i}detectChanges(){Bp(this._view)}checkNoChanges(){!function(r){xo(!0);try{Bp(r)}finally{xo(!1)}}(this._view)}get context(){return null}}const DT=function(r){return function(r,i,s){if(Ls(r)&&!s){const l=Pt(r.index,i);return new Fg(l,l)}return 47&r.type?new Fg(i[16],i):null}(ni(),At(),16==(16&r))};let AT=(()=>{class r{}return r.__NG_ELEMENT_ID__=DT,r})();const RT=[new G0],OT=new Wy([new H0]),MT=new Ky(RT),kT=function(){return Qy(ni(),At())};let Lg=(()=>{class r{}return r.__NG_ELEMENT_ID__=kT,r})();const FT=Lg,LT=class extends FT{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=xd(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(s)),Rd(s,l,i),new Fg(l)}};function Qy(r,i){return 4&r.type?new LT(i,r,Of(r,i)):null}class Xd{}class W0{}const BT=function(){return Q0(ni(),At())};let Jy=(()=>{class r{}return r.__NG_ELEMENT_ID__=BT,r})();const HT=Jy,K0=class extends HT{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Of(this._hostTNode,this._hostLView)}get injector(){return new pe(this._hostTNode,this._hostLView)}get parentInjector(){const i=or(this._hostTNode,this._hostLView);if(W(i)){const s=Ie(i,this._hostLView),l=oe(i);return new pe(s[1].data[l+8],s)}return new pe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Y0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const c=i.createEmbeddedView(s||{});return this.insert(c,l),c}createComponent(i,s,l,c,h){const y=l||this.parentInjector;if(!h&&null==i.ngModule&&y){const x=y.get(Xd,null);x&&(h=x)}const E=i.create(y,c,void 0,h);return this.insert(E.hostView,s),E}insert(i,s){const l=i._lView,c=l[1];if(mr(l[3])){const z=this.indexOf(i);if(-1!==z)this.detach(z);else{const se=l[3],ue=new K0(se,se[6],se[3]);ue.detach(ue.indexOf(i))}}const h=this._adjustIndex(s),y=this._lContainer;!function(r,i,s,l){const c=10+l,h=s.length;l>0&&(s[c-1][4]=i),l<h-10?(i[4]=s[c],Ba(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const y=i[17];null!==y&&s!==y&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(y,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(c,l,y,h);const E=Oh(h,y),x=l[11],k=Ra(x,y[7]);return null!==k&&function(r,i,s,l,c,h){l[0]=c,l[6]=i,_c(r,l,s,1,c,h)}(c,y[6],x,l,k,E),i.attachToViewContainerRef(),Ba(kv(y),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Y0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=xh(this._lContainer,s);l&&(va(kv(this._lContainer),s),gd(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=xh(this._lContainer,s);return l&&null!=va(kv(this._lContainer),s)?new Fg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Y0(r){return r[8]}function kv(r){return r[8]||(r[8]=[])}function Q0(r,i){let s;const l=i[r.index];if(mr(l))s=l;else{let c;if(8&r.type)c=we(l);else{const h=i[11];c=h.createComment("");const y=P(r,i);ha(h,Ra(h,y),c,function(r,i){return U(r)?r.nextSibling(i):i.nextSibling}(h,y),!1)}i[r.index]=s=Mp(l,i,c,r),Ic(i,s)}return new K0(s,r,i)}const Ff={};class yb extends Nf{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=br(i);return new vb(s,this.ngModule)}}function _b(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const VI=new Wi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Jl});class vb extends L0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(T_).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _b(this.componentDef.inputs)}get outputs(){return _b(this.componentDef.outputs)}create(i,s,l,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(s,l,c)=>{const h=r.get(s,Ff,c);return h!==Ff||l===Ff?h:i.get(s,l,c)}}}(i,c.injector):i,y=h.get(zy,H),E=h.get(Mv,null),x=y.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",z=l?function(r,i,s){if(U(r))return r.selectRootElement(i,s===kt.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Sh(y.createRenderer(null,this.componentDef),k,function(r){const i=r.toLowerCase();return"svg"===i?Ji:"math"===i?"http://www.w3.org/1998/MathML/":null}(k)),se=this.componentDef.onPush?576:528,ue=function(r,i){return{components:[],scheduler:r||Jl,clean:j_,playerHandler:i||null,flags:0}}(),Ae=Zh(0,null,null,1,0,null,null,null,null,null),He=xd(null,Ae,ue,se,null,null,y,x,E,h);let ft,rt;bt(He);try{const Bt=function(r,i,s,l,c,h){const y=s[1];s[20]=r;const x=ou(y,20,2,"#host",null),k=x.mergedAttrs=i.hostAttrs;null!==k&&(Dc(x,k,!0),null!==r&&(rr(c,r,k),null!==x.classes&&_d(c,r,x.classes),null!==x.styles&&Mh(c,r,x.styles)));const z=l.createRenderer(r,i),se=xd(s,Sm(i),null,i.onPush?64:16,s[20],x,l,z,h||null,null);return y.firstCreatePass&&(li(Ln(x,s),y,i.type),Qh(y,x),Jh(x,s.length,1)),Ic(s,se),s[20]=se}(z,this.componentDef,He,y,x);if(z)if(l)rr(x,z,["ng-version",Pv.full]);else{const{attrs:It,classes:zn}=function(r){const i=[],s=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&s.push(h);else{if(!Na(c))break;c=h}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);It&&rr(x,z,It),zn&&zn.length>0&&_d(x,z,zn.join(" "))}if(rt=J(Ae,20),void 0!==s){const It=rt.projection=[];for(let zn=0;zn<this.ngContentSelectors.length;zn++){const _r=s[zn];It.push(null!=_r?Array.from(_r):null)}}ft=function(r,i,s,l,c){const h=s[1],y=function(r,i,s){const l=ni();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Xh(r,l,i,au(r,i,1,null),s));const c=F(i,r,l.directiveStart,l);oo(c,i);const h=P(l,i);return h&&oo(h,i),c}(h,s,i);if(l.components.push(y),r[8]=y,c&&c.forEach(x=>x(y,i)),i.contentQueries){const x=ni();i.contentQueries(1,y,x.directiveStart)}const E=ni();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Or(E.index),qu(s[1],E,0,E.directiveStart,E.directiveEnd,i),Yh(i,y)),y}(Bt,this.componentDef,He,ue,[Km]),Rd(Ae,He,null)}finally{Wn()}return new jI(this.componentType,ft,Of(rt,He),He,rt)}}class jI extends class{}{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new TT(c),this.componentType=i}get injector(){return new pe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Lf=new Map;class qI extends Xd{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yb(this);const l=Tr(i),c=i[yn]||null;c&&Iv(c),this._bootstrapComponents=da(l.bootstrap),this._r3Injector=sf(i,s,[{provide:Xd,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],he(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=Ki.THROW_IF_NOT_FOUND,l=lt.Default){return i===Ki||i===Xd||i===Sc?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Wv extends W0{constructor(i){super(),this.moduleType=i,null!==Tr(i)&&function(r){const i=new Set;!function s(l){const c=Tr(l,!0),h=c.id;null!==h&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${he(i)} vs ${he(i.name)}`)}(h,Lf.get(h),l),Lf.set(h,l));const y=da(c.imports);for(const E of y)i.has(E)||(i.add(E),s(E))}(r)}(i)}create(i){return new qI(this.moduleType,i)}}function Eb(r,i,s){const l=wi()+r,c=At();return c[l]===yr?Qa(c,l,s?i.call(s):i()):function(r,i){return r[i]}(c,l)}function Cb(r,i,s,l,c){return function(r,i,s,l,c,h,y){const E=i+s;return Wu(r,E,c,h)?Qa(r,E+2,y?l.call(y,c,h):l(c,h)):Gg(r,E+2)}(At(),wi(),r,i,s,l,c)}function Gg(r,i){const s=r[i];return s===yr?void 0:s}function xb(r,i){const s=hr();let l;const c=r+20;s.firstCreatePass?(l=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(r===l.name)return l}throw new Ke("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=Fi(l.type)),y=Ht(Gd);try{const E=pt(!1),x=h();return pt(E),function(r,i,s,l){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=l}(s,At(),c,x),x}finally{Ht(y)}}function Rb(r,i,s){const l=r+20,c=At(),h=We(c,l);return function(r,i){si.isWrapped(i)&&(i=si.unwrap(i),r[Xi()]=yr);return i}(c,function(r,i){return r[1].data[i].pure}(c,l)?function(r,i,s,l,c,h){const y=i+s;return To(r,y,c)?Qa(r,y+1,h?l.call(h,c):l(c)):Gg(r,y+1)}(c,wi(),i,h.transform,s,h):h.transform(s))}function Kv(r){return i=>{setTimeout(r,void 0,i)}}const gu=class extends _.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var c,h,y;let E=i,x=s||(()=>null),k=l;if(i&&"object"==typeof i){const se=i;E=null===(c=se.next)||void 0===c?void 0:c.bind(se),x=null===(h=se.error)||void 0===h?void 0:h.bind(se),k=null===(y=se.complete)||void 0===y?void 0:y.bind(se)}this.__isAsync&&(x=Kv(x),E&&(E=Kv(E)),k&&(k=Kv(k)));const z=super.subscribe({next:E,error:x,complete:k});return i instanceof g.w&&i.add(z),z}};function sD(){return this._results[Pc()]()}class r_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Pc(),l=r_.prototype;l[s]||(l[s]=sD)}get changes(){return this._changes||(this._changes=new gu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=ro(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Qv(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Vb(i,s).matches&&this.queries[s].setDirty()}}class Nb{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class Jv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new Jv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Xv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Xv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,lD(s,h)),this.matchTNodeWithReadOption(i,s,I(s,i,h,!1,!1))}else l===Lg?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,I(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===pu||c===Jy||c===Lg&&4&s.type)this.addMatch(s.index,-2);else{const h=I(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function lD(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function cD(r,i,s,l){return-1===s?function(r,i){return 11&r.type?Of(r,i):4&r.type?Qy(r,i):null}(i,r):-2===s?function(r,i,s){return s===pu?Of(i,r):s===Lg?Qy(i,r):s===Jy?Q0(i,r):void 0}(r,i,l):F(r,r[1],s,i)}function Ob(r,i,s,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,y=s.matches,E=[];for(let x=0;x<y.length;x+=2){const k=y[x];E.push(k<0?null:cD(i,h[k],y[x+1],s.metadata.read))}c.matches=E}return c.matches}function ew(r,i,s,l){const c=r.queries.getByIndex(s),h=c.matches;if(null!==h){const y=Ob(r,i,c,s);for(let E=0;E<h.length;E+=2){const x=h[E];if(x>0)l.push(y[E/2]);else{const k=h[E+1],z=i[-x];for(let se=10;se<z.length;se++){const ue=z[se];ue[17]===ue[3]&&ew(ue[1],ue,k,l)}if(null!==z[9]){const se=z[9];for(let ue=0;ue<se.length;ue++){const Ae=se[ue];ew(Ae[1],Ae,k,l)}}}}}return l}function Mb(r){const i=At(),s=hr(),l=K();ae(l+1);const c=Vb(s,l);if(r.dirty&&An(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?ew(s,i,l,[]):Ob(s,i,c,l);r.reset(h,B0),r.notifyOnChanges()}return!0}return!1}function Pb(r,i,s,l){const c=hr();if(c.firstCreatePass){const h=ni();(function(r,i,s){null===r.queries&&(r.queries=new Jv),r.queries.track(new Xv(i,s))})(c,new Nb(i,s,l),h.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(c,r),2==(2&s)&&(c.staticContentQueries=!0)}!function(r,i,s){const l=new r_(4==(4&s));Rm(r,i,l,l.destroy),null===i[19]&&(i[19]=new Qv),i[19].queries.push(new Yv(l))}(c,At(),s)}function kb(){return r=At(),i=K(),r[19].queries[i].queryList;var r,i}function Vb(r,i){return r.queries.getByIndex(i)}function Ub(r,i){return Qy(r,i)}const ow=new Wi("Application Initializer");let Uf=(()=>{class r{constructor(s){this.appInits=s,this.resolve=Zy,this.reject=Zy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(bg(h))s.push(h);else if(Eg(h)){const y=new Promise((E,x)=>{h.subscribe({complete:E,error:x})});s.push(y)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(us(ow,8))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();const rE=new Wi("AppId"),jD={provide:rE,useFactory:function(){return`${aw()}${aw()}${aw()}`},deps:[]};function aw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iE=new Wi("Platform Initializer"),sE=new Wi("Platform ID"),oE=new Wi("appBootstrapListener");let aE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();const o_=new Wi("LocaleId"),lE=new Wi("DefaultCurrencyCode");class $D{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const lw=function(r){return new Wv(r)},qD=lw,GD=function(r){return Promise.resolve(lw(r))},uE=function(r){const i=lw(r),l=da(Tr(r).declarations).reduce((c,h)=>{const y=br(h);return y&&c.push(new vb(y)),c},[]);return new $D(i,l)},ZD=uE,zD=function(r){return Promise.resolve(uE(r))};let Kg=(()=>{class r{constructor(){this.compileModuleSync=qD,this.compileModuleAsync=GD,this.compileModuleAndAllComponentsSync=ZD,this.compileModuleAndAllComponentsAsync=zD}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();const YD=(()=>Promise.resolve(0))();function uw(r){"undefined"==typeof Zone?YD.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Va{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gu(!1),this.onMicrotaskEmpty=new gu(!1),this.onStable=new gu(!1),this.onError=new gu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=dr.requestAnimationFrame,i=dr.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(dr,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,dw(r),r.isCheckStableRunning=!0,cw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),dw(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,y,E)=>{try{return cE(r),s.invokeTask(c,h,y,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),dE(r)}},onInvoke:(s,l,c,h,y,E,x)=>{try{return cE(r),s.invoke(c,h,y,E,x)}finally{r.shouldCoalesceRunChangeDetection&&i(),dE(r)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,dw(r),cw(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Va.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Va.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,JD,Zy,Zy);try{return h.runTask(y,s,l)}finally{h.cancelTask(y)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const JD={};function cw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function dw(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function cE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function dE(r){r._nesting--,cw(r)}class tA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gu,this.onMicrotaskEmpty=new gu,this.onStable=new gu,this.onError=new gu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}let hE=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Va.assertNotInAngularZone(),uw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uw(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,c){return[]}}return r.\u0275fac=function(s){return new(s||r)(us(Va))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})(),fE=(()=>{class r{constructor(){this._applications=new Map,hw.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return hw.findTestabilityInTree(this,s,l)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();class nA{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function rA(r){hw=r}let hw=new nA,pE=!0,gE=!1;function fw(){return gE=!0,pE}function iA(){if(gE)throw new Error("Cannot enable prod mode after platform setup.");pE=!1}let Ml;const mE=new Wi("AllowMultipleToken");class dA{constructor(i,s){this.name=i,this.token=s}}function yE(r,i,s=[]){const l=`Platform: ${i}`,c=new Wi(l);return(h=[])=>{let y=_E();if(!y||y.injector.get(mE,!1))if(r)r(s.concat(h).concat({provide:c,useValue:!0}));else{const E=s.concat(h).concat({provide:c,useValue:!0},{provide:fa,useValue:"platform"});!function(r){if(Ml&&!Ml.destroyed&&!Ml.injector.get(mE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ml=r.get(vE);const i=r.get(iE,null);i&&i.forEach(s=>s())}(Ki.create({providers:E,name:l}))}return function(r){const i=_E();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function _E(){return Ml&&!Ml.destroyed?Ml:null}let vE=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const E=function(r,i){let s;return s="noop"===r?new tA:("zone.js"===r?void 0:r)||new Va({enableLongStackTrace:fw(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:Va,useValue:E}];return E.run(()=>{const k=Ki.create({providers:x,parent:this.injector,name:s.moduleType.name}),z=s.create(k),se=z.injector.get(m,null);if(!se)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const ue=E.onError.subscribe({next:Ae=>{se.handleError(Ae)}});z.onDestroy(()=>{pw(this._modules,z),ue.unsubscribe()})}),function(r,i,s){try{const l=s();return bg(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(se,E,()=>{const ue=z.injector.get(Uf);return ue.runInitializers(),ue.donePromise.then(()=>(Iv(z.injector.get(o_,jy)||jy),this._moduleDoBootstrap(z),z))})})}bootstrapModule(s,l=[]){const c=wE({},l);return function(r,i,s){const l=new Wv(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(Yg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${he(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(us(Ki))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();function wE(r,i){return Array.isArray(i)?i.reduce(wE,r):Object.assign(Object.assign({},r),i)}let Yg=(()=>{class r{constructor(s,l,c,h,y){this._zone=s,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new ee.y(k=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{k.next(this._stable),k.complete()})}),x=new ee.y(k=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Va.assertNotInAngularZone(),uw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,k.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Va.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{k.next(!1)}))});return()=>{z.unsubscribe(),se.unsubscribe()}});this.isStable=(0,Ve.T)(E,x.pipe((0,Ne.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof L0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Xd),E=c.create(Ki.NULL,[],l||c.selector,h),x=E.location.nativeElement,k=E.injector.get(hE,null),z=k&&E.injector.get(fE);return k&&z&&z.registerApplication(x,k),E.onDestroy(()=>{this.detachView(E.hostView),pw(this.components,E),z&&z.unregisterApplication(x)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;pw(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(oE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(us(Va),us(Ki),us(m),us(Nf),us(Uf))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();function pw(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class yA{}class vA{}const wA={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bA=(()=>{class r{constructor(s,l){this._compiler=s,this._config=l||wA}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[l,c]=s.split("#");return void 0===c&&(c="default"),q(8255)(l).then(h=>h[c]).then(h=>TE(h,l,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(s){let[l,c]=s.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),q(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[c+h]).then(y=>TE(y,l,c))}}return r.\u0275fac=function(s){return new(s||r)(us(Kg),us(vA,8))},r.\u0275prov=xe({token:r,factory:r.\u0275fac}),r})();function TE(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const xA=function(r){return null},NA=yE(null,"core",[{provide:sE,useValue:"unknown"},{provide:vE,deps:[Ki]},{provide:fE,deps:[]},{provide:aE,deps:[]}]),FA=[{provide:Yg,useClass:Yg,deps:[Va,Ki,m,Nf,Uf]},{provide:VI,deps:[Va],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:Uf,useClass:Uf,deps:[[new bo,ow]]},{provide:Kg,useClass:Kg,deps:[]},jD,{provide:Wy,useFactory:function(){return OT},deps:[]},{provide:Ky,useFactory:function(){return MT},deps:[]},{provide:o_,useFactory:function(r){return Iv(r=r||"undefined"!=typeof $localize&&$localize.locale||jy),r},deps:[[new hl(o_),new bo,new wa]]},{provide:lE,useValue:"USD"}];let VA=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(us(Yg))},r.\u0275mod=Cn({type:r}),r.\u0275inj=Tt({providers:FA}),r})()},7057:(Gt,tt,q)=>{"use strict";q.d(tt,{zQ:()=>Qe,rT:()=>nn,f7:()=>Le,L6:()=>xt,_Q:()=>$t,lh:()=>st,Qv:()=>De,nw:()=>nt});var _=q(7716),g=q(9765),ee=q(5917),Ve=q(7574),Ne=q(4402),ye=q(6682),$e=q(8229);function he(ze,Ee,Et){let Ft;return Ft=ze&&"object"==typeof ze?ze:{bufferSize:ze,windowTime:Ee,refCount:!1,scheduler:Et},Yt=>Yt.lift(function({bufferSize:ze=Number.POSITIVE_INFINITY,windowTime:Ee=Number.POSITIVE_INFINITY,refCount:Et,scheduler:Ft}){let Yt,Lt,Kt=0,tn=!1,Pn=!1;return function(ut){let xe;Kt++,!Yt||tn?(tn=!1,Yt=new $e.t(ze,Ee,Ft),xe=Yt.subscribe(this),Lt=ut.subscribe({next(Ge){Yt.next(Ge)},error(Ge){tn=!0,Yt.error(Ge)},complete(){Pn=!0,Lt=void 0,Yt.complete()}}),Pn&&(Lt=void 0)):xe=Yt.subscribe(this),this.add(()=>{Kt--,xe.unsubscribe(),xe=void 0,Lt&&!Pn&&Et&&0===Kt&&(Lt.unsubscribe(),Lt=void 0,Yt=void 0)})}}(Ft))}var te=q(3190);function ce(ze,Ee){return Ee?(0,te.w)(()=>ze,Ee):(0,te.w)(()=>ze)}var de=q(309),Se=q(8002),Fe=q(8049),Ke=q(3101),qe=q(5435),gt=q(9126),fe=q(8939),ht=q(8583);q(7841);const De=new _.OlP("angularfire2.auth.use-emulator"),xt=new _.OlP("angularfire2.auth.settings"),$t=new _.OlP("angularfire2.auth.tenant-id"),nn=new _.OlP("angularfire2.auth.langugage-code"),st=new _.OlP("angularfire2.auth.use-device-language"),Le=new _.OlP("angularfire.auth.persistence"),nt=(ze,Ee,Et,Ft,Yt,Kt,Lt,tn)=>(0,gt.cc)(`${ze.name}.auth`,"AngularFireAuth",ze.name,()=>{const Pn=Ee.runOutsideAngular(()=>ze.auth());if(Et&&Pn.useEmulator(...Et),Ft&&(Pn.tenantId=Ft),Pn.languageCode=Yt,Kt&&Pn.useDeviceLanguage(),Lt)for(const[dt,ut]of Object.entries(Lt))Pn.settings[dt]=ut;return tn&&Pn.setPersistence(tn),Pn},[Et,Ft,Yt,Kt,Lt,tn]);let Qe=(()=>{class ze{constructor(Et,Ft,Yt,Kt,Lt,tn,Pn,dt,ut,xe,Ge){const Tt=new g.xQ,jt=(0,ee.of)(void 0).pipe((0,de.QV)(Lt.outsideAngular),(0,te.w)(()=>Kt.runOutsideAngular(()=>Promise.resolve().then(q.bind(q,5841)))),(0,Se.U)(()=>(0,fe.on)(Et,Kt,Ft)),(0,Se.U)(On=>nt(On,Kt,tn,dt,ut,xe,Pn,Ge)),he({bufferSize:1,refCount:!1}));if((0,ht.PM)(Yt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ee.of)(null);else{jt.pipe((0,Fe.P)()).subscribe();const cr=jt.pipe((0,te.w)(jn=>jn.getRedirectResult().then(Ot=>Ot,()=>null)),gt.iC,he({bufferSize:1,refCount:!1})),bn=jt.pipe((0,te.w)(jn=>new Ve.y(Ot=>({unsubscribe:Kt.runOutsideAngular(()=>jn.onAuthStateChanged(Be=>Ot.next(Be),Be=>Ot.error(Be),()=>Ot.complete()))})))),ar=jt.pipe((0,te.w)(jn=>new Ve.y(Ot=>({unsubscribe:Kt.runOutsideAngular(()=>jn.onIdTokenChanged(Be=>Ot.next(Be),Be=>Ot.error(Be),()=>Ot.complete()))}))));this.authState=cr.pipe(ce(bn),(0,Ke.R)(Lt.outsideAngular),(0,de.QV)(Lt.insideAngular)),this.user=cr.pipe(ce(ar),(0,Ke.R)(Lt.outsideAngular),(0,de.QV)(Lt.insideAngular)),this.idToken=this.user.pipe((0,te.w)(jn=>jn?(0,Ne.D)(jn.getIdToken()):(0,ee.of)(null))),this.idTokenResult=this.user.pipe((0,te.w)(jn=>jn?(0,Ne.D)(jn.getIdTokenResult()):(0,ee.of)(null))),this.credential=(0,ye.T)(cr,Tt,this.authState.pipe((0,qe.h)(jn=>!jn))).pipe((0,Se.U)(jn=>(null==jn?void 0:jn.user)?jn:null),(0,Ke.R)(Lt.outsideAngular),(0,de.QV)(Lt.insideAngular))}return(0,fe.pX)(this,jt,Kt,{spy:{apply:(On,cr,bn)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&bn.then(ar=>Tt.next(ar))}}})}}return ze.\u0275fac=function(Et){return new(Et||ze)(_.LFG(fe.Dh),_.LFG(fe.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(gt.HU),_.LFG(De,8),_.LFG(xt,8),_.LFG($t,8),_.LFG(nn,8),_.LFG(st,8),_.LFG(Le,8))},ze.\u0275prov=_.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"any"}),ze})()},8939:(Gt,tt,q)=>{"use strict";q.d(tt,{hO:()=>Se,xv:()=>me,Dh:()=>he,GT:()=>ye,on:()=>te,pX:()=>Ne});var _=q(7716),g=q(7841),ee=q(9126);Gt=q.hmd(Gt);const Ve=["ngOnDestroy"],Ne=(Fe,Ke,qe,gt={})=>new Proxy(Fe,{get:(fe,ht)=>qe.runOutsideAngular(()=>{var _t;if(Fe[ht])return(null===(_t=null==gt?void 0:gt.spy)||void 0===_t?void 0:_t.get)&&gt.spy.get(ht,Fe[ht]),Fe[ht];if(Ve.indexOf(ht)>-1)return()=>{};const ct=Ke.toPromise().then(De=>{const xt=De&&De[ht];return"function"==typeof xt?xt.bind(De):xt&&xt.then?xt.then($t=>qe.run(()=>$t)):qe.run(()=>xt)});return new Proxy(()=>{},{get:(De,xt)=>ct[xt],apply:(De,xt,$t)=>ct.then(nn=>{var st;const Le=nn&&nn(...$t);return(null===(st=null==gt?void 0:gt.spy)||void 0===st?void 0:st.apply)&&gt.spy.apply(ht,$t,Le),Le})})})}),ye=(Fe,Ke)=>{Ke.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(gt=>{Object.defineProperty(Fe.prototype,gt,Object.getOwnPropertyDescriptor(qe.prototype||qe,gt))})})};class $e{constructor(Ke){return Ke}}const he=new _.OlP("angularfire2.app.options"),me=new _.OlP("angularfire2.app.name");function te(Fe,Ke,qe){const fe="object"==typeof qe&&qe||{};fe.name=fe.name||"string"==typeof qe&&qe||"[DEFAULT]";const _t=g.Z.apps.filter(ct=>ct&&ct.name===fe.name)[0]||Ke.runOutsideAngular(()=>g.Z.initializeApp(Fe,fe));try{JSON.stringify(Fe)!==JSON.stringify(_t.options)&&ce("error",`${_t.name} Firebase App already initialized with different options${Gt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new $e(_t)}const ce=(Fe,...Ke)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Fe](...Ke)},de={provide:$e,useFactory:te,deps:[he,_.R0b,[new _.FiY,me]]};let Se=(()=>{class Fe{constructor(qe){g.Z.registerVersion("angularfire",ee.q4.full,"core"),g.Z.registerVersion("angularfire",ee.q4.full,"app-compat"),g.Z.registerVersion("angular",_.q4F.full,qe.toString())}static initializeApp(qe,gt){return{ngModule:Fe,providers:[{provide:he,useValue:qe},{provide:me,useValue:gt}]}}}return Fe.\u0275fac=function(qe){return new(qe||Fe)(_.LFG(_.Lbi))},Fe.\u0275mod=_.oAB({type:Fe}),Fe.\u0275inj=_.cJS({providers:[de]}),Fe})()},9126:(Gt,tt,q)=>{"use strict";q.d(tt,{q4:()=>te,iC:()=>Le,fc:()=>nn,HU:()=>ct,cc:()=>Se});var _=q(7716);(0,q(5452).registerVersion)("firebase","9.1.2","app");var Ne=q(7771),ye=q(3637),$e=q(8307),he=q(309),me=q(3101);Gt=q.hmd(Gt);const te=new _.GfV("7.0.4"),ce=!!Gt.hot,de=(ze,...Ee)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[ze](...Ee)};function Se(ze,Ee,Et,Ft,Yt){const[,Kt,Lt]=globalThis.\u0275AngularfireInstanceCache.find(tn=>tn[0]===ze)||[];if(Kt)return function(ze,Ee){try{return ze.toString()===Ee.toString()}catch(Et){return ze===Ee}}(Yt,Lt)||(de("error",`${Ee} was already initialized on the ${Et} Firebase App with different settings.${ce?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Yt,was:Lt})),Kt;{const tn=Ft();return globalThis.\u0275AngularfireInstanceCache.push([ze,tn,Yt]),tn}}function fe(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ht{constructor(Ee,Et=Ne.N){this.zone=Ee,this.delegate=Et}now(){return this.delegate.now()}schedule(Ee,Et,Ft){const Yt=this.zone;return this.delegate.schedule(function(Lt){Yt.runGuarded(()=>{Ee.apply(this,[Lt])})},Et,Ft)}}class _t{constructor(Ee){this.zone=Ee,this.task=null}call(Ee,Et){const Ft=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),Et.pipe((0,$e.b)({next:Ft,complete:Ft,error:Ft})).subscribe(Ee).add(Ft)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ct=(()=>{class ze{constructor(Et){this.ngZone=Et,this.outsideAngular=Et.runOutsideAngular(()=>new ht(Zone.current)),this.insideAngular=Et.run(()=>new ht(Zone.current,ye.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return ze.\u0275fac=function(Et){return new(Et||ze)(_.LFG(_.R0b))},ze.\u0275prov=_.Yz7({token:ze,factory:ze.\u0275fac,providedIn:"root"}),ze})();function De(){const ze=globalThis.\u0275AngularFireScheduler;if(!ze)throw new Error("AngularFireModule has not been provided");return ze}function nn(ze){return ze.pipe((0,he.QV)(De().outsideAngular))}function Le(ze){return De(),function(ze){return function(Et){return(Et=Et.lift(new _t(ze.ngZone))).pipe((0,me.R)(ze.outsideAngular),(0,he.QV)(ze.insideAngular))}}(De())(ze)}},665:(Gt,tt,q)=>{"use strict";q.d(tt,{Wl:()=>Fe,Fj:()=>fe,qu:()=>it,u:()=>Us,sg:()=>Pi,u5:()=>H,JJ:()=>Ht,JL:()=>dn,F:()=>je,wV:()=>Kr,UX:()=>re,Q7:()=>rs,kI:()=>$t,_Y:()=>ti});var _=q(7716),g=q(8583),ee=q(7574),Ve=q(9796),Ne=q(8002),ye=q(1555),$e=q(4402);function me(V,P){return new ee.y(R=>{const J=V.length;if(0===J)return void R.complete();const We=new Array(J);let Pt=0,An=0;for(let sr=0;sr<J;sr++){const vi=(0,$e.D)(V[sr]);let Ur=!1;R.add(vi.subscribe({next:Yr=>{Ur||(Ur=!0,An++),We[sr]=Yr},error:Yr=>R.error(Yr),complete:()=>{Pt++,(Pt===J||!Ur)&&(An===J&&R.next(P?P.reduce((Yr,Li,Tn)=>(Yr[Li]=We[Tn],Yr),{}):We),R.complete())}}))}})}let te=(()=>{class V{constructor(R,J){this._renderer=R,this._elementRef=J,this.onChange=We=>{},this.onTouched=()=>{}}setProperty(R,J){this._renderer.setProperty(this._elementRef.nativeElement,R,J)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(_.Qsj),_.Y36(_.SBq))},V.\u0275dir=_.lG2({type:V}),V})(),ce=(()=>{class V extends te{}return V.\u0275fac=function(){let P;return function(J){return(P||(P=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();const de=new _.OlP("NgValueAccessor"),Se={provide:de,useExisting:(0,_.Gpc)(()=>Fe),multi:!0};let Fe=(()=>{class V extends ce{writeValue(R){this.setProperty("checked",R)}}return V.\u0275fac=function(){let P;return function(J){return(P||(P=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(R,J){1&R&&_.NdJ("change",function(Pt){return J.onChange(Pt.target.checked)})("blur",function(){return J.onTouched()})},features:[_._Bn([Se]),_.qOj]}),V})();const Ke={provide:de,useExisting:(0,_.Gpc)(()=>fe),multi:!0},gt=new _.OlP("CompositionEventMode");let fe=(()=>{class V extends te{constructor(R,J,We){super(R,J),this._compositionMode=We,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const V=(0,g.q)()?(0,g.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(R){this.setProperty("value",null==R?"":R)}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(gt,8))},V.\u0275dir=_.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(R,J){1&R&&_.NdJ("input",function(Pt){return J._handleInput(Pt.target.value)})("blur",function(){return J.onTouched()})("compositionstart",function(){return J._compositionStart()})("compositionend",function(Pt){return J._compositionEnd(Pt.target.value)})},features:[_._Bn([Ke]),_.qOj]}),V})();function ht(V){return null==V||0===V.length}function _t(V){return null!=V&&"number"==typeof V.length}const ct=new _.OlP("NgValidators"),De=new _.OlP("NgAsyncValidators"),xt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $t{static min(P){return V=P,P=>{if(ht(P.value)||ht(V))return null;const R=parseFloat(P.value);return!isNaN(R)&&R<V?{min:{min:V,actual:P.value}}:null};var V}static max(P){return V=P,P=>{if(ht(P.value)||ht(V))return null;const R=parseFloat(P.value);return!isNaN(R)&&R>V?{max:{max:V,actual:P.value}}:null};var V}static required(P){return Le(P)}static requiredTrue(P){return!0===P.value?null:{required:!0}}static email(P){return ht((V=P).value)||xt.test(V.value)?null:{email:!0};var V}static minLength(P){return V=P,P=>ht(P.value)||!_t(P.value)?null:P.value.length<V?{minlength:{requiredLength:V,actualLength:P.value.length}}:null;var V}static maxLength(P){return V=P,P=>_t(P.value)&&P.value.length>V?{maxlength:{requiredLength:V,actualLength:P.value.length}}:null;var V}static pattern(P){return function(V){if(!V)return Et;let P,R;return"string"==typeof V?(R="","^"!==V.charAt(0)&&(R+="^"),R+=V,"$"!==V.charAt(V.length-1)&&(R+="$"),P=new RegExp(R)):(R=V.toString(),P=V),J=>{if(ht(J.value))return null;const We=J.value;return P.test(We)?null:{pattern:{requiredPattern:R,actualValue:We}}}}(P)}static nullValidator(P){return null}static compose(P){return dt(P)}static composeAsync(P){return xe(P)}}function Le(V){return ht(V.value)?{required:!0}:null}function Et(V){return null}function Ft(V){return null!=V}function Yt(V){const P=(0,_.QGY)(V)?(0,$e.D)(V):V;return(0,_.CqO)(P),P}function Kt(V){let P={};return V.forEach(R=>{P=null!=R?Object.assign(Object.assign({},P),R):P}),0===Object.keys(P).length?null:P}function Lt(V,P){return P.map(R=>R(V))}function Pn(V){return V.map(P=>function(V){return!V.validate}(P)?P:R=>P.validate(R))}function dt(V){if(!V)return null;const P=V.filter(Ft);return 0==P.length?null:function(R){return Kt(Lt(R,P))}}function ut(V){return null!=V?dt(Pn(V)):null}function xe(V){if(!V)return null;const P=V.filter(Ft);return 0==P.length?null:function(R){return function(...V){if(1===V.length){const P=V[0];if((0,Ve.k)(P))return me(P,null);if((0,ye.K)(P)&&Object.getPrototypeOf(P)===Object.prototype){const R=Object.keys(P);return me(R.map(J=>P[J]),R)}}if("function"==typeof V[V.length-1]){const P=V.pop();return me(V=1===V.length&&(0,Ve.k)(V[0])?V[0]:V,null).pipe((0,Ne.U)(R=>P(...R)))}return me(V,null)}(Lt(R,P).map(Yt)).pipe((0,Ne.U)(Kt))}}function Ge(V){return null!=V?xe(Pn(V)):null}function Tt(V,P){return null===V?[P]:Array.isArray(V)?[...V,P]:[V,P]}function jt(V){return V._rawValidators}function On(V){return V._rawAsyncValidators}function cr(V){return V?Array.isArray(V)?V:[V]:[]}function bn(V,P){return Array.isArray(V)?V.includes(P):V===P}function ar(V,P){const R=cr(P);return cr(V).forEach(We=>{bn(R,We)||R.push(We)}),R}function jn(V,P){return cr(P).filter(R=>!bn(V,R))}let Ot=(()=>{class V{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,J){return!!this.control&&this.control.hasError(R,J)}getError(R,J){return this.control?this.control.getError(R,J):null}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=_.lG2({type:V}),V})(),Be=(()=>{class V extends Ot{get formDirective(){return null}get path(){return null}}return V.\u0275fac=function(){let P;return function(J){return(P||(P=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();class ot extends Ot{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lt{constructor(P){this._cd=P}is(P){var R,J,We;return"submitted"===P?!!(null===(R=this._cd)||void 0===R?void 0:R.submitted):!!(null===(We=null===(J=this._cd)||void 0===J?void 0:J.control)||void 0===We?void 0:We[P])}}let Ht=(()=>{class V extends lt{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(ot,2))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(R,J){2&R&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))},features:[_.qOj]}),V})(),dn=(()=>{class V extends lt{constructor(R){super(R)}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(Be,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(R,J){2&R&&_.ekj("ng-untouched",J.is("untouched"))("ng-touched",J.is("touched"))("ng-pristine",J.is("pristine"))("ng-dirty",J.is("dirty"))("ng-valid",J.is("valid"))("ng-invalid",J.is("invalid"))("ng-pending",J.is("pending"))("ng-submitted",J.is("submitted"))},features:[_.qOj]}),V})();function Re(V,P){Je(V,P),P.valueAccessor.writeValue(V.value),function(V,P){P.valueAccessor.registerOnChange(R=>{V._pendingValue=R,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Er(V,P)})}(V,P),function(V,P){const R=(J,We)=>{P.valueAccessor.writeValue(J),We&&P.viewToModelUpdate(J)};V.registerOnChange(R),P._registerOnDestroy(()=>{V._unregisterOnChange(R)})}(V,P),function(V,P){P.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Er(V,P),"submit"!==V.updateOn&&V.markAsTouched()})}(V,P),function(V,P){if(P.valueAccessor.setDisabledState){const R=J=>{P.valueAccessor.setDisabledState(J)};V.registerOnDisabledChange(R),P._registerOnDestroy(()=>{V._unregisterOnDisabledChange(R)})}}(V,P)}function Ce(V,P,R=!0){const J=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(J),P.valueAccessor.registerOnTouched(J)),Vt(V,P),V&&(P._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function ke(V,P){V.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange(P)})}function Je(V,P){const R=jt(V);null!==P.validator?V.setValidators(Tt(R,P.validator)):"function"==typeof R&&V.setValidators([R]);const J=On(V);null!==P.asyncValidator?V.setAsyncValidators(Tt(J,P.asyncValidator)):"function"==typeof J&&V.setAsyncValidators([J]);const We=()=>V.updateValueAndValidity();ke(P._rawValidators,We),ke(P._rawAsyncValidators,We)}function Vt(V,P){let R=!1;if(null!==V){if(null!==P.validator){const We=jt(V);if(Array.isArray(We)&&We.length>0){const Pt=We.filter(An=>An!==P.validator);Pt.length!==We.length&&(R=!0,V.setValidators(Pt))}}if(null!==P.asyncValidator){const We=On(V);if(Array.isArray(We)&&We.length>0){const Pt=We.filter(An=>An!==P.asyncValidator);Pt.length!==We.length&&(R=!0,V.setAsyncValidators(Pt))}}}const J=()=>{};return ke(P._rawValidators,J),ke(P._rawAsyncValidators,J),R}function Er(V,P){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function Hn(V,P){Je(V,P)}function gi(V,P){V._syncPendingControls(),P.forEach(R=>{const J=R.control;"submit"===J.updateOn&&J._pendingChange&&(R.viewToModelUpdate(J._pendingValue),J._pendingChange=!1)})}function Yi(V,P){const R=V.indexOf(P);R>-1&&V.splice(R,1)}const br="VALID",Rn="INVALID",an="PENDING",Tr="DISABLED";function Yn(V){return($r(V)?V.validators:V)||null}function Ut(V){return Array.isArray(V)?ut(V):V||null}function Vn(V,P){return($r(P)?P.asyncValidators:V)||null}function lr(V){return Array.isArray(V)?Ge(V):V||null}function $r(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class Qn{constructor(P,R){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=P,this._rawAsyncValidators=R,this._composedValidatorFn=Ut(this._rawValidators),this._composedAsyncValidatorFn=lr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===br}get invalid(){return this.status===Rn}get pending(){return this.status==an}get disabled(){return this.status===Tr}get enabled(){return this.status!==Tr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._rawValidators=P,this._composedValidatorFn=Ut(P)}setAsyncValidators(P){this._rawAsyncValidators=P,this._composedAsyncValidatorFn=lr(P)}addValidators(P){this.setValidators(ar(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(ar(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(jn(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(jn(P,this._rawAsyncValidators))}hasValidator(P){return bn(this._rawValidators,P)}hasAsyncValidator(P){return bn(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(R=>{R.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(R=>{R.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=an,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const R=this._parentMarkedDirty(P.onlySelf);this.status=Tr,this.errors=null,this._forEachChild(J=>{J.disable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:R})),this._onDisabledChange.forEach(J=>J(!0))}enable(P={}){const R=this._parentMarkedDirty(P.onlySelf);this.status=br,this._forEachChild(J=>{J.enable(Object.assign(Object.assign({},P),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},P),{skipPristineCheck:R})),this._onDisabledChange.forEach(J=>J(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===br||this.status===an)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Tr:br}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=an,this._hasOwnPendingAsyncValidator=!0;const R=Yt(this.asyncValidator(this));this._asyncValidationSubscription=R.subscribe(J=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(J,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,R={}){this.errors=P,this._updateControlsErrors(!1!==R.emitEvent)}get(P){return function(V,P,R){if(null==P||(Array.isArray(P)||(P=P.split(".")),Array.isArray(P)&&0===P.length))return null;let J=V;return P.forEach(We=>{J=J instanceof Wr?J.controls.hasOwnProperty(We)?J.controls[We]:null:J instanceof En&&J.at(We)||null}),J}(this,P)}getError(P,R){const J=R?this.get(R):this;return J&&J.errors?J.errors[P]:null}hasError(P,R){return!!this.getError(P,R)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?Tr:this.errors?Rn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(an)?an:this._anyControlsHaveStatus(Rn)?Rn:br}_anyControlsHaveStatus(P){return this._anyControls(R=>R.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_isBoxedValue(P){return"object"==typeof P&&null!==P&&2===Object.keys(P).length&&"value"in P&&"disabled"in P}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){$r(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class pr extends Qn{constructor(P=null,R,J){super(Yn(R),Vn(J,R)),this._onChange=[],this._applyFormState(P),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(P,R={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(J=>J(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue(P,R={}){this.setValue(P,R)}reset(P=null,R={}){this._applyFormState(P),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Yi(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Yi(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){this._isBoxedValue(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}}class Wr extends Qn{constructor(P,R,J){super(Yn(R),Vn(J,R)),this.controls=P,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,R){return this.controls[P]?this.controls[P]:(this.controls[P]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl(P,R,J={}){this.registerControl(P,R),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}removeControl(P,R={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl(P,R,J={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],R&&this.registerControl(P,R),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,R={}){this._checkAllValuesPresent(P),Object.keys(P).forEach(J=>{this._throwIfControlMissing(J),this.controls[J].setValue(P[J],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(P,R={}){null!=P&&(Object.keys(P).forEach(J=>{this.controls[J]&&this.controls[J].patchValue(P[J],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(P={},R={}){this._forEachChild((J,We)=>{J.reset(P[We],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},(P,R,J)=>(P[J]=R instanceof pr?R.value:R.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(R,J)=>!!J._syncPendingControls()||R);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[P])throw new Error(`Cannot find form control with name: ${P}.`)}_forEachChild(P){Object.keys(this.controls).forEach(R=>{const J=this.controls[R];J&&P(J,R)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const R of Object.keys(this.controls)){const J=this.controls[R];if(this.contains(R)&&P(J))return!0}return!1}_reduceValue(){return this._reduceChildren({},(P,R,J)=>((R.enabled||this.disabled)&&(P[J]=R.value),P))}_reduceChildren(P,R){let J=P;return this._forEachChild((We,Pt)=>{J=R(J,We,Pt)}),J}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(P){this._forEachChild((R,J)=>{if(void 0===P[J])throw new Error(`Must supply a value for form control with name: '${J}'.`)})}}class En extends Qn{constructor(P,R,J){super(Yn(R),Vn(J,R)),this.controls=P,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[P]}push(P,R={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}insert(P,R,J={}){this.controls.splice(P,0,R),this._registerControl(R),this.updateValueAndValidity({emitEvent:J.emitEvent})}removeAt(P,R={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),this.updateValueAndValidity({emitEvent:R.emitEvent})}setControl(P,R,J={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),this.controls.splice(P,1),R&&(this.controls.splice(P,0,R),this._registerControl(R)),this.updateValueAndValidity({emitEvent:J.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,R={}){this._checkAllValuesPresent(P),P.forEach((J,We)=>{this._throwIfControlMissing(We),this.at(We).setValue(J,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue(P,R={}){null!=P&&(P.forEach((J,We)=>{this.at(We)&&this.at(We).patchValue(J,{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset(P=[],R={}){this._forEachChild((J,We)=>{J.reset(P[We],{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R),this._updateTouched(R),this.updateValueAndValidity(R)}getRawValue(){return this.controls.map(P=>P instanceof pr?P.value:P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(R=>R._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_syncPendingControls(){let P=this.controls.reduce((R,J)=>!!J._syncPendingControls()||R,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_throwIfControlMissing(P){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(P))throw new Error(`Cannot find form control at index ${P}`)}_forEachChild(P){this.controls.forEach((R,J)=>{P(R,J)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(R=>R.enabled&&P(R))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_checkAllValuesPresent(P){this._forEachChild((R,J)=>{if(void 0===P[J])throw new Error(`Must supply a value for form control at index: ${J}.`)})}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}}const ir={provide:Be,useExisting:(0,_.Gpc)(()=>je)},_n=(()=>Promise.resolve(null))();let je=(()=>{class V extends Be{constructor(R,J){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new Wr({},ut(R),Ge(J))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){_n.then(()=>{const J=this._findContainer(R.path);R.control=J.registerControl(R.name,R.control),Re(R.control,R),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){_n.then(()=>{const J=this._findContainer(R.path);J&&J.removeControl(R.name),Yi(this._directives,R)})}addFormGroup(R){_n.then(()=>{const J=this._findContainer(R.path),We=new Wr({});Hn(We,R),J.registerControl(R.name,We),We.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){_n.then(()=>{const J=this._findContainer(R.path);J&&J.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,J){_n.then(()=>{this.form.get(R.path).setValue(J)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submitted=!0,gi(this.form,this._directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(ct,10),_.Y36(De,10))},V.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(R,J){1&R&&_.NdJ("submit",function(Pt){return J.onSubmit(Pt)})("reset",function(){return J.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([ir]),_.qOj]}),V})(),ti=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const Mi={provide:de,useExisting:(0,_.Gpc)(()=>Kr),multi:!0};let Kr=(()=>{class V extends ce{writeValue(R){this.setProperty("value",null==R?"":R)}registerOnChange(R){this.onChange=J=>{R(""==J?null:parseFloat(J))}}}return V.\u0275fac=function(){let P;return function(J){return(P||(P=_.n5z(V)))(J||V)}}(),V.\u0275dir=_.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(R,J){1&R&&_.NdJ("input",function(Pt){return J.onChange(Pt.target.value)})("blur",function(){return J.onTouched()})},features:[_._Bn([Mi]),_.qOj]}),V})(),Ws=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({}),V})();const ci=new _.OlP("NgModelWithFormControlWarning"),Vs={provide:Be,useExisting:(0,_.Gpc)(()=>Pi)};let Pi=(()=>{class V extends Be{constructor(R,J){super(),this.validators=R,this.asyncValidators=J,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(R),this._setAsyncValidators(J)}ngOnChanges(R){this._checkFormPresent(),R.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(R){const J=this.form.get(R.path);return Re(J,R),J.updateValueAndValidity({emitEvent:!1}),this.directives.push(R),J}getControl(R){return this.form.get(R.path)}removeControl(R){Ce(R.control||null,R,!1),Yi(this.directives,R)}addFormGroup(R){this._setUpFormContainer(R)}removeFormGroup(R){this._cleanUpFormContainer(R)}getFormGroup(R){return this.form.get(R.path)}addFormArray(R){this._setUpFormContainer(R)}removeFormArray(R){this._cleanUpFormContainer(R)}getFormArray(R){return this.form.get(R.path)}updateModel(R,J){this.form.get(R.path).setValue(J)}onSubmit(R){return this.submitted=!0,gi(this.form,this.directives),this.ngSubmit.emit(R),!1}onReset(){this.resetForm()}resetForm(R){this.form.reset(R),this.submitted=!1}_updateDomValue(){this.directives.forEach(R=>{const J=R.control,We=this.form.get(R.path);J!==We&&(Ce(J||null,R),We instanceof pr&&(Re(We,R),R.control=We))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(R){const J=this.form.get(R.path);Hn(J,R),J.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(R){if(this.form){const J=this.form.get(R.path);J&&function(V,P){return Vt(V,P)}(J,R)&&J.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Je(this.form,this),this._oldForm&&Vt(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(ct,10),_.Y36(De,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(R,J){1&R&&_.NdJ("submit",function(Pt){return J.onSubmit(Pt)})("reset",function(){return J.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([Vs]),_.qOj,_.TTD]}),V})();const Gr={provide:ot,useExisting:(0,_.Gpc)(()=>Us)};let Us=(()=>{class V extends ot{constructor(R,J,We,Pt,An){super(),this._ngModelWarningConfig=An,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=R,this._setValidators(J),this._setAsyncValidators(We),this.valueAccessor=function(V,P){if(!P)return null;let R,J,We;return Array.isArray(P),P.forEach(Pt=>{Pt.constructor===fe?R=Pt:function(V){return Object.getPrototypeOf(V.constructor)===ce}(Pt)?J=Pt:We=Pt}),We||J||R||null}(0,Pt)}set isDisabled(R){}ngOnChanges(R){this._added||this._setUpControl(),function(V,P){if(!V.hasOwnProperty("model"))return!1;const R=V.model;return!!R.isFirstChange()||!Object.is(P,R.currentValue)}(R,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}get path(){return function(V,P){return[...P.path,V]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V.\u0275fac=function(R){return new(R||V)(_.Y36(Be,13),_.Y36(ct,10),_.Y36(De,10),_.Y36(de,10),_.Y36(ci,8))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Gr]),_.qOj,_.TTD]}),V._ngModelWarningSentOnce=!1,V})();const yo={provide:ct,useExisting:(0,_.Gpc)(()=>rs),multi:!0};let rs=(()=>{class V{constructor(){this._required=!1}get required(){return this._required}set required(R){this._required=null!=R&&!1!==R&&"false"!=`${R}`,this._onChange&&this._onChange()}validate(R){return this.required?Le(R):null}registerOnValidatorChange(R){this._onChange=R}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275dir=_.lG2({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(R,J){2&R&&_.uIk("required",J.required?"":null)},inputs:{required:"required"},features:[_._Bn([yo])]}),V})(),X=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[[Ws]]}),V})(),H=(()=>{class V{}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[X]}),V})(),re=(()=>{class V{static withConfig(R){return{ngModule:V,providers:[{provide:ci,useValue:R.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[X]}),V})(),it=(()=>{class V{group(R,J=null){const We=this._reduceControls(R);let sr,Pt=null,An=null;return null!=J&&(function(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(J)?(Pt=null!=J.validators?J.validators:null,An=null!=J.asyncValidators?J.asyncValidators:null,sr=null!=J.updateOn?J.updateOn:void 0):(Pt=null!=J.validator?J.validator:null,An=null!=J.asyncValidator?J.asyncValidator:null)),new Wr(We,{asyncValidators:An,updateOn:sr,validators:Pt})}control(R,J,We){return new pr(R,J,We)}array(R,J,We){const Pt=R.map(An=>this._createControl(An));return new En(Pt,J,We)}_reduceControls(R){const J={};return Object.keys(R).forEach(We=>{J[We]=this._createControl(R[We])}),J}_createControl(R){return R instanceof pr||R instanceof Wr||R instanceof En?R:Array.isArray(R)?this.control(R[0],R.length>1?R[1]:null,R.length>2?R[2]:null):this.control(R)}}return V.\u0275fac=function(R){return new(R||V)},V.\u0275prov=(0,_.Yz7)({factory:function(){return new V},token:V,providedIn:re}),V})()},9075:(Gt,tt,q)=>{"use strict";q.d(tt,{b2:()=>Cn,H7:()=>ke,q6:()=>Hr,se:()=>On});var _=q(8583),g=q(7716);class ee extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends ee{static makeCurrent(){(0,_.HT)(new Ve)}onAndCancel(Pe,ge,Ye){return Pe.addEventListener(ge,Ye,!1),()=>{Pe.removeEventListener(ge,Ye,!1)}}dispatchEvent(Pe,ge){Pe.dispatchEvent(ge)}remove(Pe){Pe.parentNode&&Pe.parentNode.removeChild(Pe)}createElement(Pe,ge){return(ge=ge||this.getDefaultDocument()).createElement(Pe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Pe){return Pe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Pe){return Pe instanceof DocumentFragment}getGlobalEventTarget(Pe,ge){return"window"===ge?window:"document"===ge?Pe:"body"===ge?Pe.body:null}getBaseHref(Pe){const ge=(Ne=Ne||document.querySelector("base"),Ne?Ne.getAttribute("href"):null);return null==ge?null:function(je){$e=$e||document.createElement("a"),$e.setAttribute("href",je);const Pe=$e.pathname;return"/"===Pe.charAt(0)?Pe:`/${Pe}`}(ge)}resetBaseElement(){Ne=null}getUserAgent(){return window.navigator.userAgent}getCookie(Pe){return(0,_.Mx)(document.cookie,Pe)}}let $e,Ne=null;const me=new g.OlP("TRANSITION_ID"),ce=[{provide:g.ip1,useFactory:function(je,Pe,ge){return()=>{ge.get(g.CZH).donePromise.then(()=>{const Ye=(0,_.q)(),vt=Pe.querySelectorAll(`style[ng-transition="${je}"]`);for(let cn=0;cn<vt.length;cn++)Ye.remove(vt[cn])})}},deps:[me,_.K0,g.zs3],multi:!0}];class de{static init(){(0,g.VLi)(new de)}addToWindow(Pe){g.dqk.getAngularTestability=(Ye,vt=!0)=>{const cn=Pe.findTestabilityInTree(Ye,vt);if(null==cn)throw new Error("Could not find testability for element.");return cn},g.dqk.getAllAngularTestabilities=()=>Pe.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>Pe.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(Ye=>{const vt=g.dqk.getAllAngularTestabilities();let cn=vt.length,Fn=!1;const gr=function(Un){Fn=Fn||Un,cn--,0==cn&&Ye(Fn)};vt.forEach(function(Un){Un.whenStable(gr)})})}findTestabilityInTree(Pe,ge,Ye){if(null==ge)return null;const vt=Pe.getTestability(ge);return null!=vt?vt:Ye?(0,_.q)().isShadowRoot(ge)?this.findTestabilityInTree(Pe,ge.host,!0):this.findTestabilityInTree(Pe,ge.parentElement,!0):null}}let Se=(()=>{class je{build(){return new XMLHttpRequest}}return je.\u0275fac=function(ge){return new(ge||je)},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})();const Qe=new g.OlP("EventManagerPlugins");let Te=(()=>{class je{constructor(ge,Ye){this._zone=Ye,this._eventNameToPlugin=new Map,ge.forEach(vt=>vt.manager=this),this._plugins=ge.slice().reverse()}addEventListener(ge,Ye,vt){return this._findPluginFor(Ye).addEventListener(ge,Ye,vt)}addGlobalEventListener(ge,Ye,vt){return this._findPluginFor(Ye).addGlobalEventListener(ge,Ye,vt)}getZone(){return this._zone}_findPluginFor(ge){const Ye=this._eventNameToPlugin.get(ge);if(Ye)return Ye;const vt=this._plugins;for(let cn=0;cn<vt.length;cn++){const Fn=vt[cn];if(Fn.supports(ge))return this._eventNameToPlugin.set(ge,Fn),Fn}throw new Error(`No event manager plugin found for event ${ge}`)}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(Qe),g.LFG(g.R0b))},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})();class ze{constructor(Pe){this._doc=Pe}addGlobalEventListener(Pe,ge,Ye){const vt=(0,_.q)().getGlobalEventTarget(this._doc,Pe);if(!vt)throw new Error(`Unsupported event target ${vt} for event ${ge}`);return this.addEventListener(vt,ge,Ye)}}let Ee=(()=>{class je{constructor(){this._stylesSet=new Set}addStyles(ge){const Ye=new Set;ge.forEach(vt=>{this._stylesSet.has(vt)||(this._stylesSet.add(vt),Ye.add(vt))}),this.onStylesAdded(Ye)}onStylesAdded(ge){}getAllStyles(){return Array.from(this._stylesSet)}}return je.\u0275fac=function(ge){return new(ge||je)},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})(),Et=(()=>{class je extends Ee{constructor(ge){super(),this._doc=ge,this._hostNodes=new Map,this._hostNodes.set(ge.head,[])}_addStylesToHost(ge,Ye,vt){ge.forEach(cn=>{const Fn=this._doc.createElement("style");Fn.textContent=cn,vt.push(Ye.appendChild(Fn))})}addHost(ge){const Ye=[];this._addStylesToHost(this._stylesSet,ge,Ye),this._hostNodes.set(ge,Ye)}removeHost(ge){const Ye=this._hostNodes.get(ge);Ye&&Ye.forEach(Ft),this._hostNodes.delete(ge)}onStylesAdded(ge){this._hostNodes.forEach((Ye,vt)=>{this._addStylesToHost(ge,vt,Ye)})}ngOnDestroy(){this._hostNodes.forEach(ge=>ge.forEach(Ft))}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(_.K0))},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})();function Ft(je){(0,_.q)().remove(je)}const Yt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Kt=/%COMP%/g;function Ge(je,Pe,ge){for(let Ye=0;Ye<Pe.length;Ye++){let vt=Pe[Ye];Array.isArray(vt)?Ge(je,vt,ge):(vt=vt.replace(Kt,je),ge.push(vt))}return ge}function Tt(je){return Pe=>{if("__ngUnwrap__"===Pe)return je;!1===je(Pe)&&(Pe.preventDefault(),Pe.returnValue=!1)}}let On=(()=>{class je{constructor(ge,Ye,vt){this.eventManager=ge,this.sharedStylesHost=Ye,this.appId=vt,this.rendererByCompId=new Map,this.defaultRenderer=new cr(ge)}createRenderer(ge,Ye){if(!ge||!Ye)return this.defaultRenderer;switch(Ye.encapsulation){case g.ifc.Emulated:{let vt=this.rendererByCompId.get(Ye.id);return vt||(vt=new Ot(this.eventManager,this.sharedStylesHost,Ye,this.appId),this.rendererByCompId.set(Ye.id,vt)),vt.applyToHost(ge),vt}case 1:case g.ifc.ShadowDom:return new Be(this.eventManager,this.sharedStylesHost,ge,Ye);default:if(!this.rendererByCompId.has(Ye.id)){const vt=Ge(Ye.id,Ye.styles,[]);this.sharedStylesHost.addStyles(vt),this.rendererByCompId.set(Ye.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(Te),g.LFG(Et),g.LFG(g.AFp))},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})();class cr{constructor(Pe){this.eventManager=Pe,this.data=Object.create(null)}destroy(){}createElement(Pe,ge){return ge?document.createElementNS(Yt[ge]||ge,Pe):document.createElement(Pe)}createComment(Pe){return document.createComment(Pe)}createText(Pe){return document.createTextNode(Pe)}appendChild(Pe,ge){Pe.appendChild(ge)}insertBefore(Pe,ge,Ye){Pe&&Pe.insertBefore(ge,Ye)}removeChild(Pe,ge){Pe&&Pe.removeChild(ge)}selectRootElement(Pe,ge){let Ye="string"==typeof Pe?document.querySelector(Pe):Pe;if(!Ye)throw new Error(`The selector "${Pe}" did not match any elements`);return ge||(Ye.textContent=""),Ye}parentNode(Pe){return Pe.parentNode}nextSibling(Pe){return Pe.nextSibling}setAttribute(Pe,ge,Ye,vt){if(vt){ge=vt+":"+ge;const cn=Yt[vt];cn?Pe.setAttributeNS(cn,ge,Ye):Pe.setAttribute(ge,Ye)}else Pe.setAttribute(ge,Ye)}removeAttribute(Pe,ge,Ye){if(Ye){const vt=Yt[Ye];vt?Pe.removeAttributeNS(vt,ge):Pe.removeAttribute(`${Ye}:${ge}`)}else Pe.removeAttribute(ge)}addClass(Pe,ge){Pe.classList.add(ge)}removeClass(Pe,ge){Pe.classList.remove(ge)}setStyle(Pe,ge,Ye,vt){vt&(g.JOm.DashCase|g.JOm.Important)?Pe.style.setProperty(ge,Ye,vt&g.JOm.Important?"important":""):Pe.style[ge]=Ye}removeStyle(Pe,ge,Ye){Ye&g.JOm.DashCase?Pe.style.removeProperty(ge):Pe.style[ge]=""}setProperty(Pe,ge,Ye){Pe[ge]=Ye}setValue(Pe,ge){Pe.nodeValue=ge}listen(Pe,ge,Ye){return"string"==typeof Pe?this.eventManager.addGlobalEventListener(Pe,ge,Tt(Ye)):this.eventManager.addEventListener(Pe,ge,Tt(Ye))}}class Ot extends cr{constructor(Pe,ge,Ye,vt){super(Pe),this.component=Ye;const cn=Ge(vt+"-"+Ye.id,Ye.styles,[]);ge.addStyles(cn),this.contentAttr="_ngcontent-%COMP%".replace(Kt,vt+"-"+Ye.id),this.hostAttr="_nghost-%COMP%".replace(Kt,vt+"-"+Ye.id)}applyToHost(Pe){super.setAttribute(Pe,this.hostAttr,"")}createElement(Pe,ge){const Ye=super.createElement(Pe,ge);return super.setAttribute(Ye,this.contentAttr,""),Ye}}class Be extends cr{constructor(Pe,ge,Ye,vt){super(Pe),this.sharedStylesHost=ge,this.hostEl=Ye,this.shadowRoot=Ye.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const cn=Ge(vt.id,vt.styles,[]);for(let Fn=0;Fn<cn.length;Fn++){const gr=document.createElement("style");gr.textContent=cn[Fn],this.shadowRoot.appendChild(gr)}}nodeOrShadowRoot(Pe){return Pe===this.hostEl?this.shadowRoot:Pe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Pe,ge){return super.appendChild(this.nodeOrShadowRoot(Pe),ge)}insertBefore(Pe,ge,Ye){return super.insertBefore(this.nodeOrShadowRoot(Pe),ge,Ye)}removeChild(Pe,ge){return super.removeChild(this.nodeOrShadowRoot(Pe),ge)}parentNode(Pe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Pe)))}}let ot=(()=>{class je extends ze{constructor(ge){super(ge)}supports(ge){return!0}addEventListener(ge,Ye,vt){return ge.addEventListener(Ye,vt,!1),()=>this.removeEventListener(ge,Ye,vt)}removeEventListener(ge,Ye,vt){return ge.removeEventListener(Ye,vt)}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(_.K0))},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})();const nr=["alt","control","meta","shift"],on={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pi={alt:je=>je.altKey,control:je=>je.ctrlKey,meta:je=>je.metaKey,shift:je=>je.shiftKey};let Re=(()=>{class je extends ze{constructor(ge){super(ge)}supports(ge){return null!=je.parseEventName(ge)}addEventListener(ge,Ye,vt){const cn=je.parseEventName(Ye),Fn=je.eventCallback(cn.fullKey,vt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ge,cn.domEventName,Fn))}static parseEventName(ge){const Ye=ge.toLowerCase().split("."),vt=Ye.shift();if(0===Ye.length||"keydown"!==vt&&"keyup"!==vt)return null;const cn=je._normalizeKey(Ye.pop());let Fn="";if(nr.forEach(Un=>{const qr=Ye.indexOf(Un);qr>-1&&(Ye.splice(qr,1),Fn+=Un+".")}),Fn+=cn,0!=Ye.length||0===cn.length)return null;const gr={};return gr.domEventName=vt,gr.fullKey=Fn,gr}static getEventFullKey(ge){let Ye="",vt=function(je){let Pe=je.key;if(null==Pe){if(Pe=je.keyIdentifier,null==Pe)return"Unidentified";Pe.startsWith("U+")&&(Pe=String.fromCharCode(parseInt(Pe.substring(2),16)),3===je.location&&jr.hasOwnProperty(Pe)&&(Pe=jr[Pe]))}return on[Pe]||Pe}(ge);return vt=vt.toLowerCase()," "===vt?vt="space":"."===vt&&(vt="dot"),nr.forEach(cn=>{cn!=vt&&pi[cn](ge)&&(Ye+=cn+".")}),Ye+=vt,Ye}static eventCallback(ge,Ye,vt){return cn=>{je.getEventFullKey(cn)===ge&&vt.runGuarded(()=>Ye(cn))}}static _normalizeKey(ge){switch(ge){case"esc":return"escape";default:return ge}}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(_.K0))},je.\u0275prov=g.Yz7({token:je,factory:je.\u0275fac}),je})(),ke=(()=>{class je{}return je.\u0275fac=function(ge){return new(ge||je)},je.\u0275prov=(0,g.Yz7)({factory:function(){return(0,g.LFG)(Je)},token:je,providedIn:"root"}),je})(),Je=(()=>{class je extends ke{constructor(ge){super(),this._doc=ge}sanitize(ge,Ye){if(null==Ye)return null;switch(ge){case g.q3G.NONE:return Ye;case g.q3G.HTML:return(0,g.qzn)(Ye,"HTML")?(0,g.z3N)(Ye):(0,g.EiD)(this._doc,String(Ye)).toString();case g.q3G.STYLE:return(0,g.qzn)(Ye,"Style")?(0,g.z3N)(Ye):Ye;case g.q3G.SCRIPT:if((0,g.qzn)(Ye,"Script"))return(0,g.z3N)(Ye);throw new Error("unsafe value used in a script context");case g.q3G.URL:return(0,g.yhl)(Ye),(0,g.qzn)(Ye,"URL")?(0,g.z3N)(Ye):(0,g.mCW)(String(Ye));case g.q3G.RESOURCE_URL:if((0,g.qzn)(Ye,"ResourceURL"))return(0,g.z3N)(Ye);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ge} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ge){return(0,g.JVY)(ge)}bypassSecurityTrustStyle(ge){return(0,g.L6k)(ge)}bypassSecurityTrustScript(ge){return(0,g.eBb)(ge)}bypassSecurityTrustUrl(ge){return(0,g.LAX)(ge)}bypassSecurityTrustResourceUrl(ge){return(0,g.pB0)(ge)}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(_.K0))},je.\u0275prov=(0,g.Yz7)({factory:function(){return function(je){return new Je(je.get(_.K0))}((0,g.LFG)(g.gxx))},token:je,providedIn:"root"}),je})();const Hr=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:_.bD},{provide:g.g9A,useValue:function(){Ve.makeCurrent(),de.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,g.RDi)(document),document},deps:[]}]),ji=[[],{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function(){return new g.qLn},deps:[]},{provide:Qe,useClass:ot,multi:!0,deps:[_.K0,g.R0b,g.Lbi]},{provide:Qe,useClass:Re,multi:!0,deps:[_.K0]},[],{provide:On,useClass:On,deps:[Te,Et,g.AFp]},{provide:g.FYo,useExisting:On},{provide:Ee,useExisting:Et},{provide:Et,useClass:Et,deps:[_.K0]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b]},{provide:Te,useClass:Te,deps:[Qe,g.R0b]},{provide:_.JF,useClass:Se,deps:[]},[]];let Cn=(()=>{class je{constructor(ge){if(ge)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ge){return{ngModule:je,providers:[{provide:g.AFp,useValue:ge.appId},{provide:me,useExisting:g.AFp},ce]}}}return je.\u0275fac=function(ge){return new(ge||je)(g.LFG(je,12))},je.\u0275mod=g.oAB({type:je}),je.\u0275inj=g.cJS({providers:ji,imports:[_.ez,g.hGG]}),je})();"undefined"!=typeof window&&window},611:(Gt,tt,q)=>{"use strict";q.d(tt,{F0:()=>ri,rH:()=>O,yS:()=>M,Bz:()=>vn,lC:()=>Nn});var _=q(8583),g=q(7716),ee=q(9765),Ve=q(7971);class Ne extends ee.xQ{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const I=super._subscribe(T);return I&&!I.closed&&T.next(this._value),I}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ve.N;return this._value}next(T){super.next(this._value=T)}}var ye=q(4869),$e=q(9796),he=q(7393);class me extends he.L{notifyNext(T,I,F,G,ne){this.destination.next(I)}notifyError(T,I){this.destination.error(T)}notifyComplete(T){this.destination.complete()}}class te extends he.L{constructor(T,I,F){super(),this.parent=T,this.outerValue=I,this.outerIndex=F,this.index=0}_next(T){this.parent.notifyNext(this.outerValue,T,this.outerIndex,this.index++,this)}_error(T){this.parent.notifyError(T,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ce=q(7444),de=q(7574);function Se(D,T,I,F,G=new te(D,I,F)){if(!G.closed)return T instanceof de.y?T.subscribe(G):(0,ce.s)(T)(G)}var Fe=q(6693);const Ke={};class gt{constructor(T){this.resultSelector=T}call(T,I){return I.subscribe(new fe(T,this.resultSelector))}}class fe extends me{constructor(T,I){super(T),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(T){this.values.push(Ke),this.observables.push(T)}_complete(){const T=this.observables,I=T.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let F=0;F<I;F++)this.add(Se(this,T[F],void 0,F))}}notifyComplete(T){0==(this.active-=1)&&this.destination.complete()}notifyNext(T,I,F){const G=this.values,be=this.toRespond?G[F]===Ke?--this.toRespond:this.toRespond:0;G[F]=I,0===be&&(this.resultSelector?this._tryResultSelector(G):this.destination.next(G.slice()))}_tryResultSelector(T){let I;try{I=this.resultSelector.apply(this,T)}catch(F){return void this.destination.error(F)}this.destination.next(I)}}var ht=q(4402),_t=q(9193);function ct(D){return new de.y(T=>{let I;try{I=D()}catch(G){return void T.error(G)}return(I?(0,ht.D)(I):(0,_t.c)()).subscribe(T)})}var De=q(5917),xt=q(3410),$t=q(8071),nn=q(2441),st=q(9773);function Le(D,T){return(0,st.zg)(D,T,1)}var nt=q(5435),Qe=q(7108);function Te(D){return function(I){return 0===D?(0,_t.c)():I.lift(new ze(D))}}class ze{constructor(T){if(this.total=T,this.total<0)throw new Qe.W}call(T,I){return I.subscribe(new Ee(T,this.total))}}class Ee extends he.L{constructor(T,I){super(T),this.total=I,this.ring=new Array,this.count=0}_next(T){const I=this.ring,F=this.total,G=this.count++;I.length<F?I.push(T):I[G%F]=T}_complete(){const T=this.destination;let I=this.count;if(I>0){const F=this.count>=this.total?this.total:this.count,G=this.ring;for(let ne=0;ne<F;ne++){const be=I++%F;T.next(G[be])}}T.complete()}}var Et=q(4635),Ft=q(5242),Yt=q(4487),Lt=q(5319);class Pn{constructor(T){this.callback=T}call(T,I){return I.subscribe(new dt(T,this.callback))}}class dt extends he.L{constructor(T,I){super(T),this.add(new Lt.w(I))}}var ut=q(8002),xe=q(3190),Ge=q(5257),Tt=q(9761),jt=q(2145),On=q(5304),cr=q(8049),bn=q(8307),ar=q(1307),jn=q(3282);class Ot{constructor(T,I){this.id=T,this.url=I}}class Be extends Ot{constructor(T,I,F="imperative",G=null){super(T,I),this.navigationTrigger=F,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ot extends Ot{constructor(T,I,F){super(T,I),this.urlAfterRedirects=F}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lt extends Ot{constructor(T,I,F){super(T,I),this.reason=F}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rn extends Ot{constructor(T,I,F){super(T,I),this.error=F}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class un extends Ot{constructor(T,I,F,G){super(T,I),this.urlAfterRedirects=F,this.state=G}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends Ot{constructor(T,I,F,G){super(T,I),this.urlAfterRedirects=F,this.state=G}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dn extends Ot{constructor(T,I,F,G,ne){super(T,I),this.urlAfterRedirects=F,this.state=G,this.shouldActivate=ne}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xt extends Ot{constructor(T,I,F,G){super(T,I),this.urlAfterRedirects=F,this.state=G}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hn extends Ot{constructor(T,I,F,G){super(T,I),this.urlAfterRedirects=F,this.state=G}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xn{constructor(T){this.route=T}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Rr{constructor(T){this.route=T}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nr{constructor(T){this.snapshot=T}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(T){this.snapshot=T}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class on{constructor(T){this.snapshot=T}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(T){this.snapshot=T}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hi{constructor(T,I,F){this.routerEvent=T,this.position=I,this.anchor=F}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kn="primary";class dr{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function ei(D){return new dr(D)}const pi="ngNavigationCancelingError";function Re(D){const T=Error("NavigationCancelingError: "+D);return T[pi]=!0,T}function ke(D,T,I){const F=I.path.split("/");if(F.length>D.length||"full"===I.pathMatch&&(T.hasChildren()||F.length<D.length))return null;const G={};for(let ne=0;ne<F.length;ne++){const be=F[ne],pe=D[ne];if(be.startsWith(":"))G[be.substring(1)]=pe;else if(be!==pe.path)return null}return{consumed:D.slice(0,F.length),posParams:G}}function Je(D,T){const I=D?Object.keys(D):void 0,F=T?Object.keys(T):void 0;if(!I||!F||I.length!=F.length)return!1;let G;for(let ne=0;ne<I.length;ne++)if(G=I[ne],!Vt(D[G],T[G]))return!1;return!0}function Vt(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const I=[...D].sort(),F=[...T].sort();return I.every((G,ne)=>F[ne]===G)}return D===T}function yn(D){return Array.prototype.concat.apply([],D)}function qn(D){return D.length>0?D[D.length-1]:null}function Gn(D,T){for(const I in D)D.hasOwnProperty(I)&&T(D[I],I)}function Hn(D){return(0,g.CqO)(D)?D:(0,g.QGY)(D)?(0,ht.D)(Promise.resolve(D)):(0,De.of)(D)}const Lr={exact:function gi(D,T,I){if(!Yn(D.segments,T.segments)||!br(D.segments,T.segments,I)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const F in T.children)if(!D.children[F]||!gi(D.children[F],T.children[F],I))return!1;return!0},subset:Yi},Hr={exact:function(D,T){return Je(D,T)},subset:function(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(I=>Vt(D[I],T[I]))},ignored:()=>!0};function ji(D,T,I){return Lr[I.paths](D.root,T.root,I.matrixParams)&&Hr[I.queryParams](D.queryParams,T.queryParams)&&!("exact"===I.fragment&&D.fragment!==T.fragment)}function Yi(D,T,I){return ns(D,T,T.segments,I)}function ns(D,T,I,F){if(D.segments.length>I.length){const G=D.segments.slice(0,I.length);return!(!Yn(G,I)||T.hasChildren()||!br(G,I,F))}if(D.segments.length===I.length){if(!Yn(D.segments,I)||!br(D.segments,I,F))return!1;for(const G in T.children)if(!D.children[G]||!Yi(D.children[G],T.children[G],F))return!1;return!0}{const G=I.slice(0,D.segments.length),ne=I.slice(D.segments.length);return!!(Yn(D.segments,G)&&br(D.segments,G,F)&&D.children[kn])&&ns(D.children[kn],T,ne,F)}}function br(D,T,I){return T.every((F,G)=>Hr[I](D[G].parameters,F.parameters))}class Rn{constructor(T,I,F){this.root=T,this.queryParams=I,this.fragment=F}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ei(this.queryParams)),this._queryParamMap}toString(){return $r.serialize(this)}}class an{constructor(T,I){this.segments=T,this.children=I,this.parent=null,Gn(I,(F,G)=>F.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qn(this)}}class Tr{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=ei(this.parameters)),this._parameterMap}toString(){return Pe(this)}}function Yn(D,T){return D.length===T.length&&D.every((I,F)=>I.path===T[F].path)}class Vn{}class lr{parse(T){const I=new Cs(T);return new Rn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){var D;return`${`/${pr(T.root,!0)}`}${function(D){const T=Object.keys(D).map(I=>{const F=D[I];return Array.isArray(F)?F.map(G=>`${En(I)}=${En(G)}`).join("&"):`${En(I)}=${En(F)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams)}${"string"==typeof T.fragment?`#${D=T.fragment,encodeURI(D)}`:""}`}}const $r=new lr;function Qn(D){return D.segments.map(T=>Pe(T)).join("/")}function pr(D,T){if(!D.hasChildren())return Qn(D);if(T){const I=D.children[kn]?pr(D.children[kn],!1):"",F=[];return Gn(D.children,(G,ne)=>{ne!==kn&&F.push(`${ne}:${pr(G,!1)}`)}),F.length>0?`${I}(${F.join("//")})`:I}{const I=function(D,T){let I=[];return Gn(D.children,(F,G)=>{G===kn&&(I=I.concat(T(F,G)))}),Gn(D.children,(F,G)=>{G!==kn&&(I=I.concat(T(F,G)))}),I}(D,(F,G)=>G===kn?[pr(D.children[kn],!1)]:[`${G}:${pr(F,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[kn]?`${Qn(D)}/${I[0]}`:`${Qn(D)}/(${I.join("//")})`}}function Wr(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function En(D){return Wr(D).replace(/%3B/gi,";")}function Sr(D){return Wr(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _n(D){return decodeURIComponent(D)}function je(D){return _n(D.replace(/\+/g,"%20"))}function Pe(D){return`${Sr(D.path)}${function(D){return Object.keys(D).map(T=>`;${Sr(T)}=${Sr(D[T])}`).join("")}(D.parameters)}`}const vt=/^[^\/()?;=#]+/;function cn(D){const T=D.match(vt);return T?T[0]:""}const Fn=/^[^=?&#]+/,Un=/^[^?&#]+/;class Cs{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new an([],{}):new an([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let F={};return this.peekStartsWith("(")&&(F=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(F[kn]=new an(T,I)),F}parseSegment(){const T=cn(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(T),new Tr(_n(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=cn(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const G=cn(this.remaining);G&&(F=G,this.capture(F))}T[_n(I)]=_n(F)}parseQueryParam(T){const I=function(D){const T=D.match(Fn);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let F="";if(this.consumeOptional("=")){const be=function(D){const T=D.match(Un);return T?T[0]:""}(this.remaining);be&&(F=be,this.capture(F))}const G=je(I),ne=je(F);if(T.hasOwnProperty(G)){let be=T[G];Array.isArray(be)||(be=[be],T[G]=be),be.push(ne)}else T[G]=ne}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const F=cn(this.remaining),G=this.remaining[F.length];if("/"!==G&&")"!==G&&";"!==G)throw new Error(`Cannot parse url '${this.url}'`);let ne;F.indexOf(":")>-1?(ne=F.substr(0,F.indexOf(":")),this.capture(ne),this.capture(":")):T&&(ne=kn);const be=this.parseChildren();I[ne]=1===Object.keys(be).length?be[kn]:new an([],be),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new Error(`Expected "${T}".`)}}class mi{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=ti(T,this._root);return I?I.children.map(F=>F.value):[]}firstChild(T){const I=ti(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=Mi(T,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==T)}pathFromRoot(T){return Mi(T,this._root).map(I=>I.value)}}function ti(D,T){if(D===T.value)return T;for(const I of T.children){const F=ti(D,I);if(F)return F}return null}function Mi(D,T){if(D===T.value)return[T];for(const I of T.children){const F=Mi(D,I);if(F.length)return F.unshift(T),F}return[]}class Kr{constructor(T,I){this.value=T,this.children=I}toString(){return`TreeNode(${this.value})`}}function gn(D){const T={};return D&&D.children.forEach(I=>T[I.value.outlet]=I),T}class xr extends mi{constructor(T,I){super(T),this.snapshot=I,Ir(this,T)}toString(){return this.snapshot.toString()}}function Ws(D,T){const I=function(D,T){const be=new ci([],{},{},"",{},kn,T,null,D.root,-1,{});return new Vr("",new Kr(be,[]))}(D,T),F=new Ne([new Tr("",{})]),G=new Ne({}),ne=new Ne({}),be=new Ne({}),pe=new Ne(""),Xe=new mr(F,G,be,pe,ne,kn,T,I.root);return Xe.snapshot=I.root,new xr(new Kr(Xe,[]),I)}class mr{constructor(T,I,F,G,ne,be,pe,Xe){this.url=T,this.params=I,this.queryParams=F,this.fragment=G,this.data=ne,this.outlet=be,this.component=pe,this._futureSnapshot=Xe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(T=>ei(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(T=>ei(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yi(D,T="emptyOnly"){const I=D.pathFromRoot;let F=0;if("always"!==T)for(F=I.length-1;F>=1;){const G=I[F],ne=I[F-1];if(G.routeConfig&&""===G.routeConfig.path)F--;else{if(ne.component)break;F--}}return function(D){return D.reduce((T,I)=>({params:Object.assign(Object.assign({},T.params),I.params),data:Object.assign(Object.assign({},T.data),I.data),resolve:Object.assign(Object.assign({},T.resolve),I._resolvedData)}),{params:{},data:{},resolve:{}})}(I.slice(F))}class ci{constructor(T,I,F,G,ne,be,pe,Xe,Ct,pn,sn){this.url=T,this.params=I,this.queryParams=F,this.fragment=G,this.data=ne,this.outlet=be,this.component=pe,this.routeConfig=Xe,this._urlSegment=Ct,this._lastPathIndex=pn,this._resolve=sn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ei(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ei(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(F=>F.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vr extends mi{constructor(T,I){super(I),this.url=T,Ir(this,I)}toString(){return Vs(this._root)}}function Ir(D,T){T.value._routerState=D,T.children.forEach(I=>Ir(D,I))}function Vs(D){const T=D.children.length>0?` { ${D.children.map(Vs).join(", ")} } `:"";return`${D.value}${T}`}function Pi(D){if(D.snapshot){const T=D.snapshot,I=D._futureSnapshot;D.snapshot=I,Je(T.queryParams,I.queryParams)||D.queryParams.next(I.queryParams),T.fragment!==I.fragment&&D.fragment.next(I.fragment),Je(T.params,I.params)||D.params.next(I.params),function(D,T){if(D.length!==T.length)return!1;for(let I=0;I<D.length;++I)if(!Je(D[I],T[I]))return!1;return!0}(T.url,I.url)||D.url.next(I.url),Je(T.data,I.data)||D.data.next(I.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function di(D,T){return Je(D.params,T.params)&&function(D,T){return Yn(D,T)&&D.every((I,F)=>Je(I.parameters,T[F].parameters))}(D.url,T.url)&&!(!D.parent!=!T.parent)&&(!D.parent||di(D.parent,T.parent))}function xi(D,T,I){if(I&&D.shouldReuseRoute(T.value,I.value.snapshot)){const F=I.value;F._futureSnapshot=T.value;const G=function(D,T,I){return T.children.map(F=>{for(const G of I.children)if(D.shouldReuseRoute(F.value,G.value.snapshot))return xi(D,F,G);return xi(D,F)})}(D,T,I);return new Kr(F,G)}{if(D.shouldAttach(T.value)){const ne=D.retrieve(T.value);if(null!==ne){const be=ne.route;return Hi(T,be),be}}const F=function(D){return new mr(new Ne(D.url),new Ne(D.params),new Ne(D.queryParams),new Ne(D.fragment),new Ne(D.data),D.outlet,D.component,D)}(T.value),G=T.children.map(ne=>xi(D,ne));return new Kr(F,G)}}function Hi(D,T){if(D.value.routeConfig!==T.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(D.children.length!==T.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");T.value._futureSnapshot=D.value;for(let I=0;I<D.children.length;++I)Hi(D.children[I],T.children[I])}function ki(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function hs(D){return"object"==typeof D&&null!=D&&D.outlets}function Is(D,T,I,F,G){let ne={};return F&&Gn(F,(be,pe)=>{ne[pe]=Array.isArray(be)?be.map(Xe=>`${Xe}`):`${be}`}),new Rn(I.root===D?T:$i(I.root,D,T),ne,G)}function $i(D,T,I){const F={};return Gn(D.children,(G,ne)=>{F[ne]=G===T?I:$i(G,T,I)}),new an(D.segments,F)}class Bs{constructor(T,I,F){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=F,T&&F.length>0&&ki(F[0]))throw new Error("Root segment cannot have matrix parameters");const G=F.find(hs);if(G&&G!==qn(F))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class oi{constructor(T,I,F){this.segmentGroup=T,this.processChildren=I,this.index=F}}function qi(D,T,I){if(D||(D=new an([],{})),0===D.segments.length&&D.hasChildren())return fi(D,T,I);const F=function(D,T,I){let F=0,G=T;const ne={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(F>=I.length)return ne;const be=D.segments[G],pe=I[F];if(hs(pe))break;const Xe=`${pe}`,Ct=F<I.length-1?I[F+1]:null;if(G>0&&void 0===Xe)break;if(Xe&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Gi(Xe,Ct,be))return ne;F+=2}else{if(!Gi(Xe,{},be))return ne;F++}G++}return{match:!0,pathIndex:G,commandIndex:F}}(D,T,I),G=I.slice(F.commandIndex);if(F.match&&F.pathIndex<D.segments.length){const ne=new an(D.segments.slice(0,F.pathIndex),{});return ne.children[kn]=new an(D.segments.slice(F.pathIndex),D.children),fi(ne,0,G)}return F.match&&0===G.length?new an(D.segments,{}):F.match&&!D.hasChildren()?Fi(D,T,I):F.match?fi(D,0,G):Fi(D,T,I)}function fi(D,T,I){if(0===I.length)return new an(D.segments,{});{const F=function(D){return hs(D[0])?D[0].outlets:{[kn]:D}}(I),G={};return Gn(F,(ne,be)=>{"string"==typeof ne&&(ne=[ne]),null!==ne&&(G[be]=qi(D.children[be],T,ne))}),Gn(D.children,(ne,be)=>{void 0===F[be]&&(G[be]=ne)}),new an(D.segments,G)}}function Fi(D,T,I){const F=D.segments.slice(0,T);let G=0;for(;G<I.length;){const ne=I[G];if(hs(ne)){const Xe=js(ne.outlets);return new an(F,Xe)}if(0===G&&ki(I[0])){F.push(new Tr(D.segments[T].path,Ds(I[0]))),G++;continue}const be=hs(ne)?ne.outlets[kn]:`${ne}`,pe=G<I.length-1?I[G+1]:null;be&&pe&&ki(pe)?(F.push(new Tr(be,Ds(pe))),G+=2):(F.push(new Tr(be,{})),G++)}return new an(F,{})}function js(D){const T={};return Gn(D,(I,F)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[F]=Fi(new an([],{}),0,I))}),T}function Ds(D){const T={};return Gn(D,(I,F)=>T[F]=`${I}`),T}function Gi(D,T,I){return D==I.path&&Je(T,I.parameters)}class _o{constructor(T,I,F,G){this.routeReuseStrategy=T,this.futureState=I,this.currState=F,this.forwardEvent=G}activate(T){const I=this.futureState._root,F=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,F,T),Pi(this.futureState.root),this.activateChildRoutes(I,F,T)}deactivateChildRoutes(T,I,F){const G=gn(I);T.children.forEach(ne=>{const be=ne.value.outlet;this.deactivateRoutes(ne,G[be],F),delete G[be]}),Gn(G,(ne,be)=>{this.deactivateRouteAndItsChildren(ne,F)})}deactivateRoutes(T,I,F){const G=T.value,ne=I?I.value:null;if(G===ne)if(G.component){const be=F.getContext(G.outlet);be&&this.deactivateChildRoutes(T,I,be.children)}else this.deactivateChildRoutes(T,I,F);else ne&&this.deactivateRouteAndItsChildren(I,F)}deactivateRouteAndItsChildren(T,I){this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const F=I.getContext(T.value.outlet);if(F&&F.outlet){const G=F.outlet.detach(),ne=F.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:G,route:T,contexts:ne})}}deactivateRouteAndOutlet(T,I){const F=I.getContext(T.value.outlet),G=F&&T.value.component?F.children:I,ne=gn(T);for(const be of Object.keys(ne))this.deactivateRouteAndItsChildren(ne[be],G);F&&F.outlet&&(F.outlet.deactivate(),F.children.onOutletDeactivated(),F.attachRef=null,F.resolver=null,F.route=null)}activateChildRoutes(T,I,F){const G=gn(I);T.children.forEach(ne=>{this.activateRoutes(ne,G[ne.value.outlet],F),this.forwardEvent(new jr(ne.value.snapshot))}),T.children.length&&this.forwardEvent(new kt(T.value.snapshot))}activateRoutes(T,I,F){const G=T.value,ne=I?I.value:null;if(Pi(G),G===ne)if(G.component){const be=F.getOrCreateContext(G.outlet);this.activateChildRoutes(T,I,be.children)}else this.activateChildRoutes(T,I,F);else if(G.component){const be=F.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const pe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),be.children.onOutletReAttached(pe.contexts),be.attachRef=pe.componentRef,be.route=pe.route.value,be.outlet&&be.outlet.attach(pe.componentRef,pe.route.value),rs(pe.route)}else{const pe=function(D){for(let T=D.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig;if(I&&I.component)return null}return null}(G.snapshot),Xe=pe?pe.module.componentFactoryResolver:null;be.attachRef=null,be.route=G,be.resolver=Xe,be.outlet&&be.outlet.activateWith(G,Xe),this.activateChildRoutes(T,null,be.children)}}else this.activateChildRoutes(T,null,F)}}function rs(D){Pi(D.value),D.children.forEach(rs)}class Zi{constructor(T,I){this.routes=T,this.module=I}}function Pr(D){return"function"==typeof D}function kr(D){return D instanceof Rn}const ss=Symbol("INITIAL_VALUE");function ms(){return(0,xe.w)(D=>function(...D){let T,I;return(0,ye.K)(D[D.length-1])&&(I=D.pop()),"function"==typeof D[D.length-1]&&(T=D.pop()),1===D.length&&(0,$e.k)(D[0])&&(D=D[0]),(0,Fe.n)(D,I).lift(new gt(T))}(D.map(T=>T.pipe((0,Ge.q)(1),(0,Tt.O)(ss)))).pipe((0,jt.R)((T,I)=>{let F=!1;return I.reduce((G,ne,be)=>G!==ss?G:(ne===ss&&(F=!0),F||!1!==ne&&be!==I.length-1&&!kr(ne)?G:ne),T)},ss),(0,nt.h)(T=>T!==ss),(0,ut.U)(T=>kr(T)?T:!0===T),(0,Ge.q)(1)))}let U=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=g.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,F){1&I&&g._UZ(0,"router-outlet")},directives:function(){return[Nn]},encapsulation:2}),D})();function X(D,T=""){for(let I=0;I<D.length;I++){const F=D[I];H(F,re(T,F))}}function H(D,T){D.children&&X(D.children,T)}function re(D,T){return T?D||T.path?D&&!T.path?`${D}/`:!D&&T.path?T.path:`${D}/${T.path}`:"":D}function we(D){const T=D.children&&D.children.map(we),I=T?Object.assign(Object.assign({},D),{children:T}):Object.assign({},D);return!I.component&&(T||I.loadChildren)&&I.outlet&&I.outlet!==kn&&(I.component=U),I}function it(D){return D.outlet||kn}function Dt(D,T){const I=D.filter(F=>it(F)===T);return I.push(...D.filter(F=>it(F)!==T)),I}const V={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function P(D,T,I){var F;if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||I.length>0)?Object.assign({},V):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const ne=(T.matcher||ke)(I,D,T);if(!ne)return Object.assign({},V);const be={};Gn(ne.posParams,(Xe,Ct)=>{be[Ct]=Xe.path});const pe=ne.consumed.length>0?Object.assign(Object.assign({},be),ne.consumed[ne.consumed.length-1].parameters):be;return{matched:!0,consumedSegments:ne.consumed,lastChild:ne.consumed.length,parameters:pe,positionalParamSegments:null!==(F=ne.posParams)&&void 0!==F?F:{}}}function R(D,T,I,F,G="corrected"){if(I.length>0&&function(D,T,I){return I.some(F=>sr(D,T,F)&&it(F)!==kn)}(D,I,F)){const be=new an(T,function(D,T,I,F){const G={};G[kn]=F,F._sourceSegment=D,F._segmentIndexShift=T.length;for(const ne of I)if(""===ne.path&&it(ne)!==kn){const be=new an([],{});be._sourceSegment=D,be._segmentIndexShift=T.length,G[it(ne)]=be}return G}(D,T,F,new an(I,D.children)));return be._sourceSegment=D,be._segmentIndexShift=T.length,{segmentGroup:be,slicedSegments:[]}}if(0===I.length&&function(D,T,I){return I.some(F=>sr(D,T,F))}(D,I,F)){const be=new an(D.segments,function(D,T,I,F,G,ne){const be={};for(const pe of F)if(sr(D,I,pe)&&!G[it(pe)]){const Xe=new an([],{});Xe._sourceSegment=D,Xe._segmentIndexShift="legacy"===ne?D.segments.length:T.length,be[it(pe)]=Xe}return Object.assign(Object.assign({},G),be)}(D,T,I,F,D.children,G));return be._sourceSegment=D,be._segmentIndexShift=T.length,{segmentGroup:be,slicedSegments:I}}const ne=new an(D.segments,D.children);return ne._sourceSegment=D,ne._segmentIndexShift=T.length,{segmentGroup:ne,slicedSegments:I}}function sr(D,T,I){return(!(D.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function vi(D,T,I,F){return!!(it(D)===F||F!==kn&&sr(T,I,D))&&("**"===D.path||P(T,D,I).matched)}function Ur(D,T,I){return 0===T.length&&!D.children[I]}class Yr{constructor(T){this.segmentGroup=T||null}}class Li{constructor(T){this.urlTree=T}}function Tn(D){return new de.y(T=>T.error(new Yr(D)))}function Js(D){return new de.y(T=>T.error(new Li(D)))}function Xs(D){return new de.y(T=>T.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D}'`)))}class ai{constructor(T,I,F,G,ne){this.configLoader=I,this.urlSerializer=F,this.urlTree=G,this.config=ne,this.allowRedirects=!0,this.ngModule=T.get(g.h0i)}apply(){const T=R(this.urlTree.root,[],[],this.config).segmentGroup,I=new an(T.segments,T.children);return this.expandSegmentGroup(this.ngModule,this.config,I,kn).pipe((0,ut.U)(ne=>this.createUrlTree(Hs(ne),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,On.K)(ne=>{if(ne instanceof Li)return this.allowRedirects=!1,this.match(ne.urlTree);throw ne instanceof Yr?this.noMatchError(ne):ne}))}match(T){return this.expandSegmentGroup(this.ngModule,this.config,T.root,kn).pipe((0,ut.U)(G=>this.createUrlTree(Hs(G),T.queryParams,T.fragment))).pipe((0,On.K)(G=>{throw G instanceof Yr?this.noMatchError(G):G}))}noMatchError(T){return new Error(`Cannot match any routes. URL Segment: '${T.segmentGroup}'`)}createUrlTree(T,I,F){const G=T.segments.length>0?new an([],{[kn]:T}):T;return new Rn(G,I,F)}expandSegmentGroup(T,I,F,G){return 0===F.segments.length&&F.hasChildren()?this.expandChildren(T,I,F).pipe((0,ut.U)(ne=>new an([],ne))):this.expandSegment(T,F,I,F.segments,G,!0)}expandChildren(T,I,F){const G=[];for(const ne of Object.keys(F.children))"primary"===ne?G.unshift(ne):G.push(ne);return(0,ht.D)(G).pipe(Le(ne=>{const be=F.children[ne],pe=Dt(I,ne);return this.expandSegmentGroup(T,pe,be,ne).pipe((0,ut.U)(Xe=>({segment:Xe,outlet:ne})))}),(0,jt.R)((ne,be)=>(ne[be.outlet]=be.segment,ne),{}),function(D,T){const I=arguments.length>=2;return F=>F.pipe(D?(0,nt.h)((G,ne)=>D(G,ne,F)):Yt.y,Te(1),I?(0,Ft.d)(T):(0,Et.T)(()=>new xt.K))}())}expandSegment(T,I,F,G,ne,be){return(0,ht.D)(F).pipe(Le(pe=>this.expandSegmentAgainstRoute(T,I,F,pe,G,ne,be).pipe((0,On.K)(Ct=>{if(Ct instanceof Yr)return(0,De.of)(null);throw Ct}))),(0,cr.P)(pe=>!!pe),(0,On.K)((pe,Xe)=>{if(pe instanceof xt.K||"EmptyError"===pe.name){if(Ur(I,G,ne))return(0,De.of)(new an([],{}));throw new Yr(I)}throw pe}))}expandSegmentAgainstRoute(T,I,F,G,ne,be,pe){return vi(G,I,ne,be)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(T,I,G,ne,be):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,F,G,ne,be):Tn(I):Tn(I)}expandSegmentAgainstRouteUsingRedirect(T,I,F,G,ne,be){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,F,G,be):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,F,G,ne,be)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,F,G){const ne=this.applyRedirectCommands([],F.redirectTo,{});return F.redirectTo.startsWith("/")?Js(ne):this.lineralizeSegments(F,ne).pipe((0,st.zg)(be=>{const pe=new an(be,{});return this.expandSegment(T,pe,I,be,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,F,G,ne,be){const{matched:pe,consumedSegments:Xe,lastChild:Ct,positionalParamSegments:pn}=P(I,G,ne);if(!pe)return Tn(I);const sn=this.applyRedirectCommands(Xe,G.redirectTo,pn);return G.redirectTo.startsWith("/")?Js(sn):this.lineralizeSegments(G,sn).pipe((0,st.zg)(Jt=>this.expandSegment(T,I,F,Jt.concat(ne.slice(Ct)),be,!1)))}matchSegmentAgainstRoute(T,I,F,G,ne){if("**"===F.path)return F.loadChildren?(F._loadedConfig?(0,De.of)(F._loadedConfig):this.configLoader.load(T.injector,F)).pipe((0,ut.U)(Jt=>(F._loadedConfig=Jt,new an(G,{})))):(0,De.of)(new an(G,{}));const{matched:be,consumedSegments:pe,lastChild:Xe}=P(I,F,G);if(!be)return Tn(I);const Ct=G.slice(Xe);return this.getChildConfig(T,F,G).pipe((0,st.zg)(sn=>{const Jt=sn.module,Mn=sn.routes,{segmentGroup:Ui,slicedSegments:Jn}=R(I,pe,Ct,Mn),xn=new an(Ui.segments,Ui.children);if(0===Jn.length&&xn.hasChildren())return this.expandChildren(Jt,Mn,xn).pipe((0,ut.U)(go=>new an(pe,go)));if(0===Mn.length&&0===Jn.length)return(0,De.of)(new an(pe,{}));const Gs=it(F)===ne;return this.expandSegment(Jt,xn,Mn,Jn,Gs?kn:ne,!0).pipe((0,ut.U)(po=>new an(pe.concat(po.segments),po.children)))}))}getChildConfig(T,I,F){return I.children?(0,De.of)(new Zi(I.children,T)):I.loadChildren?void 0!==I._loadedConfig?(0,De.of)(I._loadedConfig):this.runCanLoadGuards(T.injector,I,F).pipe((0,st.zg)(G=>{return G?this.configLoader.load(T.injector,I).pipe((0,ut.U)(ne=>(I._loadedConfig=ne,ne))):(D=I,new de.y(T=>T.error(Re(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))));var D})):(0,De.of)(new Zi([],T))}runCanLoadGuards(T,I,F){const G=I.canLoad;if(!G||0===G.length)return(0,De.of)(!0);const ne=G.map(be=>{const pe=T.get(be);let Xe;if((D=pe)&&Pr(D.canLoad))Xe=pe.canLoad(I,F);else{if(!Pr(pe))throw new Error("Invalid CanLoad guard");Xe=pe(I,F)}var D;return Hn(Xe)});return(0,De.of)(ne).pipe(ms(),(0,bn.b)(be=>{if(!kr(be))return;const pe=Re(`Redirecting to "${this.urlSerializer.serialize(be)}"`);throw pe.url=be,pe}),(0,ut.U)(be=>!0===be))}lineralizeSegments(T,I){let F=[],G=I.root;for(;;){if(F=F.concat(G.segments),0===G.numberOfChildren)return(0,De.of)(F);if(G.numberOfChildren>1||!G.children[kn])return Xs(T.redirectTo);G=G.children[kn]}}applyRedirectCommands(T,I,F){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),T,F)}applyRedirectCreatreUrlTree(T,I,F,G){const ne=this.createSegmentGroup(T,I.root,F,G);return new Rn(ne,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const F={};return Gn(T,(G,ne)=>{if("string"==typeof G&&G.startsWith(":")){const pe=G.substring(1);F[ne]=I[pe]}else F[ne]=G}),F}createSegmentGroup(T,I,F,G){const ne=this.createSegments(T,I.segments,F,G);let be={};return Gn(I.children,(pe,Xe)=>{be[Xe]=this.createSegmentGroup(T,pe,F,G)}),new an(ne,be)}createSegments(T,I,F,G){return I.map(ne=>ne.path.startsWith(":")?this.findPosParam(T,ne,G):this.findOrReturn(ne,F))}findPosParam(T,I,F){const G=F[I.path.substring(1)];if(!G)throw new Error(`Cannot redirect to '${T}'. Cannot find '${I.path}'.`);return G}findOrReturn(T,I){let F=0;for(const G of I){if(G.path===T.path)return I.splice(F),G;F++}return T}}function Hs(D){const T={};for(const F of Object.keys(D.children)){const ne=Hs(D.children[F]);(ne.segments.length>0||ne.hasChildren())&&(T[F]=ne)}return function(D){if(1===D.numberOfChildren&&D.children[kn]){const T=D.children[kn];return new an(D.segments.concat(T.segments),T.children)}return D}(new an(D.segments,T))}class hr{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class Do{constructor(T,I){this.component=T,this.route=I}}function ni(D,T,I){const F=D._root;return Ss(F,T?T._root:null,I,[F.value])}function _s(D,T,I){const F=function(D){if(!D)return null;for(let T=D.parent;T;T=T.parent){const I=T.routeConfig;if(I&&I._loadedConfig)return I._loadedConfig}return null}(T);return(F?F.module.injector:I).get(D)}function Ss(D,T,I,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const ne=gn(T);return D.children.forEach(be=>{(function(D,T,I,F,G={canDeactivateChecks:[],canActivateChecks:[]}){const ne=D.value,be=T?T.value:null,pe=I?I.getContext(D.value.outlet):null;if(be&&ne.routeConfig===be.routeConfig){const Xe=function(D,T,I){if("function"==typeof I)return I(D,T);switch(I){case"pathParamsChange":return!Yn(D.url,T.url);case"pathParamsOrQueryParamsChange":return!Yn(D.url,T.url)||!Je(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!di(D,T)||!Je(D.queryParams,T.queryParams);case"paramsChange":default:return!di(D,T)}}(be,ne,ne.routeConfig.runGuardsAndResolvers);Xe?G.canActivateChecks.push(new hr(F)):(ne.data=be.data,ne._resolvedData=be._resolvedData),Ss(D,T,ne.component?pe?pe.children:null:I,F,G),Xe&&pe&&pe.outlet&&pe.outlet.isActivated&&G.canDeactivateChecks.push(new Do(pe.outlet.component,be))}else be&&co(T,pe,G),G.canActivateChecks.push(new hr(F)),Ss(D,null,ne.component?pe?pe.children:null:I,F,G)})(be,ne[be.value.outlet],I,F.concat([be.value]),G),delete ne[be.value.outlet]}),Gn(ne,(be,pe)=>co(be,I.getContext(pe),G)),G}function co(D,T,I){const F=gn(D),G=D.value;Gn(F,(ne,be)=>{co(ne,G.component?T?T.children.getContext(be):null:T,I)}),I.canDeactivateChecks.push(new Do(G.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,G))}class xs{}function $s(D){return new de.y(T=>T.error(D))}class ${constructor(T,I,F,G,ne,be){this.rootComponentType=T,this.config=I,this.urlTree=F,this.url=G,this.paramsInheritanceStrategy=ne,this.relativeLinkResolution=be}recognize(){const T=R(this.urlTree.root,[],[],this.config.filter(be=>void 0===be.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,T,kn);if(null===I)return null;const F=new ci([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kn,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new Kr(F,I),ne=new Vr(this.url,G);return this.inheritParamsAndData(ne._root),ne}inheritParamsAndData(T){const I=T.value,F=yi(I,this.paramsInheritanceStrategy);I.params=Object.freeze(F.params),I.data=Object.freeze(F.data),T.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(T,I,F){return 0===I.segments.length&&I.hasChildren()?this.processChildren(T,I):this.processSegment(T,I,I.segments,F)}processChildren(T,I){const F=[];for(const ne of Object.keys(I.children)){const be=I.children[ne],pe=Dt(T,ne),Xe=this.processSegmentGroup(pe,be,ne);if(null===Xe)return null;F.push(...Xe)}const G=Oe(F);return G.sort((T,I)=>T.value.outlet===kn?-1:I.value.outlet===kn?1:T.value.outlet.localeCompare(I.value.outlet)),G}processSegment(T,I,F,G){for(const ne of T){const be=this.processSegmentAgainstRoute(ne,I,F,G);if(null!==be)return be}return Ur(I,F,G)?[]:null}processSegmentAgainstRoute(T,I,F,G){if(T.redirectTo||!vi(T,I,F,G))return null;let ne,be=[],pe=[];if("**"===T.path){const Mn=F.length>0?qn(F).parameters:{};ne=new ci(F,Mn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zt(T),it(T),T.component,T,bt(I),en(I)+F.length,fn(T))}else{const Mn=P(I,T,F);if(!Mn.matched)return null;be=Mn.consumedSegments,pe=F.slice(Mn.lastChild),ne=new ci(be,Mn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,zt(T),it(T),T.component,T,bt(I),en(I)+be.length,fn(T))}const Xe=(D=T).children?D.children:D.loadChildren?D._loadedConfig.routes:[],{segmentGroup:Ct,slicedSegments:pn}=R(I,be,pe,Xe.filter(Mn=>void 0===Mn.redirectTo),this.relativeLinkResolution);var D;if(0===pn.length&&Ct.hasChildren()){const Mn=this.processChildren(Xe,Ct);return null===Mn?null:[new Kr(ne,Mn)]}if(0===Xe.length&&0===pn.length)return[new Kr(ne,[])];const sn=it(T)===G,Jt=this.processSegment(Xe,Ct,pn,sn?kn:G);return null===Jt?null:[new Kr(ne,Jt)]}}function ae(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function Oe(D){const T=[],I=new Set;for(const F of D){if(!ae(F)){T.push(F);continue}const G=T.find(ne=>F.value.routeConfig===ne.value.routeConfig);void 0!==G?(G.children.push(...F.children),I.add(G)):T.push(F)}for(const F of I){const G=Oe(F.children);T.push(new Kr(F.value,G))}return T.filter(F=>!I.has(F))}function bt(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function en(D){let T=D,I=T._segmentIndexShift?T._segmentIndexShift:0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift?T._segmentIndexShift:0;return I-1}function zt(D){return D.data||{}}function fn(D){return D.resolve||{}}function Or(D){return(0,xe.w)(T=>{const I=D(T);return I?(0,ht.D)(I).pipe((0,ut.U)(()=>T)):(0,De.of)(T)})}class es extends class{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const bi=new g.OlP("ROUTES");class Zr{constructor(T,I,F,G){this.loader=T,this.compiler=I,this.onLoadStartListener=F,this.onLoadEndListener=G}load(T,I){if(I._loader$)return I._loader$;this.onLoadStartListener&&this.onLoadStartListener(I);const G=this.loadModuleFactory(I.loadChildren).pipe((0,ut.U)(ne=>{this.onLoadEndListener&&this.onLoadEndListener(I);const be=ne.create(T);return new Zi(yn(be.injector.get(bi,void 0,g.XFs.Self|g.XFs.Optional)).map(we),be)}),(0,On.K)(ne=>{throw I._loader$=void 0,ne}));return I._loader$=new nn.c(G,()=>new ee.xQ).pipe((0,ar.x)()),I._loader$}loadModuleFactory(T){return"string"==typeof T?(0,ht.D)(this.loader.load(T)):Hn(T()).pipe((0,st.zg)(I=>I instanceof g.YKP?(0,De.of)(I):(0,ht.D)(this.compiler.compileModuleAsync(I))))}}class Ei{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ci,this.attachRef=null}}class Ci{constructor(){this.contexts=new Map}onChildOutletCreated(T,I){const F=this.getOrCreateContext(T);F.outlet=I,this.contexts.set(T,F)}onChildOutletDestroyed(T){const I=this.getContext(T);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let I=this.getContext(T);return I||(I=new Ei,this.contexts.set(T,I)),I}getContext(T){return this.contexts.get(T)||null}}class os{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function wo(D){throw D}function _a(D,T,I){return T.parse("/")}function Jo(D,T){return(0,De.of)(null)}const Lo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ri=(()=>{class D{constructor(I,F,G,ne,be,pe,Xe,Ct){this.rootComponentType=I,this.urlSerializer=F,this.rootContexts=G,this.location=ne,this.config=Ct,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ee.xQ,this.errorHandler=wo,this.malformedUriErrorHandler=_a,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Jo,afterPreactivation:Jo},this.urlHandlingStrategy=new os,this.routeReuseStrategy=new es,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=be.get(g.h0i),this.console=be.get(g.c2e);const Jt=be.get(g.R0b);this.isNgZoneEnabled=Jt instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(Ct),this.currentUrlTree=new Rn(new an([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Zr(pe,Xe,Mn=>this.triggerEvent(new Xn(Mn)),Mn=>this.triggerEvent(new Rr(Mn))),this.routerState=Ws(this.currentUrlTree,this.rootComponentType),this.transitions=new Ne({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var I;return null===(I=this.location.getState())||void 0===I?void 0:I.\u0275routerPageId}setupNavigations(I){const F=this.events;return I.pipe((0,nt.h)(G=>0!==G.id),(0,ut.U)(G=>Object.assign(Object.assign({},G),{extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,xe.w)(G=>{let ne=!1,be=!1;return(0,De.of)(G).pipe((0,bn.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.currentRawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,xe.w)(pe=>{const Xe=this.browserUrlTree.toString(),Ct=!this.navigated||pe.extractedUrl.toString()!==Xe||Xe!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Ct)&&this.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl))return Rs(pe.source)&&(this.browserUrlTree=pe.extractedUrl),(0,De.of)(pe).pipe((0,xe.w)(sn=>{const Jt=this.transitions.getValue();return F.next(new Be(sn.id,this.serializeUrl(sn.extractedUrl),sn.source,sn.restoredState)),Jt!==this.transitions.getValue()?_t.E:Promise.resolve(sn)}),function(D,T,I,F){return(0,xe.w)(G=>function(D,T,I,F,G){return new ai(D,T,I,F,G).apply()}(D,T,I,G.extractedUrl,F).pipe((0,ut.U)(ne=>Object.assign(Object.assign({},G),{urlAfterRedirects:ne}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,bn.b)(sn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:sn.urlAfterRedirects})}),function(D,T,I,F,G){return(0,st.zg)(ne=>function(D,T,I,F,G="emptyOnly",ne="legacy"){try{const be=new $(D,T,I,F,G,ne).recognize();return null===be?$s(new xs):(0,De.of)(be)}catch(be){return $s(be)}}(D,T,ne.urlAfterRedirects,I(ne.urlAfterRedirects),F,G).pipe((0,ut.U)(be=>Object.assign(Object.assign({},ne),{targetSnapshot:be}))))}(this.rootComponentType,this.config,sn=>this.serializeUrl(sn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,bn.b)(sn=>{"eager"===this.urlUpdateStrategy&&(sn.extras.skipLocationChange||this.setBrowserUrl(sn.urlAfterRedirects,sn),this.browserUrlTree=sn.urlAfterRedirects);const Jt=new un(sn.id,this.serializeUrl(sn.extractedUrl),this.serializeUrl(sn.urlAfterRedirects),sn.targetSnapshot);F.next(Jt)}));if(Ct&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Jt,extractedUrl:Mn,source:Ui,restoredState:Jn,extras:xn}=pe,Gs=new Be(Jt,this.serializeUrl(Mn),Ui,Jn);F.next(Gs);const ls=Ws(Mn,this.rootComponentType).snapshot;return(0,De.of)(Object.assign(Object.assign({},pe),{targetSnapshot:ls,urlAfterRedirects:Mn,extras:Object.assign(Object.assign({},xn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=pe.rawUrl,this.browserUrlTree=pe.urlAfterRedirects,pe.resolve(null),_t.E}),Or(pe=>{const{targetSnapshot:Xe,id:Ct,extractedUrl:pn,rawUrl:sn,extras:{skipLocationChange:Jt,replaceUrl:Mn}}=pe;return this.hooks.beforePreactivation(Xe,{navigationId:Ct,appliedUrlTree:pn,rawUrlTree:sn,skipLocationChange:!!Jt,replaceUrl:!!Mn})}),(0,bn.b)(pe=>{const Xe=new Ht(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot);this.triggerEvent(Xe)}),(0,ut.U)(pe=>Object.assign(Object.assign({},pe),{guards:ni(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)})),function(D,T){return(0,st.zg)(I=>{const{targetSnapshot:F,currentSnapshot:G,guards:{canActivateChecks:ne,canDeactivateChecks:be}}=I;return 0===be.length&&0===ne.length?(0,De.of)(Object.assign(Object.assign({},I),{guardsResult:!0})):function(D,T,I,F){return(0,ht.D)(D).pipe((0,st.zg)(G=>function(D,T,I,F,G){const ne=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!ne||0===ne.length)return(0,De.of)(!0);const be=ne.map(pe=>{const Xe=_s(pe,T,G);let Ct;if(function(D){return D&&Pr(D.canDeactivate)}(Xe))Ct=Hn(Xe.canDeactivate(D,T,I,F));else{if(!Pr(Xe))throw new Error("Invalid CanDeactivate guard");Ct=Hn(Xe(D,T,I,F))}return Ct.pipe((0,cr.P)())});return(0,De.of)(be).pipe(ms())}(G.component,G.route,I,T,F)),(0,cr.P)(G=>!0!==G,!0))}(be,F,G,D).pipe((0,st.zg)(pe=>pe&&function(D){return"boolean"==typeof D}(pe)?function(D,T,I,F){return(0,ht.D)(T).pipe(Le(G=>(0,$t.z)(function(D,T){return null!==D&&T&&T(new nr(D)),(0,De.of)(!0)}(G.route.parent,F),function(D,T){return null!==D&&T&&T(new on(D)),(0,De.of)(!0)}(G.route,F),function(D,T,I){const F=T[T.length-1],ne=T.slice(0,T.length-1).reverse().map(be=>function(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(be)).filter(be=>null!==be).map(be=>ct(()=>{const pe=be.guards.map(Xe=>{const Ct=_s(Xe,be.node,I);let pn;if(function(D){return D&&Pr(D.canActivateChild)}(Ct))pn=Hn(Ct.canActivateChild(F,D));else{if(!Pr(Ct))throw new Error("Invalid CanActivateChild guard");pn=Hn(Ct(F,D))}return pn.pipe((0,cr.P)())});return(0,De.of)(pe).pipe(ms())}));return(0,De.of)(ne).pipe(ms())}(D,G.path,I),function(D,T,I){const F=T.routeConfig?T.routeConfig.canActivate:null;if(!F||0===F.length)return(0,De.of)(!0);const G=F.map(ne=>ct(()=>{const be=_s(ne,T,I);let pe;if(function(D){return D&&Pr(D.canActivate)}(be))pe=Hn(be.canActivate(T,D));else{if(!Pr(be))throw new Error("Invalid CanActivate guard");pe=Hn(be(T,D))}return pe.pipe((0,cr.P)())}));return(0,De.of)(G).pipe(ms())}(D,G.route,I))),(0,cr.P)(G=>!0!==G,!0))}(F,ne,D,T):(0,De.of)(pe)),(0,ut.U)(pe=>Object.assign(Object.assign({},I),{guardsResult:pe})))})}(this.ngModule.injector,pe=>this.triggerEvent(pe)),(0,bn.b)(pe=>{if(kr(pe.guardsResult)){const Ct=Re(`Redirecting to "${this.serializeUrl(pe.guardsResult)}"`);throw Ct.url=pe.guardsResult,Ct}const Xe=new dn(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.triggerEvent(Xe)}),(0,nt.h)(pe=>!!pe.guardsResult||(this.restoreHistory(pe),this.cancelNavigationTransition(pe,""),!1)),Or(pe=>{if(pe.guards.canActivateChecks.length)return(0,De.of)(pe).pipe((0,bn.b)(Xe=>{const Ct=new Xt(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(Ct)}),(0,xe.w)(Xe=>{let Ct=!1;return(0,De.of)(Xe).pipe(function(D,T){return(0,st.zg)(I=>{const{targetSnapshot:F,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,De.of)(I);let ne=0;return(0,ht.D)(G).pipe(Le(be=>function(D,T,I,F){return function(D,T,I,F){const G=Object.keys(D);if(0===G.length)return(0,De.of)({});const ne={};return(0,ht.D)(G).pipe((0,st.zg)(be=>function(D,T,I,F){const G=_s(D,T,F);return Hn(G.resolve?G.resolve(T,I):G(T,I))}(D[be],T,I,F).pipe((0,bn.b)(pe=>{ne[be]=pe}))),Te(1),(0,st.zg)(()=>Object.keys(ne).length===G.length?(0,De.of)(ne):_t.E))}(D._resolve,D,T,F).pipe((0,ut.U)(ne=>(D._resolvedData=ne,D.data=Object.assign(Object.assign({},D.data),yi(D,I).resolve),null)))}(be.route,F,D,T)),(0,bn.b)(()=>ne++),Te(1),(0,st.zg)(be=>ne===G.length?(0,De.of)(I):_t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,bn.b)({next:()=>Ct=!0,complete:()=>{Ct||(this.restoreHistory(Xe),this.cancelNavigationTransition(Xe,"At least one route resolver didn't emit any value."))}}))}),(0,bn.b)(Xe=>{const Ct=new hn(Xe.id,this.serializeUrl(Xe.extractedUrl),this.serializeUrl(Xe.urlAfterRedirects),Xe.targetSnapshot);this.triggerEvent(Ct)}))}),Or(pe=>{const{targetSnapshot:Xe,id:Ct,extractedUrl:pn,rawUrl:sn,extras:{skipLocationChange:Jt,replaceUrl:Mn}}=pe;return this.hooks.afterPreactivation(Xe,{navigationId:Ct,appliedUrlTree:pn,rawUrlTree:sn,skipLocationChange:!!Jt,replaceUrl:!!Mn})}),(0,ut.U)(pe=>{const Xe=function(D,T,I){const F=xi(D,T._root,I?I._root:void 0);return new xr(F,T)}(this.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return Object.assign(Object.assign({},pe),{targetRouterState:Xe})}),(0,bn.b)(pe=>{this.currentUrlTree=pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(pe.urlAfterRedirects,pe.rawUrl),this.routerState=pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pe),this.browserUrlTree=pe.urlAfterRedirects)}),((D,T,I)=>(0,ut.U)(F=>(new _o(T,F.targetRouterState,F.currentRouterState,I).activate(D),F)))(this.rootContexts,this.routeReuseStrategy,pe=>this.triggerEvent(pe)),(0,bn.b)({next(){ne=!0},complete(){ne=!0}}),function(D){return T=>T.lift(new Pn(D))}(()=>{if(!ne&&!be){const pe=`Navigation ID ${G.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(G),this.cancelNavigationTransition(G,pe)):this.cancelNavigationTransition(G,pe)}this.currentNavigation=null}),(0,On.K)(pe=>{if(be=!0,function(D){return D&&D[pi]}(pe)){const Xe=kr(pe.url);Xe||(this.navigated=!0,this.restoreHistory(G,!0));const Ct=new lt(G.id,this.serializeUrl(G.extractedUrl),pe.message);F.next(Ct),Xe?setTimeout(()=>{const pn=this.urlHandlingStrategy.merge(pe.url,this.rawUrlTree),sn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rs(G.source)};this.scheduleNavigation(pn,"imperative",null,sn,{resolve:G.resolve,reject:G.reject,promise:G.promise})},0):G.resolve(!1)}else{this.restoreHistory(G,!0);const Xe=new rn(G.id,this.serializeUrl(G.extractedUrl),pe);F.next(Xe);try{G.resolve(this.errorHandler(pe))}catch(Ct){G.reject(Ct)}}return _t.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}getTransition(){const I=this.transitions.value;return I.urlAfterRedirects=this.browserUrlTree,I}setTransition(I){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),I))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const F=this.extractLocationChangeInfoFromEvent(I);this.shouldScheduleNavigation(this.lastLocationChangeInfo,F)&&setTimeout(()=>{const{source:G,state:ne,urlTree:be}=F,pe={replaceUrl:!0};if(ne){const Xe=Object.assign({},ne);delete Xe.navigationId,delete Xe.\u0275routerPageId,0!==Object.keys(Xe).length&&(pe.state=Xe)}this.scheduleNavigation(be,G,ne,pe)},0),this.lastLocationChangeInfo=F}))}extractLocationChangeInfoFromEvent(I){var F;return{source:"popstate"===I.type?"popstate":"hashchange",urlTree:this.parseUrl(I.url),state:(null===(F=I.state)||void 0===F?void 0:F.navigationId)?I.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(I,F){if(!I)return!0;const G=F.urlTree.toString()===I.urlTree.toString();return F.transitionId!==I.transitionId||!G||!("hashchange"===F.source&&"popstate"===I.source||"popstate"===F.source&&"hashchange"===I.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){X(I),this.config=I.map(we),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,F={}){const{relativeTo:G,queryParams:ne,fragment:be,queryParamsHandling:pe,preserveFragment:Xe}=F,Ct=G||this.routerState.root,pn=Xe?this.currentUrlTree.fragment:be;let sn=null;switch(pe){case"merge":sn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ne);break;case"preserve":sn=this.currentUrlTree.queryParams;break;default:sn=ne||null}return null!==sn&&(sn=this.removeEmptyProps(sn)),function(D,T,I,F,G){if(0===I.length)return Is(T.root,T.root,T,F,G);const ne=function(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Bs(!0,0,D);let T=0,I=!1;const F=D.reduce((G,ne,be)=>{if("object"==typeof ne&&null!=ne){if(ne.outlets){const pe={};return Gn(ne.outlets,(Xe,Ct)=>{pe[Ct]="string"==typeof Xe?Xe.split("/"):Xe}),[...G,{outlets:pe}]}if(ne.segmentPath)return[...G,ne.segmentPath]}return"string"!=typeof ne?[...G,ne]:0===be?(ne.split("/").forEach((pe,Xe)=>{0==Xe&&"."===pe||(0==Xe&&""===pe?I=!0:".."===pe?T++:""!=pe&&G.push(pe))}),G):[...G,ne]},[]);return new Bs(I,T,F)}(I);if(ne.toRoot())return Is(T.root,new an([],{}),T,F,G);const be=function(D,T,I){if(D.isAbsolute)return new oi(T.root,!0,0);if(-1===I.snapshot._lastPathIndex){const ne=I.snapshot._urlSegment;return new oi(ne,ne===T.root,0)}const F=ki(D.commands[0])?0:1;return function(D,T,I){let F=D,G=T,ne=I;for(;ne>G;){if(ne-=G,F=F.parent,!F)throw new Error("Invalid number of '../'");G=F.segments.length}return new oi(F,!1,G-ne)}(I.snapshot._urlSegment,I.snapshot._lastPathIndex+F,D.numberOfDoubleDots)}(ne,T,D),pe=be.processChildren?fi(be.segmentGroup,be.index,ne.commands):qi(be.segmentGroup,be.index,ne.commands);return Is(be.segmentGroup,pe,T,F,G)}(Ct,this.currentUrlTree,I,sn,null!=pn?pn:null)}navigateByUrl(I,F={skipLocationChange:!1}){const G=kr(I)?I:this.parseUrl(I),ne=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(ne,"imperative",null,F)}navigate(I,F={skipLocationChange:!1}){return function(D){for(let T=0;T<D.length;T++){const I=D[T];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${T}`)}}(I),this.navigateByUrl(this.createUrlTree(I,F),F)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let F;try{F=this.urlSerializer.parse(I)}catch(G){F=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return F}isActive(I,F){let G;if(G=!0===F?Object.assign({},Lo):!1===F?Object.assign({},qs):F,kr(I))return ji(this.currentUrlTree,I,G);const ne=this.parseUrl(I);return ji(this.currentUrlTree,ne,G)}removeEmptyProps(I){return Object.keys(I).reduce((F,G)=>{const ne=I[G];return null!=ne&&(F[G]=ne),F},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new ot(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,F,G,ne,be){var pe,Xe;if(this.disposed)return Promise.resolve(!1);const Ct=this.getTransition(),pn=Rs(F)&&Ct&&!Rs(Ct.source),Mn=(this.lastSuccessfulId===Ct.id||this.currentNavigation?Ct.rawUrl:Ct.urlAfterRedirects).toString()===I.toString();if(pn&&Mn)return Promise.resolve(!0);let Ui,Jn,xn;be?(Ui=be.resolve,Jn=be.reject,xn=be.promise):xn=new Promise((po,go)=>{Ui=po,Jn=go});const Gs=++this.navigationId;let ls;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),ls=G&&G.\u0275routerPageId?G.\u0275routerPageId:ne.replaceUrl||ne.skipLocationChange?null!==(pe=this.browserPageId)&&void 0!==pe?pe:0:(null!==(Xe=this.browserPageId)&&void 0!==Xe?Xe:0)+1):ls=0,this.setTransition({id:Gs,targetPageId:ls,source:F,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:ne,resolve:Ui,reject:Jn,promise:xn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xn.catch(po=>Promise.reject(po))}setBrowserUrl(I,F){const G=this.urlSerializer.serialize(I),ne=Object.assign(Object.assign({},F.extras.state),this.generateNgRouterState(F.id,F.targetPageId));this.location.isCurrentPathEqualTo(G)||F.extras.replaceUrl?this.location.replaceState(G,"",ne):this.location.go(G,"",ne)}restoreHistory(I,F=!1){var G,ne;if("computed"===this.canceledNavigationResolution){const be=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(G=this.currentNavigation)||void 0===G?void 0:G.finalUrl)||0===be?this.currentUrlTree===(null===(ne=this.currentNavigation)||void 0===ne?void 0:ne.finalUrl)&&0===be&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(be)}else"replace"===this.canceledNavigationResolution&&(F&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,F){const G=new lt(I.id,this.serializeUrl(I.extractedUrl),F);this.triggerEvent(G),I.resolve(!1)}generateNgRouterState(I,F){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:F}:{navigationId:I}}}return D.\u0275fac=function(I){return new(I||D)(g.LFG(g.DyG),g.LFG(Vn),g.LFG(Ci),g.LFG(_.Ye),g.LFG(g.zs3),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(void 0))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})();function Rs(D){return"imperative"!==D}let O=(()=>{class D{constructor(I,F,G,ne,be){this.router=I,this.route=F,this.commands=[],this.onChanges=new ee.xQ,null==G&&ne.setAttribute(be.nativeElement,"tabindex","0")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}onClick(){const I={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return D.\u0275fac=function(I){return new(I||D)(g.Y36(ri),g.Y36(mr),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},D.\u0275dir=g.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,F){1&I&&g.NdJ("click",function(){return F.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),D})(),M=(()=>{class D{constructor(I,F,G){this.router=I,this.route=F,this.locationStrategy=G,this.commands=[],this.onChanges=new ee.xQ,this.subscription=I.events.subscribe(ne=>{ne instanceof ot&&this.updateTargetUrlAndHref()})}set routerLink(I){this.commands=null!=I?Array.isArray(I)?I:[I]:[]}ngOnChanges(I){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(I,F,G,ne,be){if(0!==I||F||G||ne||be||"string"==typeof this.target&&"_self"!=this.target)return!0;const pe={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,pe),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return D.\u0275fac=function(I){return new(I||D)(g.Y36(ri),g.Y36(mr),g.Y36(_.S$))},D.\u0275dir=g.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(I,F){1&I&&g.NdJ("click",function(ne){return F.onClick(ne.button,ne.ctrlKey,ne.shiftKey,ne.altKey,ne.metaKey)}),2&I&&(g.Ikx("href",F.href,g.LSH),g.uIk("target",F.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[g.TTD]}),D})();function Y(D){return""===D||!!D}let Nn=(()=>{class D{constructor(I,F,G,ne,be){this.parentContexts=I,this.location=F,this.resolver=G,this.changeDetector=be,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.name=ne||kn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,I}attach(I,F){this.activated=I,this._activatedRoute=F,this.location.insert(I.hostView)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,F){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const be=(F=F||this.resolver).resolveComponentFactory(I._futureSnapshot.routeConfig.component),pe=this.parentContexts.getOrCreateContext(this.name).children,Xe=new rr(I,pe,this.location.injector);this.activated=this.location.createComponent(be,this.location.length,Xe),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(I){return new(I||D)(g.Y36(Ci),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},D.\u0275dir=g.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),D})();class rr{constructor(T,I,F){this.route=T,this.childContexts=I,this.parent=F}get(T,I){return T===mr?this.route:T===Ci?this.childContexts:this.parent.get(T,I)}}class L{}class w{preload(T,I){return(0,De.of)(null)}}let N=(()=>{class D{constructor(I,F,G,ne,be){this.router=I,this.injector=ne,this.preloadingStrategy=be,this.loader=new Zr(F,G,Ct=>I.triggerEvent(new Xn(Ct)),Ct=>I.triggerEvent(new Rr(Ct)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(I=>I instanceof ot),Le(()=>this.preload())).subscribe(()=>{})}preload(){const I=this.injector.get(g.h0i);return this.processRoutes(I,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,F){const G=[];for(const ne of F)if(ne.loadChildren&&!ne.canLoad&&ne._loadedConfig){const be=ne._loadedConfig;G.push(this.processRoutes(be.module,be.routes))}else ne.loadChildren&&!ne.canLoad?G.push(this.preloadConfig(I,ne)):ne.children&&G.push(this.processRoutes(I,ne.children));return(0,ht.D)(G).pipe((0,jn.J)(),(0,ut.U)(ne=>{}))}preloadConfig(I,F){return this.preloadingStrategy.preload(F,()=>(F._loadedConfig?(0,De.of)(F._loadedConfig):this.loader.load(I.injector,F)).pipe((0,st.zg)(ne=>(F._loadedConfig=ne,this.processRoutes(ne.module,ne.routes)))))}}return D.\u0275fac=function(I){return new(I||D)(g.LFG(ri),g.LFG(g.v3s),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(L))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})(),W=(()=>{class D{constructor(I,F,G={}){this.router=I,this.viewportScroller=F,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Be?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof ot&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof hi&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,F){this.router.triggerEvent(new hi(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,F))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(I){return new(I||D)(g.LFG(ri),g.LFG(_.EM),g.LFG(void 0))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})();const _e=new g.OlP("ROUTER_CONFIGURATION"),Ie=new g.OlP("ROUTER_FORROOT_GUARD"),pt=[_.Ye,{provide:Vn,useClass:lr},{provide:ri,useFactory:function(D,T,I,F,G,ne,be,pe={},Xe,Ct){const pn=new ri(null,D,T,I,F,G,ne,yn(be));return Xe&&(pn.urlHandlingStrategy=Xe),Ct&&(pn.routeReuseStrategy=Ct),function(D,T){D.errorHandler&&(T.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(T.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(T.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(T.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(T.urlUpdateStrategy=D.urlUpdateStrategy)}(pe,pn),pe.enableTracing&&pn.events.subscribe(sn=>{var Jt,Mn;null===(Jt=console.group)||void 0===Jt||Jt.call(console,`Router Event: ${sn.constructor.name}`),console.log(sn.toString()),console.log(sn),null===(Mn=console.groupEnd)||void 0===Mn||Mn.call(console)}),pn},deps:[Vn,Ci,_.Ye,g.zs3,g.v3s,g.Sil,bi,_e,[class{},new g.FiY],[class{},new g.FiY]]},Ci,{provide:mr,useFactory:function(D){return D.routerState.root},deps:[ri]},{provide:g.v3s,useClass:g.EAV},N,w,class{preload(T,I){return I().pipe((0,On.K)(()=>(0,De.of)(null)))}},{provide:_e,useValue:{enableTracing:!1}}];function Wt(){return new g.PXZ("Router",ri)}let vn=(()=>{class D{constructor(I,F){}static forRoot(I,F){return{ngModule:D,providers:[pt,Ln(I),{provide:Ie,useFactory:Sn,deps:[[ri,new g.FiY,new g.tp0]]},{provide:_e,useValue:F||{}},{provide:_.S$,useFactory:fr,deps:[_.lw,[new g.tBr(_.mr),new g.FiY],_e]},{provide:W,useFactory:In,deps:[ri,_.EM,_e]},{provide:L,useExisting:F&&F.preloadingStrategy?F.preloadingStrategy:w},{provide:g.PXZ,multi:!0,useFactory:Wt},[li,{provide:g.ip1,multi:!0,useFactory:Ri,deps:[li]},{provide:Dn,useFactory:mn,deps:[li]},{provide:g.tb,multi:!0,useExisting:Dn}]]}}static forChild(I){return{ngModule:D,providers:[Ln(I)]}}}return D.\u0275fac=function(I){return new(I||D)(g.LFG(Ie,8),g.LFG(ri,8))},D.\u0275mod=g.oAB({type:D}),D.\u0275inj=g.cJS({}),D})();function In(D,T,I){return I.scrollOffset&&T.setOffset(I.scrollOffset),new W(D,T,I)}function fr(D,T,I={}){return I.useHash?new _.Do(D,T):new _.b0(D,T)}function Sn(D){return"guarded"}function Ln(D){return[{provide:g.deG,multi:!0,useValue:D},{provide:bi,multi:!0,useValue:D}]}let li=(()=>{class D{constructor(I){this.injector=I,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ee.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let F=null;const G=new Promise(pe=>F=pe),ne=this.injector.get(ri),be=this.injector.get(_e);return"disabled"===be.initialNavigation?(ne.setUpLocationChangeListener(),F(!0)):"enabled"===be.initialNavigation||"enabledBlocking"===be.initialNavigation?(ne.hooks.afterPreactivation=()=>this.initNavigation?(0,De.of)(null):(this.initNavigation=!0,F(!0),this.resultOfPreactivationDone),ne.initialNavigation()):F(!0),G})}bootstrapListener(I){const F=this.injector.get(_e),G=this.injector.get(N),ne=this.injector.get(W),be=this.injector.get(ri),pe=this.injector.get(g.z2F);I===pe.components[0]&&(("enabledNonBlocking"===F.initialNavigation||void 0===F.initialNavigation)&&be.initialNavigation(),G.setUpPreloading(),ne.init(),be.resetRootComponentType(pe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(I){return new(I||D)(g.LFG(g.zs3))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac}),D})();function Ri(D){return D.appInitializer.bind(D)}function mn(D){return D.bootstrapListener.bind(D)}const Dn=new g.OlP("Router Initializer")},4486:(Gt,tt,q)=>{"use strict";q.d(tt,{Z:()=>Ke});var _=q(3854),g=q(6034),ee=q(5452),Ve=q(5601);class Ne{constructor(gt,fe){this._delegate=gt,this.firebase=fe,(0,ee._addComponent)(gt,new g.wA("app-compat",()=>this,"PUBLIC")),this.container=gt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(gt){this._delegate.automaticDataCollectionEnabled=gt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(gt=>{this._delegate.checkDestroyed(),gt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ee.deleteApp)(this._delegate)))}_getService(gt,fe=ee._DEFAULT_ENTRY_NAME){var ht;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(gt);return!_t.isInitialized()&&"EXPLICIT"===(null===(ht=_t.getComponent())||void 0===ht?void 0:ht.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:fe})}_removeServiceInstance(gt,fe=ee._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(gt).clearInstance(fe)}_addComponent(gt){(0,ee._addComponent)(this._delegate,gt)}_addOrOverwriteComponent(gt){(0,ee._addOrOverwriteComponent)(this._delegate,gt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $e=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),te=function me(){const qe=function(qe){const gt={},fe={__esModule:!0,initializeApp:function(nn,st={}){const Le=ee.initializeApp(nn,st);if((0,_.r3)(gt,Le.name))return gt[Le.name];const nt=new qe(Le,fe);return gt[Le.name]=nt,nt},app:_t,registerVersion:ee.registerVersion,setLogLevel:ee.setLogLevel,onLog:ee.onLog,apps:null,SDK_VERSION:ee.SDK_VERSION,INTERNAL:{registerComponent:function(nn){const st=nn.name,Le=st.replace("-compat","");if(ee._registerComponent(nn)&&"PUBLIC"===nn.type){const nt=(Qe=_t())=>{if("function"!=typeof Qe[Le])throw $e.create("invalid-app-argument",{appName:st});return Qe[Le]()};void 0!==nn.serviceProps&&(0,_.ZB)(nt,nn.serviceProps),fe[Le]=nt,qe.prototype[Le]=function(...Qe){return this._getService.bind(this,st).apply(this,nn.multipleInstances?Qe:[])}}return"PUBLIC"===nn.type?fe[Le]:null},removeApp:function(nn){delete gt[nn]},useAsService:function(nn,st){return"serverAuth"===st?null:st},modularAPIs:ee}};function _t(nn){if(!(0,_.r3)(gt,nn=nn||ee._DEFAULT_ENTRY_NAME))throw $e.create("no-app",{appName:nn});return gt[nn]}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function(){return Object.keys(gt).map(nn=>gt[nn])}}),_t.App=qe,fe}(Ne);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function(fe){(0,_.ZB)(qe,fe)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),qe}(),ce=new Ve.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){ce.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&ce.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=te;(0,ee.registerVersion)("@firebase/app-compat","0.1.4",undefined)},5452:(Gt,tt,q)=>{"use strict";q.r(tt),q.d(tt,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>bn,_DEFAULT_ENTRY_NAME:()=>Yt,_addComponent:()=>Pn,_addOrOverwriteComponent:()=>dt,_apps:()=>Lt,_clearComponents:()=>Tt,_components:()=>tn,_getProvider:()=>xe,_registerComponent:()=>ut,_removeServiceInstance:()=>Ge,deleteApp:()=>Be,getApp:()=>jn,getApps:()=>Ot,initializeApp:()=>ar,onLog:()=>rn,registerVersion:()=>lt,setLogLevel:()=>un});var _=q(8239),g=q(6034),ee=q(5601),Ve=q(3854);class Ne{constructor(Xt){this.container=Xt}getPlatformInfoString(){return this.container.getProviders().map(hn=>{if(function(dn){const Xt=dn.getComponent();return"VERSION"===(null==Xt?void 0:Xt.type)}(hn)){const Xn=hn.getImmediate();return`${Xn.library}/${Xn.version}`}return null}).filter(hn=>hn).join(" ")}}const $e="@firebase/app",me=new ee.Yd("@firebase/app"),Yt="[DEFAULT]",Kt={[$e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Lt=new Map,tn=new Map;function Pn(dn,Xt){try{dn.container.addComponent(Xt)}catch(hn){me.debug(`Component ${Xt.name} failed to register with FirebaseApp ${dn.name}`,hn)}}function dt(dn,Xt){dn.container.addOrOverwriteComponent(Xt)}function ut(dn){const Xt=dn.name;if(tn.has(Xt))return me.debug(`There were multiple attempts to register component ${Xt}.`),!1;tn.set(Xt,dn);for(const hn of Lt.values())Pn(hn,dn);return!0}function xe(dn,Xt){return dn.container.getProvider(Xt)}function Ge(dn,Xt,hn=Yt){xe(dn,Xt).clearInstance(hn)}function Tt(){tn.clear()}const On=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class cr{constructor(Xt,hn,Xn){this._isDeleted=!1,this._options=Object.assign({},Xt),this._config=Object.assign({},hn),this._name=hn.name,this._automaticDataCollectionEnabled=hn.automaticDataCollectionEnabled,this._container=Xn,this.container.addComponent(new g.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Xt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Xt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Xt){this._isDeleted=Xt}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const bn="9.1.2";function ar(dn,Xt={}){"object"!=typeof Xt&&(Xt={name:Xt});const hn=Object.assign({name:Yt,automaticDataCollectionEnabled:!1},Xt),Xn=hn.name;if("string"!=typeof Xn||!Xn)throw On.create("bad-app-name",{appName:String(Xn)});const Rr=Lt.get(Xn);if(Rr){if((0,Ve.vZ)(dn,Rr.options)&&(0,Ve.vZ)(hn,Rr.config))return Rr;throw On.create("duplicate-app",{appName:Xn})}const nr=new g.H0(Xn);for(const on of tn.values())nr.addComponent(on);const kt=new cr(dn,hn,nr);return Lt.set(Xn,kt),kt}function jn(dn=Yt){const Xt=Lt.get(dn);if(!Xt)throw On.create("no-app",{appName:dn});return Xt}function Ot(){return Array.from(Lt.values())}function Be(dn){return ot.apply(this,arguments)}function ot(){return(ot=(0,_.Z)(function*(dn){const Xt=dn.name;Lt.has(Xt)&&(Lt.delete(Xt),yield Promise.all(dn.container.getProviders().map(hn=>hn.delete())),dn.isDeleted=!0)})).apply(this,arguments)}function lt(dn,Xt,hn){var Xn;let Rr=null!==(Xn=Kt[dn])&&void 0!==Xn?Xn:dn;hn&&(Rr+=`-${hn}`);const nr=Rr.match(/\s|\//),kt=Xt.match(/\s|\//);if(nr||kt){const on=[`Unable to register library "${Rr}" with version "${Xt}":`];return nr&&on.push(`library name "${Rr}" contains illegal characters (whitespace or "/")`),nr&&kt&&on.push("and"),kt&&on.push(`version name "${Xt}" contains illegal characters (whitespace or "/")`),void me.warn(on.join(" "))}ut(new g.wA(`${Rr}-version`,()=>({library:Rr,version:Xt}),"VERSION"))}function rn(dn,Xt){if(null!==dn&&"function"!=typeof dn)throw On.create("invalid-log-argument");(0,ee.Am)(dn,Xt)}function un(dn){(0,ee.Ub)(dn)}ut(new g.wA("platform-logger",Xt=>new Ne(Xt),"PRIVATE")),lt($e,"0.7.3",undefined),lt("fire-js","")},6034:(Gt,tt,q)=>{"use strict";q.d(tt,{wA:()=>ee,H0:()=>he});var _=q(4762),g=q(3854),ee=function(){function me(te,ce,de){this.name=te,this.instanceFactory=ce,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return me.prototype.setInstantiationMode=function(te){return this.instantiationMode=te,this},me.prototype.setMultipleInstances=function(te){return this.multipleInstances=te,this},me.prototype.setServiceProps=function(te){return this.serviceProps=te,this},me.prototype.setInstanceCreatedCallback=function(te){return this.onInstanceCreated=te,this},me}(),Ve="[DEFAULT]",Ne=function(){function me(te,ce){this.name=te,this.container=ce,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return me.prototype.get=function(te){var ce=this.normalizeInstanceIdentifier(te);if(!this.instancesDeferred.has(ce)){var de=new g.BH;if(this.instancesDeferred.set(ce,de),this.isInitialized(ce)||this.shouldAutoInitialize())try{var Se=this.getOrInitializeService({instanceIdentifier:ce});Se&&de.resolve(Se)}catch(Fe){}}return this.instancesDeferred.get(ce).promise},me.prototype.getImmediate=function(te){var ce,de=this.normalizeInstanceIdentifier(null==te?void 0:te.identifier),Se=null!==(ce=null==te?void 0:te.optional)&&void 0!==ce&&ce;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Se)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(Fe){if(Se)return null;throw Fe}},me.prototype.getComponent=function(){return this.component},me.prototype.setComponent=function(te){var ce,de;if(te.name!==this.name)throw Error("Mismatching Component "+te.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=te,this.shouldAutoInitialize()){if(function(me){return"EAGER"===me.instantiationMode}(te))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(_t){}try{for(var Se=(0,_.XA)(this.instancesDeferred.entries()),Fe=Se.next();!Fe.done;Fe=Se.next()){var Ke=(0,_.CR)(Fe.value,2),gt=Ke[1],fe=this.normalizeInstanceIdentifier(Ke[0]);try{var ht=this.getOrInitializeService({instanceIdentifier:fe});gt.resolve(ht)}catch(_t){}}}catch(_t){ce={error:_t}}finally{try{Fe&&!Fe.done&&(de=Se.return)&&de.call(Se)}finally{if(ce)throw ce.error}}}},me.prototype.clearInstance=function(te){void 0===te&&(te=Ve),this.instancesDeferred.delete(te),this.instancesOptions.delete(te),this.instances.delete(te)},me.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var te;return(0,_.Jh)(this,function(ce){switch(ce.label){case 0:return te=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(te.filter(function(de){return"INTERNAL"in de}).map(function(de){return de.INTERNAL.delete()}))),(0,_.CR)(te.filter(function(de){return"_delete"in de}).map(function(de){return de._delete()}))))];case 1:return ce.sent(),[2]}})})},me.prototype.isComponentSet=function(){return null!=this.component},me.prototype.isInitialized=function(te){return void 0===te&&(te=Ve),this.instances.has(te)},me.prototype.getOptions=function(te){return void 0===te&&(te=Ve),this.instancesOptions.get(te)||{}},me.prototype.initialize=function(te){var ce,de;void 0===te&&(te={});var Se=te.options,Fe=void 0===Se?{}:Se,Ke=this.normalizeInstanceIdentifier(te.instanceIdentifier);if(this.isInitialized(Ke))throw Error(this.name+"("+Ke+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var qe=this.getOrInitializeService({instanceIdentifier:Ke,options:Fe});try{for(var gt=(0,_.XA)(this.instancesDeferred.entries()),fe=gt.next();!fe.done;fe=gt.next()){var ht=(0,_.CR)(fe.value,2),ct=ht[1];Ke===this.normalizeInstanceIdentifier(ht[0])&&ct.resolve(qe)}}catch(xt){ce={error:xt}}finally{try{fe&&!fe.done&&(de=gt.return)&&de.call(gt)}finally{if(ce)throw ce.error}}return qe},me.prototype.onInit=function(te,ce){var de,Se=this.normalizeInstanceIdentifier(ce),Fe=null!==(de=this.onInitCallbacks.get(Se))&&void 0!==de?de:new Set;Fe.add(te),this.onInitCallbacks.set(Se,Fe);var Ke=this.instances.get(Se);return Ke&&te(Ke,Se),function(){Fe.delete(te)}},me.prototype.invokeOnInitCallbacks=function(te,ce){var de,Se,Fe=this.onInitCallbacks.get(ce);if(Fe)try{for(var Ke=(0,_.XA)(Fe),qe=Ke.next();!qe.done;qe=Ke.next()){var gt=qe.value;try{gt(te,ce)}catch(fe){}}}catch(fe){de={error:fe}}finally{try{qe&&!qe.done&&(Se=Ke.return)&&Se.call(Ke)}finally{if(de)throw de.error}}},me.prototype.getOrInitializeService=function(te){var ce=te.instanceIdentifier,de=te.options,Se=void 0===de?{}:de,Fe=this.instances.get(ce);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:ye(ce),options:Se}),this.instances.set(ce,Fe),this.instancesOptions.set(ce,Se),this.invokeOnInitCallbacks(Fe,ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ce,Fe)}catch(Ke){}return Fe||null},me.prototype.normalizeInstanceIdentifier=function(te){return void 0===te&&(te=Ve),this.component?this.component.multipleInstances?te:Ve:te},me.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},me}();function ye(me){return me===Ve?void 0:me}var he=function(){function me(te){this.name=te,this.providers=new Map}return me.prototype.addComponent=function(te){var ce=this.getProvider(te.name);if(ce.isComponentSet())throw new Error("Component "+te.name+" has already been registered with "+this.name);ce.setComponent(te)},me.prototype.addOrOverwriteComponent=function(te){this.getProvider(te.name).isComponentSet()&&this.providers.delete(te.name),this.addComponent(te)},me.prototype.getProvider=function(te){if(this.providers.has(te))return this.providers.get(te);var ce=new Ne(te,this);return this.providers.set(te,ce),ce},me.prototype.getProviders=function(){return Array.from(this.providers.values())},me}()},5601:(Gt,tt,q)=>{"use strict";q.d(tt,{in:()=>g,Yd:()=>$e,Ub:()=>he,Am:()=>me});const _=[];var g=(()=>{return(te=g||(g={}))[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",g;var te})();const ee={debug:g.DEBUG,verbose:g.VERBOSE,info:g.INFO,warn:g.WARN,error:g.ERROR,silent:g.SILENT},Ve=g.INFO,Ne={[g.DEBUG]:"log",[g.VERBOSE]:"log",[g.INFO]:"info",[g.WARN]:"warn",[g.ERROR]:"error"},ye=(te,ce,...de)=>{if(ce<te.logLevel)return;const Se=(new Date).toISOString(),Fe=Ne[ce];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ce})`);console[Fe](`[${Se}]  ${te.name}:`,...de)};class $e{constructor(ce){this.name=ce,this._logLevel=Ve,this._logHandler=ye,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(ce){if(!(ce in g))throw new TypeError(`Invalid value "${ce}" assigned to \`logLevel\``);this._logLevel=ce}setLogLevel(ce){this._logLevel="string"==typeof ce?ee[ce]:ce}get logHandler(){return this._logHandler}set logHandler(ce){if("function"!=typeof ce)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(ce){this._userLogHandler=ce}debug(...ce){this._userLogHandler&&this._userLogHandler(this,g.DEBUG,...ce),this._logHandler(this,g.DEBUG,...ce)}log(...ce){this._userLogHandler&&this._userLogHandler(this,g.VERBOSE,...ce),this._logHandler(this,g.VERBOSE,...ce)}info(...ce){this._userLogHandler&&this._userLogHandler(this,g.INFO,...ce),this._logHandler(this,g.INFO,...ce)}warn(...ce){this._userLogHandler&&this._userLogHandler(this,g.WARN,...ce),this._logHandler(this,g.WARN,...ce)}error(...ce){this._userLogHandler&&this._userLogHandler(this,g.ERROR,...ce),this._logHandler(this,g.ERROR,...ce)}}function he(te){_.forEach(ce=>{ce.setLogLevel(te)})}function me(te,ce){for(const de of _){let Se=null;ce&&ce.level&&(Se=ee[ce.level]),de.userLogHandler=null===te?null:(Fe,Ke,...qe)=>{const gt=qe.map(fe=>{if(null==fe)return null;if("string"==typeof fe)return fe;if("number"==typeof fe||"boolean"==typeof fe)return fe.toString();if(fe instanceof Error)return fe.message;try{return JSON.stringify(fe)}catch(ht){return null}}).filter(fe=>fe).join(" ");Ke>=(null!=Se?Se:Fe.logLevel)&&te({level:g[Ke].toLowerCase(),message:gt,args:qe,type:Fe.name})}}}},3854:(Gt,tt,q)=>{"use strict";q.d(tt,{BH:()=>Se,LL:()=>Ee,ZR:()=>ze,tV:()=>me,r3:()=>xe,Sg:()=>Fe,ne:()=>Be,vZ:()=>On,ZB:()=>ce,pd:()=>jn,m9:()=>pi,z$:()=>Ke,jU:()=>fe,ru:()=>ht,d:()=>ct,xb:()=>Tt,w1:()=>De,hl:()=>st,uI:()=>qe,UG:()=>gt,b$:()=>_t,G6:()=>nn,Mn:()=>xt,xO:()=>bn,zd:()=>ar});const Ve=function(Re){const Ce=[];let ke=0;for(let mt=0;mt<Re.length;mt++){let Je=Re.charCodeAt(mt);Je<128?Ce[ke++]=Je:Je<2048?(Ce[ke++]=Je>>6|192,Ce[ke++]=63&Je|128):55296==(64512&Je)&&mt+1<Re.length&&56320==(64512&Re.charCodeAt(mt+1))?(Je=65536+((1023&Je)<<10)+(1023&Re.charCodeAt(++mt)),Ce[ke++]=Je>>18|240,Ce[ke++]=Je>>12&63|128,Ce[ke++]=Je>>6&63|128,Ce[ke++]=63&Je|128):(Ce[ke++]=Je>>12|224,Ce[ke++]=Je>>6&63|128,Ce[ke++]=63&Je|128)}return Ce},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Re,Ce){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ke=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,mt=[];for(let Je=0;Je<Re.length;Je+=3){const Vt=Re[Je],yn=Je+1<Re.length,qn=yn?Re[Je+1]:0,Er=Je+2<Re.length,Gn=Er?Re[Je+2]:0;let Lr=(15&qn)<<2|Gn>>6,Hr=63&Gn;Er||(Hr=64,yn||(Lr=64)),mt.push(ke[Vt>>2],ke[(3&Vt)<<4|qn>>4],ke[Lr],ke[Hr])}return mt.join("")},encodeString(Re,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Re):this.encodeByteArray(Ve(Re),Ce)},decodeString(Re,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Re):function(Re){const Ce=[];let ke=0,mt=0;for(;ke<Re.length;){const Je=Re[ke++];if(Je<128)Ce[mt++]=String.fromCharCode(Je);else if(Je>191&&Je<224){const Vt=Re[ke++];Ce[mt++]=String.fromCharCode((31&Je)<<6|63&Vt)}else if(Je>239&&Je<365){const Er=((7&Je)<<18|(63&Re[ke++])<<12|(63&Re[ke++])<<6|63&Re[ke++])-65536;Ce[mt++]=String.fromCharCode(55296+(Er>>10)),Ce[mt++]=String.fromCharCode(56320+(1023&Er))}else{const Vt=Re[ke++],yn=Re[ke++];Ce[mt++]=String.fromCharCode((15&Je)<<12|(63&Vt)<<6|63&yn)}}return Ce.join("")}(this.decodeStringToByteArray(Re,Ce))},decodeStringToByteArray(Re,Ce){this.init_();const ke=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,mt=[];for(let Je=0;Je<Re.length;){const Vt=ke[Re.charAt(Je++)],qn=Je<Re.length?ke[Re.charAt(Je)]:0;++Je;const Gn=Je<Re.length?ke[Re.charAt(Je)]:64;++Je;const Zn=Je<Re.length?ke[Re.charAt(Je)]:64;if(++Je,null==Vt||null==qn||null==Gn||null==Zn)throw Error();mt.push(Vt<<2|qn>>4),64!==Gn&&(mt.push(qn<<4&240|Gn>>2),64!==Zn&&mt.push(Gn<<6&192|Zn))}return mt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}},he=function(Re){return function(Re){const Ce=Ve(Re);return ye.encodeByteArray(Ce,!0)}(Re).replace(/\./g,"")},me=function(Re){try{return ye.decodeString(Re,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function ce(Re,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Re&&(Re={});break;case Array:Re=[];break;default:return Ce}for(const ke in Ce)!Ce.hasOwnProperty(ke)||!de(ke)||(Re[ke]=ce(Re[ke],Ce[ke]));return Re}function de(Re){return"__proto__"!==Re}class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,ke)=>{this.resolve=Ce,this.reject=ke})}wrapCallback(Ce){return(ke,mt)=>{ke?this.reject(ke):this.resolve(mt),"function"==typeof Ce&&(this.promise.catch(()=>{}),1===Ce.length?Ce(ke):Ce(ke,mt))}}}function Fe(Re,Ce){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const mt=Ce||"demo-project",Je=Re.iat||0,Vt=Re.sub||Re.user_id;if(!Vt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yn=Object.assign({iss:`https://securetoken.google.com/${mt}`,aud:mt,iat:Je,exp:Je+3600,auth_time:Je,sub:Vt,user_id:Vt,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[he(JSON.stringify({alg:"none",type:"JWT"})),he(JSON.stringify(yn)),""].join(".")}function Ke(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function gt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Re){return!1}}function fe(){return"object"==typeof self&&self.self===self}function ht(){const Re="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Re&&void 0!==Re.id}function _t(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return Ke().indexOf("Electron/")>=0}function De(){const Re=Ke();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function xt(){return Ke().indexOf("MSAppHost/")>=0}function nn(){return!gt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function st(){return"object"==typeof indexedDB}class ze extends Error{constructor(Ce,ke,mt){super(ke),this.code=Ce,this.customData=mt,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ee.prototype.create)}}class Ee{constructor(Ce,ke,mt){this.service=Ce,this.serviceName=ke,this.errors=mt}create(Ce,...ke){const mt=ke[0]||{},Je=`${this.service}/${Ce}`,Vt=this.errors[Ce],yn=Vt?function(Re,Ce){return Re.replace(Ft,(ke,mt)=>{const Je=Ce[mt];return null!=Je?String(Je):`<${mt}?>`})}(Vt,mt):"Error";return new ze(Je,`${this.serviceName}: ${yn} (${Je}).`,mt)}}const Ft=/\{\$([^}]+)}/g;function xe(Re,Ce){return Object.prototype.hasOwnProperty.call(Re,Ce)}function Tt(Re){for(const Ce in Re)if(Object.prototype.hasOwnProperty.call(Re,Ce))return!1;return!0}function On(Re,Ce){if(Re===Ce)return!0;const ke=Object.keys(Re),mt=Object.keys(Ce);for(const Je of ke){if(!mt.includes(Je))return!1;const Vt=Re[Je],yn=Ce[Je];if(cr(Vt)&&cr(yn)){if(!On(Vt,yn))return!1}else if(Vt!==yn)return!1}for(const Je of mt)if(!ke.includes(Je))return!1;return!0}function cr(Re){return null!==Re&&"object"==typeof Re}function bn(Re){const Ce=[];for(const[ke,mt]of Object.entries(Re))Array.isArray(mt)?mt.forEach(Je=>{Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(Je))}):Ce.push(encodeURIComponent(ke)+"="+encodeURIComponent(mt));return Ce.length?"&"+Ce.join("&"):""}function ar(Re){const Ce={};return Re.replace(/^\?/,"").split("&").forEach(mt=>{if(mt){const[Je,Vt]=mt.split("=");Ce[decodeURIComponent(Je)]=decodeURIComponent(Vt)}}),Ce}function jn(Re){const Ce=Re.indexOf("?");if(!Ce)return"";const ke=Re.indexOf("#",Ce);return Re.substring(Ce,ke>0?ke:void 0)}function Be(Re,Ce){const ke=new ot(Re,Ce);return ke.subscribe.bind(ke)}class ot{constructor(Ce,ke){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ke,this.task.then(()=>{Ce(this)}).catch(mt=>{this.error(mt)})}next(Ce){this.forEachObserver(ke=>{ke.next(Ce)})}error(Ce){this.forEachObserver(ke=>{ke.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,ke,mt){let Je;if(void 0===Ce&&void 0===ke&&void 0===mt)throw new Error("Missing Observer.");Je=function(Re,Ce){if("object"!=typeof Re||null===Re)return!1;for(const ke of["next","error","complete"])if(ke in Re&&"function"==typeof Re[ke])return!0;return!1}(Ce)?Ce:{next:Ce,error:ke,complete:mt},void 0===Je.next&&(Je.next=un),void 0===Je.error&&(Je.error=un),void 0===Je.complete&&(Je.complete=un);const Vt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Je.error(this.finalError):Je.complete()}catch(yn){}}),this.observers.push(Je),Vt}unsubscribeOne(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let ke=0;ke<this.observers.length;ke++)this.sendOne(ke,Ce)}sendOne(Ce,ke){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ce])try{ke(this.observers[Ce])}catch(mt){"undefined"!=typeof console&&console.error&&console.error(mt)}})}close(Ce){this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function un(){}function pi(Re){return Re&&Re._delegate?Re._delegate:Re}},7841:(Gt,tt,q)=>{"use strict";q.d(tt,{Z:()=>_.Z});var _=q(4486);_.Z.registerVersion("firebase","9.1.2","app-compat")},5841:(Gt,tt,q)=>{"use strict";q.r(tt);var _=q(8239),g=q(4486),ee=q(3854),Ve=q(5452),Ne=q(4762),ye=q(5601),$e=q(6034);const Ke=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new ee.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ht=new ye.Yd("@firebase/auth");function _t(C,...f){ht.logLevel<=ye.in.ERROR&&ht.error(`Auth (${Ve.SDK_VERSION}): ${C}`,...f)}function ct(C,...f){throw nn(C,...f)}function De(C,...f){return nn(C,...f)}function xt(C,f,m){const S=Object.assign(Object.assign({},qe()),{[f]:m});return new ee.LL("auth","Firebase",S).create(f,{appName:C.name})}function $t(C,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&ct(C,"argument-error"),xt(C,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nn(C,...f){if("string"!=typeof C){const m=f[0],S=[...f.slice(1)];return S[0]&&(S[0].appName=C.name),C._errorFactory.create(m,...S)}return gt.create(C,...f)}function st(C,f,...m){if(!C)throw nn(f,...m)}function Le(C){const f="INTERNAL ASSERTION FAILED: "+C;throw _t(f),new Error(f)}function nt(C,f){C||Le(f)}const Qe=new Map;function Te(C){nt(C instanceof Function,"Expected a class definition");let f=Qe.get(C);return f?(nt(f instanceof C,"Instance stored in cache mismatched with class"),f):(f=new C,Qe.set(C,f),f)}function Et(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.href)||""}function Ft(){return"http:"===Yt()||"https:"===Yt()}function Yt(){var C;return"undefined"!=typeof self&&(null===(C=self.location)||void 0===C?void 0:C.protocol)||null}class tn{constructor(f,m){this.shortDelay=f,this.longDelay=m,nt(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,ee.uI)()||(0,ee.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ft()||(0,ee.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Pn(C,f){nt(C.emulator,"Emulator should always be set here");const{url:m}=C.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class dt{static initialize(f,m,S){this.fetchImpl=f,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},xe=new tn(3e4,6e4);function Ge(C,f){return C.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:C.tenantId}):f}function Tt(C,f,m,S){return jt.apply(this,arguments)}function jt(){return(jt=(0,_.Z)(function*(C,f,m,S,Z={}){return On(C,Z,()=>{let ie={},Ue={};S&&("GET"===f?Ue=S:ie={body:JSON.stringify(S)});const yt=(0,ee.xO)(Object.assign({key:C.config.apiKey},Ue)).slice(1),qt=new(dt.headers());return qt.set("Content-Type","application/json"),qt.set("X-Client-Version",C._getSdkClientVersion()),C.languageCode&&qt.set("X-Firebase-Locale",C.languageCode),dt.fetch()(jn(C,C.config.apiHost,m,yt),Object.assign({method:f,headers:qt,referrerPolicy:"no-referrer"},ie))})})).apply(this,arguments)}function On(C,f,m){return cr.apply(this,arguments)}function cr(){return(cr=(0,_.Z)(function*(C,f,m){C._canInitEmulator=!1;const S=Object.assign(Object.assign({},ut),f);try{const Z=new Ot(C),ie=yield Promise.race([m(),Z.promise]);Z.clearNetworkTimeout();const Ue=yield ie.json();if("needConfirmation"in Ue)throw Be(C,"account-exists-with-different-credential",Ue);if(ie.ok&&!("errorMessage"in Ue))return Ue;{const yt=ie.ok?Ue.errorMessage:Ue.error.message,[qt,ln]=yt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw Be(C,"credential-already-in-use",Ue);if("EMAIL_EXISTS"===qt)throw Be(C,"email-already-in-use",Ue);const Kn=S[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(ln)throw xt(C,Kn,ln);ct(C,Kn)}}catch(Z){if(Z instanceof ee.ZR)throw Z;ct(C,"network-request-failed")}})).apply(this,arguments)}function bn(C,f,m,S){return ar.apply(this,arguments)}function ar(){return(ar=(0,_.Z)(function*(C,f,m,S,Z={}){const ie=yield Tt(C,f,m,S,Z);return"mfaPendingCredential"in ie&&ct(C,"multi-factor-auth-required",{serverResponse:ie}),ie})).apply(this,arguments)}function jn(C,f,m,S){const Z=`${f}${m}?${S}`;return C.config.emulator?Pn(C.config,Z):`${C.config.apiScheme}://${Z}`}class Ot{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(De(this.auth,"timeout")),xe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Be(C,f,m){const S={appName:C.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const Z=De(C,f,S);return Z.customData._tokenResponse=m,Z}function lt(){return(lt=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function rn(C,f){return un.apply(this,arguments)}function un(){return(un=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ht(C,f){return dn.apply(this,arguments)}function dn(){return(dn=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function Xt(C){if(C)try{const f=new Date(Number(C));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function Rr(){return(Rr=(0,_.Z)(function*(C,f=!1){const m=(0,ee.m9)(C),S=yield m.getIdToken(f),Z=kt(S);st(Z&&Z.exp&&Z.auth_time&&Z.iat,m.auth,"internal-error");const ie="object"==typeof Z.firebase?Z.firebase:void 0,Ue=null==ie?void 0:ie.sign_in_provider;return{claims:Z,token:S,authTime:Xt(nr(Z.auth_time)),issuedAtTime:Xt(nr(Z.iat)),expirationTime:Xt(nr(Z.exp)),signInProvider:Ue||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function nr(C){return 1e3*Number(C)}function kt(C){const[f,m,S]=C.split(".");if(void 0===f||void 0===m||void 0===S)return _t("JWT malformed, contained fewer than 3 sections"),null;try{const Z=(0,ee.tV)(m);return Z?JSON.parse(Z):(_t("Failed to decode base64 JWT payload"),null)}catch(Z){return _t("Caught error parsing JWT payload as JSON",Z),null}}function jr(C,f){return hi.apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*(C,f,m=!1){if(m)return f;try{return yield f}catch(S){throw S instanceof ee.ZR&&kn(S)&&C.auth.currentUser===C&&(yield C.auth.signOut()),S}})).apply(this,arguments)}function kn({code:C}){return"auth/user-disabled"===C||"auth/user-token-expired"===C}class dr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const Z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(f);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),S)}iteration(){var f=this;return(0,_.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&f.schedule(!0))}f.schedule()})()}}class ei{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xt(this.lastLoginAt),this.creationTime=Xt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function pi(C){return Re.apply(this,arguments)}function Re(){return(Re=(0,_.Z)(function*(C){var f;const m=C.auth,S=yield C.getIdToken(),Z=yield jr(C,Ht(m,{idToken:S}));st(null==Z?void 0:Z.users.length,m,"internal-error");const ie=Z.users[0];C._notifyReloadListener(ie);const Ue=(null===(f=ie.providerUserInfo)||void 0===f?void 0:f.length)?Je(ie.providerUserInfo):[],yt=mt(C.providerData,Ue),Kn=!!C.isAnonymous&&!(C.email&&ie.passwordHash||(null==yt?void 0:yt.length)),er={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:yt,metadata:new ei(ie.createdAt,ie.lastLoginAt),isAnonymous:Kn};Object.assign(C,er)})).apply(this,arguments)}function ke(){return(ke=(0,_.Z)(function*(C){const f=(0,ee.m9)(C);yield pi(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function mt(C,f){return[...C.filter(S=>!f.some(Z=>Z.providerId===S.providerId)),...f]}function Je(C){return C.map(f=>{var{providerId:m}=f,S=(0,Ne._T)(f,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function yn(){return(yn=(0,_.Z)(function*(C,f){const m=yield On(C,{},()=>{const S=(0,ee.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:Z,apiKey:ie}=C.config,Ue=jn(C,Z,"/v1/token",`key=${ie}`);return dt.fetch()(Ue,{method:"POST",headers:{"X-Client-Version":C._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class qn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){st(f.idToken,"internal-error"),st(void 0!==f.idToken,"internal-error"),st(void 0!==f.refreshToken,"internal-error");const m="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(C){const f=kt(C);return st(f,"internal-error"),st(void 0!==f.exp,"internal-error"),st(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var S=this;return(0,_.Z)(function*(){return st(!S.accessToken||S.refreshToken,f,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(f,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var S=this;return(0,_.Z)(function*(){const{accessToken:Z,refreshToken:ie,expiresIn:Ue}=yield function(C,f){return yn.apply(this,arguments)}(f,m);S.updateTokensAndExpiration(Z,ie,Number(Ue))})()}updateTokensAndExpiration(f,m,S){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(f,m){const{refreshToken:S,accessToken:Z,expirationTime:ie}=m,Ue=new qn;return S&&(st("string"==typeof S,"internal-error",{appName:f}),Ue.refreshToken=S),Z&&(st("string"==typeof Z,"internal-error",{appName:f}),Ue.accessToken=Z),ie&&(st("number"==typeof ie,"internal-error",{appName:f}),Ue.expirationTime=ie),Ue}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new qn,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Er(C,f){st("string"==typeof C||void 0===C,"internal-error",{appName:f})}class Gn{constructor(f){var{uid:m,auth:S,stsTokenManager:Z}=f,ie=(0,Ne._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new dr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.metadata=new ei(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,_.Z)(function*(){const S=yield jr(m,m.stsTokenManager.getToken(m.auth,f));return st(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(f){return function(C){return Rr.apply(this,arguments)}(this,f)}reload(){return function(C){return ke.apply(this,arguments)}(this)}_assign(f){this!==f&&(st(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new Gn(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var S=this;return(0,_.Z)(function*(){let Z=!1;f.idToken&&f.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(f),Z=!0),m&&(yield pi(S)),yield S.auth._persistUserIfCurrent(S),Z&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var f=this;return(0,_.Z)(function*(){const m=yield f.getIdToken();return yield jr(f,function(C,f){return lt.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var S,Z,ie,Ue,yt,qt,ln,Kn;const er=null!==(S=m.displayName)&&void 0!==S?S:void 0,Es=null!==(Z=m.email)&&void 0!==Z?Z:void 0,qo=null!==(ie=m.phoneNumber)&&void 0!==ie?ie:void 0,Mt=null!==(Ue=m.photoURL)&&void 0!==Ue?Ue:void 0,Jl=null!==(yt=m.tenantId)&&void 0!==yt?yt:void 0,Go=null!==(qt=m._redirectEventId)&&void 0!==qt?qt:void 0,Ch=null!==(ln=m.createdAt)&&void 0!==ln?ln:void 0,Xl=null!==(Kn=m.lastLoginAt)&&void 0!==Kn?Kn:void 0,{uid:No,emailVerified:da,isAnonymous:Cl,providerData:hd,stsTokenManager:Pu}=m;st(No&&Pu,f,"internal-error");const tp=qn.fromJSON(this.name,Pu);st("string"==typeof No,f,"internal-error"),Er(er,f.name),Er(Es,f.name),st("boolean"==typeof da,f,"internal-error"),st("boolean"==typeof Cl,f,"internal-error"),Er(qo,f.name),Er(Mt,f.name),Er(Jl,f.name),Er(Go,f.name),Er(Ch,f.name),Er(Xl,f.name);const Ni=new Gn({uid:No,auth:f,email:Es,emailVerified:da,displayName:er,isAnonymous:Cl,photoURL:Mt,phoneNumber:qo,tenantId:Jl,stsTokenManager:tp,createdAt:Ch,lastLoginAt:Xl});return hd&&Array.isArray(hd)&&(Ni.providerData=hd.map(ku=>Object.assign({},ku))),Go&&(Ni._redirectEventId=Go),Ni}static _fromIdTokenResponse(f,m,S=!1){return(0,_.Z)(function*(){const Z=new qn;Z.updateFromServerResponse(m);const ie=new Gn({uid:m.localId,auth:f,stsTokenManager:Z,isAnonymous:S});return yield pi(ie),ie})()}}const Zn=(()=>{class C{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,S){var Z=this;return(0,_.Z)(function*(){Z.storage[m]=S})()}_get(m){var S=this;return(0,_.Z)(function*(){const Z=S.storage[m];return void 0===Z?null:Z})()}_remove(m){var S=this;return(0,_.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return C.type="NONE",C})();function Lr(C,f,m){return`firebase:${C}:${f}:${m}`}class Hr{constructor(f,m,S){this.persistence=f,this.auth=m,this.userKey=S;const{config:Z,name:ie}=this.auth;this.fullUserKey=Lr(this.userKey,Z.apiKey,ie),this.fullPersistenceKey=Lr("persistence",Z.apiKey,ie),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,_.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?Gn._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,_.Z)(function*(){if(m.persistence===f)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,S="authUser"){return(0,_.Z)(function*(){if(!m.length)return new Hr(Te(Zn),f,S);const Z=(yield Promise.all(m.map(function(){var ln=(0,_.Z)(function*(Kn){if(yield Kn._isAvailable())return Kn});return function(Kn){return ln.apply(this,arguments)}}()))).filter(ln=>ln);let ie=Z[0]||Te(Zn);const Ue=Lr(S,f.config.apiKey,f.name);let yt=null;for(const ln of m)try{const Kn=yield ln._get(Ue);if(Kn){const er=Gn._fromJSON(f,Kn);ln!==ie&&(yt=er),ie=ln;break}}catch(Kn){}const qt=Z.filter(ln=>ln._shouldAllowMigration);return ie._shouldAllowMigration&&qt.length?(ie=qt[0],yt&&(yield ie._set(Ue,yt.toJSON())),yield Promise.all(m.map(function(){var ln=(0,_.Z)(function*(Kn){if(Kn!==ie)try{yield Kn._remove(Ue)}catch(er){}});return function(Kn){return ln.apply(this,arguments)}}())),new Hr(ie,f,S)):new Hr(ie,f,S)})()}}function ji(C){const f=C.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Yi(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(Cn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(br(f))return"Blackberry";if(Rn(f))return"Webos";if(gi(f))return"Safari";if((f.includes("chrome/")||Ai(f))&&!f.includes("edge/"))return"Chrome";if(ns(f))return"Android";{const S=C.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function Cn(C=(0,ee.z$)()){return/firefox\//i.test(C)}function gi(C=(0,ee.z$)()){const f=C.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ai(C=(0,ee.z$)()){return/crios\//i.test(C)}function Yi(C=(0,ee.z$)()){return/iemobile/i.test(C)}function ns(C=(0,ee.z$)()){return/android/i.test(C)}function br(C=(0,ee.z$)()){return/blackberry/i.test(C)}function Rn(C=(0,ee.z$)()){return/webos/i.test(C)}function an(C=(0,ee.z$)()){return/iphone|ipad|ipod/i.test(C)}function Ut(C=(0,ee.z$)()){return an(C)||ns(C)||Rn(C)||br(C)||/windows phone/i.test(C)||Yi(C)}function lr(C,f=[]){let m;switch(C){case"Browser":m=ji((0,ee.z$)());break;case"Worker":m=`${ji((0,ee.z$)())}-${C}`;break;default:m=C}const S=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ve.SDK_VERSION}/${S}`}class $r{constructor(f,m){this.app=f,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pr(this),this.idTokenSubscription=new pr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(f,m){var S=this;return m&&(this._popupRedirectResolver=Te(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var Z;S._deleted||(S.persistenceManager=yield Hr.create(S,f),!S._deleted&&((null===(Z=S._popupRedirectResolver)||void 0===Z?void 0:Z._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(m),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,_.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m)}})()}initializeCurrentUser(f){var m=this;return(0,_.Z)(function*(){var S;let Z=yield m.assertedPersistence.getCurrentUser();if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ie=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,Ue=null==Z?void 0:Z._redirectEventId,yt=yield m.tryRedirectSignIn(f);(!ie||ie===Ue)&&(null==yt?void 0:yt.user)&&(Z=yt.user)}return Z?Z._redirectEventId?(st(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===Z._redirectEventId?m.directlySetCurrentUser(Z):m.reloadAndSetCurrentUserOrClear(Z)):m.reloadAndSetCurrentUserOrClear(Z):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var m=this;return(0,_.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch(Z){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,_.Z)(function*(){try{yield pi(f)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const C=navigator;return C.languages&&C.languages[0]||C.language||null}()}_delete(){var f=this;return(0,_.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,_.Z)(function*(){const S=f?(0,ee.m9)(f):null;return S&&st(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(f){var m=this;return(0,_.Z)(function*(){if(!m._deleted)return f&&st(m.tenantId===f.tenantId,m,"tenant-id-mismatch"),m.queue((0,_.Z)(function*(){yield m.directlySetCurrentUser(f),m.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,_.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Te(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new ee.LL("auth","Firebase",f())}onAuthStateChanged(f,m,S){return this.registerStateListener(this.authStateSubscription,f,m,S)}onIdTokenChanged(f,m,S){return this.registerStateListener(this.idTokenSubscription,f,m,S)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var S=this;return(0,_.Z)(function*(){const Z=yield S.getOrInitRedirectPersistenceManager(m);return null===f?Z.removeCurrentUser():Z.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const S=f&&Te(f)||m._popupRedirectResolver;st(S,m,"argument-error"),m.redirectPersistenceManager=yield Hr.create(m,[Te(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,_.Z)(function*(){var S,Z;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===f?m._currentUser:(null===(Z=m.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,_.Z)(function*(){if(f===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,S,Z){if(this._deleted)return()=>{};const ie="function"==typeof m?m:m.next.bind(m),Ue=this._isInitialized?Promise.resolve():this._initializationPromise;return st(Ue,this,"internal-error"),Ue.then(()=>ie(this.currentUser)),"function"==typeof m?f.addObserver(m,S,Z):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==f&&(m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh()),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Qn(C){return(0,ee.m9)(C)}class pr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,ee.ne)(m=>this.observer=m)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function En(C){const f=C.indexOf(":");return f<0?"":C.substr(0,f+1)}function Sr(C){if(!C)return null;const f=Number(C);return isNaN(f)?null:f}class je{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return Le("not implemented")}_getIdTokenResponse(f){return Le("not implemented")}_linkToIdToken(f,m){return Le("not implemented")}_getReauthenticationResolver(f){return Le("not implemented")}}function Pe(C,f){return ge.apply(this,arguments)}function ge(){return(ge=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:resetPassword",Ge(C,f))})).apply(this,arguments)}function Ye(C,f){return vt.apply(this,arguments)}function vt(){return(vt=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cn(C,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:update",Ge(C,f))})).apply(this,arguments)}function Un(){return(Un=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithPassword",Ge(C,f))})).apply(this,arguments)}function qr(C,f){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:sendOobCode",Ge(C,f))})).apply(this,arguments)}function mi(C,f){return ti.apply(this,arguments)}function ti(){return(ti=(0,_.Z)(function*(C,f){return qr(C,f)})).apply(this,arguments)}function Mi(C,f){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,_.Z)(function*(C,f){return qr(C,f)})).apply(this,arguments)}function gn(C,f){return xr.apply(this,arguments)}function xr(){return(xr=(0,_.Z)(function*(C,f){return qr(C,f)})).apply(this,arguments)}function Ws(C,f){return Si.apply(this,arguments)}function Si(){return(Si=(0,_.Z)(function*(C,f){return qr(C,f)})).apply(this,arguments)}function yi(){return(yi=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithEmailLink",Ge(C,f))})).apply(this,arguments)}function ci(){return(ci=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithEmailLink",Ge(C,f))})).apply(this,arguments)}class Vr extends je{constructor(f,m,S,Z=null){super("password",S),this._email=f,this._password=m,this._tenantId=Z}static _fromEmailAndPassword(f,m){return new Vr(f,m,"password")}static _fromEmailAndCode(f,m,S=null){return new Vr(f,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,_.Z)(function*(){switch(m.signInMethod){case"password":return function(C,f){return Un.apply(this,arguments)}(f,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(C,f){return yi.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:ct(f,"internal-error")}})()}_linkToIdToken(f,m){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return Ye(f,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(C,f){return ci.apply(this,arguments)}(f,{idToken:m,email:S._email,oobCode:S._password});default:ct(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Ir(C,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithIdp",Ge(C,f))})).apply(this,arguments)}class di extends je{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new di(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):ct("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:Z}=m,ie=(0,Ne._T)(m,["providerId","signInMethod"]);if(!S||!Z)return null;const Ue=new di(S,Z);return Ue.idToken=ie.idToken||void 0,Ue.accessToken=ie.accessToken||void 0,Ue.secret=ie.secret,Ue.nonce=ie.nonce,Ue.pendingToken=ie.pendingToken||null,Ue}_getIdTokenResponse(f){return Ir(f,this.buildRequest())}_linkToIdToken(f,m){const S=this.buildRequest();return S.idToken=m,Ir(f,S)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ir(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,ee.xO)(m)}return f}}function Qi(C,f){return xi.apply(this,arguments)}function xi(){return(xi=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:sendVerificationCode",Ge(C,f))})).apply(this,arguments)}function Ts(){return(Ts=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ge(C,f))})).apply(this,arguments)}function Us(){return(Us=(0,_.Z)(function*(C,f){const m=yield bn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ge(C,f));if(m.temporaryProof)throw Be(C,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ki={USER_NOT_FOUND:"user-not-found"};function Is(){return(Is=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithPhoneNumber",Ge(C,Object.assign(Object.assign({},f),{operation:"REAUTH"})),ki)})).apply(this,arguments)}class $i extends je{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new $i({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new $i({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function(C,f){return Ts.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function(C,f){return Us.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(C,f){return Is.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:S,verificationCode:Z}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:S,code:Z}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:S,phoneNumber:Z,temporaryProof:ie}=f;return S||m||Z||ie?new $i({verificationId:m,verificationCode:S,phoneNumber:Z,temporaryProof:ie}):null}}class oi{constructor(f){var m,S,Z,ie,Ue,yt;const qt=(0,ee.zd)((0,ee.pd)(f)),ln=null!==(m=qt.apiKey)&&void 0!==m?m:null,Kn=null!==(S=qt.oobCode)&&void 0!==S?S:null,er=function(C){switch(C){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=qt.mode)&&void 0!==Z?Z:null);st(ln&&Kn&&er,"argument-error"),this.apiKey=ln,this.operation=er,this.code=Kn,this.continueUrl=null!==(ie=qt.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Ue=qt.languageCode)&&void 0!==Ue?Ue:null,this.tenantId=null!==(yt=qt.tenantId)&&void 0!==yt?yt:null}static parseLink(f){const m=function(C){const f=(0,ee.zd)((0,ee.pd)(C)).link,m=f?(0,ee.zd)((0,ee.pd)(f)).deep_link_id:null,S=(0,ee.zd)((0,ee.pd)(C)).deep_link_id;return(S?(0,ee.zd)((0,ee.pd)(S)).link:null)||S||m||f||C}(f);try{return new oi(m)}catch(S){return null}}}let fs=(()=>{class C{constructor(){this.providerId=C.PROVIDER_ID}static credential(m,S){return Vr._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const Z=oi.parseLink(S);return st(Z,"argument-error"),Vr._fromEmailAndCode(m,Z.code,Z.tenantId)}}return C.PROVIDER_ID="password",C.EMAIL_PASSWORD_SIGN_IN_METHOD="password",C.EMAIL_LINK_SIGN_IN_METHOD="emailLink",C})();class _i{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class qi extends _i{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class fi extends qi{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return st("providerId"in m&&"signInMethod"in m,"argument-error"),di._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return st(f.idToken||f.accessToken,"argument-error"),di._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return fi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return fi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:Z,pendingToken:ie,nonce:Ue,providerId:yt}=f;if(!S&&!Z&&!m&&!ie||!yt)return null;try{return new fi(yt)._credential({idToken:m,accessToken:S,nonce:Ue,pendingToken:ie})}catch(qt){return null}}}let Ys=(()=>{class C extends qi{constructor(){super("facebook.com")}static credential(m){return di._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.FACEBOOK_SIGN_IN_METHOD="facebook.com",C.PROVIDER_ID="facebook.com",C})(),Fi=(()=>{class C extends qi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return di._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:Z}=m;if(!S&&!Z)return null;try{return C.credential(S,Z)}catch(ie){return null}}}return C.GOOGLE_SIGN_IN_METHOD="google.com",C.PROVIDER_ID="google.com",C})(),js=(()=>{class C extends qi{constructor(){super("github.com")}static credential(m){return di._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return C.credential(m.oauthAccessToken)}catch(S){return null}}}return C.GITHUB_SIGN_IN_METHOD="github.com",C.PROVIDER_ID="github.com",C})();class Gi extends je{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return Ir(f,this.buildRequest())}_linkToIdToken(f,m){const S=this.buildRequest();return S.idToken=m,Ir(f,S)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,Ir(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:S,signInMethod:Z,pendingToken:ie}=m;return S&&Z&&ie&&S===Z?new Gi(S,ie):null}static _create(f,m){return new Gi(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let rs=(()=>{class C extends qi{constructor(){super("twitter.com")}static credential(m,S){return di._fromParams({providerId:C.PROVIDER_ID,signInMethod:C.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:Z}=m;if(!S||!Z)return null;try{return C.credential(S,Z)}catch(ie){return null}}}return C.TWITTER_SIGN_IN_METHOD="twitter.com",C.PROVIDER_ID="twitter.com",C})();function is(C,f){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signUp",Ge(C,f))})).apply(this,arguments)}class Pr{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,S,Z=!1){return(0,_.Z)(function*(){const ie=yield Gn._fromIdTokenResponse(f,S,Z),Ue=As(S);return new Pr({user:ie,providerId:Ue,_tokenResponse:S,operationType:m})})()}static _forOperation(f,m,S){return(0,_.Z)(function*(){yield f._updateTokensIfNecessary(S,!0);const Z=As(S);return new Pr({user:f,providerId:Z,_tokenResponse:S,operationType:m})})()}}function As(C){return C.providerId?C.providerId:"phoneNumber"in C?"phone":null}function Ji(){return(Ji=(0,_.Z)(function*(C){var f;const m=Qn(C);if(yield m._initializationPromise,null===(f=m.currentUser)||void 0===f?void 0:f.isAnonymous)return new Pr({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield is(m,{returnSecureToken:!0}),Z=yield Pr._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class ps extends ee.ZR{constructor(f,m,S,Z){var ie;super(m.code,m.message),this.operationType=S,this.user=Z,this.name="FirebaseError",Object.setPrototypeOf(this,ps.prototype),this.appName=f.name,this.code=m.code,this.tenantId=null!==(ie=f.tenantId)&&void 0!==ie?ie:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(f,m,S,Z){return new ps(f,m,S,Z)}}function gs(C,f,m,S){return("reauthenticate"===f?m._getReauthenticationResolver(C):m._getIdTokenResponse(C)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?ps._fromErrorAndOperation(C,ie,f,S):ie})}function Qs(C){return new Set(C.map(({providerId:f})=>f).filter(f=>!!f))}function ms(){return(ms=(0,_.Z)(function*(C,f){const m=(0,ee.m9)(C);yield H(!0,m,f);const{providerUserInfo:S}=yield rn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),Z=Qs(S||[]);return m.providerData=m.providerData.filter(ie=>Z.has(ie.providerId)),Z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function U(C,f){return X.apply(this,arguments)}function X(){return(X=(0,_.Z)(function*(C,f,m=!1){const S=yield jr(C,f._linkToIdToken(C.auth,yield C.getIdToken()),m);return Pr._forOperation(C,"link",S)})).apply(this,arguments)}function H(C,f,m){return re.apply(this,arguments)}function re(){return(re=(0,_.Z)(function*(C,f,m){yield pi(f);const Z=!1===C?"provider-already-linked":"no-such-provider";st(Qs(f.providerData).has(m)===C,f.auth,Z)})).apply(this,arguments)}function we(C,f){return it.apply(this,arguments)}function it(){return(it=(0,_.Z)(function*(C,f,m=!1){const{auth:S}=C,Z="reauthenticate";try{const ie=yield jr(C,gs(S,Z,f,C),m);st(ie.idToken,S,"internal-error");const Ue=kt(ie.idToken);st(Ue,S,"internal-error");const{sub:yt}=Ue;return st(C.uid===yt,S,"user-mismatch"),Pr._forOperation(C,Z,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&ct(S,"user-mismatch"),ie}})).apply(this,arguments)}function Dt(C,f){return V.apply(this,arguments)}function V(){return(V=(0,_.Z)(function*(C,f,m=!1){const S="signIn",Z=yield gs(C,S,f),ie=yield Pr._fromIdTokenResponse(C,S,Z);return m||(yield C._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function P(C,f){return R.apply(this,arguments)}function R(){return(R=(0,_.Z)(function*(C,f){return Dt(Qn(C),f)})).apply(this,arguments)}function J(C,f){return We.apply(this,arguments)}function We(){return(We=(0,_.Z)(function*(C,f){const m=(0,ee.m9)(C);return yield H(!1,m,f.providerId),U(m,f)})).apply(this,arguments)}function Pt(C,f){return An.apply(this,arguments)}function An(){return(An=(0,_.Z)(function*(C,f){return we((0,ee.m9)(C),f)})).apply(this,arguments)}function sr(C,f){return vi.apply(this,arguments)}function vi(){return(vi=(0,_.Z)(function*(C,f){return bn(C,"POST","/v1/accounts:signInWithCustomToken",Ge(C,f))})).apply(this,arguments)}function Yr(){return(Yr=(0,_.Z)(function*(C,f){const m=Qn(C),S=yield sr(m,{token:f,returnSecureToken:!0}),Z=yield Pr._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Li{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?Tn._fromServerResponse(f,m):ct(f,"internal-error")}}class Tn extends Li{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new Tn(m)}}function Js(C,f,m){var S;st((null===(S=m.url)||void 0===S?void 0:S.length)>0,C,"invalid-continue-uri"),st(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,C,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(st(m.iOS.bundleId.length>0,C,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(st(m.android.packageName.length>0,C,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function ys(){return(ys=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C),Z={requestType:"PASSWORD_RESET",email:f};m&&Js(S,Z,m),yield Mi(S,Z)})).apply(this,arguments)}function ai(){return(ai=(0,_.Z)(function*(C,f,m){yield Pe((0,ee.m9)(C),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Hs(){return(Hs=(0,_.Z)(function*(C,f){yield cn((0,ee.m9)(C),{oobCode:f})})).apply(this,arguments)}function At(C,f){return hr.apply(this,arguments)}function hr(){return(hr=(0,_.Z)(function*(C,f){const m=(0,ee.m9)(C),S=yield Pe(m,{oobCode:f}),Z=S.requestType;switch(st(Z,m,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(S.mfaInfo,m,"internal-error");default:st(S.email,m,"internal-error")}let ie=null;return S.mfaInfo&&(ie=Li._fromServerResponse(Qn(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ie},operation:Z}})).apply(this,arguments)}function ni(){return(ni=(0,_.Z)(function*(C,f){const{data:m}=yield At((0,ee.m9)(C),f);return m.email})).apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(C,f,m){const S=Qn(C),Z=yield is(S,{returnSecureToken:!0,email:f,password:m}),ie=yield Pr._fromIdTokenResponse(S,"signIn",Z);return yield S._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function So(){return(So=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C),Z={requestType:"EMAIL_SIGNIN",email:f};st(m.handleCodeInApp,S,"argument-error"),m&&Js(S,Z,m),yield gn(S,Z)})).apply(this,arguments)}function vo(){return(vo=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C),Z=fs.credentialWithLink(f,m||Et());return st(Z._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),P(S,Z)})).apply(this,arguments)}function xo(C,f){return wi.apply(this,arguments)}function wi(){return(wi=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:createAuthUri",Ge(C,f))})).apply(this,arguments)}function ho(){return(ho=(0,_.Z)(function*(C,f){const S={identifier:f,continueUri:Ft()?Et():"http://localhost"},{signinMethods:Z}=yield xo((0,ee.m9)(C),S);return Z||[]})).apply(this,arguments)}function zi(){return(zi=(0,_.Z)(function*(C,f){const m=(0,ee.m9)(C),Z={requestType:"VERIFY_EMAIL",idToken:yield C.getIdToken()};f&&Js(m.auth,Z,f);const{email:ie}=yield mi(m.auth,Z);ie!==C.email&&(yield C.reload())})).apply(this,arguments)}function xs(){return(xs=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield C.getIdToken(),newEmail:f};m&&Js(S.auth,ie,m);const{email:Ue}=yield Ws(S.auth,ie);Ue!==C.email&&(yield C.reload())})).apply(this,arguments)}function $s(C,f){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,_.Z)(function*(C,f){return Tt(C,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function B(){return(B=(0,_.Z)(function*(C,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const S=(0,ee.m9)(C),ie={idToken:yield S.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},Ue=yield jr(S,$s(S.auth,ie));S.displayName=Ue.displayName||null,S.photoURL=Ue.photoUrl||null;const yt=S.providerData.find(({providerId:qt})=>"password"===qt);yt&&(yt.displayName=S.displayName,yt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Ue)})).apply(this,arguments)}function Oe(C,f,m){return at.apply(this,arguments)}function at(){return(at=(0,_.Z)(function*(C,f,m){const{auth:S}=C,ie={idToken:yield C.getIdToken(),returnSecureToken:!0};f&&(ie.email=f),m&&(ie.password=m);const Ue=yield jr(C,Ye(S,ie));yield C._updateTokensIfNecessary(Ue,!0)})).apply(this,arguments)}class en{constructor(f,m,S={}){this.isNewUser=f,this.providerId=m,this.profile=S}}class zt extends en{constructor(f,m,S,Z){super(f,m,S),this.username=Z}}class fn extends en{constructor(f,m){super(f,"facebook.com",m)}}class $n extends zt{constructor(f,m){super(f,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Wn extends en{constructor(f,m){super(f,"google.com",m)}}class Nr extends zt{constructor(f,m,S){super(f,"twitter.com",m,S)}}function Qr(C){const{user:f,_tokenResponse:m}=C;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(C){var f,m;if(!C)return null;const{providerId:S}=C,Z=C.rawUserInfo?JSON.parse(C.rawUserInfo):{},ie=C.isNewUser||"identitytoolkit#SignupNewUserResponse"===C.kind;if(!S&&(null==C?void 0:C.idToken)){const Ue=null===(m=null===(f=kt(C.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ue)return new en(ie,"anonymous"!==Ue&&"custom"!==Ue?Ue:null)}if(!S)return null;switch(S){case"facebook.com":return new fn(ie,Z);case"github.com":return new $n(ie,Z);case"google.com":return new Wn(ie,Z);case"twitter.com":return new Nr(ie,Z,C.screenName||null);case"custom":case"anonymous":return new en(ie,null);default:return new en(ie,S,Z)}}(m)}class Ci{constructor(f,m){this.type=f,this.credential=m}static _fromIdtoken(f){return new Ci("enroll",f)}static _fromMfaPendingCredential(f){return new Ci("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,S;if(null==f?void 0:f.multiFactorSession){if(null===(m=f.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Ci._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(S=f.multiFactorSession)||void 0===S?void 0:S.idToken)return Ci._fromIdtoken(f.multiFactorSession.idToken)}return null}}class to{constructor(f,m,S){this.session=f,this.hints=m,this.signInResolver=S}static _fromError(f,m){const S=Qn(f),Z=(m.serverResponse.mfaInfo||[]).map(Ue=>Li._fromServerResponse(S,Ue));st(m.serverResponse.mfaPendingCredential,S,"internal-error");const ie=Ci._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new to(ie,Z,function(){var Ue=(0,_.Z)(function*(yt){const qt=yield yt._process(S,ie);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const ln=Object.assign(Object.assign({},m.serverResponse),{idToken:qt.idToken,refreshToken:qt.refreshToken});switch(m.operationType){case"signIn":const Kn=yield Pr._fromIdTokenResponse(S,m.operationType,ln);return yield S._updateCurrentUser(Kn.user),Kn;case"reauthenticate":return st(m.user,S,"internal-error"),Pr._forOperation(m.user,m.operationType,ln);default:ct(S,"internal-error")}});return function(yt){return Ue.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,_.Z)(function*(){return m.signInResolver(f)})()}}function wo(C,f){return Tt(C,"POST","/v2/accounts/mfaEnrollment:start",Ge(C,f))}class Lo{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>Li._fromServerResponse(f.auth,S)))})}static _fromUser(f){return new Lo(f)}getSession(){var f=this;return(0,_.Z)(function*(){return Ci._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,m){var S=this;return(0,_.Z)(function*(){const Z=f,ie=yield S.getSession(),Ue=yield jr(S.user,Z._process(S.user.auth,ie,m));return yield S.user._updateTokensIfNecessary(Ue),S.user.reload()})()}unenroll(f){var m=this;return(0,_.Z)(function*(){const S="string"==typeof f?f:f.uid,Z=yield m.user.getIdToken(),ie=yield jr(m.user,function(C,f){return Tt(C,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(C,f))}(m.user.auth,{idToken:Z,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Ue})=>Ue!==S),yield m.user._updateTokensIfNecessary(ie);try{yield m.user.reload()}catch(Ue){if("auth/user-token-expired"!==Ue.code)throw Ue}})()}}const qs=new WeakMap,fo="__sak";class Rs{constructor(f,m){this.storage=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}}const Nt=(()=>{class C extends Rs{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(m,S)=>this.onStorageEvent(m,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const C=(0,ee.z$)();return gi(C)||an(C)}()&&function(){try{return!(!window||window===window.top)}catch(C){return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const Z=this.storage.getItem(S),ie=this.localCache[S];Z!==ie&&m(S,ie,Z)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((yt,qt,ln)=>{this.notifyListeners(yt,ln)});const Z=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const yt=this.storage.getItem(Z);if(m.newValue!==yt)null!==m.newValue?this.storage.setItem(Z,m.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===m.newValue&&!S)return}const ie=()=>{const yt=this.storage.getItem(Z);!S&&this.localCache[Z]===yt||this.notifyListeners(Z,yt)},Ue=this.storage.getItem(Z);(0,ee.w1)()&&10===document.documentMode&&Ue!==m.newValue&&m.newValue!==m.oldValue?setTimeout(ie,10):ie()}notifyListeners(m,S){this.localCache[m]=S;const Z=this.listeners[m];if(Z)for(const ie of Array.from(Z))ie(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var Z=()=>super._set,ie=this;return(0,_.Z)(function*(){yield Z().call(ie,m,S),ie.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,Z=this;return(0,_.Z)(function*(){const ie=yield S().call(Z,m);return Z.localCache[m]=JSON.stringify(ie),ie})()}_remove(m){var S=()=>super._remove,Z=this;return(0,_.Z)(function*(){yield S().call(Z,m),delete Z.localCache[m]})()}}return C.type="LOCAL",C})(),rr=(()=>{class C extends Rs{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return C.type="SESSION",C})();let b=(()=>{class C{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(ie=>ie.isListeningto(m));if(S)return S;const Z=new C(m);return this.receivers.push(Z),Z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,_.Z)(function*(){const Z=m,{eventId:ie,eventType:Ue,data:yt}=Z.data,qt=S.handlersMap[Ue];if(!(null==qt?void 0:qt.size))return;Z.ports[0].postMessage({status:"ack",eventId:ie,eventType:Ue});const ln=Array.from(qt).map(function(){var er=(0,_.Z)(function*(Es){return Es(Z.origin,yt)});return function(Es){return er.apply(this,arguments)}}()),Kn=yield function(C){return Promise.all(C.map(function(){var f=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return f.apply(this,arguments)}}()))}(ln);Z.ports[0].postMessage({status:"done",eventId:ie,eventType:Ue,response:Kn})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return C.receivers=[],C})();function w(C="",f=10){let m="";for(let S=0;S<f;S++)m+=Math.floor(10*Math.random());return C+m}class N{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,S=50){var Z=this;return(0,_.Z)(function*(){const ie="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Ue,yt;return new Promise((qt,ln)=>{const Kn=w("",20);ie.port1.start();const er=setTimeout(()=>{ln(new Error("unsupported_event"))},S);yt={messageChannel:ie,onMessage(Es){const qo=Es;if(qo.data.eventId===Kn)switch(qo.data.status){case"ack":clearTimeout(er),Ue=setTimeout(()=>{ln(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ue),qt(qo.data.response);break;default:clearTimeout(er),clearTimeout(Ue),ln(new Error("invalid_response"))}}},Z.handlers.add(yt),ie.port1.addEventListener("message",yt.onMessage),Z.target.postMessage({eventType:f,eventId:Kn,data:m},[ie.port2])}).finally(()=>{yt&&Z.removeMessageHandler(yt)})})()}}function W(){return window}function _e(){return void 0!==W().WorkerGlobalScope&&"function"==typeof W().importScripts}function et(){return(et=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(C){return null}})).apply(this,arguments)}const vn="firebaseLocalStorageDb",fr="firebaseLocalStorage",Sn="fbase_key";class Ln{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function wr(C,f){return C.transaction([fr],f?"readwrite":"readonly").objectStore(fr)}function or(){const C=indexedDB.open(vn,1);return new Promise((f,m)=>{C.addEventListener("error",()=>{m(C.error)}),C.addEventListener("upgradeneeded",()=>{const S=C.result;try{S.createObjectStore(fr,{keyPath:Sn})}catch(Z){m(Z)}}),C.addEventListener("success",(0,_.Z)(function*(){const S=C.result;S.objectStoreNames.contains(fr)?f(S):(S.close(),yield function(){const C=indexedDB.deleteDatabase(vn);return new Ln(C).toPromise()}(),f(yield or()))}))})}function li(C,f,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,_.Z)(function*(C,f,m){const S=wr(C,!0).put({[Sn]:f,value:m});return new Ln(S).toPromise()})).apply(this,arguments)}function Dn(){return(Dn=(0,_.Z)(function*(C,f){const m=wr(C,!1).get(f),S=yield new Ln(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function as(C,f){const m=wr(C,!0).delete(f);return new Ln(m).toPromise()}const I=(()=>{class C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield or()),m.db})()}_withRetries(m){var S=this;return(0,_.Z)(function*(){let Z=0;for(;;)try{const ie=yield S._openDb();return yield m(ie)}catch(ie){if(Z++>3)throw ie;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return _e()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=b._getInstance(_e()?self:null),m.receiver._subscribe("keyChanged",function(){var S=(0,_.Z)(function*(Z,ie){return{keyProcessed:(yield m._poll()).includes(ie.key)}});return function(Z,ie){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,_.Z)(function*(Z,ie){return["keyChanged"]});return function(Z,ie){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var S,Z;if(m.activeServiceWorker=yield function(){return et.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new N(m.activeServiceWorker);const ie=yield m.sender._send("ping",{},800);!ie||(null===(S=ie[0])||void 0===S?void 0:S.fulfilled)&&(null===(Z=ie[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,_.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var C;return(null===(C=null==navigator?void 0:navigator.serviceWorker)||void 0===C?void 0:C.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(Z){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield or();return yield li(m,fo,"1"),yield as(m,fo),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,_.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var Z=this;return(0,_.Z)(function*(){return Z._withPendingWrite((0,_.Z)(function*(){return yield Z._withRetries(ie=>li(ie,m,S)),Z.localCache[m]=S,Z.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,_.Z)(function*(){const Z=yield S._withRetries(ie=>function(C,f){return Dn.apply(this,arguments)}(ie,m));return S.localCache[m]=Z,Z})()}_remove(m){var S=this;return(0,_.Z)(function*(){return S._withPendingWrite((0,_.Z)(function*(){return yield S._withRetries(Z=>as(Z,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const S=yield m._withRetries(Ue=>{const yt=wr(Ue,!1).getAll();return new Ln(yt).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const Z=[],ie=new Set;for(const{fbase_key:Ue,value:yt}of S)ie.add(Ue),JSON.stringify(m.localCache[Ue])!==JSON.stringify(yt)&&(m.notifyListeners(Ue,yt),Z.push(Ue));for(const Ue of Object.keys(m.localCache))m.localCache[Ue]&&!ie.has(Ue)&&(m.notifyListeners(Ue,null),Z.push(Ue));return Z})()}notifyListeners(m,S){this.localCache[m]=S;const Z=this.listeners[m];if(Z)for(const ie of Array.from(Z))ie(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return C.type="LOCAL",C})();function F(C,f){return Tt(C,"POST","/v2/accounts/mfaSignIn:start",Ge(C,f))}function be(){return(be=(0,_.Z)(function*(C){return(yield Tt(C,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xe(C){return new Promise((f,m)=>{const S=document.createElement("script");S.setAttribute("src",C),S.onload=f,S.onerror=Z=>{const ie=De("internal-error");ie.customData=Z,m(ie)},S.type="text/javascript",S.charset="UTF-8",function(){var C,f;return null!==(f=null===(C=document.getElementsByTagName("head"))||void 0===C?void 0:C[0])&&void 0!==f?f:document}().appendChild(S)})}function Ct(C){return`__${C}${Math.floor(1e6*Math.random())}`}const Jt=1e12;class Mn{constructor(f){this.auth=f,this.counter=Jt,this._widgets=new Map}render(f,m){const S=this.counter;return this._widgets.set(S,new Ui(f,this.auth.name,m||{})),this.counter++,S}reset(f){var m;const S=f||Jt;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(f){var m;return(null===(m=this._widgets.get(f||Jt))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,_.Z)(function*(){var S;return null===(S=m._widgets.get(f||Jt))||void 0===S||S.execute(),""})()}}class Ui{constructor(f,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof f?document.getElementById(f):f;st(Z,"argument-error",{appName:m}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(C){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}();const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xn=Ct("rcb"),Gs=new tn(3e4,6e4);class po{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!W().grecaptcha}load(f,m=""){return st((C=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(C),f,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(W().grecaptcha):new Promise((S,Z)=>{const ie=W().setTimeout(()=>{Z(De(f,"network-request-failed"))},Gs.get());W()[xn]=()=>{W().clearTimeout(ie),delete W()[xn];const yt=W().grecaptcha;if(!yt)return void Z(De(f,"internal-error"));const qt=yt.render;yt.render=(ln,Kn)=>{const er=qt(ln,Kn);return this.counter++,er},this.hostLanguage=m,S(yt)},Xe(`https://www.google.com/recaptcha/api.js??${(0,ee.xO)({onload:xn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ie),Z(De(f,"internal-error"))})});var C}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!W().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Mr{load(f){return(0,_.Z)(function*(){return new Mn(f)})()}clearedOneInstance(){}}const Wi="recaptcha",no={theme:"light",type:"image"};class il{constructor(f,m=Object.assign({},no),S){this.parameters=m,this.type=Wi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(S),this.isInvisible="invisible"===this.parameters.size,st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof f?document.getElementById(f):f;st(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Mr:new po,this.validateStartingState()}verify(){var f=this;return(0,_.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),S=f.getAssertedRecaptcha();return S.getResponse(m)||new Promise(ie=>{const Ue=yt=>{!yt||(f.tokenChangeListeners.delete(Ue),ie(yt))};f.tokenChangeListeners.add(Ue),f.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof f)f(m);else if("string"==typeof f){const S=W()[f];"function"==typeof S&&S(m)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,_.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,_.Z)(function*(){st(Ft()&&!_e(),f.auth,"internal-error"),yield function(){let C=null;return new Promise(f=>{"complete"!==document.readyState?(C=()=>f(),window.addEventListener("load",C)):f()}).catch(f=>{throw C&&window.removeEventListener("load",C),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function(C){return be.apply(this,arguments)}(f.auth);st(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ns{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=$i._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function xa(){return(xa=(0,_.Z)(function*(C,f,m){const S=Qn(C),Z=yield ol(S,f,(0,ee.m9)(m));return new Ns(Z,ie=>P(S,ie))})).apply(this,arguments)}function sl(){return(sl=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C);yield H(!1,S,"phone");const Z=yield ol(S.auth,f,(0,ee.m9)(m));return new Ns(Z,ie=>J(S,ie))})).apply(this,arguments)}function Zc(){return(Zc=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C),Z=yield ol(S.auth,f,(0,ee.m9)(m));return new Ns(Z,ie=>Pt(S,ie))})).apply(this,arguments)}function ol(C,f,m){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,_.Z)(function*(C,f,m){var S;const Z=yield m.verify();try{let ie;if(st("string"==typeof Z,C,"argument-error"),st(m.type===Wi,C,"argument-error"),ie="string"==typeof f?{phoneNumber:f}:f,"session"in ie){const Ue=ie.session;if("phoneNumber"in ie)return st("enroll"===Ue.type,C,"internal-error"),(yield wo(C,{idToken:Ue.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{st("signin"===Ue.type,C,"internal-error");const yt=(null===(S=ie.multiFactorHint)||void 0===S?void 0:S.uid)||ie.multiFactorUid;return st(yt,C,"missing-multi-factor-info"),(yield F(C,{mfaPendingCredential:Ue.credential,mfaEnrollmentId:yt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ue}=yield Qi(C,{phoneNumber:ie.phoneNumber,recaptchaToken:Z});return Ue}}finally{m._reset()}})).apply(this,arguments)}function ts(){return(ts=(0,_.Z)(function*(C,f){yield U((0,ee.m9)(C),f)})).apply(this,arguments)}let wn=(()=>{class C{constructor(m){this.providerId=C.PROVIDER_ID,this.auth=Qn(m)}verifyPhoneNumber(m,S){return ol(this.auth,m,(0,ee.m9)(S))}static credential(m,S){return $i._fromVerification(m,S)}static credentialFromResult(m){return C.credentialFromTaggedObject(m)}static credentialFromError(m){return C.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:Z}=m;return S&&Z?$i._fromTokenResponse(S,Z):null}}return C.PROVIDER_ID="phone",C.PHONE_SIGN_IN_METHOD="phone",C})();function mo(C,f){return f?Te(f):(st(C._popupRedirectResolver,C,"argument-error"),C._popupRedirectResolver)}class ra extends je{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Ir(f,this._buildIdpRequest())}_linkToIdToken(f,m){return Ir(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return Ir(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function mu(C){return Dt(C.auth,new ra(C),C.bypassAuthState)}function ro(C){const{auth:f,user:m}=C;return st(m,f,"internal-error"),we(m,new ra(C),C.bypassAuthState)}function ia(C){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,_.Z)(function*(C){const{auth:f,user:m}=C;return st(m,f,"internal-error"),U(m,new ra(C),C.bypassAuthState)})).apply(this,arguments)}class va{constructor(f,m,S,Z,ie=!1){this.auth=f,this.resolver=S,this.user=Z,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,_.Z)(function*(S,Z){f.pendingPromise={resolve:S,reject:Z};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ie){f.reject(ie)}});return function(S,Z){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,_.Z)(function*(){const{urlResponse:S,sessionId:Z,postBody:ie,tenantId:Ue,error:yt,type:qt}=f;if(yt)return void m.reject(yt);const ln={auth:m.auth,requestUri:S,sessionId:Z,tenantId:Ue||void 0,postBody:ie||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(qt)(ln))}catch(Kn){m.reject(Kn)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return mu;case"linkViaPopup":case"linkViaRedirect":return ia;case"reauthViaPopup":case"reauthViaRedirect":return ro;default:ct(this.auth,"internal-error")}}resolve(f){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){nt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sa=new tn(2e3,1e4);function yu(){return(yu=(0,_.Z)(function*(C,f,m){const S=Qn(C);$t(C,f,_i);const Z=mo(S,m);return new ii(S,"signInViaPopup",f,Z).executeNotNull()})).apply(this,arguments)}function Wc(){return(Wc=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C);$t(S.auth,f,_i);const Z=mo(S.auth,m);return new ii(S.auth,"reauthViaPopup",f,Z,S).executeNotNull()})).apply(this,arguments)}function ja(){return(ja=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C);$t(S.auth,f,_i);const Z=mo(S.auth,m);return new ii(S.auth,"linkViaPopup",f,Z,S).executeNotNull()})).apply(this,arguments)}let ii=(()=>{class C extends va{constructor(m,S,Z,ie,Ue){super(m,S,ie,Ue),this.provider=Z,this.authWindow=null,this.pollId=null,C.currentPopupAction&&C.currentPopupAction.cancel(),C.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const S=yield m.execute();return st(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,_.Z)(function*(){nt(1===m.filter.length,"Popup operations only handle one event");const S=w();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(Z=>{m.reject(Z)}),m.resolver._isIframeWebStorageSupported(m.auth,Z=>{Z||m.reject(De(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(De(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,C.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,Z;this.pollId=(null===(Z=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===Z?void 0:Z.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(De(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,sa.get())};m()}}return C.currentPopupAction=null,C})();const Jr=new Map;class im extends va{constructor(f,m,S=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,_.Z)(function*(){let S=Jr.get(m.auth._key());if(!S){try{const ie=(yield function(C,f){return al.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;S=()=>Promise.resolve(ie)}catch(Z){S=()=>Promise.reject(Z)}Jr.set(m.auth._key(),S)}return S()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,S=this;return(0,_.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(S,f);if("unknown"!==f.type){if(f.eventId){const Z=yield S.auth._redirectUserForId(f.eventId);if(Z)return S.user=Z,m().call(S,f);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function al(){return(al=(0,_.Z)(function*(C,f){const m=Ll(f),S="true"===(yield io(C)._get(m));return yield io(C)._remove(m),S})).apply(this,arguments)}function Qc(C,f){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,_.Z)(function*(C,f){return io(C)._set(Ll(f),"true")})).apply(this,arguments)}function io(C){return Te(C._redirectPersistence)}function Ll(C){return Lr("pendingRedirect",C.config.apiKey,C.name)}function oh(){return(oh=(0,_.Z)(function*(C,f,m){const S=Qn(C);$t(C,f,_i);const Z=mo(S,m);return yield Qc(Z,S),Z._openRedirect(S,f,"signInViaRedirect")})).apply(this,arguments)}function Ha(){return(Ha=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C);$t(S.auth,f,_i);const Z=mo(S.auth,m);yield Qc(Z,S.auth);const ie=yield qa(S);return Z._openRedirect(S.auth,f,"reauthViaRedirect",ie)})).apply(this,arguments)}function ll(){return(ll=(0,_.Z)(function*(C,f,m){const S=(0,ee.m9)(C);$t(S.auth,f,_i);const Z=mo(S.auth,m);yield H(!1,S,f.providerId),yield Qc(Z,S.auth);const ie=yield qa(S);return Z._openRedirect(S.auth,f,"linkViaRedirect",ie)})).apply(this,arguments)}function ul(){return(ul=(0,_.Z)(function*(C,f){return yield Qn(C)._initializationPromise,Bl(C,f,!1)})).apply(this,arguments)}function Bl(C,f){return $a.apply(this,arguments)}function $a(){return($a=(0,_.Z)(function*(C,f,m=!1){const S=Qn(C),Z=mo(S,f),Ue=yield new im(S,Z,m).execute();return Ue&&!m&&(delete Ue.user._redirectEventId,yield S._persistUserIfCurrent(Ue.user),yield S._setRedirectUser(null,f)),Ue})).apply(this,arguments)}function qa(C){return oa.apply(this,arguments)}function oa(){return(oa=(0,_.Z)(function*(C){const f=w(`${C.uid}:::`);return C._redirectEventId=f,yield C.auth._setRedirectUser(C),yield C.auth._persistUserIfCurrent(C),f})).apply(this,arguments)}class Ga{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(f,S)&&(m=!0,this.sendToConsumer(f,S),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(C){switch(C.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aa(C);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var S;if(f.error&&!aa(f)){const Z=(null===(S=f.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(De(this.auth,Z))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const S=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&S}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sc(f))}saveEventToCache(f){this.cachedEventUids.add(sc(f)),this.lastProcessedEventTime=Date.now()}}function sc(C){return[C.type,C.eventId,C.sessionId,C.tenantId].filter(f=>f).join("-")}function aa({type:C,error:f}){return"unknown"===C&&"auth/no-auth-event"===(null==f?void 0:f.code)}function oc(C){return jl.apply(this,arguments)}function jl(){return(jl=(0,_.Z)(function*(C,f={}){return Tt(C,"GET","/v1/projects",f)})).apply(this,arguments)}const dl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;function bo(){return(bo=(0,_.Z)(function*(C){if(C.config.emulator)return;const{authorizedDomains:f}=yield oc(C);for(const m of f)try{if(_u(m))return}catch(S){}ct(C,"unauthorized-domain")})).apply(this,arguments)}function _u(C){const f=Et(),{protocol:m,hostname:S}=new URL(f);if(C.startsWith("chrome-extension://")){const Ue=new URL(C);return""===Ue.hostname&&""===S?"chrome-extension:"===m&&C.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&Ue.hostname===S}if(!la.test(m))return!1;if(dl.test(C))return S===C;const Z=C.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(S)}const wa=new tn(3e4,6e4);function Hl(){const C=W().___jsl;if(null==C?void 0:C.H)for(const f of Object.keys(C.H))if(C.H[f].r=C.H[f].r||[],C.H[f].L=C.H[f].L||[],C.H[f].r=[...C.H[f].L],C.CP)for(let m=0;m<C.CP.length;m++)C.CP[m]=null}let $l=null;function vu(C){return $l=$l||function(C){return new Promise((f,m)=>{var S,Z,ie;function Ue(){Hl(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Hl(),m(De(C,"network-request-failed"))},timeout:wa.get()})}if(null===(Z=null===(S=W().gapi)||void 0===S?void 0:S.iframes)||void 0===Z?void 0:Z.Iframe)f(gapi.iframes.getContext());else{if(!(null===(ie=W().gapi)||void 0===ie?void 0:ie.load)){const yt=Ct("iframefcb");return W()[yt]=()=>{gapi.load?Ue():m(De(C,"network-request-failed"))},Xe(`https://apis.google.com/js/api.js?onload=${yt}`)}Ue()}}).catch(f=>{throw $l=null,f})}(C),$l}const td=new tn(5e3,15e3),ql={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},wu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lh(C){const f=C.config;st(f.authDomain,C,"auth-domain-config-required");const m=f.emulator?Pn(f,"emulator/auth/iframe"):`https://${C.config.authDomain}/__/auth/iframe`,S={apiKey:f.apiKey,appName:C.name,v:Ve.SDK_VERSION},Z=wu.get(C.config.apiHost);Z&&(S.eid=Z);const ie=C._getFrameworks();return ie.length&&(S.fw=ie.join(",")),`${m}?${(0,ee.xO)(S).slice(1)}`}function ba(){return(ba=(0,_.Z)(function*(C){const f=yield vu(C),m=W().gapi;return st(m,C,"internal-error"),f.open({where:document.body,url:lh(C),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ql,dontclear:!0},S=>new Promise(function(){var Z=(0,_.Z)(function*(ie,Ue){yield S.restyle({setHideOnLeave:!1});const yt=De(C,"network-request-failed"),qt=W().setTimeout(()=>{Ue(yt)},td.get());function ln(){W().clearTimeout(qt),ie(S)}S.ping(ln).then(ln,()=>{Ue(yt)})});return function(ie,Ue){return Z.apply(this,arguments)}}()))})).apply(this,arguments)}const uh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zl{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Eu(C,f,m,S,Z,ie){st(C.config.authDomain,C,"auth-domain-config-required"),st(C.config.apiKey,C,"invalid-api-key");const Ue={apiKey:C.config.apiKey,appName:C.name,authType:m,redirectUrl:S,v:Ve.SDK_VERSION,eventId:Z};if(f instanceof _i){f.setDefaultLanguage(C.languageCode),Ue.providerId=f.providerId||"",(0,ee.xb)(f.getCustomParameters())||(Ue.customParameters=JSON.stringify(f.getCustomParameters()));for(const[qt,ln]of Object.entries(ie||{}))Ue[qt]=ln}if(f instanceof qi){const qt=f.getScopes().filter(ln=>""!==ln);qt.length>0&&(Ue.scopes=qt.join(","))}C.tenantId&&(Ue.tid=C.tenantId);const yt=Ue;for(const qt of Object.keys(yt))void 0===yt[qt]&&delete yt[qt];return`${function({config:C}){return C.emulator?Pn(C,"emulator/auth/handler"):`https://${C.authDomain}/__/auth/handler`}(C)}?${(0,ee.xO)(yt).slice(1)}`}const Cu="webStorageSupport";class Ea extends class{constructor(f){this.factorId=f}_process(f,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,S);case"signin":return this._finalizeSignIn(f,m.credential);default:return Le("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Ea(f)}_finalizeEnroll(f,m,S){return function(C,f){return Tt(C,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(C,f))}(f,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function(C,f){return Tt(C,"POST","/v2/accounts/mfaSignIn:finalize",Ge(C,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Tu=(()=>{class C{constructor(){}static assertion(m){return Ea._fromCredential(m)}}return C.FACTOR_ID="phone",C})();var C;class fh{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(S=>{var Z;f((null===(Z=S)||void 0===Z?void 0:Z.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);!m||(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function za(){return window}function uc(){return(uc=(0,_.Z)(function*(C,f,m){var S;const{BuildInfo:Z}=za();nt(f.sessionId,"AuthEvent did not contain a session ID");const ie=yield Wf(f.sessionId),Ue={};return an()?Ue.ibi=Z.packageName:ns()?Ue.apn=Z.packageName:ct(C,"operation-not-supported-in-this-environment"),Z.displayName&&(Ue.appDisplayName=Z.displayName),Ue.sessionId=ie,Eu(C,m,f.type,void 0,null!==(S=f.eventId)&&void 0!==S?S:void 0,Ue)})).apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(C){const{BuildInfo:f}=za(),m={};an()?m.iosBundleId=f.packageName:ns()?m.androidPackageName=f.packageName:ct(C,"operation-not-supported-in-this-environment"),yield oc(C,m)})).apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(C,f,m){const{cordova:S}=za();let Z=()=>{};try{yield new Promise((ie,Ue)=>{let yt=null;function qt(){var er;ie();const Es=null===(er=S.plugins.browsertab)||void 0===er?void 0:er.close;"function"==typeof Es&&Es(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function ln(){yt||(yt=window.setTimeout(()=>{Ue(De(C,"redirect-cancelled-by-user"))},2e3))}function Kn(){"visible"===(null==document?void 0:document.visibilityState)&&ln()}f.addPassiveListener(qt),document.addEventListener("resume",ln,!1),ns()&&document.addEventListener("visibilitychange",Kn,!1),Z=()=>{f.removePassiveListener(qt),document.removeEventListener("resume",ln,!1),document.removeEventListener("visibilitychange",Kn,!1),yt&&window.clearTimeout(yt)}})}finally{Z()}})).apply(this,arguments)}function Wf(C){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,_.Z)(function*(C){const f=Kf(C),m=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(m)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Kf(C){if(nt(/[0-9a-zA-Z]+/.test(C),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(C);const f=new ArrayBuffer(C.length),m=new Uint8Array(f);for(let S=0;S<C.length;S++)m[S]=C.charCodeAt(S);return m}C="Browser",(0,Ve._registerComponent)(new $e.wA("auth",(f,{options:m})=>{const S=f.getProvider("app").getImmediate(),{apiKey:Z,authDomain:ie}=S.options;return(Ue=>{st(Z&&!Z.includes(":"),"invalid-api-key",{appName:Ue.name}),st(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Ue.name});const yt={apiKey:Z,authDomain:ie,clientPlatform:C,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lr(C)},qt=new $r(Ue,yt);return function(C,f){const m=(null==f?void 0:f.persistence)||[],S=(Array.isArray(m)?m:[m]).map(Te);(null==f?void 0:f.errorMap)&&C._updateErrorMap(f.errorMap),C._initializeWithPersistence(S,null==f?void 0:f.popupRedirectResolver)}(qt,m),qt})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,S)=>{f.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new $e.wA("auth-internal",f=>{const m=Qn(f.getProvider("auth").getImmediate());return new fh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/auth","0.18.2",void 0);class yh extends Ga{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(f)),super.onEvent(f)}initialized(){var f=this;return(0,_.Z)(function*(){yield f.initPromise})()}}function Xr(C){return cc.apply(this,arguments)}function cc(){return(cc=(0,_.Z)(function*(C){const f=yield Kl()._get(Su(C));return f&&(yield Kl()._remove(Su(C))),f})).apply(this,arguments)}function dc(){const C=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const S=Math.floor(Math.random()*f.length);C.push(f.charAt(S))}return C.join("")}function Kl(){return Te(Nt)}function Su(C){return Lr("authEvent",C.config.apiKey,C.name)}function yl(C){if(!(null==C?void 0:C.includes("?")))return{};const[f,...m]=C.split("?");return(0,ee.zd)(m.join("?"))}function _h(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:De("no-auth-event")}}function _l(){var C;return(null===(C=null==self?void 0:self.location)||void 0===C?void 0:C.protocol)||null}function Yl(C=(0,ee.z$)()){return!("file:"!==_l()&&"ionic:"!==_l()||!C.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ru(){try{const C=self.localStorage,f=w();if(C)return C.setItem(f,"1"),C.removeItem(f),!function(C=(0,ee.z$)()){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)||function(C=(0,ee.z$)()){return/Edge\/\d+/.test(C)}(C)}()||(0,ee.hl)()}catch(C){return Wa()&&(0,ee.hl)()}return!1}function Wa(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function pc(){return("http:"===_l()||"https:"===_l()||(0,ee.ru)()||Yl())&&!((0,ee.b$)()||(0,ee.UG)())&&Ru()&&!Wa()}function ad(){return Yl()&&"undefined"!=typeof document}function ld(){return(ld=(0,_.Z)(function*(){return!!ad()&&new Promise(C=>{const f=setTimeout(()=>{C(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),C(!0)})})})).apply(this,arguments)}const jo={LOCAL:"local",NONE:"none",SESSION:"session"},vl=st,bh="persistence";function Zs(C){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,_.Z)(function*(C){yield C._initializationPromise;const f=cd(),m=Lr(bh,C.config.apiKey,C.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(m,C._getPersistence())})).apply(this,arguments)}function cd(){return"undefined"!=typeof window?window:null}const oo=st;class Ho{constructor(){this.browserResolver=Te(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rr,this._completeRedirectFn=Bl}_openPopup(f,m,S,Z){var ie=this;return(0,_.Z)(function*(){var Ue;nt(null===(Ue=ie.eventManagers[f._key()])||void 0===Ue?void 0:Ue.manager,"_initialize() not called before _openPopup()");const yt=Eu(f,m,S,Et(),Z);return function(C,f,m,S=500,Z=600){const ie=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ue=Math.max((window.screen.availWidth-S)/2,0).toString();let yt="";const qt=Object.assign(Object.assign({},uh),{width:S.toString(),height:Z.toString(),top:ie,left:Ue}),ln=(0,ee.z$)().toLowerCase();m&&(yt=Ai(ln)?"_blank":m),Cn(ln)&&(f=f||"http://localhost",qt.scrollbars="yes");const Kn=Object.entries(qt).reduce((Es,[qo,Mt])=>`${Es}${qo}=${Mt},`,"");if(function(C=(0,ee.z$)()){var f;return an(C)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(ln)&&"_self"!==yt)return function(C,f){const m=document.createElement("a");m.href=C,m.target=f;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(f||"",yt),new zl(null);const er=window.open(f||"",yt,Kn);st(er,C,"popup-blocked");try{er.focus()}catch(Es){}return new zl(er)}(f,yt,w())})()}_openRedirect(f,m,S,Z){var ie=this;return(0,_.Z)(function*(){return yield ie._originValidation(f),C=Eu(f,m,S,Et(),Z),W().location.href=C,new Promise(()=>{});var C})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:Z,promise:ie}=this.eventManagers[m];return Z?Promise.resolve(Z):(nt(ie,"If manager is not set, promise should be"),ie)}const S=this.initAndGetManager(f);return this.eventManagers[m]={promise:S},S}initAndGetManager(f){var m=this;return(0,_.Z)(function*(){const S=yield function(C){return ba.apply(this,arguments)}(f),Z=new Ga(f);return S.register("authEvent",ie=>(st(null==ie?void 0:ie.authEvent,f,"invalid-auth-event"),{status:Z.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:Z},m.iframes[f._key()]=S,Z})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Cu,{type:Cu},Z=>{var ie;const Ue=null===(ie=null==Z?void 0:Z[0])||void 0===ie?void 0:ie[Cu];void 0!==Ue&&m(!!Ue),ct(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return bo.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ut()||gi()||an()}}),this.cordovaResolver=Te(class{constructor(){this._redirectPersistence=rr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bl}_initialize(f){var m=this;return(0,_.Z)(function*(){const S=f._key();let Z=m.eventManagers.get(S);return Z||(Z=new yh(f),m.eventManagers.set(S,Z),m.attachCallbackListeners(f,Z)),Z})()}_openPopup(f){ct(f,"operation-not-supported-in-this-environment")}_openRedirect(f,m,S,Z){var ie=this;return(0,_.Z)(function*(){!function(C){var f,m,S,Z,ie,Ue,yt,qt,ln,Kn;const er=za();st("function"==typeof(null===(f=null==er?void 0:er.universalLinks)||void 0===f?void 0:f.subscribe),C,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),st(void 0!==(null===(m=null==er?void 0:er.BuildInfo)||void 0===m?void 0:m.packageName),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),st("function"==typeof(null===(ie=null===(Z=null===(S=null==er?void 0:er.cordova)||void 0===S?void 0:S.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===ie?void 0:ie.openUrl),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st("function"==typeof(null===(qt=null===(yt=null===(Ue=null==er?void 0:er.cordova)||void 0===Ue?void 0:Ue.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===qt?void 0:qt.isAvailable),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st("function"==typeof(null===(Kn=null===(ln=null==er?void 0:er.cordova)||void 0===ln?void 0:ln.InAppBrowser)||void 0===Kn?void 0:Kn.open),C,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Ue=yield ie._initialize(f);yield Ue.initialized(),Ue.resetRedirect(),Jr.clear(),yield ie._originValidation(f);const yt=function(C,f,m=null){return{type:f,eventId:m,urlResponse:null,sessionId:dc(),postBody:null,tenantId:C.tenantId,error:De(C,"no-auth-event")}}(f,S,Z);yield function(C,f){return Kl()._set(Su(C),f)}(f,yt);const qt=yield function(C,f,m){return uc.apply(this,arguments)}(f,yt,m),ln=yield function(C){const{cordova:f}=za();return new Promise(m=>{f.plugins.browsertab.isAvailable(S=>{let Z=null;S?f.plugins.browsertab.openUrl(C):Z=f.InAppBrowser.open(C,function(C=(0,ee.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(C)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(C)}()?"_blank":"_system","location=yes"),m(Z)})})}(qt);return function(C,f,m){return Bi.apply(this,arguments)}(f,Ue,ln)})()}_isIframeWebStorageSupported(f,m){throw new Error("Method not implemented.")}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(C){return cs.apply(this,arguments)}(f)),this.originValidationPromises[m]}attachCallbackListeners(f,m){const{universalLinks:S,handleOpenURL:Z,BuildInfo:ie}=za(),Ue=setTimeout((0,_.Z)(function*(){yield Xr(f),m.onEvent(_h())}),500),yt=function(){var Kn=(0,_.Z)(function*(er){clearTimeout(Ue);const Es=yield Xr(f);let qo=null;Es&&(null==er?void 0:er.url)&&(qo=function(C,f){var m,S;const Z=function(C){const f=yl(C),m=f.link?decodeURIComponent(f.link):void 0,S=yl(m).link,Z=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return yl(Z).link||Z||S||m||C}(f);if(Z.includes("/__/auth/callback")){const ie=yl(Z),Ue=ie.firebaseError?function(C){try{return JSON.parse(C)}catch(f){return null}}(decodeURIComponent(ie.firebaseError)):null,yt=null===(S=null===(m=null==Ue?void 0:Ue.code)||void 0===m?void 0:m.split("auth/"))||void 0===S?void 0:S[1],qt=yt?De(yt):null;return qt?{type:C.type,eventId:C.eventId,tenantId:C.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:C.type,eventId:C.eventId,tenantId:C.tenantId,sessionId:C.sessionId,urlResponse:Z,postBody:null}}return null}(Es,er.url)),m.onEvent(qo||_h())});return function(Es){return Kn.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,yt);const qt=Z,ln=`${ie.packageName.toLowerCase()}://`;za().handleOpenURL=function(){var Kn=(0,_.Z)(function*(er){if(er.toLowerCase().startsWith(ln)&&yt({url:er}),"function"==typeof qt)try{qt(er)}catch(Es){console.error(Es)}});return function(er){return Kn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=rr,this._completeRedirectFn=Bl}_initialize(f){var m=this;return(0,_.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,m,S,Z){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(f,m,S,Z)})()}_openRedirect(f,m,S,Z){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(f,m,S,Z)})()}_isIframeWebStorageSupported(f,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,m)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ad()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oo(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,_.Z)(function*(){if(f.underlyingResolver)return;const m=yield function(){return ld.apply(this,arguments)}();f.underlyingResolver=m?f.cordovaResolver:f.browserResolver})()}}function Ou(C){return C.unwrap()}function ep(C){return bl(C)}function bl(C){const{_tokenResponse:f}=C instanceof ee.ZR?C.customData:C;if(!f)return null;if(!(C instanceof ee.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return wn.credentialFromResult(C);const m=f.providerId;if(!m||"password"===m)return null;let S;switch(m){case"google.com":S=Fi;break;case"facebook.com":S=Ys;break;case"github.com":S=js;break;case"twitter.com":S=rs;break;default:const{oauthIdToken:Z,oauthAccessToken:ie,oauthTokenSecret:Ue,pendingToken:yt,nonce:qt}=f;return ie||Ue||Z||yt?yt?m.startsWith("saml.")?Gi._create(m,yt):di._fromParams({providerId:m,signInMethod:m,pendingToken:yt,idToken:Z,accessToken:ie}):new fi(m).credential({idToken:Z,accessToken:ie,rawNonce:qt}):null}return C instanceof ee.ZR?S.credentialFromError(C):S.credentialFromResult(C)}function Eo(C,f){return f.catch(m=>{throw m instanceof ee.ZR&&function(C,f){var m;const S=null===(m=f.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new Eh(C,function(C,f){var m;const S=(0,ee.m9)(C),Z=f;return st(f.operationType,S,"argument-error"),st(null===(m=Z.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),to._fromError(S,Z)}(C,f));else if(S){const Z=bl(f),ie=f;Z&&(ie.credential=Z,ie.tenantId=S.tenantId||void 0,ie.email=S.email||void 0,ie.phoneNumber=S.phoneNumber||void 0)}}(C,m),m}).then(m=>{const Z=m.user;return{operationType:m.operationType,credential:ep(m),additionalUserInfo:Qr(m),user:Ps.getOrCreate(Z)}})}function dd(C,f){return gc.apply(this,arguments)}function gc(){return(gc=(0,_.Z)(function*(C,f){const m=yield f;return{verificationId:m.verificationId,confirm:S=>Eo(C,m.confirm(S))}})).apply(this,arguments)}class Eh{constructor(f,m){this.resolver=m,this.auth=function(C){return C.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Eo(Ou(this.auth),this.resolver.resolveSignIn(f))}}class Ps{constructor(f){this._delegate=f,this.multiFactor=function(C){const f=(0,ee.m9)(C);return qs.has(f)||qs.set(f,Lo._fromUser(f)),qs.get(f)}(f)}static getOrCreate(f){return Ps.USER_MAP.has(f)||Ps.USER_MAP.set(f,new Ps(f)),Ps.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var m=this;return(0,_.Z)(function*(){return Eo(m.auth,J(m._delegate,f))})()}linkWithPhoneNumber(f,m){var S=this;return(0,_.Z)(function*(){return dd(S.auth,function(C,f,m){return sl.apply(this,arguments)}(S._delegate,f,m))})()}linkWithPopup(f){var m=this;return(0,_.Z)(function*(){return Eo(m.auth,function(C,f,m){return ja.apply(this,arguments)}(m._delegate,f,Ho))})()}linkWithRedirect(f){var m=this;return(0,_.Z)(function*(){return yield Zs(Qn(m.auth)),function(C,f,m){return function(C,f,m){return ll.apply(this,arguments)}(C,f,m)}(m._delegate,f,Ho)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var m=this;return(0,_.Z)(function*(){return Eo(m.auth,Pt(m._delegate,f))})()}reauthenticateWithPhoneNumber(f,m){return dd(this.auth,function(C,f,m){return Zc.apply(this,arguments)}(this._delegate,f,m))}reauthenticateWithPopup(f){return Eo(this.auth,function(C,f,m){return Wc.apply(this,arguments)}(this._delegate,f,Ho))}reauthenticateWithRedirect(f){var m=this;return(0,_.Z)(function*(){return yield Zs(Qn(m.auth)),function(C,f,m){return function(C,f,m){return Ha.apply(this,arguments)}(C,f,m)}(m._delegate,f,Ho)})()}sendEmailVerification(f){return function(C,f){return zi.apply(this,arguments)}(this._delegate,f)}unlink(f){var m=this;return(0,_.Z)(function*(){return yield function(C,f){return ms.apply(this,arguments)}(m._delegate,f),m})()}updateEmail(f){return function(C,f){return Oe((0,ee.m9)(C),f,null)}(this._delegate,f)}updatePassword(f){return function(C,f){return Oe((0,ee.m9)(C),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(C,f){return ts.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(C,f){return B.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,m){return function(C,f,m){return xs.apply(this,arguments)}(this._delegate,f,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ps.USER_MAP=new WeakMap;const Mu=st;let mc=(()=>{class C{constructor(m,S){if(this.app=m,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=m.options;Mu(Z,"invalid-api-key",{appName:m.name});let ie=[Zn];if("undefined"!=typeof window){ie=function(C,f){const m=cd();if(!(null==m?void 0:m.sessionStorage))return[];const S=Lr(bh,C,f);switch(m.sessionStorage.getItem(S)){case jo.NONE:return[Zn];case jo.LOCAL:return[I,rr];case jo.SESSION:return[rr];default:return[]}}(Z,m.name);for(const yt of[I,Nt,rr])ie.includes(yt)||ie.push(yt)}Mu(Z,"invalid-api-key",{appName:m.name});const Ue="undefined"!=typeof window?Ho:void 0;this._delegate=S.initialize({options:{persistence:ie,popupRedirectResolver:Ue}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ps.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,S){!function(C,f,m){const S=Qn(C);st(S._canInitEmulator,S,"emulator-config-failed"),st(/^https?:\/\//.test(f),S,"invalid-emulator-scheme");const Z=!!(null==m?void 0:m.disableWarnings),ie=En(f),{host:Ue,port:yt}=function(C){const f=En(C),m=/(\/\/)?([^?#/]+)/.exec(C.substr(f.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(S);if(Z){const ie=Z[1];return{host:ie,port:Sr(S.substr(ie.length+1))}}{const[ie,Ue]=S.split(":");return{host:ie,port:Sr(Ue)}}}(f);S.config.emulator={url:`${ie}//${Ue}${null===yt?"":`:${yt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Ue,port:yt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function(){function C(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",C):C())}()}(this._delegate,m,S)}applyActionCode(m){return function(C,f){return Hs.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return At(this._delegate,m)}confirmPasswordReset(m,S){return function(C,f,m){return ai.apply(this,arguments)}(this._delegate,m,S)}createUserWithEmailAndPassword(m,S){var Z=this;return(0,_.Z)(function*(){return Eo(Z._delegate,function(C,f,m){return _s.apply(this,arguments)}(Z._delegate,m,S))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(C,f){return ho.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(C,f){const m=oi.parseLink(f);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,_.Z)(function*(){Mu(pc(),m._delegate,"operation-not-supported-in-this-environment");const S=yield function(C,f){return ul.apply(this,arguments)}(m._delegate,Ho);return S?Eo(m._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(C,f){Qn(C)._logFramework(f)}(this._delegate,m)}onAuthStateChanged(m,S,Z){const{next:ie,error:Ue,complete:yt}=Xo(m,S,Z);return this._delegate.onAuthStateChanged(ie,Ue,yt)}onIdTokenChanged(m,S,Z){const{next:ie,error:Ue,complete:yt}=Xo(m,S,Z);return this._delegate.onIdTokenChanged(ie,Ue,yt)}sendSignInLinkToEmail(m,S){return function(C,f,m){return So.apply(this,arguments)}(this._delegate,m,S)}sendPasswordResetEmail(m,S){return function(C,f,m){return ys.apply(this,arguments)}(this._delegate,m,S||void 0)}setPersistence(m){var S=this;return(0,_.Z)(function*(){let Z;switch(function(C,f){vl(Object.values(jo).includes(f),C,"invalid-persistence-type"),(0,ee.b$)()?vl(f!==jo.SESSION,C,"unsupported-persistence-type"):(0,ee.UG)()?vl(f===jo.NONE,C,"unsupported-persistence-type"):Wa()?vl(f===jo.NONE||f===jo.LOCAL&&(0,ee.hl)(),C,"unsupported-persistence-type"):vl(f===jo.NONE||Ru(),C,"unsupported-persistence-type")}(S._delegate,m),m){case jo.SESSION:Z=rr;break;case jo.LOCAL:Z=(yield Te(I)._isAvailable())?I:Nt;break;case jo.NONE:Z=Zn;break;default:return ct("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Eo(this._delegate,function(C){return Ji.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Eo(this._delegate,P(this._delegate,m))}signInWithCustomToken(m){return Eo(this._delegate,function(C,f){return Yr.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,S){return Eo(this._delegate,function(C,f,m){return P((0,ee.m9)(C),fs.credential(f,m))}(this._delegate,m,S))}signInWithEmailLink(m,S){return Eo(this._delegate,function(C,f,m){return vo.apply(this,arguments)}(this._delegate,m,S))}signInWithPhoneNumber(m,S){return dd(this._delegate,function(C,f,m){return xa.apply(this,arguments)}(this._delegate,m,S))}signInWithPopup(m){var S=this;return(0,_.Z)(function*(){return Mu(pc(),S._delegate,"operation-not-supported-in-this-environment"),Eo(S._delegate,function(C,f,m){return yu.apply(this,arguments)}(S._delegate,m,Ho))})()}signInWithRedirect(m){var S=this;return(0,_.Z)(function*(){return Mu(pc(),S._delegate,"operation-not-supported-in-this-environment"),yield Zs(S._delegate),function(C,f,m){return function(C,f,m){return oh.apply(this,arguments)}(C,f,m)}(S._delegate,m,Ho)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(C,f){return ni.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return C.Persistence=jo,C})();function Xo(C,f,m){let S=C;"function"!=typeof C&&({next:S,error:f,complete:m}=C);const Z=S;return{next:Ue=>Z(Ue&&Ps.getOrCreate(Ue)),error:f,complete:m}}class yc{constructor(){this.providerId="phone",this._delegate=new wn(Ou(g.Z.auth()))}static credential(f,m){return wn.credential(f,m)}verifyPhoneNumber(f,m){return this._delegate.verifyPhoneNumber(f,m)}unwrap(){return this._delegate}}yc.PHONE_SIGN_IN_METHOD=wn.PHONE_SIGN_IN_METHOD,yc.PROVIDER_ID=wn.PROVIDER_ID;const $o=st;class El{constructor(f,m,S=g.Z.app()){var Z;$o(null===(Z=S.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new il(f,m,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(C){C.INTERNAL.registerComponent(new $e.wA("auth-compat",f=>{const m=f.getProvider("app-compat").getImmediate(),S=f.getProvider("auth");return new mc(m,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fs,FacebookAuthProvider:Ys,GithubAuthProvider:js,GoogleAuthProvider:Fi,OAuthProvider:fi,PhoneAuthProvider:yc,PhoneMultiFactorGenerator:Tu,RecaptchaVerifier:El,TwitterAuthProvider:rs,Auth:mc,AuthCredential:je,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),C.registerVersion("@firebase/auth-compat","0.1.5")}(g.Z)},916:(Gt,tt,q)=>{"use strict";q.d(tt,{sN:()=>On,z1:()=>cr,mZ:()=>bn,TD:()=>jn});var _=q(7574),g=q(8640);const ee=new _.y(g.Z);var Ne=q(9765),ye=q(5917),$e=q(8229),he=q(9193),me=q(7393),te=q(3637);class de{constructor(Be,ot){this.period=Be,this.scheduler=ot}call(Be,ot){return ot.subscribe(new Se(Be,this.period,this.scheduler))}}class Se extends me.L{constructor(Be,ot,lt){super(Be),this.period=ot,this.scheduler=lt,this.hasValue=!1,this.add(lt.schedule(Fe,ot,{subscriber:this,period:ot}))}_next(Be){this.lastValue=Be,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Fe(Ot){let{subscriber:Be,period:ot}=Ot;Be.notifyNext(),this.schedule(Ot,ot)}var Ke=q(5435),qe=q(8307),gt=q(5257),fe=q(9773),ht=q(8002),_t=q(5304),ct=q(3190),De=q(9761),xt=q(8819),$t=q(8583),nn=q(7716);function Le(Ot){return Boolean(Ot.parentElement&&"picture"===Ot.parentElement.nodeName.toLowerCase())}function nt(Ot){return"img"===Ot.nodeName.toLowerCase()}function Qe(Ot,Be,ot){return nt(Ot)?ot&&"srcset"in Ot?Ot.srcset=Be:Ot.src=Be:Ot.style.backgroundImage=`url('${Be}')`,Ot}function Te(Ot){return Be=>{const ot=Be.parentElement.getElementsByTagName("source");for(let lt=0;lt<ot.length;lt++){const rn=ot[lt].getAttribute(Ot);rn&&("srcset"in ot[lt]?ot[lt].srcset=rn:ot[lt].src=rn)}}}const ze=Te("defaultImage"),Ee=Te("lazyLoad"),Et=Te("errorImage");function Ft(Ot){return(Be,ot,lt)=>{nt(Be)&&Le(Be)&&Ot(Be),ot&&Qe(Be,ot,lt)}}const Yt=Ft(ze),Kt=Ft(Ee),Lt=Ft(Et);function dt(Ot,Be){Ot.className=Ot.className.replace(Be,"")}function ut(Ot,Be){Ot.className.includes(Be)||(Ot.className+=` ${Be}`)}class Ge extends class{constructor(){this.navigator="undefined"!=typeof window?window.navigator:void 0}setPlatformId(Be){this.platformId=Be}onDestroy(Be){}onAttributeChange(Be){}}{setup(Be){var Ot;Yt(Be.element,Be.defaultImagePath,Be.useSrcset),ut(Be.element,"ng-lazyloading"),(Ot=Be.element).className&&Ot.className.includes("ng-lazyloaded")&&dt(Be.element,"ng-lazyloaded")}finally(Be){ut(Be.element,"ng-lazyloaded"),dt(Be.element,"ng-lazyloading")}loadImage(Be){if(this.skipLazyLoading(Be))return[Be.imagePath];const{element:ot,useSrcset:lt,imagePath:rn,decode:un}=Be;let Ht;return nt(ot)&&Le(ot)?(Ht=ot.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Ee(Ht),Qe(Ht,rn,lt)):(Ht=new Image,nt(ot)&&ot.referrerPolicy&&(Ht.referrerPolicy=ot.referrerPolicy),nt(ot)&&ot.sizes&&(Ht.sizes=ot.sizes),lt&&"srcset"in Ht?Ht.srcset=rn:Ht.src=rn),un&&Ht.decode?Ht.decode().then(()=>rn):new Promise((dn,Xt)=>{Ht.onload=()=>dn(rn),Ht.onerror=()=>Xt(null)})}setErrorImage(Be,ot){const{element:lt,useSrcset:rn,errorImagePath:un}=ot;Lt(lt,un,rn),ut(lt,"ng-failed-lazyloaded")}setLoadedImage(Be,ot){const{element:lt,useSrcset:rn}=ot;Kt(lt,Be,rn)}isDisabled(){return(0,$t.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(Be){return this.isBot(Be)}isBot(Be){var ot;return!!(null===(ot=this.navigator)||void 0===ot?void 0:ot.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}let Tt=(()=>{class Ot extends Ge{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new Ne.xQ,this.uniqKey={}}getObservable(ot){if(this.skipLazyLoading(ot))return(0,ye.of)({isIntersecting:!0});if(ot.customObservable)return ot.customObservable;const lt=ot.scrollContainer||this.uniqKey,rn={root:ot.scrollContainer||null};ot.offset&&(rn.rootMargin=`${ot.offset}px`);let un=this.observers.get(lt);return un||(un=new IntersectionObserver(Ht=>this.loadingCallback(Ht),rn),this.observers.set(lt,un)),un.observe(ot.element),_.y.create(Ht=>{const dn=this.intersectionSubject.pipe((0,Ke.h)(Xt=>Xt.target===ot.element)).subscribe(Ht);return()=>{dn.unsubscribe(),un.unobserve(ot.element)}})}isVisible(ot){return ot.isIntersecting}loadingCallback(ot){ot.forEach(lt=>this.intersectionSubject.next(lt))}}return Ot.\u0275fac=function(){let Be;return function(lt){return(Be||(Be=nn.n5z(Ot)))(lt||Ot)}}(),Ot.\u0275prov=nn.Yz7({token:Ot,factory:Ot.\u0275fac}),Ot})();const On=new nn.OlP("LazyLoadImageHooks");let cr=(()=>{class Ot{constructor(ot,lt,rn,un){this.onStateChange=new nn.vpe,this.elementRef=ot,this.ngZone=lt,this.propertyChanges$=new $e.t,this.hooks=un,this.hooks.setPlatformId(rn),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(ot=>console.log(ot))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,qe.b)(ot=>this.hooks.onAttributeChange(ot)),(0,qe.b)(ot=>ot.onStateChange.emit({reason:"setup"})),(0,qe.b)(ot=>this.hooks.setup(ot)),(0,ct.w)(ot=>ot.imagePath?this.hooks.getObservable(ot).pipe(function(Ot,Be){return ot=>ot.pipe((0,qe.b)(lt=>Be.onStateChange.emit({reason:"observer-emit",data:lt})),(0,Ke.h)(lt=>Ot.isVisible(lt,Be)),(0,gt.q)(1),(0,qe.b)(()=>Be.onStateChange.emit({reason:"start-loading"})),(0,fe.zg)(()=>Ot.loadImage(Be)),(0,qe.b)(()=>Be.onStateChange.emit({reason:"mount-image"})),(0,qe.b)(lt=>Ot.setLoadedImage(lt,Be)),(0,qe.b)(()=>Be.onStateChange.emit({reason:"loading-succeeded"})),(0,ht.U)(()=>!0),(0,_t.K)(lt=>(Be.onStateChange.emit({reason:"loading-failed",data:lt}),Ot.setErrorImage(lt,Be),(0,ye.of)(!1))),(0,qe.b)(()=>{Be.onStateChange.emit({reason:"finally"}),Ot.finally(Be)}))}(this.hooks,ot)):ee)).subscribe({next:()=>null})})}ngOnDestroy(){var ot,lt;this.propertyChanges$.pipe((0,gt.q)(1)).subscribe({next:rn=>this.hooks.onDestroy(rn)}).unsubscribe(),null===(ot=this.loadSubscription)||void 0===ot||ot.unsubscribe(),null===(lt=this.debugSubscription)||void 0===lt||lt.unsubscribe()}}return Ot.\u0275fac=function(ot){return new(ot||Ot)(nn.Y36(nn.SBq),nn.Y36(nn.R0b),nn.Y36(nn.Lbi),nn.Y36(On))},Ot.\u0275dir=nn.lG2({type:Ot,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[nn.TTD]}),Ot})(),bn=(()=>{class Ot{}return Ot.\u0275fac=function(ot){return new(ot||Ot)},Ot.\u0275mod=nn.oAB({type:Ot}),Ot.\u0275inj=nn.cJS({providers:[{provide:On,useClass:Tt}]}),Ot})();class ar{constructor(Be,ot,lt,rn){this.left=Be,this.top=ot,this.right=lt,this.bottom=rn}static fromElement(Be){const{left:ot,top:lt,right:rn,bottom:un}=Be.getBoundingClientRect();return 0===ot&&0===lt&&0===rn&&0===un?ar.empty:new ar(ot,lt,rn,un)}static fromWindow(Be){return new ar(0,0,Be.innerWidth,Be.innerHeight)}inflate(Be){this.left-=Be,this.top-=Be,this.right+=Be,this.bottom+=Be}intersectsWith(Be){return Be.left<this.right&&this.left<Be.right&&Be.top<this.bottom&&this.top<Be.bottom}getIntersectionWith(Be){const ot=Math.max(this.left,Be.left),lt=Math.max(this.top,Be.top),rn=Math.min(this.right,Be.right),un=Math.min(this.bottom,Be.bottom);return rn>=ot&&un>=lt?new ar(ot,lt,rn,un):ar.empty}}ar.empty=new ar(0,0,0,0);class jn extends Ge{constructor(){super(...arguments),this.getWindow=()=>window,this.scrollListeners=new WeakMap,this.getScrollListener=Be=>{if(!Be||"function"!=typeof Be.addEventListener)return console.warn("`addEventListener` on "+Be+" (scrollTarget) is not a function. Skipping this target"),(0,he.c)();const ot=this.scrollListeners.get(Be);if(ot)return ot;const lt=_.y.create(un=>{const dn=hn=>un.next(hn),Xt={passive:!0,capture:!1};return Be.addEventListener("scroll",dn,Xt),()=>Be.removeEventListener("scroll",dn,Xt)}),rn=this.sampleObservable(lt);return this.scrollListeners.set(Be,rn),rn}}getObservable(Be){return this.skipLazyLoading(Be)?(0,ye.of)("load"):Be.customObservable?Be.customObservable.pipe((0,De.O)("")):this.getScrollListener(Be.scrollContainer?Be.scrollContainer:this.getWindow())}isVisible(Be,ot){const lt=ar.fromElement(ot.element);if(lt===ar.empty)return!1;const rn=ar.fromWindow(this.getWindow());if(lt.inflate(ot.offset),ot.scrollContainer){const Ht=ar.fromElement(ot.scrollContainer).getIntersectionWith(rn);return lt.intersectsWith(Ht)}return lt.intersectsWith(rn)}sampleObservable(Be,ot){return Be.pipe(function(Ot,Be=te.P){return ot=>ot.lift(new de(Ot,Be))}(100,ot),(0,xt.B)(),(0,De.O)(""))}}},9344:(Gt,tt,q)=>{"use strict";q.d(tt,{Rh:()=>Yt,_W:()=>Ee});var _=q(7716),g=q(7238),ee=q(9765),Ve=q(9075),Ne=q(8583);const ye=["toast-component",""];function $e(dt,ut){if(1&dt){const xe=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(xe),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function he(dt,ut){if(1&dt&&(_.ynx(0),_._uU(1),_.BQk()),2&dt){const xe=_.oxw(2);_.xp6(1),_.hij("[",xe.duplicatesCount+1,"]")}}function me(dt,ut){if(1&dt&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,he,2,1,"ng-container",4),_.qZA()),2&dt){const xe=_.oxw();_.Tol(xe.options.titleClass),_.uIk("aria-label",xe.title),_.xp6(1),_.hij(" ",xe.title," "),_.xp6(1),_.Q6J("ngIf",xe.duplicatesCount)}}function te(dt,ut){if(1&dt&&_._UZ(0,"div",7),2&dt){const xe=_.oxw();_.Tol(xe.options.messageClass),_.Q6J("innerHTML",xe.message,_.oJD)}}function ce(dt,ut){if(1&dt&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&dt){const xe=_.oxw();_.Tol(xe.options.messageClass),_.uIk("aria-label",xe.message),_.xp6(1),_.hij(" ",xe.message," ")}}function de(dt,ut){if(1&dt&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&dt){const xe=_.oxw();_.xp6(1),_.Udp("width",xe.width+"%")}}function Se(dt,ut){if(1&dt){const xe=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(xe),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function Fe(dt,ut){if(1&dt&&(_.ynx(0),_._uU(1),_.BQk()),2&dt){const xe=_.oxw(2);_.xp6(1),_.hij("[",xe.duplicatesCount+1,"]")}}function Ke(dt,ut){if(1&dt&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,Fe,2,1,"ng-container",4),_.qZA()),2&dt){const xe=_.oxw();_.Tol(xe.options.titleClass),_.uIk("aria-label",xe.title),_.xp6(1),_.hij(" ",xe.title," "),_.xp6(1),_.Q6J("ngIf",xe.duplicatesCount)}}function qe(dt,ut){if(1&dt&&_._UZ(0,"div",7),2&dt){const xe=_.oxw();_.Tol(xe.options.messageClass),_.Q6J("innerHTML",xe.message,_.oJD)}}function gt(dt,ut){if(1&dt&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&dt){const xe=_.oxw();_.Tol(xe.options.messageClass),_.uIk("aria-label",xe.message),_.xp6(1),_.hij(" ",xe.message," ")}}function fe(dt,ut){if(1&dt&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&dt){const xe=_.oxw();_.xp6(1),_.Udp("width",xe.width+"%")}}class ct{constructor(ut,xe,Ge,Tt,jt,On){this.toastId=ut,this.config=xe,this.message=Ge,this.title=Tt,this.toastType=jt,this.toastRef=On,this._onTap=new ee.xQ,this._onAction=new ee.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ut){this._onAction.next(ut)}onAction(){return this._onAction.asObservable()}}const De={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},xt=new _.OlP("ToastConfig");class $t{constructor(ut,xe){this.component=ut,this.injector=xe}attach(ut,xe){return this._attachedHost=ut,ut.attach(this,xe)}detach(){const ut=this._attachedHost;if(ut)return this._attachedHost=void 0,ut.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ut){this._attachedHost=ut}}class st extends class{attach(ut,xe){return this._attachedPortal=ut,this.attachComponentPortal(ut,xe)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ut){this._disposeFn=ut}}{constructor(ut,xe,Ge){super(),this._hostDomElement=ut,this._componentFactoryResolver=xe,this._appRef=Ge}attachComponentPortal(ut,xe){const Ge=this._componentFactoryResolver.resolveComponentFactory(ut.component);let Tt;return Tt=Ge.create(ut.injector),this._appRef.attachView(Tt.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Tt.hostView),Tt.destroy()}),xe?this._hostDomElement.insertBefore(this._getComponentRootNode(Tt),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Tt)),Tt}_getComponentRootNode(ut){return ut.hostView.rootNodes[0]}}let Le=(()=>{class dt{constructor(xe){this._document=xe}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const xe=this._document.createElement("div");xe.classList.add("overlay-container"),this._document.body.appendChild(xe),this._containerElement=xe}}return dt.\u0275fac=function(xe){return new(xe||dt)(_.LFG(Ne.K0))},dt.\u0275prov=_.Yz7({factory:function(){return new dt(_.LFG(Ne.K0))},token:dt,providedIn:"root"}),dt})();class nt{constructor(ut){this._portalHost=ut}attach(ut,xe=!0){return this._portalHost.attach(ut,xe)}detach(){return this._portalHost.detach()}}let Qe=(()=>{class dt{constructor(xe,Ge,Tt,jt){this._overlayContainer=xe,this._componentFactoryResolver=Ge,this._appRef=Tt,this._document=jt,this._paneElements=new Map}create(xe,Ge){return this._createOverlayRef(this.getPaneElement(xe,Ge))}getPaneElement(xe="",Ge){return this._paneElements.get(Ge)||this._paneElements.set(Ge,{}),this._paneElements.get(Ge)[xe]||(this._paneElements.get(Ge)[xe]=this._createPaneElement(xe,Ge)),this._paneElements.get(Ge)[xe]}_createPaneElement(xe,Ge){const Tt=this._document.createElement("div");return Tt.id="toast-container",Tt.classList.add(xe),Tt.classList.add("toast-container"),Ge?Ge.getContainerElement().appendChild(Tt):this._overlayContainer.getContainerElement().appendChild(Tt),Tt}_createPortalHost(xe){return new st(xe,this._componentFactoryResolver,this._appRef)}_createOverlayRef(xe){return new nt(this._createPortalHost(xe))}}return dt.\u0275fac=function(xe){return new(xe||dt)(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Ne.K0))},dt.\u0275prov=_.Yz7({factory:function(){return new dt(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Ne.K0))},token:dt,providedIn:"root"}),dt})();class Te{constructor(ut){this._overlayRef=ut,this.duplicatesCount=0,this._afterClosed=new ee.xQ,this._activate=new ee.xQ,this._manualClose=new ee.xQ,this._resetTimeout=new ee.xQ,this._countDuplicate=new ee.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ut,xe){ut&&this._resetTimeout.next(),xe&&this._countDuplicate.next(++this.duplicatesCount)}}class ze{constructor(ut,xe){this._toastPackage=ut,this._parentInjector=xe}get(ut,xe,Ge){return ut===ct?this._toastPackage:this._parentInjector.get(ut,xe,Ge)}}let Ee=(()=>{class dt{constructor(xe,Ge,Tt,jt,On){this.overlay=Ge,this._injector=Tt,this.sanitizer=jt,this.ngZone=On,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},xe.default),xe.config),xe.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},xe.default.iconClasses),xe.config.iconClasses))}show(xe,Ge,Tt={},jt=""){return this._preBuildNotification(jt,xe,Ge,this.applyConfig(Tt))}success(xe,Ge,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",xe,Ge,this.applyConfig(Tt))}error(xe,Ge,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",xe,Ge,this.applyConfig(Tt))}info(xe,Ge,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",xe,Ge,this.applyConfig(Tt))}warning(xe,Ge,Tt={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",xe,Ge,this.applyConfig(Tt))}clear(xe){for(const Ge of this.toasts)if(void 0!==xe){if(Ge.toastId===xe)return void Ge.toastRef.manualClose()}else Ge.toastRef.manualClose()}remove(xe){const Ge=this._findToast(xe);if(!Ge||(Ge.activeToast.toastRef.close(),this.toasts.splice(Ge.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Tt=this.toasts[this.currentlyActive].toastRef;Tt.isInactive()||(this.currentlyActive=this.currentlyActive+1,Tt.activate())}return!0}findDuplicate(xe="",Ge="",Tt,jt){const{includeTitleDuplicates:On}=this.toastrConfig;for(const cr of this.toasts){const bn=On&&cr.title===xe;if((!On||bn)&&cr.message===Ge)return cr.toastRef.onDuplicate(Tt,jt),cr}return null}applyConfig(xe={}){return Object.assign(Object.assign({},this.toastrConfig),xe)}_findToast(xe){for(let Ge=0;Ge<this.toasts.length;Ge++)if(this.toasts[Ge].toastId===xe)return{index:Ge,activeToast:this.toasts[Ge]};return null}_preBuildNotification(xe,Ge,Tt,jt){return jt.onActivateTick?this.ngZone.run(()=>this._buildNotification(xe,Ge,Tt,jt)):this._buildNotification(xe,Ge,Tt,jt)}_buildNotification(xe,Ge,Tt,jt){if(!jt.toastComponent)throw new Error("toastComponent required");const On=this.findDuplicate(Tt,Ge,this.toastrConfig.resetTimeoutOnDuplicate&&jt.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Tt||Ge)&&this.toastrConfig.preventDuplicates&&null!==On)return On;this.previousToastMessage=Ge;let cr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(cr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const bn=this.overlay.create(jt.positionClass,this.overlayContainer);this.index=this.index+1;let ar=Ge;Ge&&jt.enableHtml&&(ar=this.sanitizer.sanitize(_.q3G.HTML,Ge));const jn=new Te(bn),Ot=new ct(this.index,jt,ar,Tt,xe,jn),Be=new ze(Ot,this._injector),ot=new $t(jt.toastComponent,Be),lt=bn.attach(ot,this.toastrConfig.newestOnTop);jn.componentInstance=lt.instance;const rn={toastId:this.index,title:Tt||"",message:Ge||"",toastRef:jn,onShown:jn.afterActivate(),onHidden:jn.afterClosed(),onTap:Ot.onTap(),onAction:Ot.onAction(),portal:lt};return cr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{rn.toastRef.activate()})),this.toasts.push(rn),rn}}return dt.\u0275fac=function(xe){return new(xe||dt)(_.LFG(xt),_.LFG(Qe),_.LFG(_.zs3),_.LFG(Ve.H7),_.LFG(_.R0b))},dt.\u0275prov=_.Yz7({factory:function(){return new dt(_.LFG(xt),_.LFG(Qe),_.LFG(_.gxx),_.LFG(Ve.H7),_.LFG(_.R0b))},token:dt,providedIn:"root"}),dt})(),Et=(()=>{class dt{constructor(xe,Ge,Tt){this.toastrService=xe,this.toastPackage=Ge,this.ngZone=Tt,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ge.message,this.title=Ge.title,this.options=Ge.config,this.originalTimeout=Ge.config.timeOut,this.toastClasses=`${Ge.toastType} ${Ge.config.toastClass}`,this.sub=Ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ge.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(xe,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(xe),Ge)):this.timeout=setTimeout(()=>xe(),Ge)}outsideInterval(xe,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(xe),Ge)):this.intervalId=setInterval(()=>xe(),Ge)}runInsideAngular(xe){this.ngZone?this.ngZone.run(()=>xe()):xe()}}return dt.\u0275fac=function(xe){return new(xe||dt)(_.Y36(Ee),_.Y36(ct),_.Y36(_.R0b))},dt.\u0275cmp=_.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(xe,Ge){1&xe&&_.NdJ("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&xe&&(_.d8E("@flyInOut",Ge.state),_.Tol(Ge.toastClasses),_.Udp("display",Ge.displayStyle))},attrs:ye,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(xe,Ge){1&xe&&(_.YNc(0,$e,3,0,"button",0),_.YNc(1,me,3,5,"div",1),_.YNc(2,te,1,3,"div",2),_.YNc(3,ce,2,4,"div",3),_.YNc(4,de,2,2,"div",4)),2&xe&&(_.Q6J("ngIf",Ge.options.closeButton),_.xp6(1),_.Q6J("ngIf",Ge.title),_.xp6(1),_.Q6J("ngIf",Ge.message&&Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.message&&!Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.options.progressBar))},directives:[Ne.O5],encapsulation:2,data:{animation:[(0,g.X$)("flyInOut",[(0,g.SB)("inactive",(0,g.oB)({opacity:0})),(0,g.SB)("active",(0,g.oB)({opacity:1})),(0,g.SB)("removed",(0,g.oB)({opacity:0})),(0,g.eR)("inactive => active",(0,g.jt)("{{ easeTime }}ms {{ easing }}")),(0,g.eR)("active => removed",(0,g.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),dt})();const Ft=Object.assign(Object.assign({},De),{toastComponent:Et});let Yt=(()=>{class dt{static forRoot(xe={}){return{ngModule:dt,providers:[{provide:xt,useValue:{default:Ft,config:xe}}]}}}return dt.\u0275fac=function(xe){return new(xe||dt)},dt.\u0275mod=_.oAB({type:dt}),dt.\u0275inj=_.cJS({imports:[[Ne.ez]]}),dt})(),Lt=(()=>{class dt{constructor(xe,Ge,Tt){this.toastrService=xe,this.toastPackage=Ge,this.appRef=Tt,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ge.message,this.title=Ge.title,this.options=Ge.config,this.originalTimeout=Ge.config.timeOut,this.toastClasses=`${Ge.toastType} ${Ge.config.toastClass}`,this.sub=Ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ge.toastRef.countDuplicate().subscribe(jt=>{this.duplicatesCount=jt})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const xe=(new Date).getTime();this.width=(this.hideTime-xe)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return dt.\u0275fac=function(xe){return new(xe||dt)(_.Y36(Ee),_.Y36(ct),_.Y36(_.z2F))},dt.\u0275cmp=_.Xpm({type:dt,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(xe,Ge){1&xe&&_.NdJ("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&xe&&(_.Tol(Ge.toastClasses),_.Udp("display",Ge.displayStyle))},attrs:ye,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(xe,Ge){1&xe&&(_.YNc(0,Se,3,0,"button",0),_.YNc(1,Ke,3,5,"div",1),_.YNc(2,qe,1,3,"div",2),_.YNc(3,gt,2,4,"div",3),_.YNc(4,fe,2,2,"div",4)),2&xe&&(_.Q6J("ngIf",Ge.options.closeButton),_.xp6(1),_.Q6J("ngIf",Ge.title),_.xp6(1),_.Q6J("ngIf",Ge.message&&Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.message&&!Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.options.progressBar))},directives:[Ne.O5],encapsulation:2}),dt})();Object.assign(Object.assign({},De),{toastComponent:Lt})},7574:(Gt,tt,q)=>{"use strict";q.d(tt,{y:()=>ce});var _=q(7393),ee=q(9181),Ve=q(6490),ye=q(6554),$e=q(4487);var te=q(2494);let ce=(()=>{class Se{constructor(Ke){this._isScalar=!1,Ke&&(this._subscribe=Ke)}lift(Ke){const qe=new Se;return qe.source=this,qe.operator=Ke,qe}subscribe(Ke,qe,gt){const{operator:fe}=this,ht=function(Se,Fe,Ke){if(Se){if(Se instanceof _.L)return Se;if(Se[ee.b])return Se[ee.b]()}return Se||Fe||Ke?new _.L(Se,Fe,Ke):new _.L(Ve.c)}(Ke,qe,gt);if(ht.add(fe?fe.call(ht,this.source):this.source||te.v.useDeprecatedSynchronousErrorHandling&&!ht.syncErrorThrowable?this._subscribe(ht):this._trySubscribe(ht)),te.v.useDeprecatedSynchronousErrorHandling&&ht.syncErrorThrowable&&(ht.syncErrorThrowable=!1,ht.syncErrorThrown))throw ht.syncErrorValue;return ht}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(qe){te.v.useDeprecatedSynchronousErrorHandling&&(Ke.syncErrorThrown=!0,Ke.syncErrorValue=qe),function(Se){for(;Se;){const{closed:Fe,destination:Ke,isStopped:qe}=Se;if(Fe||qe)return!1;Se=Ke&&Ke instanceof _.L?Ke:null}return!0}(Ke)?Ke.error(qe):console.warn(qe)}}forEach(Ke,qe){return new(qe=de(qe))((gt,fe)=>{let ht;ht=this.subscribe(_t=>{try{Ke(_t)}catch(ct){fe(ct),ht&&ht.unsubscribe()}},fe,gt)})}_subscribe(Ke){const{source:qe}=this;return qe&&qe.subscribe(Ke)}[ye.L](){return this}pipe(...Ke){return 0===Ke.length?this:function(Se){return 0===Se.length?$e.y:1===Se.length?Se[0]:function(Ke){return Se.reduce((qe,gt)=>gt(qe),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=de(Ke))((qe,gt)=>{let fe;this.subscribe(ht=>fe=ht,ht=>gt(ht),()=>qe(fe))})}}return Se.create=Fe=>new Se(Fe),Se})();function de(Se){if(Se||(Se=te.v.Promise||Promise),!Se)throw new Error("no Promise impl found");return Se}},6490:(Gt,tt,q)=>{"use strict";q.d(tt,{c:()=>ee});var _=q(2494),g=q(4449);const ee={closed:!0,next(Ve){},error(Ve){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ve;(0,g.z)(Ve)},complete(){}}},8229:(Gt,tt,q)=>{"use strict";q.d(tt,{t:()=>$e});var _=q(9765),g=q(7771),ee=q(5319),Ve=q(309),Ne=q(7971),ye=q(8858);class $e extends _.xQ{constructor(te=Number.POSITIVE_INFINITY,ce=Number.POSITIVE_INFINITY,de){super(),this.scheduler=de,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=te<1?1:te,this._windowTime=ce<1?1:ce,ce===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(te){if(!this.isStopped){const ce=this._events;ce.push(te),ce.length>this._bufferSize&&ce.shift()}super.next(te)}nextTimeWindow(te){this.isStopped||(this._events.push(new he(this._getNow(),te)),this._trimBufferThenGetEvents()),super.next(te)}_subscribe(te){const ce=this._infiniteTimeWindow,de=ce?this._events:this._trimBufferThenGetEvents(),Se=this.scheduler,Fe=de.length;let Ke;if(this.closed)throw new Ne.N;if(this.isStopped||this.hasError?Ke=ee.w.EMPTY:(this.observers.push(te),Ke=new ye.W(this,te)),Se&&te.add(te=new Ve.ht(te,Se)),ce)for(let qe=0;qe<Fe&&!te.closed;qe++)te.next(de[qe]);else for(let qe=0;qe<Fe&&!te.closed;qe++)te.next(de[qe].value);return this.hasError?te.error(this.thrownError):this.isStopped&&te.complete(),Ke}_getNow(){return(this.scheduler||g.c).now()}_trimBufferThenGetEvents(){const te=this._getNow(),ce=this._bufferSize,de=this._windowTime,Se=this._events,Fe=Se.length;let Ke=0;for(;Ke<Fe&&!(te-Se[Ke].time<de);)Ke++;return Fe>ce&&(Ke=Math.max(Ke,Fe-ce)),Ke>0&&Se.splice(0,Ke),Se}}class he{constructor(te,ce){this.time=te,this.value=ce}}},9765:(Gt,tt,q)=>{"use strict";q.d(tt,{Yc:()=>$e,xQ:()=>he});var _=q(7574),g=q(7393),ee=q(5319),Ve=q(7971),Ne=q(8858),ye=q(9181);class $e extends g.L{constructor(ce){super(ce),this.destination=ce}}let he=(()=>{class te extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ye.b](){return new $e(this)}lift(de){const Se=new me(this,this);return Se.operator=de,Se}next(de){if(this.closed)throw new Ve.N;if(!this.isStopped){const{observers:Se}=this,Fe=Se.length,Ke=Se.slice();for(let qe=0;qe<Fe;qe++)Ke[qe].next(de)}}error(de){if(this.closed)throw new Ve.N;this.hasError=!0,this.thrownError=de,this.isStopped=!0;const{observers:Se}=this,Fe=Se.length,Ke=Se.slice();for(let qe=0;qe<Fe;qe++)Ke[qe].error(de);this.observers.length=0}complete(){if(this.closed)throw new Ve.N;this.isStopped=!0;const{observers:de}=this,Se=de.length,Fe=de.slice();for(let Ke=0;Ke<Se;Ke++)Fe[Ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(de){if(this.closed)throw new Ve.N;return super._trySubscribe(de)}_subscribe(de){if(this.closed)throw new Ve.N;return this.hasError?(de.error(this.thrownError),ee.w.EMPTY):this.isStopped?(de.complete(),ee.w.EMPTY):(this.observers.push(de),new Ne.W(this,de))}asObservable(){const de=new _.y;return de.source=this,de}}return te.create=(ce,de)=>new me(ce,de),te})();class me extends he{constructor(ce,de){super(),this.destination=ce,this.source=de}next(ce){const{destination:de}=this;de&&de.next&&de.next(ce)}error(ce){const{destination:de}=this;de&&de.error&&this.destination.error(ce)}complete(){const{destination:ce}=this;ce&&ce.complete&&this.destination.complete()}_subscribe(ce){const{source:de}=this;return de?this.source.subscribe(ce):ee.w.EMPTY}}},8858:(Gt,tt,q)=>{"use strict";q.d(tt,{W:()=>g});var _=q(5319);class g extends _.w{constructor(Ve,Ne){super(),this.subject=Ve,this.subscriber=Ne,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ve=this.subject,Ne=Ve.observers;if(this.subject=null,!Ne||0===Ne.length||Ve.isStopped||Ve.closed)return;const ye=Ne.indexOf(this.subscriber);-1!==ye&&Ne.splice(ye,1)}}},7393:(Gt,tt,q)=>{"use strict";q.d(tt,{L:()=>$e});var _=q(9105),g=q(6490),ee=q(5319),Ve=q(9181),Ne=q(2494),ye=q(4449);class $e extends ee.w{constructor(te,ce,de){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=g.c;break;case 1:if(!te){this.destination=g.c;break}if("object"==typeof te){te instanceof $e?(this.syncErrorThrowable=te.syncErrorThrowable,this.destination=te,te.add(this)):(this.syncErrorThrowable=!0,this.destination=new he(this,te));break}default:this.syncErrorThrowable=!0,this.destination=new he(this,te,ce,de)}}[Ve.b](){return this}static create(te,ce,de){const Se=new $e(te,ce,de);return Se.syncErrorThrowable=!1,Se}next(te){this.isStopped||this._next(te)}error(te){this.isStopped||(this.isStopped=!0,this._error(te))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(te){this.destination.next(te)}_error(te){this.destination.error(te),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:te}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=te,this}}class he extends $e{constructor(te,ce,de,Se){super(),this._parentSubscriber=te;let Fe,Ke=this;(0,_.m)(ce)?Fe=ce:ce&&(Fe=ce.next,de=ce.error,Se=ce.complete,ce!==g.c&&(Ke=Object.create(ce),(0,_.m)(Ke.unsubscribe)&&this.add(Ke.unsubscribe.bind(Ke)),Ke.unsubscribe=this.unsubscribe.bind(this))),this._context=Ke,this._next=Fe,this._error=de,this._complete=Se}next(te){if(!this.isStopped&&this._next){const{_parentSubscriber:ce}=this;Ne.v.useDeprecatedSynchronousErrorHandling&&ce.syncErrorThrowable?this.__tryOrSetError(ce,this._next,te)&&this.unsubscribe():this.__tryOrUnsub(this._next,te)}}error(te){if(!this.isStopped){const{_parentSubscriber:ce}=this,{useDeprecatedSynchronousErrorHandling:de}=Ne.v;if(this._error)de&&ce.syncErrorThrowable?(this.__tryOrSetError(ce,this._error,te),this.unsubscribe()):(this.__tryOrUnsub(this._error,te),this.unsubscribe());else if(ce.syncErrorThrowable)de?(ce.syncErrorValue=te,ce.syncErrorThrown=!0):(0,ye.z)(te),this.unsubscribe();else{if(this.unsubscribe(),de)throw te;(0,ye.z)(te)}}}complete(){if(!this.isStopped){const{_parentSubscriber:te}=this;if(this._complete){const ce=()=>this._complete.call(this._context);Ne.v.useDeprecatedSynchronousErrorHandling&&te.syncErrorThrowable?(this.__tryOrSetError(te,ce),this.unsubscribe()):(this.__tryOrUnsub(ce),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(te,ce){try{te.call(this._context,ce)}catch(de){if(this.unsubscribe(),Ne.v.useDeprecatedSynchronousErrorHandling)throw de;(0,ye.z)(de)}}__tryOrSetError(te,ce,de){if(!Ne.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ce.call(this._context,de)}catch(Se){return Ne.v.useDeprecatedSynchronousErrorHandling?(te.syncErrorValue=Se,te.syncErrorThrown=!0,!0):((0,ye.z)(Se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:te}=this;this._context=null,this._parentSubscriber=null,te.unsubscribe()}}},5319:(Gt,tt,q)=>{"use strict";q.d(tt,{w:()=>ye});var _=q(9796),g=q(1555),ee=q(9105);const Ne=(()=>{function he(me){return Error.call(this),this.message=me?`${me.length} errors occurred during unsubscription:\n${me.map((te,ce)=>`${ce+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=me,this}return he.prototype=Object.create(Error.prototype),he})();class ye{constructor(me){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,me&&(this._ctorUnsubscribe=!0,this._unsubscribe=me)}unsubscribe(){let me;if(this.closed)return;let{_parentOrParents:te,_ctorUnsubscribe:ce,_unsubscribe:de,_subscriptions:Se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,te instanceof ye)te.remove(this);else if(null!==te)for(let Fe=0;Fe<te.length;++Fe)te[Fe].remove(this);if((0,ee.m)(de)){ce&&(this._unsubscribe=void 0);try{de.call(this)}catch(Fe){me=Fe instanceof Ne?$e(Fe.errors):[Fe]}}if((0,_.k)(Se)){let Fe=-1,Ke=Se.length;for(;++Fe<Ke;){const qe=Se[Fe];if((0,g.K)(qe))try{qe.unsubscribe()}catch(gt){me=me||[],gt instanceof Ne?me=me.concat($e(gt.errors)):me.push(gt)}}}if(me)throw new Ne(me)}add(me){let te=me;if(!me)return ye.EMPTY;switch(typeof me){case"function":te=new ye(me);case"object":if(te===this||te.closed||"function"!=typeof te.unsubscribe)return te;if(this.closed)return te.unsubscribe(),te;if(!(te instanceof ye)){const Se=te;te=new ye,te._subscriptions=[Se]}break;default:throw new Error("unrecognized teardown "+me+" added to Subscription.")}let{_parentOrParents:ce}=te;if(null===ce)te._parentOrParents=this;else if(ce instanceof ye){if(ce===this)return te;te._parentOrParents=[ce,this]}else{if(-1!==ce.indexOf(this))return te;ce.push(this)}const de=this._subscriptions;return null===de?this._subscriptions=[te]:de.push(te),te}remove(me){const te=this._subscriptions;if(te){const ce=te.indexOf(me);-1!==ce&&te.splice(ce,1)}}}var he;function $e(he){return he.reduce((me,te)=>me.concat(te instanceof Ne?te.errors:te),[])}ye.EMPTY=((he=new ye).closed=!0,he)},2494:(Gt,tt,q)=>{"use strict";q.d(tt,{v:()=>g});let _=!1;const g={Promise:void 0,set useDeprecatedSynchronousErrorHandling(ee){if(ee){const Ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ve.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=ee},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:(Gt,tt,q)=>{"use strict";q.d(tt,{IY:()=>Ve,Ds:()=>ye,ft:()=>he});var _=q(7393),g=q(7574),ee=q(7444);class Ve extends _.L{constructor(te){super(),this.parent=te}_next(te){this.parent.notifyNext(te)}_error(te){this.parent.notifyError(te),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ye extends _.L{notifyNext(te){this.destination.next(te)}notifyError(te){this.destination.error(te)}notifyComplete(){this.destination.complete()}}function he(me,te){if(te.closed)return;if(me instanceof g.y)return me.subscribe(te);let ce;try{ce=(0,ee.s)(me)(te)}catch(de){te.error(de)}return ce}},2441:(Gt,tt,q)=>{"use strict";q.d(tt,{c:()=>Ne,N:()=>ye});var _=q(9765),g=q(7574),ee=q(5319),Ve=q(1307);class Ne extends g.y{constructor(ce,de){super(),this.source=ce,this.subjectFactory=de,this._refCount=0,this._isComplete=!1}_subscribe(ce){return this.getSubject().subscribe(ce)}getSubject(){const ce=this._subject;return(!ce||ce.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let ce=this._connection;return ce||(this._isComplete=!1,ce=this._connection=new ee.w,ce.add(this.source.subscribe(new $e(this.getSubject(),this))),ce.closed&&(this._connection=null,ce=ee.w.EMPTY)),ce}refCount(){return(0,Ve.x)()(this)}}const ye=(()=>{const te=Ne.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:te._subscribe},_isComplete:{value:te._isComplete,writable:!0},getSubject:{value:te.getSubject},connect:{value:te.connect},refCount:{value:te.refCount}}})();class $e extends _.Yc{constructor(ce,de){super(ce),this.connectable=de}_error(ce){this._unsubscribe(),super._error(ce)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const ce=this.connectable;if(ce){this.connectable=null;const de=ce._connection;ce._refCount=0,ce._subject=null,ce._connection=null,de&&de.unsubscribe()}}}},8071:(Gt,tt,q)=>{"use strict";q.d(tt,{z:()=>Ve});var _=q(5917),g=q(3282);function Ve(...Ne){return(0,g.J)(1)((0,_.of)(...Ne))}},9193:(Gt,tt,q)=>{"use strict";q.d(tt,{E:()=>g,c:()=>ee});var _=q(7574);const g=new _.y(Ne=>Ne.complete());function ee(Ne){return Ne?function(Ne){return new _.y(ye=>Ne.schedule(()=>ye.complete()))}(Ne):g}},4402:(Gt,tt,q)=>{"use strict";q.d(tt,{D:()=>Ke});var _=q(7574),g=q(7444),ee=q(5319),Ve=q(6554),$e=q(4087),he=q(377),ce=q(4072),de=q(9489);function Ke(qe,gt){return gt?function(qe,gt){if(null!=qe){if(function(qe){return qe&&"function"==typeof qe[Ve.L]}(qe))return function(qe,gt){return new _.y(fe=>{const ht=new ee.w;return ht.add(gt.schedule(()=>{const _t=qe[Ve.L]();ht.add(_t.subscribe({next(ct){ht.add(gt.schedule(()=>fe.next(ct)))},error(ct){ht.add(gt.schedule(()=>fe.error(ct)))},complete(){ht.add(gt.schedule(()=>fe.complete()))}}))})),ht})}(qe,gt);if((0,ce.t)(qe))return function(qe,gt){return new _.y(fe=>{const ht=new ee.w;return ht.add(gt.schedule(()=>qe.then(_t=>{ht.add(gt.schedule(()=>{fe.next(_t),ht.add(gt.schedule(()=>fe.complete()))}))},_t=>{ht.add(gt.schedule(()=>fe.error(_t)))}))),ht})}(qe,gt);if((0,de.z)(qe))return(0,$e.r)(qe,gt);if(function(qe){return qe&&"function"==typeof qe[he.hZ]}(qe)||"string"==typeof qe)return function(qe,gt){if(!qe)throw new Error("Iterable cannot be null");return new _.y(fe=>{const ht=new ee.w;let _t;return ht.add(()=>{_t&&"function"==typeof _t.return&&_t.return()}),ht.add(gt.schedule(()=>{_t=qe[he.hZ](),ht.add(gt.schedule(function(){if(fe.closed)return;let ct,De;try{const xt=_t.next();ct=xt.value,De=xt.done}catch(xt){return void fe.error(xt)}De?fe.complete():(fe.next(ct),this.schedule())}))})),ht})}(qe,gt)}throw new TypeError((null!==qe&&typeof qe||qe)+" is not observable")}(qe,gt):qe instanceof _.y?qe:new _.y((0,g.s)(qe))}},6693:(Gt,tt,q)=>{"use strict";q.d(tt,{n:()=>Ve});var _=q(7574),g=q(5015),ee=q(4087);function Ve(Ne,ye){return ye?(0,ee.r)(Ne,ye):new _.y((0,g.V)(Ne))}},6682:(Gt,tt,q)=>{"use strict";q.d(tt,{T:()=>Ne});var _=q(7574),g=q(4869),ee=q(3282),Ve=q(6693);function Ne(...ye){let $e=Number.POSITIVE_INFINITY,he=null,me=ye[ye.length-1];return(0,g.K)(me)?(he=ye.pop(),ye.length>1&&"number"==typeof ye[ye.length-1]&&($e=ye.pop())):"number"==typeof me&&($e=ye.pop()),null===he&&1===ye.length&&ye[0]instanceof _.y?ye[0]:(0,ee.J)($e)((0,Ve.n)(ye,he))}},5917:(Gt,tt,q)=>{"use strict";q.d(tt,{of:()=>Ve});var _=q(4869),g=q(6693),ee=q(4087);function Ve(...Ne){let ye=Ne[Ne.length-1];return(0,_.K)(ye)?(Ne.pop(),(0,ee.r)(Ne,ye)):(0,g.n)(Ne)}},5304:(Gt,tt,q)=>{"use strict";q.d(tt,{K:()=>g});var _=q(5345);function g(Ne){return function($e){const he=new ee(Ne),me=$e.lift(he);return he.caught=me}}class ee{constructor(ye){this.selector=ye}call(ye,$e){return $e.subscribe(new Ve(ye,this.selector,this.caught))}}class Ve extends _.Ds{constructor(ye,$e,he){super(ye),this.selector=$e,this.caught=he}error(ye){if(!this.isStopped){let $e;try{$e=this.selector(ye,this.caught)}catch(te){return void super.error(te)}this._unsubscribeAndRecycle();const he=new _.IY(this);this.add(he);const me=(0,_.ft)($e,he);me!==he&&this.add(me)}}}},5242:(Gt,tt,q)=>{"use strict";q.d(tt,{d:()=>g});var _=q(7393);function g(Ne=null){return ye=>ye.lift(new ee(Ne))}class ee{constructor(ye){this.defaultValue=ye}call(ye,$e){return $e.subscribe(new Ve(ye,this.defaultValue))}}class Ve extends _.L{constructor(ye,$e){super(ye),this.defaultValue=$e,this.isEmpty=!0}_next(ye){this.isEmpty=!1,this.destination.next(ye)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:(Gt,tt,q)=>{"use strict";q.d(tt,{h:()=>g});var _=q(7393);function g(Ne,ye){return function(he){return he.lift(new ee(Ne,ye))}}class ee{constructor(ye,$e){this.predicate=ye,this.thisArg=$e}call(ye,$e){return $e.subscribe(new Ve(ye,this.predicate,this.thisArg))}}class Ve extends _.L{constructor(ye,$e,he){super(ye),this.predicate=$e,this.thisArg=he,this.count=0}_next(ye){let $e;try{$e=this.predicate.call(this.thisArg,ye,this.count++)}catch(he){return void this.destination.error(he)}$e&&this.destination.next(ye)}}},8049:(Gt,tt,q)=>{"use strict";q.d(tt,{P:()=>$e});var _=q(3410),g=q(5435),ee=q(5257),Ve=q(5242),Ne=q(4635),ye=q(4487);function $e(he,me){const te=arguments.length>=2;return ce=>ce.pipe(he?(0,g.h)((de,Se)=>he(de,Se,ce)):ye.y,(0,ee.q)(1),te?(0,Ve.d)(me):(0,Ne.T)(()=>new _.K))}},8002:(Gt,tt,q)=>{"use strict";q.d(tt,{U:()=>g});var _=q(7393);function g(Ne,ye){return function(he){if("function"!=typeof Ne)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return he.lift(new ee(Ne,ye))}}class ee{constructor(ye,$e){this.project=ye,this.thisArg=$e}call(ye,$e){return $e.subscribe(new Ve(ye,this.project,this.thisArg))}}class Ve extends _.L{constructor(ye,$e,he){super(ye),this.project=$e,this.count=0,this.thisArg=he||this}_next(ye){let $e;try{$e=this.project.call(this.thisArg,ye,this.count++)}catch(he){return void this.destination.error(he)}this.destination.next($e)}}},3282:(Gt,tt,q)=>{"use strict";q.d(tt,{J:()=>ee});var _=q(9773),g=q(4487);function ee(Ve=Number.POSITIVE_INFINITY){return(0,_.zg)(g.y,Ve)}},9773:(Gt,tt,q)=>{"use strict";q.d(tt,{zg:()=>Ve});var _=q(8002),g=q(4402),ee=q(5345);function Ve(he,me,te=Number.POSITIVE_INFINITY){return"function"==typeof me?ce=>ce.pipe(Ve((de,Se)=>(0,g.D)(he(de,Se)).pipe((0,_.U)((Fe,Ke)=>me(de,Fe,Se,Ke))),te)):("number"==typeof me&&(te=me),ce=>ce.lift(new Ne(he,te)))}class Ne{constructor(me,te=Number.POSITIVE_INFINITY){this.project=me,this.concurrent=te}call(me,te){return te.subscribe(new ye(me,this.project,this.concurrent))}}class ye extends ee.Ds{constructor(me,te,ce=Number.POSITIVE_INFINITY){super(me),this.project=te,this.concurrent=ce,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(me){this.active<this.concurrent?this._tryNext(me):this.buffer.push(me)}_tryNext(me){let te;const ce=this.index++;try{te=this.project(me,ce)}catch(de){return void this.destination.error(de)}this.active++,this._innerSub(te)}_innerSub(me){const te=new ee.IY(this),ce=this.destination;ce.add(te);const de=(0,ee.ft)(me,te);de!==te&&ce.add(de)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(me){this.destination.next(me)}notifyComplete(){const me=this.buffer;this.active--,me.length>0?this._next(me.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Gt,tt,q)=>{"use strict";q.d(tt,{ht:()=>ce,QV:()=>me});var _=q(7393),g=q(9193),ee=q(5917),Ve=q(7574);class he{constructor(Fe,Ke,qe){this.kind=Fe,this.value=Ke,this.error=qe,this.hasValue="N"===Fe}observe(Fe){switch(this.kind){case"N":return Fe.next&&Fe.next(this.value);case"E":return Fe.error&&Fe.error(this.error);case"C":return Fe.complete&&Fe.complete()}}do(Fe,Ke,qe){switch(this.kind){case"N":return Fe&&Fe(this.value);case"E":return Ke&&Ke(this.error);case"C":return qe&&qe()}}accept(Fe,Ke,qe){return Fe&&"function"==typeof Fe.next?this.observe(Fe):this.do(Fe,Ke,qe)}toObservable(){switch(this.kind){case"N":return(0,ee.of)(this.value);case"E":return Se=this.error,new Ve.y(Ke=>Ke.error(Se));case"C":return(0,g.c)()}var Se;throw new Error("unexpected notification kind value")}static createNext(Fe){return void 0!==Fe?new he("N",Fe):he.undefinedValueNotification}static createError(Fe){return new he("E",void 0,Fe)}static createComplete(){return he.completeNotification}}function me(Se,Fe=0){return function(qe){return qe.lift(new te(Se,Fe))}}he.completeNotification=new he("C"),he.undefinedValueNotification=new he("N",void 0);class te{constructor(Fe,Ke=0){this.scheduler=Fe,this.delay=Ke}call(Fe,Ke){return Ke.subscribe(new ce(Fe,this.scheduler,this.delay))}}class ce extends _.L{constructor(Fe,Ke,qe=0){super(Fe),this.scheduler=Ke,this.delay=qe}static dispatch(Fe){const{notification:Ke,destination:qe}=Fe;Ke.observe(qe),this.unsubscribe()}scheduleMessage(Fe){this.destination.add(this.scheduler.schedule(ce.dispatch,this.delay,new de(Fe,this.destination)))}_next(Fe){this.scheduleMessage(he.createNext(Fe))}_error(Fe){this.scheduleMessage(he.createError(Fe)),this.unsubscribe()}_complete(){this.scheduleMessage(he.createComplete()),this.unsubscribe()}}class de{constructor(Fe,Ke){this.notification=Fe,this.destination=Ke}}},1307:(Gt,tt,q)=>{"use strict";q.d(tt,{x:()=>g});var _=q(7393);function g(){return function(ye){return ye.lift(new ee(ye))}}class ee{constructor(ye){this.connectable=ye}call(ye,$e){const{connectable:he}=this;he._refCount++;const me=new Ve(ye,he),te=$e.subscribe(me);return me.closed||(me.connection=he.connect()),te}}class Ve extends _.L{constructor(ye,$e){super(ye),this.connectable=$e}_unsubscribe(){const{connectable:ye}=this;if(!ye)return void(this.connection=null);this.connectable=null;const $e=ye._refCount;if($e<=0)return void(this.connection=null);if(ye._refCount=$e-1,$e>1)return void(this.connection=null);const{connection:he}=this,me=ye._connection;this.connection=null,me&&(!he||me===he)&&me.unsubscribe()}}},2145:(Gt,tt,q)=>{"use strict";q.d(tt,{R:()=>g});var _=q(7393);function g(Ne,ye){let $e=!1;return arguments.length>=2&&($e=!0),function(me){return me.lift(new ee(Ne,ye,$e))}}class ee{constructor(ye,$e,he=!1){this.accumulator=ye,this.seed=$e,this.hasSeed=he}call(ye,$e){return $e.subscribe(new Ve(ye,this.accumulator,this.seed,this.hasSeed))}}class Ve extends _.L{constructor(ye,$e,he,me){super(ye),this.accumulator=$e,this._seed=he,this.hasSeed=me,this.index=0}get seed(){return this._seed}set seed(ye){this.hasSeed=!0,this._seed=ye}_next(ye){if(this.hasSeed)return this._tryNext(ye);this.seed=ye,this.destination.next(ye)}_tryNext(ye){const $e=this.index++;let he;try{he=this.accumulator(this.seed,ye,$e)}catch(me){this.destination.error(me)}this.seed=he,this.destination.next(he)}}},8819:(Gt,tt,q)=>{"use strict";q.d(tt,{B:()=>$e});var _=q(2441);var Ve=q(1307),Ne=q(9765);function ye(){return new Ne.xQ}function $e(){return he=>(0,Ve.x)()(function(he,me){return function(ce){let de;de="function"==typeof he?he:function(){return he};const Se=Object.create(ce,_.N);return Se.source=ce,Se.subjectFactory=de,Se}}(ye)(he))}},9761:(Gt,tt,q)=>{"use strict";q.d(tt,{O:()=>ee});var _=q(8071),g=q(4869);function ee(...Ve){const Ne=Ve[Ve.length-1];return(0,g.K)(Ne)?(Ve.pop(),ye=>(0,_.z)(Ve,ye,Ne)):ye=>(0,_.z)(Ve,ye)}},3101:(Gt,tt,q)=>{"use strict";q.d(tt,{R:()=>gt});var _=q(7574);let g=1;const ee=Promise.resolve(),Ve={};function Ne(ht){return ht in Ve&&(delete Ve[ht],!0)}const ye={setImmediate(ht){const _t=g++;return Ve[_t]=!0,ee.then(()=>Ne(_t)&&ht()),_t},clearImmediate(ht){Ne(ht)}};var he=q(6465),te=q(6102);const Se=new class extends te.v{flush(_t){this.active=!0,this.scheduled=void 0;const{actions:ct}=this;let De,xt=-1,$t=ct.length;_t=_t||ct.shift();do{if(De=_t.execute(_t.state,_t.delay))break}while(++xt<$t&&(_t=ct.shift()));if(this.active=!1,De){for(;++xt<$t&&(_t=ct.shift());)_t.unsubscribe();throw De}}}(class extends he.o{constructor(_t,ct){super(_t,ct),this.scheduler=_t,this.work=ct}requestAsyncId(_t,ct,De=0){return null!==De&&De>0?super.requestAsyncId(_t,ct,De):(_t.actions.push(this),_t.scheduled||(_t.scheduled=ye.setImmediate(_t.flush.bind(_t,null))))}recycleAsyncId(_t,ct,De=0){if(null!==De&&De>0||null===De&&this.delay>0)return super.recycleAsyncId(_t,ct,De);0===_t.actions.length&&(ye.clearImmediate(ct),_t.scheduled=void 0)}});var Fe=q(9796);class qe extends _.y{constructor(_t,ct=0,De=Se){var ht;super(),this.source=_t,this.delayTime=ct,this.scheduler=De,(!(!(0,Fe.k)(ht=ct)&&ht-parseFloat(ht)+1>=0)||ct<0)&&(this.delayTime=0),(!De||"function"!=typeof De.schedule)&&(this.scheduler=Se)}static create(_t,ct=0,De=Se){return new qe(_t,ct,De)}static dispatch(_t){const{source:ct,subscriber:De}=_t;return this.add(ct.subscribe(De))}_subscribe(_t){return this.scheduler.schedule(qe.dispatch,this.delayTime,{source:this.source,subscriber:_t})}}function gt(ht,_t=0){return function(De){return De.lift(new fe(ht,_t))}}class fe{constructor(_t,ct){this.scheduler=_t,this.delay=ct}call(_t,ct){return new qe(ct,this.delay,this.scheduler).subscribe(_t)}}},3190:(Gt,tt,q)=>{"use strict";q.d(tt,{w:()=>Ve});var _=q(8002),g=q(4402),ee=q(5345);function Ve($e,he){return"function"==typeof he?me=>me.pipe(Ve((te,ce)=>(0,g.D)($e(te,ce)).pipe((0,_.U)((de,Se)=>he(te,de,ce,Se))))):me=>me.lift(new Ne($e))}class Ne{constructor(he){this.project=he}call(he,me){return me.subscribe(new ye(he,this.project))}}class ye extends ee.Ds{constructor(he,me){super(he),this.project=me,this.index=0}_next(he){let me;const te=this.index++;try{me=this.project(he,te)}catch(ce){return void this.destination.error(ce)}this._innerSub(me)}_innerSub(he){const me=this.innerSubscription;me&&me.unsubscribe();const te=new ee.IY(this),ce=this.destination;ce.add(te),this.innerSubscription=(0,ee.ft)(he,te),this.innerSubscription!==te&&ce.add(this.innerSubscription)}_complete(){const{innerSubscription:he}=this;(!he||he.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(he){this.destination.next(he)}}},5257:(Gt,tt,q)=>{"use strict";q.d(tt,{q:()=>Ve});var _=q(7393),g=q(7108),ee=q(9193);function Ve($e){return he=>0===$e?(0,ee.c)():he.lift(new Ne($e))}class Ne{constructor(he){if(this.total=he,this.total<0)throw new g.W}call(he,me){return me.subscribe(new ye(he,this.total))}}class ye extends _.L{constructor(he,me){super(he),this.total=me,this.count=0}_next(he){const me=this.total,te=++this.count;te<=me&&(this.destination.next(he),te===me&&(this.destination.complete(),this.unsubscribe()))}}},8307:(Gt,tt,q)=>{"use strict";q.d(tt,{b:()=>Ve});var _=q(7393),g=q(8640),ee=q(9105);function Ve($e,he,me){return function(ce){return ce.lift(new Ne($e,he,me))}}class Ne{constructor(he,me,te){this.nextOrObserver=he,this.error=me,this.complete=te}call(he,me){return me.subscribe(new ye(he,this.nextOrObserver,this.error,this.complete))}}class ye extends _.L{constructor(he,me,te,ce){super(he),this._tapNext=g.Z,this._tapError=g.Z,this._tapComplete=g.Z,this._tapError=te||g.Z,this._tapComplete=ce||g.Z,(0,ee.m)(me)?(this._context=this,this._tapNext=me):me&&(this._context=me,this._tapNext=me.next||g.Z,this._tapError=me.error||g.Z,this._tapComplete=me.complete||g.Z)}_next(he){try{this._tapNext.call(this._context,he)}catch(me){return void this.destination.error(me)}this.destination.next(he)}_error(he){try{this._tapError.call(this._context,he)}catch(me){return void this.destination.error(me)}this.destination.error(he)}_complete(){try{this._tapComplete.call(this._context)}catch(he){return void this.destination.error(he)}return this.destination.complete()}}},4635:(Gt,tt,q)=>{"use strict";q.d(tt,{T:()=>ee});var _=q(3410),g=q(7393);function ee($e=ye){return he=>he.lift(new Ve($e))}class Ve{constructor(he){this.errorFactory=he}call(he,me){return me.subscribe(new Ne(he,this.errorFactory))}}class Ne extends g.L{constructor(he,me){super(he),this.errorFactory=me,this.hasValue=!1}_next(he){this.hasValue=!0,this.destination.next(he)}_complete(){if(this.hasValue)return this.destination.complete();{let he;try{he=this.errorFactory()}catch(me){he=me}this.destination.error(he)}}}function ye(){return new _.K}},4087:(Gt,tt,q)=>{"use strict";q.d(tt,{r:()=>ee});var _=q(7574),g=q(5319);function ee(Ve,Ne){return new _.y(ye=>{const $e=new g.w;let he=0;return $e.add(Ne.schedule(function(){he!==Ve.length?(ye.next(Ve[he++]),ye.closed||$e.add(this.schedule())):ye.complete()})),$e})}},6465:(Gt,tt,q)=>{"use strict";q.d(tt,{o:()=>ee});var _=q(5319);class g extends _.w{constructor(Ne,ye){super()}schedule(Ne,ye=0){return this}}class ee extends g{constructor(Ne,ye){super(Ne,ye),this.scheduler=Ne,this.work=ye,this.pending=!1}schedule(Ne,ye=0){if(this.closed)return this;this.state=Ne;const $e=this.id,he=this.scheduler;return null!=$e&&(this.id=this.recycleAsyncId(he,$e,ye)),this.pending=!0,this.delay=ye,this.id=this.id||this.requestAsyncId(he,this.id,ye),this}requestAsyncId(Ne,ye,$e=0){return setInterval(Ne.flush.bind(Ne,this),$e)}recycleAsyncId(Ne,ye,$e=0){if(null!==$e&&this.delay===$e&&!1===this.pending)return ye;clearInterval(ye)}execute(Ne,ye){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const $e=this._execute(Ne,ye);if($e)return $e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ne,ye){let he,$e=!1;try{this.work(Ne)}catch(me){$e=!0,he=!!me&&me||new Error(me)}if($e)return this.unsubscribe(),he}_unsubscribe(){const Ne=this.id,ye=this.scheduler,$e=ye.actions,he=$e.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==he&&$e.splice(he,1),null!=Ne&&(this.id=this.recycleAsyncId(ye,Ne,null)),this.delay=null}}},6102:(Gt,tt,q)=>{"use strict";q.d(tt,{v:()=>g});let _=(()=>{class ee{constructor(Ne,ye=ee.now){this.SchedulerAction=Ne,this.now=ye}schedule(Ne,ye=0,$e){return new this.SchedulerAction(this,Ne).schedule($e,ye)}}return ee.now=()=>Date.now(),ee})();class g extends _{constructor(Ve,Ne=_.now){super(Ve,()=>g.delegate&&g.delegate!==this?g.delegate.now():Ne()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ve,Ne=0,ye){return g.delegate&&g.delegate!==this?g.delegate.schedule(Ve,Ne,ye):super.schedule(Ve,Ne,ye)}flush(Ve){const{actions:Ne}=this;if(this.active)return void Ne.push(Ve);let ye;this.active=!0;do{if(ye=Ve.execute(Ve.state,Ve.delay))break}while(Ve=Ne.shift());if(this.active=!1,ye){for(;Ve=Ne.shift();)Ve.unsubscribe();throw ye}}}},3637:(Gt,tt,q)=>{"use strict";q.d(tt,{z:()=>ee,P:()=>Ve});var _=q(6465);const ee=new(q(6102).v)(_.o),Ve=ee},7771:(Gt,tt,q)=>{"use strict";q.d(tt,{c:()=>ye,N:()=>Ne});var _=q(6465),ee=q(6102);const Ne=new class extends ee.v{}(class extends _.o{constructor(he,me){super(he,me),this.scheduler=he,this.work=me}schedule(he,me=0){return me>0?super.schedule(he,me):(this.delay=me,this.state=he,this.scheduler.flush(this),this)}execute(he,me){return me>0||this.closed?super.execute(he,me):this._execute(he,me)}requestAsyncId(he,me,te=0){return null!==te&&te>0||null===te&&this.delay>0?super.requestAsyncId(he,me,te):he.flush(this)}}),ye=Ne},377:(Gt,tt,q)=>{"use strict";q.d(tt,{hZ:()=>g});const g="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Gt,tt,q)=>{"use strict";q.d(tt,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Gt,tt,q)=>{"use strict";q.d(tt,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(Gt,tt,q)=>{"use strict";q.d(tt,{W:()=>g});const g=(()=>{function ee(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return ee.prototype=Object.create(Error.prototype),ee})()},3410:(Gt,tt,q)=>{"use strict";q.d(tt,{K:()=>g});const g=(()=>{function ee(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return ee.prototype=Object.create(Error.prototype),ee})()},7971:(Gt,tt,q)=>{"use strict";q.d(tt,{N:()=>g});const g=(()=>{function ee(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return ee.prototype=Object.create(Error.prototype),ee})()},4449:(Gt,tt,q)=>{"use strict";function _(g){setTimeout(()=>{throw g},0)}q.d(tt,{z:()=>_})},4487:(Gt,tt,q)=>{"use strict";function _(g){return g}q.d(tt,{y:()=>_})},9796:(Gt,tt,q)=>{"use strict";q.d(tt,{k:()=>_});const _=Array.isArray||(g=>g&&"number"==typeof g.length)},9489:(Gt,tt,q)=>{"use strict";q.d(tt,{z:()=>_});const _=g=>g&&"number"==typeof g.length&&"function"!=typeof g},9105:(Gt,tt,q)=>{"use strict";function _(g){return"function"==typeof g}q.d(tt,{m:()=>_})},1555:(Gt,tt,q)=>{"use strict";function _(g){return null!==g&&"object"==typeof g}q.d(tt,{K:()=>_})},4072:(Gt,tt,q)=>{"use strict";function _(g){return!!g&&"function"!=typeof g.subscribe&&"function"==typeof g.then}q.d(tt,{t:()=>_})},4869:(Gt,tt,q)=>{"use strict";function _(g){return g&&"function"==typeof g.schedule}q.d(tt,{K:()=>_})},8640:(Gt,tt,q)=>{"use strict";function _(){}q.d(tt,{Z:()=>_})},7444:(Gt,tt,q)=>{"use strict";q.d(tt,{s:()=>ce});var _=q(5015),g=q(4449),Ve=q(377),ye=q(6554),he=q(9489),me=q(4072),te=q(1555);const ce=de=>{if(de&&"function"==typeof de[ye.L])return(de=>Se=>{const Fe=de[ye.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(Se)})(de);if((0,he.z)(de))return(0,_.V)(de);if((0,me.t)(de))return(de=>Se=>(de.then(Fe=>{Se.closed||(Se.next(Fe),Se.complete())},Fe=>Se.error(Fe)).then(null,g.z),Se))(de);if(de&&"function"==typeof de[Ve.hZ])return(de=>Se=>{const Fe=de[Ve.hZ]();for(;;){let Ke;try{Ke=Fe.next()}catch(qe){return Se.error(qe),Se}if(Ke.done){Se.complete();break}if(Se.next(Ke.value),Se.closed)break}return"function"==typeof Fe.return&&Se.add(()=>{Fe.return&&Fe.return()}),Se})(de);{const Fe=`You provided ${(0,te.K)(de)?"an invalid object":`'${de}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},5015:(Gt,tt,q)=>{"use strict";q.d(tt,{V:()=>_});const _=g=>ee=>{for(let Ve=0,Ne=g.length;Ve<Ne&&!ee.closed;Ve++)ee.next(g[Ve]);ee.complete()}},8259:function(Gt){Gt.exports=function(){"use strict";const tt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),q="SweetAlert2:",g=O=>O.charAt(0).toUpperCase()+O.slice(1),ee=O=>Array.prototype.slice.call(O),Ve=O=>{console.warn("".concat(q," ").concat("object"==typeof O?O.join(" "):O))},Ne=O=>{console.error("".concat(q," ").concat(O))},ye=[],he=(O,M)=>{(O=>{ye.includes(O)||(ye.push(O),Ve(O))})('"'.concat(O,'" is deprecated and will be removed in the next major release. Please use "').concat(M,'" instead.'))},me=O=>"function"==typeof O?O():O,te=O=>O&&"function"==typeof O.toPromise,ce=O=>te(O)?O.toPromise():Promise.resolve(O),de=O=>O&&Promise.resolve(O)===O,Fe=O=>O instanceof Element||(O=>"object"==typeof O&&O.jquery)(O),gt=O=>{const M={};for(const Y in O)M[O[Y]]="swal2-"+O[Y];return M},fe=gt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ht=gt(["success","warning","info","question","error"]),_t=()=>document.body.querySelector(".".concat(fe.container)),ct=O=>{const M=_t();return M?M.querySelector(O):null},De=O=>ct(".".concat(O)),xt=()=>De(fe.popup),$t=()=>De(fe.icon),nn=()=>De(fe.title),st=()=>De(fe["html-container"]),Le=()=>De(fe.image),nt=()=>De(fe["progress-steps"]),Qe=()=>De(fe["validation-message"]),Te=()=>ct(".".concat(fe.actions," .").concat(fe.confirm)),ze=()=>ct(".".concat(fe.actions," .").concat(fe.deny)),Et=()=>ct(".".concat(fe.loader)),Ft=()=>ct(".".concat(fe.actions," .").concat(fe.cancel)),Yt=()=>De(fe.actions),Kt=()=>De(fe.footer),Lt=()=>De(fe["timer-progress-bar"]),tn=()=>De(fe.close),dt=()=>{const O=ee(xt().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Y,Me)=>(Y=parseInt(Y.getAttribute("tabindex")))>(Me=parseInt(Me.getAttribute("tabindex")))?1:Y<Me?-1:0),M=ee(xt().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Y=>"-1"!==Y.getAttribute("tabindex"));return(O=>{const M=[];for(let Y=0;Y<O.length;Y++)-1===M.indexOf(O[Y])&&M.push(O[Y]);return M})(O.concat(M)).filter(Y=>hn(Y))},ut=()=>!xe()&&!document.body.classList.contains(fe["no-backdrop"]),xe=()=>document.body.classList.contains(fe["toast-shown"]),Tt={previousBodyPadding:null},jt=(O,M)=>{if(O.textContent="",M){const Me=(new DOMParser).parseFromString(M,"text/html");ee(Me.querySelector("head").childNodes).forEach(Nt=>{O.appendChild(Nt)}),ee(Me.querySelector("body").childNodes).forEach(Nt=>{O.appendChild(Nt)})}},On=(O,M)=>{if(!M)return!1;const Y=M.split(/\s+/);for(let Me=0;Me<Y.length;Me++)if(!O.classList.contains(Y[Me]))return!1;return!0},bn=(O,M,Y)=>{if(((O,M)=>{ee(O.classList).forEach(Y=>{!Object.values(fe).includes(Y)&&!Object.values(ht).includes(Y)&&!Object.values(M.showClass).includes(Y)&&O.classList.remove(Y)})})(O,M),M.customClass&&M.customClass[Y]){if("string"!=typeof M.customClass[Y]&&!M.customClass[Y].forEach)return Ve("Invalid type of customClass.".concat(Y,'! Expected string or iterable object, got "').concat(typeof M.customClass[Y],'"'));Be(O,M.customClass[Y])}},ar=(O,M)=>{if(!M)return null;switch(M){case"select":case"textarea":case"file":return lt(O,fe[M]);case"checkbox":return O.querySelector(".".concat(fe.checkbox," input"));case"radio":return O.querySelector(".".concat(fe.radio," input:checked"))||O.querySelector(".".concat(fe.radio," input:first-child"));case"range":return O.querySelector(".".concat(fe.range," input"));default:return lt(O,fe.input)}},jn=O=>{if(O.focus(),"file"!==O.type){const M=O.value;O.value="",O.value=M}},Ot=(O,M,Y)=>{!O||!M||("string"==typeof M&&(M=M.split(/\s+/).filter(Boolean)),M.forEach(Me=>{O.forEach?O.forEach(Nt=>{Y?Nt.classList.add(Me):Nt.classList.remove(Me)}):Y?O.classList.add(Me):O.classList.remove(Me)}))},Be=(O,M)=>{Ot(O,M,!0)},ot=(O,M)=>{Ot(O,M,!1)},lt=(O,M)=>{for(let Y=0;Y<O.childNodes.length;Y++)if(On(O.childNodes[Y],M))return O.childNodes[Y]},rn=(O,M,Y)=>{Y==="".concat(parseInt(Y))&&(Y=parseInt(Y)),Y||0===parseInt(Y)?O.style[M]="number"==typeof Y?"".concat(Y,"px"):Y:O.style.removeProperty(M)},un=(O,M="flex")=>{O.style.display=M},Ht=O=>{O.style.display="none"},dn=(O,M,Y,Me)=>{const Nt=O.querySelector(M);Nt&&(Nt.style[Y]=Me)},Xt=(O,M,Y)=>{M?un(O,Y):Ht(O)},hn=O=>!(!O||!(O.offsetWidth||O.offsetHeight||O.getClientRects().length)),Rr=O=>O.scrollHeight>O.clientHeight,nr=O=>{const M=window.getComputedStyle(O),Y=parseFloat(M.getPropertyValue("animation-duration")||"0"),Me=parseFloat(M.getPropertyValue("transition-duration")||"0");return Y>0||Me>0},kt=(O,M=!1)=>{const Y=Lt();hn(Y)&&(M&&(Y.style.transition="none",Y.style.width="100%"),setTimeout(()=>{Y.style.transition="width ".concat(O/1e3,"s linear"),Y.style.width="0%"},10))},jr=()=>"undefined"==typeof window||"undefined"==typeof document,hi='\n <div aria-labelledby="'.concat(fe.title,'" aria-describedby="').concat(fe["html-container"],'" class="').concat(fe.popup,'" tabindex="-1">\n   <button type="button" class="').concat(fe.close,'"></button>\n   <ul class="').concat(fe["progress-steps"],'"></ul>\n   <div class="').concat(fe.icon,'"></div>\n   <img class="').concat(fe.image,'" />\n   <h2 class="').concat(fe.title,'" id="').concat(fe.title,'"></h2>\n   <div class="').concat(fe["html-container"],'" id="').concat(fe["html-container"],'"></div>\n   <input class="').concat(fe.input,'" />\n   <input type="file" class="').concat(fe.file,'" />\n   <div class="').concat(fe.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(fe.select,'"></select>\n   <div class="').concat(fe.radio,'"></div>\n   <label for="').concat(fe.checkbox,'" class="').concat(fe.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(fe.label,'"></span>\n   </label>\n   <textarea class="').concat(fe.textarea,'"></textarea>\n   <div class="').concat(fe["validation-message"],'" id="').concat(fe["validation-message"],'"></div>\n   <div class="').concat(fe.actions,'">\n     <div class="').concat(fe.loader,'"></div>\n     <button type="button" class="').concat(fe.confirm,'"></button>\n     <button type="button" class="').concat(fe.deny,'"></button>\n     <button type="button" class="').concat(fe.cancel,'"></button>\n   </div>\n   <div class="').concat(fe.footer,'"></div>\n   <div class="').concat(fe["timer-progress-bar-container"],'">\n     <div class="').concat(fe["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),dr=()=>{Rs.isVisible()&&Rs.resetValidationMessage()},ke=O=>{const M=(()=>{const O=_t();return!!O&&(O.remove(),ot([document.documentElement,document.body],[fe["no-backdrop"],fe["toast-shown"],fe["has-column"]]),!0)})();if(jr())return void Ne("SweetAlert2 requires document to initialize");const Y=document.createElement("div");Y.className=fe.container,M&&Be(Y,fe["no-transition"]),jt(Y,hi);const Me=(O=>"string"==typeof O?document.querySelector(O):O)(O.target);Me.appendChild(Y),(O=>{const M=xt();M.setAttribute("role",O.toast?"alert":"dialog"),M.setAttribute("aria-live",O.toast?"polite":"assertive"),O.toast||M.setAttribute("aria-modal","true")})(O),(O=>{"rtl"===window.getComputedStyle(O).direction&&Be(_t(),fe.rtl)})(Me),(()=>{const O=xt(),M=lt(O,fe.input),Y=lt(O,fe.file),Me=O.querySelector(".".concat(fe.range," input")),Nt=O.querySelector(".".concat(fe.range," output")),Nn=lt(O,fe.select),rr=O.querySelector(".".concat(fe.checkbox," input")),L=lt(O,fe.textarea);M.oninput=dr,Y.onchange=dr,Nn.onchange=dr,rr.onchange=dr,L.oninput=dr,Me.oninput=()=>{dr(),Nt.value=Me.value},Me.onchange=()=>{dr(),Me.nextSibling.value=Me.value}})()},mt=(O,M)=>{O instanceof HTMLElement?M.appendChild(O):"object"==typeof O?Je(O,M):O&&jt(M,O)},Je=(O,M)=>{O.jquery?Vt(M,O):jt(M,O.toString())},Vt=(O,M)=>{if(O.textContent="",0 in M)for(let Y=0;Y in M;Y++)O.appendChild(M[Y].cloneNode(!0));else O.appendChild(M.cloneNode(!0))},yn=(()=>{if(jr())return!1;const O=document.createElement("div"),M={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const Y in M)if(Object.prototype.hasOwnProperty.call(M,Y)&&void 0!==O.style[Y])return M[Y];return!1})(),Er=(O,M)=>{const Y=Yt(),Me=Et(),Nt=Te(),Nn=ze(),rr=Ft();M.showConfirmButton||M.showDenyButton||M.showCancelButton?un(Y):Ht(Y),bn(Y,M,"actions"),Hn(Nt,"confirm",M),Hn(Nn,"deny",M),Hn(rr,"cancel",M),function(O,M,Y,Me){if(!Me.buttonsStyling)return ot([O,M,Y],fe.styled);Be([O,M,Y],fe.styled),Me.confirmButtonColor&&(O.style.backgroundColor=Me.confirmButtonColor,Be(O,fe["default-outline"])),Me.denyButtonColor&&(M.style.backgroundColor=Me.denyButtonColor,Be(M,fe["default-outline"])),Me.cancelButtonColor&&(Y.style.backgroundColor=Me.cancelButtonColor,Be(Y,fe["default-outline"]))}(Nt,Nn,rr,M),M.reverseButtons&&(Y.insertBefore(rr,Me),Y.insertBefore(Nn,Me),Y.insertBefore(Nt,Me)),jt(Me,M.loaderHtml),bn(Me,M,"loader")};function Hn(O,M,Y){Xt(O,Y["show".concat(g(M),"Button")],"inline-block"),jt(O,Y["".concat(M,"ButtonText")]),O.setAttribute("aria-label",Y["".concat(M,"ButtonAriaLabel")]),O.className=fe[M],bn(O,Y,"".concat(M,"Button")),Be(O,Y["".concat(M,"ButtonClass")])}const ji=(O,M)=>{const Y=_t();!Y||(function(O,M){"string"==typeof M?O.style.background=M:M||Be([document.documentElement,document.body],fe["no-backdrop"])}(Y,M.backdrop),function(O,M){M in fe?Be(O,fe[M]):(Ve('The "position" parameter is not valid, defaulting to "center"'),Be(O,fe.center))}(Y,M.position),function(O,M){if(M&&"string"==typeof M){const Y="grow-".concat(M);Y in fe&&Be(O,fe[Y])}}(Y,M.grow),bn(Y,M,"container"))};var Cn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const gi=["input","file","range","select","radio","checkbox","textarea"],Yi=O=>{if(!Yn[O.input])return Ne('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(O.input,'"'));const M=ui(O.input),Y=Yn[O.input](M,O);un(Y),setTimeout(()=>{jn(Y)})},br=(O,M)=>{const Y=ar(xt(),O);if(Y){(O=>{for(let M=0;M<O.attributes.length;M++){const Y=O.attributes[M].name;["type","value","style"].includes(Y)||O.removeAttribute(Y)}})(Y);for(const Me in M)Y.setAttribute(Me,M[Me])}},Rn=O=>{const M=ui(O.input);O.customClass&&Be(M,O.customClass.input)},an=(O,M)=>{(!O.placeholder||M.inputPlaceholder)&&(O.placeholder=M.inputPlaceholder)},Tr=(O,M,Y)=>{if(Y.inputLabel){O.id=fe.input;const Me=document.createElement("label"),Nt=fe["input-label"];Me.setAttribute("for",O.id),Me.className=Nt,Be(Me,Y.customClass.inputLabel),Me.innerText=Y.inputLabel,M.insertAdjacentElement("beforebegin",Me)}},ui=O=>{const M=fe[O]?fe[O]:fe.input;return lt(xt(),M)},Yn={};Yn.text=Yn.email=Yn.password=Yn.number=Yn.tel=Yn.url=(O,M)=>("string"==typeof M.inputValue||"number"==typeof M.inputValue?O.value=M.inputValue:de(M.inputValue)||Ve('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof M.inputValue,'"')),Tr(O,O,M),an(O,M),O.type=M.input,O),Yn.file=(O,M)=>(Tr(O,O,M),an(O,M),O),Yn.range=(O,M)=>{const Y=O.querySelector("input"),Me=O.querySelector("output");return Y.value=M.inputValue,Y.type=M.input,Me.value=M.inputValue,Tr(Y,O,M),O},Yn.select=(O,M)=>{if(O.textContent="",M.inputPlaceholder){const Y=document.createElement("option");jt(Y,M.inputPlaceholder),Y.value="",Y.disabled=!0,Y.selected=!0,O.appendChild(Y)}return Tr(O,O,M),O},Yn.radio=O=>(O.textContent="",O),Yn.checkbox=(O,M)=>{const Y=ar(xt(),"checkbox");Y.value=1,Y.id=fe.checkbox,Y.checked=Boolean(M.inputValue);const Me=O.querySelector("span");return jt(Me,M.inputPlaceholder),O},Yn.textarea=(O,M)=>{O.value=M.inputValue,an(O,M),Tr(O,O,M);return setTimeout(()=>{if("MutationObserver"in window){const Me=parseInt(window.getComputedStyle(xt()).width);new MutationObserver(()=>{const Nn=O.offsetWidth+(Me=>parseInt(window.getComputedStyle(Me).marginLeft)+parseInt(window.getComputedStyle(Me).marginRight))(O);xt().style.width=Nn>Me?"".concat(Nn,"px"):null}).observe(O,{attributes:!0,attributeFilter:["style"]})}}),O};const Ut=(O,M)=>{const Y=st();bn(Y,M,"htmlContainer"),M.html?(mt(M.html,Y),un(Y,"block")):M.text?(Y.textContent=M.text,un(Y,"block")):Ht(Y),((O,M)=>{const Y=xt(),Me=Cn.innerParams.get(O),Nt=!Me||M.input!==Me.input;gi.forEach(Nn=>{const rr=fe[Nn],L=lt(Y,rr);br(Nn,M.inputAttributes),L.className=rr,Nt&&Ht(L)}),M.input&&(Nt&&Yi(M),Rn(M))})(O,M)},Qn=(O,M)=>{for(const Y in ht)M.icon!==Y&&ot(O,ht[Y]);Be(O,ht[M.icon]),En(O,M),pr(),bn(O,M,"icon")},pr=()=>{const O=xt(),M=window.getComputedStyle(O).getPropertyValue("background-color"),Y=O.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Me=0;Me<Y.length;Me++)Y[Me].style.backgroundColor=M},Wr=(O,M)=>{O.textContent="",jt(O,M.iconHtml?ir(M.iconHtml):"success"===M.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===M.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':ir({question:"?",warning:"!",info:"i"}[M.icon]))},En=(O,M)=>{if(M.iconColor){O.style.color=M.iconColor,O.style.borderColor=M.iconColor;for(const Y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])dn(O,Y,"backgroundColor",M.iconColor);dn(O,".swal2-success-ring","borderColor",M.iconColor)}},ir=O=>'<div class="'.concat(fe["icon-content"],'">').concat(O,"</div>"),Pe=(O,M)=>{const Y=nt();if(!M.progressSteps||0===M.progressSteps.length)return Ht(Y);un(Y),Y.textContent="",M.currentProgressStep>=M.progressSteps.length&&Ve("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),M.progressSteps.forEach((Me,Nt)=>{const Nn=(O=>{const M=document.createElement("li");return Be(M,fe["progress-step"]),jt(M,O),M})(Me);if(Y.appendChild(Nn),Nt===M.currentProgressStep&&Be(Nn,fe["active-progress-step"]),Nt!==M.progressSteps.length-1){const rr=(O=>{const M=document.createElement("li");return Be(M,fe["progress-step-line"]),O.progressStepsDistance&&(M.style.width=O.progressStepsDistance),M})(M);Y.appendChild(rr)}})},vt=(O,M)=>{O.className="".concat(fe.popup," ").concat(hn(O)?M.showClass.popup:""),M.toast?(Be([document.documentElement,document.body],fe["toast-shown"]),Be(O,fe.toast)):Be(O,fe.modal),bn(O,M,"popup"),"string"==typeof M.customClass&&Be(O,M.customClass),M.icon&&Be(O,fe["icon-".concat(M.icon)])},cn=(O,M)=>{((O,M)=>{const Y=_t(),Me=xt();M.toast?(rn(Y,"width",M.width),Me.style.width="100%",Me.insertBefore(Et(),$t())):rn(Me,"width",M.width),rn(Me,"padding",M.padding),M.background&&(Me.style.background=M.background),Ht(Qe()),vt(Me,M)})(0,M),ji(0,M),Pe(0,M),((O,M)=>{const Y=Cn.innerParams.get(O),Me=$t();Y&&M.icon===Y.icon?(Wr(Me,M),Qn(Me,M)):M.icon||M.iconHtml?M.icon&&-1===Object.keys(ht).indexOf(M.icon)?(Ne('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(M.icon,'"')),Ht(Me)):(un(Me),Wr(Me,M),Qn(Me,M),Be(Me,M.showClass.icon)):Ht(Me)})(O,M),((O,M)=>{const Y=Le();if(!M.imageUrl)return Ht(Y);un(Y,""),Y.setAttribute("src",M.imageUrl),Y.setAttribute("alt",M.imageAlt),rn(Y,"width",M.imageWidth),rn(Y,"height",M.imageHeight),Y.className=fe.image,bn(Y,M,"image")})(0,M),((O,M)=>{const Y=nn();Xt(Y,M.title||M.titleText,"block"),M.title&&mt(M.title,Y),M.titleText&&(Y.innerText=M.titleText),bn(Y,M,"title")})(0,M),((O,M)=>{const Y=tn();jt(Y,M.closeButtonHtml),bn(Y,M,"closeButton"),Xt(Y,M.showCloseButton),Y.setAttribute("aria-label",M.closeButtonAriaLabel)})(0,M),Ut(O,M),Er(0,M),((O,M)=>{const Y=Kt();Xt(Y,M.footer),M.footer&&mt(M.footer,Y),bn(Y,M,"footer")})(0,M),"function"==typeof M.didRender&&M.didRender(xt())},gr=()=>Te()&&Te().click();const ti=O=>{let M=xt();M||Rs.fire(),M=xt();const Y=Et();xe()?Ht($t()):Mi(M,O),un(Y),M.setAttribute("data-loading",!0),M.setAttribute("aria-busy",!0),M.focus()},Mi=(O,M)=>{const Y=Yt(),Me=Et();!M&&hn(Te())&&(M=Te()),un(Y),M&&(Ht(M),Me.setAttribute("data-button-to-replace",M.className)),Me.parentNode.insertBefore(Me,M),Be([O,Y],fe.loading)},gn={},Ws=O=>new Promise(M=>{if(!O)return M();const Y=window.scrollX,Me=window.scrollY;gn.restoreFocusTimeout=setTimeout(()=>{gn.previousActiveElement&&gn.previousActiveElement.focus?(gn.previousActiveElement.focus(),gn.previousActiveElement=null):document.body&&document.body.focus(),M()},100),window.scrollTo(Y,Me)}),mr=()=>{if(gn.timeout)return(()=>{const O=Lt(),M=parseInt(window.getComputedStyle(O).width);O.style.removeProperty("transition"),O.style.width="100%";const Y=parseInt(window.getComputedStyle(O).width),Me=parseInt(M/Y*100);O.style.removeProperty("transition"),O.style.width="".concat(Me,"%")})(),gn.timeout.stop()},yi=()=>{if(gn.timeout){const O=gn.timeout.start();return kt(O),O}};let Ir=!1;const Vs={};const di=O=>{for(let M=O.target;M&&M!==document;M=M.parentNode)for(const Y in Vs){const Me=M.getAttribute(Y);if(Me)return void Vs[Y].fire({template:Me})}},Qi={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},xi=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Hi={},Ts=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Gr=O=>Object.prototype.hasOwnProperty.call(Qi,O),ki=O=>Hi[O],hs=O=>{Gr(O)||Ve('Unknown parameter "'.concat(O,'"'))},Is=O=>{Ts.includes(O)&&Ve('The parameter "'.concat(O,'" is incompatible with toasts'))},$i=O=>{ki(O)&&he(O,ki(O))};var Fo=Object.freeze({isValidParameter:Gr,isUpdatableParameter:O=>-1!==xi.indexOf(O),isDeprecatedParameter:ki,argsToParams:O=>{const M={};return"object"!=typeof O[0]||Fe(O[0])?["title","html","icon"].forEach((Y,Me)=>{const Nt=O[Me];"string"==typeof Nt||Fe(Nt)?M[Y]=Nt:void 0!==Nt&&Ne("Unexpected type of ".concat(Y,'! Expected "string" or "Element", got ').concat(typeof Nt))}):Object.assign(M,O[0]),M},isVisible:()=>hn(xt()),clickConfirm:gr,clickDeny:()=>ze()&&ze().click(),clickCancel:()=>Ft()&&Ft().click(),getContainer:_t,getPopup:xt,getTitle:nn,getHtmlContainer:st,getImage:Le,getIcon:$t,getInputLabel:()=>De(fe["input-label"]),getCloseButton:tn,getActions:Yt,getConfirmButton:Te,getDenyButton:ze,getCancelButton:Ft,getLoader:Et,getFooter:Kt,getTimerProgressBar:Lt,getFocusableElements:dt,getValidationMessage:Qe,isLoading:()=>xt().hasAttribute("data-loading"),fire:function(...O){return new this(...O)},mixin:function(O){return class extends(this){_main(Me,Nt){return super._main(Me,Object.assign({},O,Nt))}}},showLoading:ti,enableLoading:ti,getTimerLeft:()=>gn.timeout&&gn.timeout.getTimerLeft(),stopTimer:mr,resumeTimer:yi,toggleTimer:()=>{const O=gn.timeout;return O&&(O.running?mr():yi())},increaseTimer:O=>{if(gn.timeout){const M=gn.timeout.increase(O);return kt(M,!0),M}},isTimerRunning:()=>gn.timeout&&gn.timeout.isRunning(),bindClickHandler:function(O="data-swal-template"){Vs[O]=this,Ir||(document.body.addEventListener("click",di),Ir=!0)}});function oi(){const O=Cn.innerParams.get(this);if(!O)return;const M=Cn.domCache.get(this);Ht(M.loader),xe()?O.icon&&un($t()):Ks(M),ot([M.popup,M.actions],fe.loading),M.popup.removeAttribute("aria-busy"),M.popup.removeAttribute("data-loading"),M.confirmButton.disabled=!1,M.denyButton.disabled=!1,M.cancelButton.disabled=!1}const Ks=O=>{const M=O.popup.getElementsByClassName(O.loader.getAttribute("data-button-to-replace"));M.length?un(M[0],"inline-block"):!hn(Te())&&!hn(ze())&&!hn(Ft())&&Ht(O.actions)};const _i=()=>{null===Tt.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Tt.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Tt.previousBodyPadding+(()=>{const O=document.createElement("div");O.className=fe["scrollbar-measure"],document.body.appendChild(O);const M=O.getBoundingClientRect().width-O.clientWidth;return document.body.removeChild(O),M})(),"px"))},Ys=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const M=44;xt().scrollHeight>window.innerHeight-M&&(_t().style.paddingBottom="".concat(M,"px"))}},Fi=()=>{const O=_t();let M;O.ontouchstart=Y=>{M=js(Y)},O.ontouchmove=Y=>{M&&(Y.preventDefault(),Y.stopPropagation())}},js=O=>{const M=O.target,Y=_t();return!(Ds(O)||Gi(O)||M!==Y&&(Rr(Y)||"INPUT"===M.tagName||"TEXTAREA"===M.tagName||Rr(st())&&st().contains(M)))},Ds=O=>O.touches&&O.touches.length&&"stylus"===O.touches[0].touchType,Gi=O=>O.touches&&O.touches.length>1,rs=()=>{ee(document.body.children).forEach(M=>{M.hasAttribute("data-previous-aria-hidden")?(M.setAttribute("aria-hidden",M.getAttribute("data-previous-aria-hidden")),M.removeAttribute("data-previous-aria-hidden")):M.removeAttribute("aria-hidden")})};var is={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Zi(O,M,Y,Me){xe()?U(O,Me):(Ws(Y).then(()=>U(O,Me)),gn.keydownTarget.removeEventListener("keydown",gn.keydownHandler,{capture:gn.keydownListenerCapture}),gn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(M.setAttribute("style","display:none !important"),M.removeAttribute("class"),M.innerHTML=""):M.remove(),ut()&&(null!==Tt.previousBodyPadding&&(document.body.style.paddingRight="".concat(Tt.previousBodyPadding,"px"),Tt.previousBodyPadding=null),(()=>{if(On(document.body,fe.iosfix)){const O=parseInt(document.body.style.top,10);ot(document.body,fe.iosfix),document.body.style.top="",document.body.scrollTop=-1*O}})(),rs()),ot([document.documentElement,document.body],[fe.shown,fe["height-auto"],fe["no-backdrop"],fe["toast-shown"]])}function As(O){O=Qs(O);const M=is.swalPromiseResolve.get(this),Y=Ji(this);this.isAwaitingPromise()?O.isDismissed||(gs(this),M(O)):Y&&M(O)}const Ji=O=>{const M=xt();if(!M)return!1;const Y=Cn.innerParams.get(O);if(!Y||On(M,Y.hideClass.popup))return!1;ot(M,Y.showClass.popup),Be(M,Y.hideClass.popup);const Me=_t();return ot(Me,Y.showClass.backdrop),Be(Me,Y.hideClass.backdrop),ss(O,M,Y),!0};const gs=O=>{O.isAwaitingPromise()&&(Cn.awaitingPromise.delete(O),Cn.innerParams.get(O)||O._destroy())},Qs=O=>void 0===O?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},O),ss=(O,M,Y)=>{const Me=_t(),Nt=yn&&nr(M);"function"==typeof Y.willClose&&Y.willClose(M),Nt?ms(O,M,Me,Y.returnFocus,Y.didClose):Zi(O,Me,Y.returnFocus,Y.didClose)},ms=(O,M,Y,Me,Nt)=>{gn.swalCloseEventFinishedCallback=Zi.bind(null,O,Y,Me,Nt),M.addEventListener(yn,function(Nn){Nn.target===M&&(gn.swalCloseEventFinishedCallback(),delete gn.swalCloseEventFinishedCallback)})},U=(O,M)=>{setTimeout(()=>{"function"==typeof M&&M.bind(O.params)(),O._destroy()})};function X(O,M,Y){const Me=Cn.domCache.get(O);M.forEach(Nt=>{Me[Nt].disabled=Y})}function H(O,M){if(!O)return!1;if("radio"===O.type){const Me=O.parentNode.parentNode.querySelectorAll("input");for(let Nt=0;Nt<Me.length;Nt++)Me[Nt].disabled=M}else O.disabled=M}class J{constructor(M,Y){this.callback=M,this.remaining=Y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(M){const Y=this.running;return Y&&this.stop(),this.remaining+=M,Y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var We={email:(O,M)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(O)?Promise.resolve():Promise.resolve(M||"Invalid email address"),url:(O,M)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(O)?Promise.resolve():Promise.resolve(M||"Invalid URL")};function sr(O){(function(O){O.inputValidator||Object.keys(We).forEach(M=>{O.input===M&&(O.inputValidator=We[M])})})(O),O.showLoaderOnConfirm&&!O.preConfirm&&Ve("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(O){(!O.target||"string"==typeof O.target&&!document.querySelector(O.target)||"string"!=typeof O.target&&!O.target.appendChild)&&(Ve('Target parameter is not valid, defaulting to "body"'),O.target="body")}(O),"string"==typeof O.title&&(O.title=O.title.split("\n").join("<br />")),ke(O)}const vi=["swal-title","swal-html","swal-footer"],Yr=O=>{const M={};return ee(O.querySelectorAll("swal-param")).forEach(Y=>{ai(Y,["name","value"]);const Me=Y.getAttribute("name");let Nt=Y.getAttribute("value");"boolean"==typeof Qi[Me]&&"false"===Nt&&(Nt=!1),"object"==typeof Qi[Me]&&(Nt=JSON.parse(Nt)),M[Me]=Nt}),M},Li=O=>{const M={};return ee(O.querySelectorAll("swal-button")).forEach(Y=>{ai(Y,["type","color","aria-label"]);const Me=Y.getAttribute("type");M["".concat(Me,"ButtonText")]=Y.innerHTML,M["show".concat(g(Me),"Button")]=!0,Y.hasAttribute("color")&&(M["".concat(Me,"ButtonColor")]=Y.getAttribute("color")),Y.hasAttribute("aria-label")&&(M["".concat(Me,"ButtonAriaLabel")]=Y.getAttribute("aria-label"))}),M},Tn=O=>{const M={},Y=O.querySelector("swal-image");return Y&&(ai(Y,["src","width","height","alt"]),Y.hasAttribute("src")&&(M.imageUrl=Y.getAttribute("src")),Y.hasAttribute("width")&&(M.imageWidth=Y.getAttribute("width")),Y.hasAttribute("height")&&(M.imageHeight=Y.getAttribute("height")),Y.hasAttribute("alt")&&(M.imageAlt=Y.getAttribute("alt"))),M},Js=O=>{const M={},Y=O.querySelector("swal-icon");return Y&&(ai(Y,["type","color"]),Y.hasAttribute("type")&&(M.icon=Y.getAttribute("type")),Y.hasAttribute("color")&&(M.iconColor=Y.getAttribute("color")),M.iconHtml=Y.innerHTML),M},Xs=O=>{const M={},Y=O.querySelector("swal-input");Y&&(ai(Y,["type","label","placeholder","value"]),M.input=Y.getAttribute("type")||"text",Y.hasAttribute("label")&&(M.inputLabel=Y.getAttribute("label")),Y.hasAttribute("placeholder")&&(M.inputPlaceholder=Y.getAttribute("placeholder")),Y.hasAttribute("value")&&(M.inputValue=Y.getAttribute("value")));const Me=O.querySelectorAll("swal-input-option");return Me.length&&(M.inputOptions={},ee(Me).forEach(Nt=>{ai(Nt,["value"]);const Nn=Nt.getAttribute("value");M.inputOptions[Nn]=Nt.innerHTML})),M},ys=(O,M)=>{const Y={};for(const Me in M){const Nt=M[Me],Nn=O.querySelector(Nt);Nn&&(ai(Nn,[]),Y[Nt.replace(/^swal-/,"")]=Nn.innerHTML.trim())}return Y},Ua=O=>{const M=vi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ee(O.children).forEach(Y=>{const Me=Y.tagName.toLowerCase();-1===M.indexOf(Me)&&Ve("Unrecognized element <".concat(Me,">"))})},ai=(O,M)=>{ee(O.attributes).forEach(Y=>{-1===M.indexOf(Y.name)&&Ve(['Unrecognized attribute "'.concat(Y.name,'" on <').concat(O.tagName.toLowerCase(),">."),"".concat(M.length?"Allowed attributes are: ".concat(M.join(", ")):"To set the value, use HTML within the element.")])})},Hs=O=>{const M=_t(),Y=xt();"function"==typeof O.willOpen&&O.willOpen(Y);const Nt=window.getComputedStyle(document.body).overflowY;ni(M,Y,O),setTimeout(()=>{hr(M,Y)},10),ut()&&(Do(M,O.scrollbarPadding,Nt),ee(document.body.children).forEach(M=>{M===_t()||M.contains(_t())||(M.hasAttribute("aria-hidden")&&M.setAttribute("data-previous-aria-hidden",M.getAttribute("aria-hidden")),M.setAttribute("aria-hidden","true"))})),!xe()&&!gn.previousActiveElement&&(gn.previousActiveElement=document.activeElement),"function"==typeof O.didOpen&&setTimeout(()=>O.didOpen(Y)),ot(M,fe["no-transition"])},At=O=>{const M=xt();if(O.target!==M)return;const Y=_t();M.removeEventListener(yn,At),Y.style.overflowY="auto"},hr=(O,M)=>{yn&&nr(M)?(O.style.overflowY="hidden",M.addEventListener(yn,At)):O.style.overflowY="auto"},Do=(O,M,Y)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!On(document.body,fe.iosfix)){const M=document.body.scrollTop;document.body.style.top="".concat(-1*M,"px"),Be(document.body,fe.iosfix),Fi(),Ys()}})(),M&&"hidden"!==Y&&_i(),setTimeout(()=>{O.scrollTop=0})},ni=(O,M,Y)=>{Be(O,Y.showClass.backdrop),M.style.setProperty("opacity","0","important"),un(M,"grid"),setTimeout(()=>{Be(M,Y.showClass.popup),M.style.removeProperty("opacity")},10),Be([document.documentElement,document.body],fe.shown),Y.heightAuto&&Y.backdrop&&!Y.toast&&Be([document.documentElement,document.body],fe["height-auto"])},vs=O=>O.checked?1:0,Ss=O=>O.checked?O.value:null,So=O=>O.files.length?null!==O.getAttribute("multiple")?O.files:O.files[0]:null,Sa=(O,M)=>{const Y=xt(),Me=Nt=>vo[M.input](Y,xo(Nt),M);te(M.inputOptions)||de(M.inputOptions)?(ti(Te()),ce(M.inputOptions).then(Nt=>{O.hideLoading(),Me(Nt)})):"object"==typeof M.inputOptions?Me(M.inputOptions):Ne("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof M.inputOptions))},co=(O,M)=>{const Y=O.getInput();Ht(Y),ce(M.inputValue).then(Me=>{Y.value="number"===M.input?parseFloat(Me)||0:"".concat(Me),un(Y),Y.focus(),O.hideLoading()}).catch(Me=>{Ne("Error in inputValue promise: ".concat(Me)),Y.value="",un(Y),Y.focus(),O.hideLoading()})},vo={select:(O,M,Y)=>{const Me=lt(O,fe.select),Nt=(Nn,rr,L)=>{const b=document.createElement("option");b.value=L,jt(b,rr),b.selected=wi(L,Y.inputValue),Nn.appendChild(b)};M.forEach(Nn=>{const rr=Nn[0],L=Nn[1];if(Array.isArray(L)){const b=document.createElement("optgroup");b.label=rr,b.disabled=!1,Me.appendChild(b),L.forEach(w=>Nt(b,w[1],w[0]))}else Nt(Me,L,rr)}),Me.focus()},radio:(O,M,Y)=>{const Me=lt(O,fe.radio);M.forEach(Nn=>{const rr=Nn[0],L=Nn[1],b=document.createElement("input"),w=document.createElement("label");b.type="radio",b.name=fe.radio,b.value=rr,wi(rr,Y.inputValue)&&(b.checked=!0);const N=document.createElement("span");jt(N,L),N.className=fe.label,w.appendChild(b),w.appendChild(N),Me.appendChild(w)});const Nt=Me.querySelectorAll("input");Nt.length&&Nt[0].focus()}},xo=O=>{const M=[];return"undefined"!=typeof Map&&O instanceof Map?O.forEach((Y,Me)=>{let Nt=Y;"object"==typeof Nt&&(Nt=xo(Nt)),M.push([Me,Nt])}):Object.keys(O).forEach(Y=>{let Me=O[Y];"object"==typeof Me&&(Me=xo(Me)),M.push([Y,Me])}),M},wi=(O,M)=>M&&M.toString()===O.toString(),zi=(O,M)=>{const Y=Cn.innerParams.get(O),Me=((O,M)=>{const Y=O.getInput();if(!Y)return null;switch(M.input){case"checkbox":return vs(Y);case"radio":return Ss(Y);case"file":return So(Y);default:return M.inputAutoTrim?Y.value.trim():Y.value}})(O,Y);Y.inputValidator?Qo(O,Me,M):O.getInput().checkValidity()?"deny"===M?xs(O,Me):$(O,Me):(O.enableButtons(),O.showValidationMessage(Y.validationMessage))},Qo=(O,M,Y)=>{const Me=Cn.innerParams.get(O);O.disableInput(),Promise.resolve().then(()=>ce(Me.inputValidator(M,Me.validationMessage))).then(Nn=>{O.enableButtons(),O.enableInput(),Nn?O.showValidationMessage(Nn):"deny"===Y?xs(O,M):$(O,M)})},xs=(O,M)=>{const Y=Cn.innerParams.get(O||void 0);Y.showLoaderOnDeny&&ti(ze()),Y.preDeny?(Cn.awaitingPromise.set(O||void 0,!0),Promise.resolve().then(()=>ce(Y.preDeny(M,Y.validationMessage))).then(Nt=>{!1===Nt?O.hideLoading():O.closePopup({isDenied:!0,value:void 0===Nt?M:Nt})}).catch(Nt=>Ro(O||void 0,Nt))):O.closePopup({isDenied:!0,value:M})},$s=(O,M)=>{O.closePopup({isConfirmed:!0,value:M})},Ro=(O,M)=>{O.rejectPromise(M)},$=(O,M)=>{const Y=Cn.innerParams.get(O||void 0);Y.showLoaderOnConfirm&&ti(),Y.preConfirm?(O.resetValidationMessage(),Cn.awaitingPromise.set(O||void 0,!0),Promise.resolve().then(()=>ce(Y.preConfirm(M,Y.validationMessage))).then(Nt=>{hn(Qe())||!1===Nt?O.hideLoading():$s(O,void 0===Nt?M:Nt)}).catch(Nt=>Ro(O||void 0,Nt))):$s(O,M)},K=(O,M,Y)=>{const Me=dt();if(Me.length)return(M+=Y)===Me.length?M=0:-1===M&&(M=Me.length-1),Me[M].focus();xt().focus()},ae=["ArrowRight","ArrowDown"],Oe=["ArrowLeft","ArrowUp"],at=(O,M,Y)=>{const Me=Cn.innerParams.get(O);!Me||(Me.stopKeydownPropagation&&M.stopPropagation(),"Enter"===M.key?bt(O,M,Me):"Tab"===M.key?en(M,Me):[...ae,...Oe].includes(M.key)?zt(M.key):"Escape"===M.key&&fn(M,Me,Y))},bt=(O,M,Y)=>{if(!M.isComposing&&M.target&&O.getInput()&&M.target.outerHTML===O.getInput().outerHTML){if(["textarea","file"].includes(Y.input))return;gr(),M.preventDefault()}},en=(O,M)=>{const Y=O.target,Me=dt();let Nt=-1;for(let Nn=0;Nn<Me.length;Nn++)if(Y===Me[Nn]){Nt=Nn;break}K(0,Nt,O.shiftKey?-1:1),O.stopPropagation(),O.preventDefault()},zt=O=>{if(![Te(),ze(),Ft()].includes(document.activeElement))return;const Nt=ae.includes(O)?"nextElementSibling":"previousElementSibling",Nn=document.activeElement[Nt];Nn&&Nn.focus()},fn=(O,M,Y)=>{me(M.allowEscapeKey)&&(O.preventDefault(),Y(tt.esc))},Wn=(O,M,Y)=>{M.popup.onclick=()=>{const Me=Cn.innerParams.get(O);Me.showConfirmButton||Me.showDenyButton||Me.showCancelButton||Me.showCloseButton||Me.timer||Me.input||Y(tt.close)}};let Nr=!1;const Qr=O=>{O.popup.onmousedown=()=>{O.container.onmouseup=function(M){O.container.onmouseup=void 0,M.target===O.container&&(Nr=!0)}}},tr=O=>{O.container.onmousedown=()=>{O.popup.onmouseup=function(M){O.popup.onmouseup=void 0,(M.target===O.popup||O.popup.contains(M.target))&&(Nr=!0)}}},Or=(O,M,Y)=>{M.container.onclick=Me=>{const Nt=Cn.innerParams.get(O);Nr?Nr=!1:Me.target===M.container&&me(Nt.allowOutsideClick)&&Y(tt.backdrop)}};const Vi=(O,M)=>{const Y=(O=>{const M="string"==typeof O.template?document.querySelector(O.template):O.template;if(!M)return{};const Y=M.content;return Ua(Y),Object.assign(Yr(Y),Li(Y),Tn(Y),Js(Y),Xs(Y),ys(Y,vi))})(O),Me=Object.assign({},Qi,M,Y,O);return Me.showClass=Object.assign({},Qi.showClass,Me.showClass),Me.hideClass=Object.assign({},Qi.hideClass,Me.hideClass),Me},es=(O,M,Y)=>new Promise((Me,Nt)=>{const Nn=rr=>{O.closePopup({isDismissed:!0,dismiss:rr})};is.swalPromiseResolve.set(O,Me),is.swalPromiseReject.set(O,Nt),M.confirmButton.onclick=()=>(O=>{const M=Cn.innerParams.get(O);O.disableButtons(),M.input?zi(O,"confirm"):$(O,!0)})(O),M.denyButton.onclick=()=>(O=>{const M=Cn.innerParams.get(O);O.disableButtons(),M.returnInputValueOnDeny?zi(O,"deny"):xs(O,!1)})(O),M.cancelButton.onclick=()=>((O,M)=>{O.disableButtons(),M(tt.cancel)})(O,Nn),M.closeButton.onclick=()=>Nn(tt.close),((O,M,Y)=>{Cn.innerParams.get(O).toast?Wn(O,M,Y):(Qr(M),tr(M),Or(O,M,Y))})(O,M,Nn),((O,M,Y,Me)=>{M.keydownTarget&&M.keydownHandlerAdded&&(M.keydownTarget.removeEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!1),Y.toast||(M.keydownHandler=Nt=>at(O,Nt,Me),M.keydownTarget=Y.keydownListenerCapture?window:xt(),M.keydownListenerCapture=Y.keydownListenerCapture,M.keydownTarget.addEventListener("keydown",M.keydownHandler,{capture:M.keydownListenerCapture}),M.keydownHandlerAdded=!0)})(O,gn,Y,Nn),((O,M)=>{"select"===M.input||"radio"===M.input?Sa(O,M):["text","email","number","tel","textarea"].includes(M.input)&&(te(M.inputValue)||de(M.inputValue))&&(ti(Te()),co(O,M))})(O,Y),Hs(Y),Zr(gn,Y,Nn),Ei(M,Y),setTimeout(()=>{M.container.scrollTop=0})}),bi=O=>{const M={popup:xt(),container:_t(),actions:Yt(),confirmButton:Te(),denyButton:ze(),cancelButton:Ft(),loader:Et(),closeButton:tn(),validationMessage:Qe(),progressSteps:nt()};return Cn.domCache.set(O,M),M},Zr=(O,M,Y)=>{const Me=Lt();Ht(Me),M.timer&&(O.timeout=new J(()=>{Y("timer"),delete O.timeout},M.timer),M.timerProgressBar&&(un(Me),setTimeout(()=>{O.timeout&&O.timeout.running&&kt(M.timer)})))},Ei=(O,M)=>{if(!M.toast){if(!me(M.allowEnterKey))return to();Ci(O,M)||K(0,-1,1)}},Ci=(O,M)=>M.focusDeny&&hn(O.denyButton)?(O.denyButton.focus(),!0):M.focusCancel&&hn(O.cancelButton)?(O.cancelButton.focus(),!0):!(!M.focusConfirm||!hn(O.confirmButton)||(O.confirmButton.focus(),0)),to=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const _a=O=>{Jo(O),delete O.params,delete gn.keydownHandler,delete gn.keydownTarget,delete gn.currentInstance},Jo=O=>{O.isAwaitingPromise()?(Lo(Cn,O),Cn.awaitingPromise.set(O,!0)):(Lo(is,O),Lo(Cn,O))},Lo=(O,M)=>{for(const Y in O)O[Y].delete(M)};var qs=Object.freeze({hideLoading:oi,disableLoading:oi,getInput:function(O){const M=Cn.innerParams.get(O||this),Y=Cn.domCache.get(O||this);return Y?ar(Y.popup,M.input):null},close:As,isAwaitingPromise:function(){return!!Cn.awaitingPromise.get(this)},rejectPromise:function(O){const M=is.swalPromiseReject.get(this);gs(this),M&&M(O)},closePopup:As,closeModal:As,closeToast:As,enableButtons:function(){X(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){X(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return H(this.getInput(),!1)},disableInput:function(){return H(this.getInput(),!0)},showValidationMessage:function(O){const M=Cn.domCache.get(this),Y=Cn.innerParams.get(this);jt(M.validationMessage,O),M.validationMessage.className=fe["validation-message"],Y.customClass&&Y.customClass.validationMessage&&Be(M.validationMessage,Y.customClass.validationMessage),un(M.validationMessage);const Me=this.getInput();Me&&(Me.setAttribute("aria-invalid",!0),Me.setAttribute("aria-describedby",fe["validation-message"]),jn(Me),Be(Me,fe.inputerror))},resetValidationMessage:function(){const O=Cn.domCache.get(this);O.validationMessage&&Ht(O.validationMessage);const M=this.getInput();M&&(M.removeAttribute("aria-invalid"),M.removeAttribute("aria-describedby"),ot(M,fe.inputerror))},getProgressSteps:function(){return Cn.domCache.get(this).progressSteps},_main:function(O,M={}){(O=>{!O.backdrop&&O.allowOutsideClick&&Ve('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const M in O)hs(M),O.toast&&Is(M),$i(M)})(Object.assign({},M,O)),gn.currentInstance&&(gn.currentInstance._destroy(),ut()&&rs()),gn.currentInstance=this;const Y=Vi(O,M);sr(Y),Object.freeze(Y),gn.timeout&&(gn.timeout.stop(),delete gn.timeout),clearTimeout(gn.restoreFocusTimeout);const Me=bi(this);return cn(this,Y),Cn.innerParams.set(this,Y),es(this,Me,Y)},update:function(O){const M=xt(),Y=Cn.innerParams.get(this);if(!M||On(M,Y.hideClass.popup))return Ve("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Me={};Object.keys(O).forEach(Nn=>{Rs.isUpdatableParameter(Nn)?Me[Nn]=O[Nn]:Ve('Invalid parameter to update: "'.concat(Nn,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const Nt=Object.assign({},Y,Me);cn(this,Nt),Cn.innerParams.set(this,Nt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,O),writable:!1,enumerable:!0}})},_destroy:function(){const O=Cn.domCache.get(this),M=Cn.innerParams.get(this);M?(O.popup&&gn.swalCloseEventFinishedCallback&&(gn.swalCloseEventFinishedCallback(),delete gn.swalCloseEventFinishedCallback),gn.deferDisposalTimer&&(clearTimeout(gn.deferDisposalTimer),delete gn.deferDisposalTimer),"function"==typeof M.didDestroy&&M.didDestroy(),_a(this)):Jo(this)}});let ri;class fo{constructor(...M){if("undefined"==typeof window)return;ri=this;const Y=Object.freeze(this.constructor.argsToParams(M));Object.defineProperties(this,{params:{value:Y,writable:!1,enumerable:!0,configurable:!0}});const Me=this._main(this.params);Cn.promise.set(this,Me)}then(M){return Cn.promise.get(this).then(M)}finally(M){return Cn.promise.get(this).finally(M)}}Object.assign(fo.prototype,qs),Object.assign(fo,Fo),Object.keys(qs).forEach(O=>{fo[O]=function(...M){if(ri)return ri[O](...M)}}),fo.DismissReason=tt,fo.version="11.1.9";const Rs=fo;return Rs.default=Rs,Rs}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(tt,q){var _=tt.createElement("style");if(tt.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=q);else try{_.innerHTML=q}catch(g){_.innerText=q}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},164:(Gt,tt,q)=>{"use strict";q.d(tt,{J:()=>Ro});var _=q(8239),g=q(7716),ee=q(665),Ve=q(8259),Ne=q.n(Ve),ye=q(7556),$e=q(7574),he=q(5917),me=q(4402),te=q(7393),ce=q(3637);class Se{constructor(B,K){this.dueTime=B,this.scheduler=K}call(B,K){return K.subscribe(new Fe(B,this.dueTime,this.scheduler))}}class Fe extends te.L{constructor(B,K,ae){super(B),this.dueTime=K,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(B){this.clearDebounce(),this.lastValue=B,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ke,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:B}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(B)}}clearDebounce(){const B=this.debouncedSubscription;null!==B&&(this.remove(B),B.unsubscribe(),this.debouncedSubscription=null)}}function Ke($){$.debouncedNext()}var qe=q(8002),gt=q(3190),fe=q(9126),ht=q(8939),_t=q(4486),ct=q(5452),De=q(3854),xt=q(6034),$t=(()=>{return($=$t||($t={}))[$.NO_ERROR=0]="NO_ERROR",$[$.NETWORK_ERROR=1]="NETWORK_ERROR",$[$.ABORT=2]="ABORT",$t;var $})();const nn="firebasestorage.googleapis.com",st="storageBucket";class Qe extends De.ZR{constructor(B,K){super(Te(B),`Firebase Storage: ${K} (${Te(B)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}_codeEquals(B){return Te(B)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(B){this.customData.serverResponse=B,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Te($){return"storage/"+$}function ze(){return new Qe("unknown","An unknown error occurred, please check the error payload for server response.")}function tn(){return new Qe("canceled","User canceled the upload/download.")}function xe(){return new Qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Tt(){return new Qe("no-download-url","The given file does not have any download URLs.")}function jt($){return new Qe("invalid-argument",$)}function On(){return new Qe("app-deleted","The Firebase app was deleted.")}function cr($){return new Qe("invalid-root-operation","The operation '"+$+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bn($,B){return new Qe("invalid-format","String does not match format '"+$+"': "+B)}function ar($){throw new Qe("internal-error","Internal error: "+$)}class jn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$t.NO_ERROR,this.sendPromise_=new Promise(B=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$t.ABORT,B()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$t.NETWORK_ERROR,B()}),this.xhr_.addEventListener("load",()=>{B()})})}send(B,K,ae,Oe){if(this.sent_)throw ar("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(K,B,!0),void 0!==Oe)for(const at in Oe)Oe.hasOwnProperty(at)&&this.xhr_.setRequestHeader(at,Oe[at].toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ar("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ar("cannot .getStatus() before sending");try{return this.xhr_.status}catch(B){return-1}}getResponseText(){if(!this.sent_)throw ar("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(B){return this.xhr_.getResponseHeader(B)}addUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",B)}removeUploadProgressListener(B){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",B)}}class Be{createConnection(){return new jn}}class ot{constructor(B,K){this.bucket=B,this.path_=K}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const B=encodeURIComponent;return"/b/"+B(this.bucket)+"/o/"+B(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(B,K){let ae;try{ae=ot.makeFromUrl(B,K)}catch(Oe){return new ot(B,"")}if(""===ae.path)return ae;throw new Qe("invalid-default-bucket","Invalid default bucket '"+B+"'.")}static makeFromUrl(B,K){let ae=null;const Oe="([A-Za-z0-9.\\-_]+)",en=new RegExp("^gs://"+Oe+"(/(.*))?$","i");function fn(Zr){Zr.path_=decodeURIComponent(Zr.path)}const Wn=K.replace(/[.]/g,"\\."),bi=[{regex:en,indices:{bucket:1,path:3},postModify:function(Zr){"/"===Zr.path.charAt(Zr.path.length-1)&&(Zr.path_=Zr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${Wn}/v[A-Za-z0-9_]+/b/${Oe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fn},{regex:new RegExp(`^https?://${K===nn?"(?:storage.googleapis.com|storage.cloud.google.com)":K}/${Oe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fn}];for(let Zr=0;Zr<bi.length;Zr++){const Ei=bi[Zr],Ci=Ei.regex.exec(B);if(Ci){let os=Ci[Ei.indices.path];os||(os=""),ae=new ot(Ci[Ei.indices.bucket],os),Ei.postModify(ae);break}}if(null==ae)throw new Qe("invalid-url","Invalid URL '"+B+"'.");return ae}}class lt{constructor(B){this.promise_=Promise.reject(B)}getPromise(){return this.promise_}cancel(B=!1){}}function hn($){return"string"==typeof $||$ instanceof String}function Xn($){return Rr()&&$ instanceof Blob}function Rr(){return"undefined"!=typeof Blob}function nr($,B,K,ae){if(ae<B)throw jt(`Invalid value for '${$}'. Expected ${B} or greater.`);if(ae>K)throw jt(`Invalid value for '${$}'. Expected ${K} or less.`)}function kt($,B,K){let ae=B;return null==K&&(ae=`https://${B}`),`${K}://${ae}/v0${$}`}function on($){const B=encodeURIComponent;let K="?";for(const ae in $)$.hasOwnProperty(ae)&&(K=K+(B(ae)+"=")+B($[ae])+"&");return K=K.slice(0,-1),K}class jr{constructor(B,K,ae,Oe,at,bt,en,zt,fn,$n,Wn){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=B,this.method_=K,this.headers_=ae,this.body_=Oe,this.successCodes_=at.slice(),this.additionalRetryCodes_=bt.slice(),this.callback_=en,this.errorCallback_=zt,this.progressCallback_=$n,this.timeout_=fn,this.pool_=Wn,this.promise_=new Promise((Nr,Qr)=>{this.resolve_=Nr,this.reject_=Qr,this.start_()})}start_(){const B=this;function ae(Oe,at){const bt=B.resolve_,en=B.reject_,zt=at.connection;if(at.wasSuccessCode)try{const fn=B.callback_(zt,zt.getResponseText());void 0!==fn?bt(fn):bt()}catch(fn){en(fn)}else if(null!==zt){const fn=ze();fn.serverResponse=zt.getResponseText(),en(B.errorCallback_?B.errorCallback_(zt,fn):fn)}else en(at.canceled?B.appDelete_?On():tn():new Qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?ae(0,new hi(!1,null,!0)):this.backoffId_=function($,B,K){let ae=1,Oe=null,at=!1,bt=0;function en(){return 2===bt}let zt=!1;function fn(...tr){zt||(zt=!0,B.apply(null,tr))}function $n(tr){Oe=setTimeout(()=>{Oe=null,$(Wn,en())},tr)}function Wn(tr,...Or){if(zt)return;if(tr)return void fn.call(null,tr,...Or);if(en()||at)return void fn.call(null,tr,...Or);let Vi;ae<64&&(ae*=2),1===bt?(bt=2,Vi=0):Vi=1e3*(ae+Math.random()),$n(Vi)}let Nr=!1;function Qr(tr){Nr||(Nr=!0,!zt&&(null!==Oe?(tr||(bt=2),clearTimeout(Oe),$n(0)):tr||(bt=1)))}return $n(0),setTimeout(()=>{at=!0,Qr(!0)},K),Qr}(function(Oe,at){if(at)return void Oe(!1,new hi(!1,null,!0));const bt=B.pool_.createConnection();function en(zt){null!==B.progressCallback_&&B.progressCallback_(zt.loaded,zt.lengthComputable?zt.total:-1)}B.pendingConnection_=bt,null!==B.progressCallback_&&bt.addUploadProgressListener(en),bt.send(B.url_,B.method_,B.body_,B.headers_).then(()=>{null!==B.progressCallback_&&bt.removeUploadProgressListener(en),B.pendingConnection_=null;const zt=bt.getErrorCode()===$t.NO_ERROR,fn=bt.getStatus();if(!zt||B.isRetryStatusCode_(fn)){const Wn=bt.getErrorCode()===$t.ABORT;return void Oe(!1,new hi(!1,null,Wn))}const $n=-1!==B.successCodes_.indexOf(fn);Oe(!0,new hi($n,bt))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel(B){this.canceled_=!0,this.appDelete_=B||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(B){const K=B>=500&&B<600,Oe=-1!==[408,429].indexOf(B),at=-1!==this.additionalRetryCodes_.indexOf(B);return K||Oe||at}}class hi{constructor(B,K,ae){this.wasSuccessCode=B,this.connection=K,this.canceled=!!ae}}function ke(...$){const B="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==B){const K=new B;for(let ae=0;ae<$.length;ae++)K.append($[ae]);return K.getBlob()}if(Rr())return new Blob($);throw new Qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Vt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yn{constructor(B,K){this.data=B,this.contentType=K||null}}function qn($,B){switch($){case Vt.RAW:return new yn(Er(B));case Vt.BASE64:case Vt.BASE64URL:return new yn(Hn($,B));case Vt.DATA_URL:return new yn(function($){const B=new Zn($);return B.base64?Hn(Vt.BASE64,B.rest):function($){let B;try{B=decodeURIComponent($)}catch(K){throw bn(Vt.DATA_URL,"Malformed data URL.")}return Er(B)}(B.rest)}(B),function($){return new Zn($).contentType}(B))}throw ze()}function Er($){const B=[];for(let K=0;K<$.length;K++){let ae=$.charCodeAt(K);ae<=127?B.push(ae):ae<=2047?B.push(192|ae>>6,128|63&ae):55296==(64512&ae)?K<$.length-1&&56320==(64512&$.charCodeAt(K+1))?(ae=65536|(1023&ae)<<10|1023&$.charCodeAt(++K),B.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):B.push(239,191,189):56320==(64512&ae)?B.push(239,191,189):B.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(B)}function Hn($,B){switch($){case Vt.BASE64:{const Oe=-1!==B.indexOf("-"),at=-1!==B.indexOf("_");if(Oe||at)throw bn($,"Invalid character '"+(Oe?"-":"_")+"' found: is it base64url encoded?");break}case Vt.BASE64URL:{const Oe=-1!==B.indexOf("+"),at=-1!==B.indexOf("/");if(Oe||at)throw bn($,"Invalid character '"+(Oe?"+":"/")+"' found: is it base64 encoded?");B=B.replace(/-/g,"+").replace(/_/g,"/");break}}let K;try{K=function($){return atob($)}(B)}catch(Oe){throw bn($,"Invalid character found")}const ae=new Uint8Array(K.length);for(let Oe=0;Oe<K.length;Oe++)ae[Oe]=K.charCodeAt(Oe);return ae}class Zn{constructor(B){this.base64=!1,this.contentType=null;const K=B.match(/^data:([^,]+)?,/);if(null===K)throw bn(Vt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=K[1]||null;null!=ae&&(this.base64=function($,B){return $.length>=B.length&&$.substring($.length-B.length)===B}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-";base64".length):ae),this.rest=B.substring(B.indexOf(",")+1)}}class Cn{constructor(B,K){let ae=0,Oe="";Xn(B)?(this.data_=B,ae=B.size,Oe=B.type):B instanceof ArrayBuffer?(K?this.data_=new Uint8Array(B):(this.data_=new Uint8Array(B.byteLength),this.data_.set(new Uint8Array(B))),ae=this.data_.length):B instanceof Uint8Array&&(K?this.data_=B:(this.data_=new Uint8Array(B.length),this.data_.set(B)),ae=B.length),this.size_=ae,this.type_=Oe}size(){return this.size_}type(){return this.type_}slice(B,K){if(Xn(this.data_)){const Oe=function($,B,K){return $.webkitSlice?$.webkitSlice(B,K):$.mozSlice?$.mozSlice(B,K):$.slice?$.slice(B,K):null}(this.data_,B,K);return null===Oe?null:new Cn(Oe)}{const ae=new Uint8Array(this.data_.buffer,B,K-B);return new Cn(ae,!0)}}static getBlob(...B){if(Rr()){const K=B.map(ae=>ae instanceof Cn?ae.data_:ae);return new Cn(ke.apply(null,K))}{const K=B.map(bt=>hn(bt)?qn(Vt.RAW,bt).data:bt.data_);let ae=0;K.forEach(bt=>{ae+=bt.byteLength});const Oe=new Uint8Array(ae);let at=0;return K.forEach(bt=>{for(let en=0;en<bt.length;en++)Oe[at++]=bt[en]}),new Cn(Oe,!0)}}uploadData(){return this.data_}}function gi($){let B;try{B=JSON.parse($)}catch(K){return null}return function($){return"object"==typeof $&&!Array.isArray($)}(B)?B:null}function ns($){const B=$.lastIndexOf("/",$.length-2);return-1===B?$:$.slice(B+1)}function br($,B){return B}class Rn{constructor(B,K,ae,Oe){this.server=B,this.local=K||B,this.writable=!!ae,this.xform=Oe||br}}let an=null;function ui(){if(an)return an;const $=[];$.push(new Rn("bucket")),$.push(new Rn("generation")),$.push(new Rn("metageneration")),$.push(new Rn("name","fullPath",!0));const K=new Rn("name");K.xform=function(at,bt){return function($){return!hn($)||$.length<2?$:ns($)}(bt)},$.push(K);const Oe=new Rn("size");return Oe.xform=function(at,bt){return void 0!==bt?Number(bt):bt},$.push(Oe),$.push(new Rn("timeCreated")),$.push(new Rn("updated")),$.push(new Rn("md5Hash",null,!0)),$.push(new Rn("cacheControl",null,!0)),$.push(new Rn("contentDisposition",null,!0)),$.push(new Rn("contentEncoding",null,!0)),$.push(new Rn("contentLanguage",null,!0)),$.push(new Rn("contentType",null,!0)),$.push(new Rn("metadata","customMetadata",!0)),an=$,an}function Vn($,B,K){const ae=gi(B);return null===ae?null:function($,B,K){const ae={type:"file"},Oe=K.length;for(let at=0;at<Oe;at++){const bt=K[at];ae[bt.local]=bt.xform(ae,B[bt.server])}return function($,B){Object.defineProperty($,"ref",{get:function(){const at=new ot($.bucket,$.fullPath);return B._makeStorageReference(at)}})}(ae,$),ae}($,ae,K)}function $r($,B){const K={},ae=B.length;for(let Oe=0;Oe<ae;Oe++){const at=B[Oe];at.writable&&(K[at.server]=$[at.local])}return JSON.stringify(K)}const Qn="prefixes";class ir{constructor(B,K,ae,Oe){this.url=B,this.method=K,this.handler=ae,this.timeout=Oe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sr($){if(!$)throw ze()}function _n($,B){return function(ae,Oe){const at=Vn($,Oe,B);return Sr(null!==at),at}}function ge($){return function(K,ae){let Oe;return Oe=401===K.getStatus()?K.getResponseText().includes("Firebase App Check token is invalid")?new Qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===K.getStatus()?function($){return new Qe("quota-exceeded","Quota for bucket '"+$+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}($.bucket):403===K.getStatus()?function($){return new Qe("unauthorized","User does not have permission to access '"+$+"'.")}($.path):ae,Oe.serverResponse=ae.serverResponse,Oe}}function Ye($){const B=ge($);return function(ae,Oe){let at=B(ae,Oe);return 404===ae.getStatus()&&(at=function($){return new Qe("object-not-found","Object '"+$+"' does not exist.")}($.path)),at.serverResponse=Oe.serverResponse,at}}function vt($,B,K){const Oe=kt(B.fullServerUrl(),$.host,$._protocol),bt=$.maxOperationRetryTime,en=new ir(Oe,"GET",_n($,K),bt);return en.errorHandler=Ye(B),en}function cn($,B,K,ae,Oe){const at={};at.prefix=B.isRoot?"":B.path+"/",K&&K.length>0&&(at.delimiter=K),ae&&(at.pageToken=ae),Oe&&(at.maxResults=Oe);const en=kt(B.bucketOnlyServerUrl(),$.host,$._protocol),fn=$.maxOperationRetryTime,$n=new ir(en,"GET",function($,B){return function(ae,Oe){const at=function($,B,K){const ae=gi(K);return null===ae?null:function($,B,K){const ae={prefixes:[],items:[],nextPageToken:K.nextPageToken};if(K[Qn])for(const Oe of K[Qn]){const at=Oe.replace(/\/$/,""),bt=$._makeStorageReference(new ot(B,at));ae.prefixes.push(bt)}if(K.items)for(const Oe of K.items){const at=$._makeStorageReference(new ot(B,Oe.name));ae.items.push(at)}return ae}($,B,ae)}($,B,Oe);return Sr(null!==at),at}}($,B.bucket),fn);return $n.urlParams=at,$n.errorHandler=ge(B),$n}function Fn($,B,K){const Oe=kt(B.fullServerUrl(),$.host,$._protocol),bt=$.maxOperationRetryTime,en=new ir(Oe,"GET",function($,B){return function(ae,Oe){const at=Vn($,Oe,B);return Sr(null!==at),function($,B,K,ae){const Oe=gi(B);if(null===Oe||!hn(Oe.downloadTokens))return null;const at=Oe.downloadTokens;if(0===at.length)return null;const bt=encodeURIComponent;return at.split(",").map(fn=>{const Wn=$.fullPath;return kt("/b/"+bt($.bucket)+"/o/"+bt(Wn),K,ae)+on({alt:"media",token:fn})})[0]}(at,Oe,$.host,$._protocol)}}($,K),bt);return en.errorHandler=Ye(B),en}function gr($,B,K,ae){const at=kt(B.fullServerUrl(),$.host,$._protocol),en=$r(K,ae),fn=$.maxOperationRetryTime,$n=new ir(at,"PATCH",_n($,ae),fn);return $n.headers={"Content-Type":"application/json; charset=utf-8"},$n.body=en,$n.errorHandler=Ye(B),$n}function Un($,B){const ae=kt(B.fullServerUrl(),$.host,$._protocol),en=new ir(ae,"DELETE",function(zt,fn){},$.maxOperationRetryTime);return en.successCodes=[200,204],en.errorHandler=Ye(B),en}function Cs($,B,K){const ae=Object.assign({},K);return ae.fullPath=$.path,ae.size=B.size(),ae.contentType||(ae.contentType=function($,B){return B&&B.type()||"application/octet-stream"}(0,B)),ae}class ti{constructor(B,K,ae,Oe){this.current=B,this.total=K,this.finalized=!!ae,this.metadata=Oe||null}}function Mi($,B){let K=null;try{K=$.getResponseHeader("X-Goog-Upload-Status")}catch(Oe){Sr(!1)}return Sr(!!K&&-1!==(B||["active"]).indexOf(K)),K}const Si={STATE_CHANGED:"state_changed"},mr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yi($){switch($){case"running":case"pausing":case"canceling":return mr.RUNNING;case"paused":return mr.PAUSED;case"success":return mr.SUCCESS;case"canceled":return mr.CANCELED;case"error":default:return mr.ERROR}}class Ls{constructor(B,K,ae){if("function"==typeof B||null!=K||null!=ae)this.next=B,this.error=null!=K?K:void 0,this.complete=null!=ae?ae:void 0;else{const at=B;this.next=at.next,this.error=at.error,this.complete=at.complete}}}function ci($){return(...B)=>{Promise.resolve().then(()=>$(...B))}}class Vr{constructor(B,K,ae=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=B,this._blob=K,this._metadata=ae,this._mappings=ui(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Oe=>{this._request=void 0,this._chunkMultiplier=1,Oe._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Oe,this._transition("error"))},this._metadataErrorHandler=Oe=>{this._request=void 0,Oe._codeEquals("canceled")?this.completeTransitions_():(this._error=Oe,this._transition("error"))},this._promise=new Promise((Oe,at)=>{this._resolve=Oe,this._reject=at,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const B=this._transferred;return K=>this._updateProgress(B+K)}_shouldDoResumable(B){return B.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(B){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([K,ae])=>{switch(this._state){case"running":B(K,ae);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((B,K)=>{const ae=function($,B,K,ae,Oe){const at=B.bucketOnlyServerUrl(),bt=Cs(B,ae,Oe),en={name:bt.fullPath},zt=kt(at,$.host,$._protocol),$n={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ae.size()}`,"X-Goog-Upload-Header-Content-Type":bt.contentType,"Content-Type":"application/json; charset=utf-8"},Wn=$r(bt,K),tr=new ir(zt,"POST",function(Or){let vr;Mi(Or);try{vr=Or.getResponseHeader("X-Goog-Upload-URL")}catch(Vi){Sr(!1)}return Sr(hn(vr)),vr},$.maxUploadRetryTime);return tr.urlParams=en,tr.headers=$n,tr.body=Wn,tr.errorHandler=ge(B),tr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(ae,B,K);this._request=Oe,Oe.getPromise().then(at=>{this._request=void 0,this._uploadUrl=at,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const B=this._uploadUrl;this._resolveToken((K,ae)=>{const Oe=function($,B,K,ae){const zt=new ir(K,"POST",function(fn){const $n=Mi(fn,["active","final"]);let Wn=null;try{Wn=fn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Qr){Sr(!1)}Wn||Sr(!1);const Nr=Number(Wn);return Sr(!isNaN(Nr)),new ti(Nr,ae.size(),"final"===$n)},$.maxUploadRetryTime);return zt.headers={"X-Goog-Upload-Command":"query"},zt.errorHandler=ge(B),zt}(this._ref.storage,this._ref._location,B,this._blob),at=this._ref.storage._makeRequest(Oe,K,ae);this._request=at,at.getPromise().then(bt=>{bt=bt,this._request=void 0,this._updateProgress(bt.current),this._needToFetchStatus=!1,bt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const B=262144*this._chunkMultiplier,K=new ti(this._transferred,this._blob.size()),ae=this._uploadUrl;this._resolveToken((Oe,at)=>{let bt;try{bt=function($,B,K,ae,Oe,at,bt,en){const zt=new ti(0,0);if(bt?(zt.current=bt.current,zt.total=bt.total):(zt.current=0,zt.total=ae.size()),ae.size()!==zt.total)throw new Qe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const fn=zt.total-zt.current;let $n=fn;Oe>0&&($n=Math.min($n,Oe));const Wn=zt.current,tr={"X-Goog-Upload-Command":$n===fn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${zt.current}`},Or=ae.slice(Wn,Wn+$n);if(null===Or)throw xe();const bi=new ir(K,"POST",function(Zr,Ei){const Ci=Mi(Zr,["active","final"]),to=zt.current+$n,os=ae.size();let wo;return wo="final"===Ci?_n(B,at)(Zr,Ei):null,new ti(to,os,"final"===Ci,wo)},B.maxUploadRetryTime);return bi.headers=tr,bi.body=Or.uploadData(),bi.progressCallback=en||null,bi.errorHandler=ge($),bi}(this._ref._location,this._ref.storage,ae,this._blob,B,this._mappings,K,this._makeProgressCallback())}catch(zt){return this._error=zt,void this._transition("error")}const en=this._ref.storage._makeRequest(bt,Oe,at);this._request=en,en.getPromise().then(zt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(zt.current),zt.finalized?(this._metadata=zt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((B,K)=>{const ae=vt(this._ref.storage,this._ref._location,this._mappings),Oe=this._ref.storage._makeRequest(ae,B,K);this._request=Oe,Oe.getPromise().then(at=>{this._request=void 0,this._metadata=at,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((B,K)=>{const ae=function($,B,K,ae,Oe){const at=B.bucketOnlyServerUrl(),bt={"X-Goog-Upload-Protocol":"multipart"},zt=function(){let bi="";for(let Zr=0;Zr<2;Zr++)bi+=Math.random().toString().slice(2);return bi}();bt["Content-Type"]="multipart/related; boundary="+zt;const fn=Cs(B,ae,Oe),$n=$r(fn,K),Qr=Cn.getBlob("--"+zt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+$n+"\r\n--"+zt+"\r\nContent-Type: "+fn.contentType+"\r\n\r\n",ae,"\r\n--"+zt+"--");if(null===Qr)throw xe();const tr={name:fn.fullPath},Or=kt(at,$.host,$._protocol),Vi=$.maxUploadRetryTime,es=new ir(Or,"POST",_n($,K),Vi);return es.urlParams=tr,es.headers=bt,es.body=Qr.uploadData(),es.errorHandler=ge(B),es}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(ae,B,K);this._request=Oe,Oe.getPromise().then(at=>{this._request=void 0,this._metadata=at,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(B){const K=this._transferred;this._transferred=B,this._transferred!==K&&this._notifyObservers()}_transition(B){if(this._state!==B)switch(B){case"canceling":case"pausing":this._state=B,void 0!==this._request&&this._request.cancel();break;case"running":const K="paused"===this._state;this._state=B,K&&(this._notifyObservers(),this._start());break;case"paused":this._state=B,this._notifyObservers();break;case"canceled":this._error=tn(),this._state=B,this._notifyObservers();break;case"error":case"success":this._state=B,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const B=yi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:B,metadata:this._metadata,task:this,ref:this._ref}}on(B,K,ae,Oe){const at=new Ls(K||void 0,ae||void 0,Oe||void 0);return this._addObserver(at),()=>{this._removeObserver(at)}}then(B,K){return this._promise.then(B,K)}catch(B){return this.then(null,B)}_addObserver(B){this._observers.push(B),this._notifyObserver(B)}_removeObserver(B){const K=this._observers.indexOf(B);-1!==K&&this._observers.splice(K,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(K=>{this._notifyObserver(K)})}_finishPromise(){if(void 0!==this._resolve){let B=!0;switch(yi(this._state)){case mr.SUCCESS:ci(this._resolve.bind(null,this.snapshot))();break;case mr.CANCELED:case mr.ERROR:ci(this._reject.bind(null,this._error))();break;default:B=!1}B&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(B){switch(yi(this._state)){case mr.RUNNING:case mr.PAUSED:B.next&&ci(B.next.bind(B,this.snapshot))();break;case mr.SUCCESS:B.complete&&ci(B.complete.bind(B))();break;case mr.CANCELED:case mr.ERROR:B.error&&ci(B.error.bind(B,this._error))();break;default:B.error&&ci(B.error.bind(B,this._error))()}}resume(){const B="paused"===this._state||"pausing"===this._state;return B&&this._transition("running"),B}pause(){const B="running"===this._state;return B&&this._transition("pausing"),B}cancel(){const B="running"===this._state||"pausing"===this._state;return B&&this._transition("canceling"),B}}class Ir{constructor(B,K){this._service=B,this._location=K instanceof ot?K:ot.makeFromUrl(K,B.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(B,K){return new Ir(B,K)}get root(){const B=new ot(this._location.bucket,"");return this._newRef(this._service,B)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ns(this._location.path)}get storage(){return this._service}get parent(){const B=function($){if(0===$.length)return null;const B=$.lastIndexOf("/");return-1===B?"":$.slice(0,B)}(this._location.path);if(null===B)return null;const K=new ot(this._location.bucket,B);return new Ir(this._service,K)}_throwIfRoot(B){if(""===this._location.path)throw cr(B)}}function xi($,B,K){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,_.Z)(function*($,B,K){const Oe=yield Ts($,{pageToken:K});B.prefixes.push(...Oe.prefixes),B.items.push(...Oe.items),null!=Oe.nextPageToken&&(yield xi($,B,Oe.nextPageToken))})).apply(this,arguments)}function Ts($,B){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,_.Z)(function*($,B){null!=B&&"number"==typeof B.maxResults&&nr("options.maxResults",1,1e3,B.maxResults);const K=B||{},ae=cn($.storage,$._location,"/",K.pageToken,K.maxResults);return(yield $.storage.makeRequestWithTokens(ae)).getPromise()})).apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*($){$._throwIfRoot("getMetadata");const B=vt($.storage,$._location,ui());return(yield $.storage.makeRequestWithTokens(B)).getPromise()})).apply(this,arguments)}function Is(){return(Is=(0,_.Z)(function*($,B){$._throwIfRoot("updateMetadata");const K=gr($.storage,$._location,B,ui());return(yield $.storage.makeRequestWithTokens(K)).getPromise()})).apply(this,arguments)}function Bs(){return(Bs=(0,_.Z)(function*($){$._throwIfRoot("getDownloadURL");const B=Fn($.storage,$._location,ui());return(yield $.storage.makeRequestWithTokens(B)).getPromise().then(K=>{if(null===K)throw Tt();return K})})).apply(this,arguments)}function oi(){return(oi=(0,_.Z)(function*($){$._throwIfRoot("deleteObject");const B=Un($.storage,$._location);return(yield $.storage.makeRequestWithTokens(B)).getPromise()})).apply(this,arguments)}function Ks($,B){const K=function($,B){const K=B.split("/").filter(ae=>ae.length>0).join("/");return 0===$.length?K:$+"/"+K}($._location.path,B),ae=new ot($._location.bucket,K);return new Ir($.storage,ae)}function qi($,B){if($ instanceof js){const K=$;if(null==K._bucket)throw new Qe("no-default-bucket","No default bucket found. Did you set the '"+st+"' property when initializing the app?");const ae=new Ir(K,K._bucket);return null!=B?qi(ae,B):ae}return void 0!==B?Ks($,B):$}function fi($,B){if(B&&function($){return/^[A-Za-z]+:\/\//.test($)}(B)){if($ instanceof js)return function($,B){return new Ir($,B)}($,B);throw jt("To use ref(service, url), the first argument must be a Storage instance.")}return qi($,B)}function Ys($,B){const K=null==B?void 0:B[st];return null==K?null:ot.makeFromBucketSpec(K,$)}class js{constructor(B,K,ae,Oe,at,bt){this.app=B,this._authProvider=K,this._appCheckProvider=ae,this._pool=Oe,this._url=at,this._firebaseVersion=bt,this._bucket=null,this._host=nn,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=at?ot.makeFromBucketSpec(at,this._host):Ys(this._host,this.app.options)}get host(){return this._host}set host(B){this._host=B,this._bucket=null!=this._url?ot.makeFromBucketSpec(this._url,B):Ys(B,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(B){nr("time",0,Number.POSITIVE_INFINITY,B),this._maxUploadRetryTime=B}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(B){nr("time",0,Number.POSITIVE_INFINITY,B),this._maxOperationRetryTime=B}_getAuthToken(){var B=this;return(0,_.Z)(function*(){if(B._overrideAuthToken)return B._overrideAuthToken;const K=B._authProvider.getImmediate({optional:!0});if(K){const ae=yield K.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var B=this;return(0,_.Z)(function*(){const K=B._appCheckProvider.getImmediate({optional:!0});return K?(yield K.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(B=>B.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(B){return new Ir(this,B)}_makeRequest(B,K,ae){if(this._deleted)return new lt(On());{const Oe=function($,B,K,ae,Oe,at){const bt=on($.urlParams),en=$.url+bt,zt=Object.assign({},$.headers);return function($,B){B&&($["X-Firebase-GMPID"]=B)}(zt,B),function($,B){null!==B&&B.length>0&&($.Authorization="Firebase "+B)}(zt,K),function($,B){$["X-Firebase-Storage-Version"]="webjs/"+(null!=B?B:"AppManager")}(zt,at),function($,B){null!==B&&($["X-Firebase-AppCheck"]=B)}(zt,ae),new jr(en,$.method,zt,$.body,$.successCodes,$.additionalRetryCodes,$.handler,$.errorHandler,$.timeout,$.progressCallback,Oe)}(B,this._appId,K,ae,this._pool,this._firebaseVersion);return this._requests.add(Oe),Oe.getPromise().then(()=>this._requests.delete(Oe),()=>this._requests.delete(Oe)),Oe}}makeRequestWithTokens(B){var K=this;return(0,_.Z)(function*(){const[ae,Oe]=yield Promise.all([K._getAuthToken(),K._getAppCheckToken()]);return K._makeRequest(B,ae,Oe)})()}}function gs($,B){return fi($=(0,De.m9)($),B)}(0,ct._registerComponent)(new xt.wA("storage",function($,{instanceIdentifier:B}){const K=$.getProvider("app").getImmediate(),ae=$.getProvider("auth-internal"),Oe=$.getProvider("app-check-internal");return new js(K,ae,Oe,new Be,B,ct.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ct.registerVersion)("@firebase/storage","0.8.3");class H{constructor(B,K,ae){this._delegate=B,this.task=K,this.ref=ae}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class re{constructor(B,K){this._delegate=B,this._ref=K,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new H(this._delegate.snapshot,this,this._ref)}then(B,K){return this._delegate.then(ae=>{if(B)return B(new H(ae,this,this._ref))},K)}on(B,K,ae,Oe){let at;return K&&(at="function"==typeof K?bt=>K(new H(bt,this,this._ref)):{next:K.next?bt=>K.next(new H(bt,this,this._ref)):void 0,complete:K.complete||void 0,error:K.error||void 0}),this._delegate.on(B,at,ae||void 0,Oe||void 0)}}class we{constructor(B,K){this._delegate=B,this._service=K}get prefixes(){return this._delegate.prefixes.map(B=>new it(B,this._service))}get items(){return this._delegate.items.map(B=>new it(B,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class it{constructor(B,K){this._delegate=B,this.storage=K}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(B){const K=function($,B){return Ks($,B)}(this._delegate,B);return new it(K,this.storage)}get root(){return new it(this._delegate.root,this.storage)}get parent(){const B=this._delegate.parent;return null==B?null:new it(B,this.storage)}put(B,K){return this._throwIfRoot("put"),new re(function($,B,K){return function($,B,K){return $._throwIfRoot("uploadBytesResumable"),new Vr($,new Cn(B),K)}($=(0,De.m9)($),B,K)}(this._delegate,B,K),this)}putString(B,K=Vt.RAW,ae){this._throwIfRoot("putString");const Oe=qn(K,B),at=Object.assign({},ae);return null==at.contentType&&null!=Oe.contentType&&(at.contentType=Oe.contentType),new re(new Vr(this._delegate,new Cn(Oe.data,!0),at),this)}listAll(){return($=this._delegate,function($){const B={prefixes:[],items:[]};return xi($,B).then(()=>B)}($=(0,De.m9)($))).then(B=>new we(B,this.storage));var $}list(B){return function($,B){return Ts($=(0,De.m9)($),B)}(this._delegate,B||void 0).then(K=>new we(K,this.storage))}getMetadata(){return function($){return ki.apply(this,arguments)}((0,De.m9)(this._delegate))}updateMetadata(B){return function($,B){return function($,B){return Is.apply(this,arguments)}($=(0,De.m9)($),B)}(this._delegate,B)}getDownloadURL(){return function($){return Bs.apply(this,arguments)}((0,De.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function($){return oi.apply(this,arguments)}((0,De.m9)(this._delegate))}_throwIfRoot(B){if(""===this._delegate._location.path)throw cr(B)}}class Dt{constructor(B,K){this.app=B,this._delegate=K}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(B){if(V(B))throw jt("ref() expected a child path but got a URL, use refFromURL instead.");return new it(gs(this._delegate,B),this)}refFromURL(B){if(!V(B))throw jt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ot.makeFromUrl(B,this._delegate.host)}catch(K){throw jt("refFromUrl() expected a valid full URL but got an invalid one.")}return new it(gs(this._delegate,B),this)}setMaxUploadRetryTime(B){this._delegate.maxUploadRetryTime=B}setMaxOperationRetryTime(B){this._delegate.maxOperationRetryTime=B}useEmulator(B,K,ae={}){!function($,B,K,ae={}){!function($,B,K,ae={}){$.host=`${B}:${K}`,$._protocol="http";const{mockUserToken:Oe}=ae;Oe&&($._overrideAuthToken="string"==typeof Oe?Oe:(0,De.Sg)(Oe,$.app.options.projectId))}($,B,K,ae)}(this._delegate,B,K,ae)}}function V($){return/^[A-Za-z]+:\/\//.test($)}function We($,{instanceIdentifier:B}){const K=$.getProvider("app-compat").getImmediate(),ae=$.getProvider("storage").getImmediate({identifier:B});return new Dt(K,ae)}function vi($){const B=function($){return new $e.y(B=>{const K=bt=>B.next(bt);K($.snapshot);const at=$.on("state_changed",K);return $.then(bt=>{K(bt),B.complete()},bt=>{K($.snapshot),(bt=>{B.error(bt)})(bt)}),function(){at()}}).pipe(function($,B=ce.P){return K=>K.lift(new Se($,B))}(0))}($);return{task:$,then:$.then.bind($),catch:$.catch.bind($),pause:$.pause.bind($),cancel:$.cancel.bind($),resume:$.resume.bind($),snapshotChanges:()=>B,percentageChanges:()=>B.pipe((0,qe.U)(K=>K.bytesTransferred/K.totalBytes*100))}}function Ur($){return{getDownloadURL:()=>(0,he.of)(void 0).pipe(fe.fc,(0,gt.w)(()=>$.getDownloadURL()),fe.iC),getMetadata:()=>(0,he.of)(void 0).pipe(fe.fc,(0,gt.w)(()=>$.getMetadata()),fe.iC),delete:()=>(0,me.D)($.delete()),child:B=>Ur($.child(B)),updateMetadata:B=>(0,me.D)($.updateMetadata(B)),put:(B,K)=>vi($.put(B,K)),putString:(B,K,ae)=>vi($.putString(B,K,ae)),listAll:()=>(0,me.D)($.listAll())}}!function($){const B={TaskState:mr,TaskEvent:Si,StringFormat:Vt,Storage:Dt,Reference:it};$.INTERNAL.registerComponent(new xt.wA("storage-compat",We,"PUBLIC").setServiceProps(B).setMultipleInstances(!0)),$.registerVersion("@firebase/storage-compat","0.1.3")}(_t.Z),q(7841);const Yr=new g.OlP("angularfire2.storageBucket"),Li=new g.OlP("angularfire2.storage.maxUploadRetryTime"),Tn=new g.OlP("angularfire2.storage.maxOperationRetryTime"),Js=new g.OlP("angularfire2.storage.use-emulator");let Xs=(()=>{class ${constructor(K,ae,Oe,at,bt,en,zt,fn,$n){const Wn=(0,ht.on)(K,bt,ae);this.storage=(0,fe.cc)(`${Wn.name}.storage.${Oe}`,"AngularFireStorage",Wn.name,()=>{const Nr=bt.runOutsideAngular(()=>Wn.storage(Oe||void 0)),Qr=$n;return Qr&&Nr.useEmulator(...Qr),zt&&Nr.setMaxUploadRetryTime(zt),fn&&Nr.setMaxOperationRetryTime(fn),Nr},[zt,fn])}ref(K){return Ur(this.storage.ref(K))}refFromURL(K){return Ur(this.storage.refFromURL(K))}upload(K,ae,Oe){return Ur(this.storage.ref(K)).put(ae,Oe)}}return $.\u0275fac=function(K){return new(K||$)(g.LFG(ht.Dh),g.LFG(ht.xv,8),g.LFG(Yr,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(fe.HU),g.LFG(Li,8),g.LFG(Tn,8),g.LFG(Js,8))},$.\u0275prov=g.Yz7({token:$,factory:$.\u0275fac,providedIn:"any"}),$})();var uo=q(611),Hs=q(9344),At=q(5160),hr=q(8583),Do=q(4132);function ni($,B){1&$&&(g.TgZ(0,"div"),g._UZ(1,"app-spinner"),g.qZA())}function Ao($,B){if(1&$&&(g.TgZ(0,"div"),g.YNc(1,ni,2,0,"div",1),g.qZA()),2&$){const K=g.oxw();g.xp6(1),g.Q6J("ngIf",K.auth.loading)}}function _s($,B){1&$&&(g.TgZ(0,"div",30),g._uU(1," Ingrese su email "),g.qZA())}function vs($,B){1&$&&(g.TgZ(0,"div",30),g._uU(1," Ingrese un email valido "),g.qZA())}function Ss($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su contrase\xf1a "),g.qZA())}function So($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),g.qZA())}function Sa($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su nombre "),g.qZA())}function co($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su apellido "),g.qZA())}function vo($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su DNI "),g.qZA())}function xo($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su edad "),g.qZA())}function wi($,B){1&$&&(g.TgZ(0,"div",31),g._uU(1," Ingrese su obra social "),g.qZA())}function Xi($,B){if(1&$&&(g.TgZ(0,"div",20),g.TgZ(1,"label",32),g.TgZ(2,"b"),g._uU(3,"Obra social"),g.qZA(),g.qZA(),g._UZ(4,"input",33),g.YNc(5,wi,2,0,"div",11),g.qZA()),2&$){const K=g.oxw();let ae;g.xp6(5),g.Q6J("ngIf",(null==(ae=K.form.get("obraSocial"))?null:ae.touched)&&(null==(ae=K.form.get("obraSocial"))||null==ae.errors?null:ae.errors.required))}}function ho($,B){if(1&$){const K=g.EpF();g.TgZ(0,"div",43),g.TgZ(1,"i",44),g.NdJ("click",function(){const at=g.CHM(K).$implicit;return g.oxw(3).borrarEspecialidad(at)}),g.qZA(),g._uU(2),g.qZA()}if(2&$){const K=B.$implicit;g.xp6(2),g.hij(" ",K," ")}}function eo($,B){if(1&$&&(g.TgZ(0,"div"),g.TgZ(1,"label",41),g._uU(2,"Seleccionadas:"),g.qZA(),g.YNc(3,ho,3,1,"div",42),g.qZA()),2&$){const K=g.oxw(2);g.xp6(3),g.Q6J("ngForOf",K.especialidadActual)}}function zi($,B){if(1&$){const K=g.EpF();g.TgZ(0,"div",45),g.TgZ(1,"label",46),g.NdJ("click",function(){const at=g.CHM(K).$implicit;return g.oxw(2).agregarEspecialidad(at.especialidad)}),g._uU(2),g.qZA(),g.qZA()}if(2&$){const K=B.$implicit;g.xp6(2),g.hij(" ",null==K?null:K.especialidad," ")}}function Qo($,B){if(1&$){const K=g.EpF();g.TgZ(0,"div",34),g.TgZ(1,"div",35),g.TgZ(2,"label",36),g.TgZ(3,"b"),g._uU(4,"Especialidad"),g.qZA(),g.qZA(),g._UZ(5,"input",37),g.qZA(),g._UZ(6,"input",38),g.TgZ(7,"button",39),g.NdJ("click",function(){return g.CHM(K),g.oxw().agregarNuevaEspecialidad()}),g._uU(8,"Agregar"),g.qZA(),g.YNc(9,eo,4,1,"div",1),g.YNc(10,zi,3,1,"div",40),g.qZA()}if(2&$){const K=g.oxw();g.xp6(9),g.Q6J("ngIf",K.especialidadActual.length),g.xp6(1),g.Q6J("ngForOf",K.especialidades)}}function xs($,B){if(1&$){const K=g.EpF();g.TgZ(0,"input",47),g.NdJ("change",function(Oe){return g.CHM(K),g.oxw().cambioArchivo(Oe)}),g.qZA()}}function $s($,B){if(1&$){const K=g.EpF();g.TgZ(0,"input",48),g.NdJ("change",function(Oe){return g.CHM(K),g.oxw().cambioArchivo(Oe)}),g.qZA()}}let Ro=(()=>{class ${constructor(K,ae,Oe,at,bt,en){this.auth=K,this.formBuilder=ae,this.firebaseStorage=Oe,this.router=at,this.toaster=bt,this.firestore=en,this.finalizado=new g.vpe,this.tipoUser="",this.nombreArchivo0="",this.nombreArchivo1="",this.especialidadActual=[],this.form=this.formBuilder.group({}),this.formData=new FormData,this.getEspecialidades()}set tipo(K){this.tipoUser=K,"paciente"===K?this.registroPaciente():"especialista"===K?this.registroEspecialista():this.registroAdmin()}agregarEspecialidad(K){var ae;return-1===this.especialidadActual.indexOf(K)&&(this.especialidadActual.push(K),null===(ae=this.form.controls.especialidad)||void 0===ae||ae.setValue(this.especialidadActual),console.log(this.form.controls.especialidad.value),!0)}agregarNuevaEspecialidad(){var K;let ae=null===(K=this.form.controls.nuevaEspecialidad)||void 0===K?void 0:K.value;this.agregarEspecialidad(ae)&&this.firestore.addEspecialidad(ae)}borrarEspecialidad(K){let ae=this.especialidadActual.indexOf(K);-1!==ae&&this.especialidadActual.splice(ae,1)}ngOnInit(){}getEspecialidades(){this.firestore.especialidadesObs.subscribe(K=>{this.especialidades=K,console.log(this.especialidades)})}registroPaciente(){this.form=this.formBuilder.group({email:["",[ee.kI.required,ee.kI.email]],password:["",[ee.kI.required,ee.kI.minLength(8)]],nombre:["",ee.kI.required],apellido:["",ee.kI.required],dni:["",ee.kI.required],obraSocial:["",ee.kI.required],edad:["",ee.kI.required],imagenes:[null,ee.kI.required]})}registroEspecialista(){this.form=this.formBuilder.group({nombre:["",[ee.kI.required]],apellido:["",[ee.kI.required]],edad:["",[ee.kI.required]],dni:["",[ee.kI.required]],email:["",[ee.kI.required,ee.kI.email]],password:["",[ee.kI.required,ee.kI.minLength(8)]],especialidad:["",[ee.kI.required]],nuevaEspecialidad:[""],imagen:[null,[ee.kI.required]]})}registroAdmin(){this.form=this.formBuilder.group({nombre:["",[ee.kI.required]],apellido:["",[ee.kI.required]],edad:["",[ee.kI.required]],dni:["",[ee.kI.required]],email:["",[ee.kI.required,ee.kI.email]],password:["",[ee.kI.required,ee.kI.minLength(8)]],imagen:[null,[ee.kI.required]]})}cambioArchivo(K){if(K.target.files.length>0)for(let ae=0;ae<K.target.files.length;ae++)0===ae?this.nombreArchivo0=K.target.files[ae].name:this.nombreArchivo1=K.target.files[ae].name,this.formData.delete(`archivo${ae}`),this.formData.append(`archivo${ae}`,K.target.files[ae],K.target.files[ae].name)}subirArchivo(){var K=this;return(0,_.Z)(function*(){let ae=K.formData.get("archivo0"),Oe=K.formData.get("archivo1");console.log(Oe),K.nombreArchivo0=Date.now().toString()+K.nombreArchivo0,K.nombreArchivo1=Date.now().toString()+K.nombreArchivo1,console.log(K.nombreArchivo0);let at=K.firebaseStorage.ref(K.nombreArchivo0);yield K.firebaseStorage.upload(K.nombreArchivo0,ae);let bt=null;Oe&&(bt=K.firebaseStorage.ref(K.nombreArchivo1),yield K.firebaseStorage.upload(K.nombreArchivo1,Oe)),at.getDownloadURL().subscribe(en=>{"especialista"===K.tipoUser?(K.user.imagen=en,K.firestore.addEspecialista(K.user)):"Administradores"===K.tipoUser?(K.user.imagen=en,K.firestore.addAdmin(K.user)):(K.user.imagenes.push(en),console.log(K.user.imagenes),bt&&(bt.getDownloadURL().subscribe(zt=>{K.user.imagenes.push(zt),K.firestore.addPaciente(K.user)}),K.nombreArchivo0="",K.nombreArchivo1=""))})})()}mostrarToast(K,ae){"success"===K?this.toaster.success(ae):this.toaster.error(ae)}signUp(){var K,ae,Oe,at,bt,en,zt,fn,$n,Wn,Nr,Qr,tr,Or,vr,Vi,es,bi,Zr,Ei;"paciente"===this.tipoUser?(this.user={email:null===(K=this.form.get("email"))||void 0===K?void 0:K.value,nombre:null===(ae=this.form.get("nombre"))||void 0===ae?void 0:ae.value,apellido:null===(Oe=this.form.get("apellido"))||void 0===Oe?void 0:Oe.value,dni:null===(at=this.form.get("dni"))||void 0===at?void 0:at.value,edad:null===(bt=this.form.get("edad"))||void 0===bt?void 0:bt.value,obraSocial:null===(en=this.form.get("obraSocial"))||void 0===en?void 0:en.value,password:null===(zt=this.form.get("password"))||void 0===zt?void 0:zt.value,perfil:this.tipoUser,imagenes:[]},this.registrar()):"especialista"===this.tipoUser?(this.user={email:null===(fn=this.form.get("email"))||void 0===fn?void 0:fn.value,nombre:null===($n=this.form.get("nombre"))||void 0===$n?void 0:$n.value,apellido:null===(Wn=this.form.get("apellido"))||void 0===Wn?void 0:Wn.value,dni:null===(Nr=this.form.get("dni"))||void 0===Nr?void 0:Nr.value,edad:null===(Qr=this.form.get("edad"))||void 0===Qr?void 0:Qr.value,especialidad:null===(tr=this.form.get("especialidad"))||void 0===tr?void 0:tr.value,password:null===(Or=this.form.get("password"))||void 0===Or?void 0:Or.value,perfil:this.tipoUser,habilitado:!0},this.registrar()):(this.user={email:null===(vr=this.form.get("email"))||void 0===vr?void 0:vr.value,nombre:null===(Vi=this.form.get("nombre"))||void 0===Vi?void 0:Vi.value,apellido:null===(es=this.form.get("apellido"))||void 0===es?void 0:es.value,dni:null===(bi=this.form.get("dni"))||void 0===bi?void 0:bi.value,edad:null===(Zr=this.form.get("edad"))||void 0===Zr?void 0:Zr.value,password:null===(Ei=this.form.get("password"))||void 0===Ei?void 0:Ei.value,perfil:"admin"},this.registrar())}registrar(){var K=this;this.auth.signUp(this.user).then(function(){var ae=(0,_.Z)(function*(Oe){var at;K.auth.loading=!0,K.auth.isLogged=K.user,K.user.uid=null===(at=null==Oe?void 0:Oe.user)||void 0===at?void 0:at.uid,yield K.subirArchivo(),K.auth.loading=!1,"Administradores"!==K.tipoUser?(K.auth.enviarVerificacionEmail(),Ne().fire({text:"Datos correctos, se ha enviado un mail para validar su cuenta",timer:2e3,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),K.router.navigate(["/home"])):K.finalizado.emit(!1)});return function(Oe){return ae.apply(this,arguments)}}()).catch(ae=>{this.finalizado.emit(!0),Ne().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{this.auth.loading=!1},1500)})}}return $.\u0275fac=function(K){return new(K||$)(g.Y36(ye.e),g.Y36(ee.qu),g.Y36(Xs),g.Y36(uo.F0),g.Y36(Hs._W),g.Y36(At.C))},$.\u0275cmp=g.Xpm({type:$,selectors:[["app-registro"]],inputs:{tipo:"tipo"},outputs:{finalizado:"finalizado"},decls:58,vars:15,consts:[[1,"container",2,"max-height","100vh"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12","col-sm-6"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-md-4","col-12"],["for","nombre"],["type","text","formControlName","nombre","name","nombre","required",""],["for","apellido"],["type","text","formControlName","apellido","name","apellido","required",""],["for","dni"],["type","number","name","dni","autocomplete","off","formControlName","dni","required",""],[1,"col-sm-6","col-12"],["for","edad"],["type","number","name","edad","formControlName","edad","required",""],["class","col-sm-6 col-12",4,"ngIf"],["class","col-sm-6 col-12 p-0",4,"ngIf"],[1,"col-12"],["type","file","formControlName","imagen",3,"change",4,"ngIf"],["type","file","formControlName","imagenes","multiple","",3,"change",4,"ngIf"],[1,"clearfix"],["type","submit",1,"btn",3,"disabled"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"],["for","obraSocial"],["type","text","formControlName","obraSocial","name","obraSocial","required",""],[1,"col-sm-6","col-12","p-0"],[2,"display","none"],["for","especialidad",1,"d-block"],["type","text","formControlName","especialidad","autocomplete","off","name","especialidad","required","",2,"width","60%"],["type","text","formControlName","nuevaEspecialidad","autocomplete","off","name","nuevaEspecialidad","required","",2,"width","60%"],["type","button",1,"btn","btn-primary","btn-sm","d-inline","ms-2",2,"width","36%",3,"click"],["class","form-check text-light",4,"ngFor","ngForOf"],["for",""],["class","badge rounded-pill bg-warning text-dark ms-1 noselect",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-warning","text-dark","ms-1","noselect"],[1,"bi","bi-x",2,"font-size","15px",3,"click"],[1,"form-check","text-light"],["for","especialidades",1,"form-check-label","badge","rounded-pill","bg-info","text-dark","noselect",3,"click"],["type","file","formControlName","imagen",3,"change"],["type","file","formControlName","imagenes","multiple","",3,"change"]],template:function(K,ae){if(1&K&&(g.TgZ(0,"div",0),g.YNc(1,Ao,2,1,"div",1),g.TgZ(2,"form",2),g.NdJ("ngSubmit",function(){return ae.signUp()}),g.TgZ(3,"div",3),g.TgZ(4,"h1"),g._uU(5,"Registro"),g.qZA(),g.TgZ(6,"p"),g._uU(7,"Completa los siguientes datos para crear una cuenta"),g.qZA(),g.TgZ(8,"div",4),g.TgZ(9,"div",5),g.TgZ(10,"label",6),g.TgZ(11,"b"),g._uU(12,"Email"),g.qZA(),g.qZA(),g._UZ(13,"input",7),g.YNc(14,_s,2,0,"div",8),g.YNc(15,vs,2,0,"div",8),g.qZA(),g.TgZ(16,"div",5),g.TgZ(17,"label",9),g.TgZ(18,"b"),g._uU(19,"Contrase\xf1a"),g.qZA(),g.qZA(),g._UZ(20,"input",10),g.YNc(21,Ss,2,0,"div",11),g.YNc(22,So,2,0,"div",11),g.qZA(),g.qZA(),g.TgZ(23,"div",12),g.TgZ(24,"div",13),g.TgZ(25,"label",14),g.TgZ(26,"b"),g._uU(27,"Nombre"),g.qZA(),g.qZA(),g._UZ(28,"input",15),g.YNc(29,Sa,2,0,"div",11),g.qZA(),g.TgZ(30,"div",13),g.TgZ(31,"label",16),g.TgZ(32,"b"),g._uU(33,"Apellido"),g.qZA(),g.qZA(),g._UZ(34,"input",17),g.YNc(35,co,2,0,"div",11),g.qZA(),g.TgZ(36,"div",13),g.TgZ(37,"label",18),g.TgZ(38,"b"),g._uU(39,"DNI"),g.qZA(),g.qZA(),g._UZ(40,"input",19),g.YNc(41,vo,2,0,"div",11),g.qZA(),g.qZA(),g.TgZ(42,"div",4),g.TgZ(43,"div",20),g.TgZ(44,"label",21),g.TgZ(45,"b"),g._uU(46,"Edad"),g.qZA(),g.qZA(),g._UZ(47,"input",22),g.YNc(48,xo,2,0,"div",11),g.qZA(),g.YNc(49,Xi,6,1,"div",23),g.YNc(50,Qo,11,2,"div",24),g.qZA(),g.TgZ(51,"div",4),g.TgZ(52,"div",25),g.YNc(53,xs,1,0,"input",26),g.YNc(54,$s,1,0,"input",27),g.qZA(),g.qZA(),g.TgZ(55,"div",28),g.TgZ(56,"button",29),g._uU(57,"Registrarse"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&K){let Oe,at,bt,en,zt,fn,$n,Wn;g.xp6(1),g.Q6J("ngIf",ae.auth.loading),g.xp6(1),g.Q6J("formGroup",ae.form),g.xp6(12),g.Q6J("ngIf",(null==(Oe=ae.form.get("email"))?null:Oe.touched)&&(null==(Oe=ae.form.get("email"))||null==Oe.errors?null:Oe.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(at=ae.form.get("email"))?null:at.touched)&&(null==(at=ae.form.get("email"))||null==at.errors?null:at.errors.email)),g.xp6(6),g.Q6J("ngIf",(null==(bt=ae.form.get("password"))?null:bt.touched)&&(null==(bt=ae.form.get("password"))||null==bt.errors?null:bt.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(en=ae.form.get("password"))?null:en.touched)&&(null==(en=ae.form.get("password"))||null==en.errors?null:en.errors.minlength)),g.xp6(7),g.Q6J("ngIf",(null==(zt=ae.form.get("nombre"))?null:zt.touched)&&(null==(zt=ae.form.get("nombre"))||null==zt.errors?null:zt.errors.required)),g.xp6(6),g.Q6J("ngIf",(null==(fn=ae.form.get("apellido"))?null:fn.touched)&&(null==(fn=ae.form.get("apellido"))||null==fn.errors?null:fn.errors.required)),g.xp6(6),g.Q6J("ngIf",(null==($n=ae.form.get("dni"))?null:$n.touched)&&(null==($n=ae.form.get("dni"))||null==$n.errors?null:$n.errors.required)),g.xp6(7),g.Q6J("ngIf",(null==(Wn=ae.form.get("edad"))?null:Wn.touched)&&(null==(Wn=ae.form.get("edad"))||null==Wn.errors?null:Wn.errors.required)),g.xp6(1),g.Q6J("ngIf","paciente"===ae.tipoUser),g.xp6(1),g.Q6J("ngIf","especialista"===ae.tipoUser),g.xp6(3),g.Q6J("ngIf","paciente"!==ae.tipoUser),g.xp6(1),g.Q6J("ngIf","paciente"===ae.tipoUser),g.xp6(2),g.Q6J("disabled",ae.form.invalid)}},directives:[hr.O5,ee._Y,ee.JL,ee.sg,ee.Fj,ee.JJ,ee.u,ee.Q7,ee.wV,Do.O,hr.sg],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:300px}}']}),$})()},4132:(Gt,tt,q)=>{"use strict";q.d(tt,{O:()=>g});var _=q(7716);let g=(()=>{class ee{constructor(){}ngOnInit(){}}return ee.\u0275fac=function(Ne){return new(Ne||ee)},ee.\u0275cmp=_.Xpm({type:ee,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["width","30px","height","30px","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg",1,"spinner","d-block","m-auto","mt-1"],["fill","none","stroke-width","6","stroke-linecap","round","cx","33","cy","33","r","30",1,"path"]],template:function(Ne,ye){1&Ne&&(_.TgZ(0,"div"),_.O4$(),_.TgZ(1,"svg",0),_._UZ(2,"circle",1),_.qZA(),_.qZA())},styles:[".spinner[_ngcontent-%COMP%]{animation:rotator 1.4s linear infinite}@keyframes rotator{0%{transform:rotate(0)}to{transform:rotate(270deg)}}.path[_ngcontent-%COMP%]{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:dash 1.4s ease-in-out infinite,colors 5.6s ease-in-out infinite}@keyframes colors{0%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}to{stroke:#4285f4}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}"]}),ee})()},2271:(Gt,tt,q)=>{"use strict";q.d(tt,{m:()=>Ve});var _=q(8583),g=q(665),ee=q(7716);let Ve=(()=>{class Ne{}return Ne.\u0275fac=function($e){return new($e||Ne)},Ne.\u0275mod=ee.oAB({type:Ne}),Ne.\u0275inj=ee.cJS({imports:[[_.ez,g.u5,g.UX]]}),Ne})()},7556:(Gt,tt,q)=>{"use strict";q.d(tt,{e:()=>me});var _=q(8239),g=q(8259),ee=q.n(g),Ve=q(7716),Ne=q(7057),ye=q(5160),$e=q(9344),he=q(611);let me=(()=>{class te{constructor(de,Se,Fe,Ke){this.auth=de,this.firestore=Se,this.toaster=Fe,this.router=Ke,this.isLogged=!1,this.loading=!1}mostrarToast(de,Se){"success"===de?this.toaster.success(Se):this.toaster.error(Se)}emailValido(de,Se){var Fe=this;return(0,_.Z)(function*(){return"admin@admin.com"===de.email||"especialista@especialista.com"===de.email||"paciente@paciente.com"===de.email||Se.user.emailVerified?yield Fe.firestore.getUser(de.email):(ee().fire({text:"Para ingresar debe validar el mail",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),Fe.loading=!1,"")})()}signIn(de){var Se=this;return(0,_.Z)(function*(){Se.loading=!0,Se.auth.signInWithEmailAndPassword(de.email,de.password).then(function(){var Fe=(0,_.Z)(function*(Ke){let qe=yield Se.emailValido(de,Ke);console.log(qe),localStorage.setItem("usuario",JSON.stringify(qe)),(null==qe?void 0:qe.especialidad)&&!1===(null==qe?void 0:qe.habilitado)?(ee().fire({text:"El usuario ha sido deshabilitado, contactese con un administrador para saber mas al respecto",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),Se.loading=!1):(Se.firestore.usuarioActual=qe,console.log("usuario actual: ",Se.firestore.usuarioActual),ee().fire({text:"Datos correctos",timer:1500,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),Se.loading=!1,Se.router.navigate(["/home"]))});return function(Ke){return Fe.apply(this,arguments)}}()).catch(Fe=>{ee().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{Se.loading=!1},1500)})})()}signUp(de){return this.auth.createUserWithEmailAndPassword(de.email,de.password)}logOut(){this.auth.signOut().then(de=>{this.firestore.usuarioActual=null,this.router.navigate(["/login"])})}enviarVerificacionEmail(){var de=this;return(0,_.Z)(function*(){var Se;return null===(Se=yield de.auth.currentUser)||void 0===Se?void 0:Se.sendEmailVerification()})()}}return te.\u0275fac=function(de){return new(de||te)(Ve.LFG(Ne.zQ),Ve.LFG(ye.C),Ve.LFG($e._W),Ve.LFG(he.F0))},te.\u0275prov=Ve.Yz7({token:te,factory:te.\u0275fac,providedIn:"root"}),te})()},5160:(Gt,tt,q)=>{"use strict";q.d(tt,{C:()=>bv});var _=q(8239),g=q(5257),ee=q(7716),Ve=q(3637),Ne=q(7574),ye=q(4402),$e=q(5917),he=q(9126),me=q(9761),te=q(7393);function ce(){return a=>a.lift(new de)}class de{call(n,o){return o.subscribe(new Se(n))}}class Se extends te.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let o;this.hasPrev?o=[this.prev,n]:this.hasPrev=!0,this.prev=n,o&&this.destination.next(o)}}var Fe=q(8002),Ke=q(2145);class gt{constructor(n,o){this.compare=n,this.keySelector=o}call(n,o){return o.subscribe(new fe(n,this.compare,this.keySelector))}}class fe extends te.L{constructor(n,o,u){super(n),this.keySelector=u,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(n,o){return n===o}_next(n){let o;try{const{keySelector:d}=this;o=d?d(n):n}catch(d){return this.destination.error(d)}let u=!1;if(this.hasKey)try{const{compare:d}=this;u=d(this.key,o)}catch(d){return this.destination.error(d)}else this.hasKey=!0;u||(this.key=o,this.destination.next(n))}}var Te,ht=q(5435),_t=q(8939),ct=q(8583),xt=(q(5841),q(4486)),$t=q(5452),nn=q(6034),st=q(5601),Le=q(3854),nt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qe={},ze=ze||{},Ee=nt||self;function Et(){}function Ft(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function Yt(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var Lt="closure_uid_"+(1e9*Math.random()>>>0),tn=0;function Pn(a,n,o){return a.call.apply(a.bind,arguments)}function dt(a,n,o){if(!a)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,u),a.apply(n,d)}}return function(){return a.apply(n,arguments)}}function ut(a,n,o){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pn:dt).apply(null,arguments)}function xe(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var u=o.slice();return u.push.apply(u,arguments),a.apply(this,u)}}function Ge(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(u,d,v){for(var A=Array(arguments.length-2),j=2;j<arguments.length;j++)A[j-2]=arguments[j];return n.prototype[d].apply(u,A)}}function Tt(){this.s=this.s,this.o=this.o}var On={};Tt.prototype.s=!1,Tt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,Lt)&&a[Lt]||(a[Lt]=++tn)}(this);delete On[a]}},Tt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cr=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(let o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},bn=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){const u=a.length,d="string"==typeof a?a.split(""):a;for(let v=0;v<u;v++)v in d&&n.call(o,d[v],v,a)};function jn(a){return Array.prototype.concat.apply([],arguments)}function Ot(a){const n=a.length;if(0<n){const o=Array(n);for(let u=0;u<n;u++)o[u]=a[u];return o}return[]}function Be(a){return/^[\s\xa0]*$/.test(a)}var un,ot=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function lt(a,n){return-1!=a.indexOf(n)}function rn(a,n){return a<n?-1:a>n?1:0}e:{var Ht=Ee.navigator;if(Ht){var dn=Ht.userAgent;if(dn){un=dn;break e}}un=""}function Xt(a,n,o){for(const u in a)n.call(o,a[u],u,a)}function hn(a){const n={};for(const o in a)n[o]=a[o];return n}var Xn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rr(a,n){let o,u;for(let d=1;d<arguments.length;d++){for(o in u=arguments[d],u)a[o]=u[o];for(let v=0;v<Xn.length;v++)o=Xn[v],Object.prototype.hasOwnProperty.call(u,o)&&(a[o]=u[o])}}function nr(a){return nr[" "](a),a}nr[" "]=Et;var Re,a,on=lt(un,"Opera"),jr=lt(un,"Trident")||lt(un,"MSIE"),hi=lt(un,"Edge"),kn=hi||jr,dr=lt(un,"Gecko")&&!(lt(un.toLowerCase(),"webkit")&&!lt(un,"Edge"))&&!(lt(un,"Trident")||lt(un,"MSIE"))&&!lt(un,"Edge"),ei=lt(un.toLowerCase(),"webkit")&&!lt(un,"Edge");function pi(){var a=Ee.document;return a?a.documentMode:void 0}e:{var Ce="",ke=(a=un,dr?/rv:([^\);]+)(\)|;)/.exec(a):hi?/Edge\/([\d\.]+)/.exec(a):jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):ei?/WebKit\/(\S+)/.exec(a):on?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(ke&&(Ce=ke?ke[1]:""),jr){var mt=pi();if(null!=mt&&mt>parseFloat(Ce)){Re=String(mt);break e}}Re=Ce}var Je={};function Vt(){return n=Je,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let a=0;const n=ot(String(Re)).split("."),o=ot("9").split("."),u=Math.max(n.length,o.length);for(let A=0;0==a&&A<u;A++){var d=n[A]||"",v=o[A]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==d[0].length&&0==v[0].length)break;a=rn(0==d[1].length?0:parseInt(d[1],10),0==v[1].length?0:parseInt(v[1],10))||rn(0==d[2].length,0==v[2].length)||rn(d[2],v[2]),d=d[3],v=v[3]}while(0==a)}return 0<=a}();var n}var Er=Ee.document&&jr&&(pi()||parseInt(Re,10))||void 0,Gn=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Ee.addEventListener("test",Et,n),Ee.removeEventListener("test",Et,n)}catch(o){}return a}();function Hn(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function Zn(a,n){if(Hn.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,u=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(dr){e:{try{nr(n.nodeName);var d=!0;break e}catch(v){}d=!1}d||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:Lr[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Zn.Z.h.call(this)}}Hn.prototype.h=function(){this.defaultPrevented=!0},Ge(Zn,Hn);var Lr={2:"touch",3:"pen",4:"mouse"};Zn.prototype.h=function(){Zn.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Hr="closure_listenable_"+(1e6*Math.random()|0),ji=0;function Cn(a,n,o,u,d){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!u,this.ia=d,this.key=++ji,this.ca=this.fa=!1}function gi(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function Ai(a){this.src=a,this.g={},this.h=0}function Yi(a,n){var o=n.type;if(o in a.g){var v,u=a.g[o],d=cr(u,n);(v=0<=d)&&Array.prototype.splice.call(u,d,1),v&&(gi(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function ns(a,n,o,u){for(var d=0;d<a.length;++d){var v=a[d];if(!v.ca&&v.listener==n&&v.capture==!!o&&v.ia==u)return d}return-1}Ai.prototype.add=function(a,n,o,u,d){var v=a.toString();(a=this.g[v])||(a=this.g[v]=[],this.h++);var A=ns(a,n,u,d);return-1<A?(n=a[A],o||(n.fa=!1)):((n=new Cn(n,this.src,v,!!u,d)).fa=o,a.push(n)),n};var br="closure_lm_"+(1e6*Math.random()|0),Rn={};function an(a,n,o,u,d){if(u&&u.once)return Yn(a,n,o,u,d);if(Array.isArray(n)){for(var v=0;v<n.length;v++)an(a,n[v],o,u,d);return null}return o=Wr(o),a&&a[Hr]?a.N(n,o,Yt(u)?!!u.capture:!!u,d):Tr(a,n,o,!1,u,d)}function Tr(a,n,o,u,d,v){if(!n)throw Error("Invalid event type");var A=Yt(d)?!!d.capture:!!d,j=Qn(a);if(j||(a[br]=j=new Ai(a)),(o=j.add(n,o,u,A,v)).proxy)return o;if(u=function(){var n=$r;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=u,u.src=a,u.listener=o,a.addEventListener)Gn||(d=A),void 0===d&&(d=!1),a.addEventListener(n.toString(),u,d);else if(a.attachEvent)a.attachEvent(lr(n.toString()),u);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(u)}return o}function Yn(a,n,o,u,d){if(Array.isArray(n)){for(var v=0;v<n.length;v++)Yn(a,n[v],o,u,d);return null}return o=Wr(o),a&&a[Hr]?a.O(n,o,Yt(u)?!!u.capture:!!u,d):Tr(a,n,o,!0,u,d)}function Ut(a,n,o,u,d){if(Array.isArray(n))for(var v=0;v<n.length;v++)Ut(a,n[v],o,u,d);else u=Yt(u)?!!u.capture:!!u,o=Wr(o),a&&a[Hr]?(a=a.i,(n=String(n).toString())in a.g&&-1<(o=ns(v=a.g[n],o,u,d))&&(gi(v[o]),Array.prototype.splice.call(v,o,1),0==v.length&&(delete a.g[n],a.h--))):a&&(a=Qn(a))&&(n=a.g[n.toString()],a=-1,n&&(a=ns(n,o,u,d)),(o=-1<a?n[a]:null)&&Vn(o))}function Vn(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[Hr])Yi(n.i,a);else{var o=a.type,u=a.proxy;n.removeEventListener?n.removeEventListener(o,u,a.capture):n.detachEvent?n.detachEvent(lr(o),u):n.addListener&&n.removeListener&&n.removeListener(u),(o=Qn(n))?(Yi(o,a),0==o.h&&(o.src=null,n[br]=null)):gi(a)}}}function lr(a){return a in Rn?Rn[a]:Rn[a]="on"+a}function $r(a,n){if(a.ca)a=!0;else{n=new Zn(n,this);var o=a.listener,u=a.ia||a.src;a.fa&&Vn(a),a=o.call(u,n)}return a}function Qn(a){return(a=a[br])instanceof Ai?a:null}var pr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(a){return"function"==typeof a?a:(a[pr]||(a[pr]=function(n){return a.handleEvent(n)}),a[pr])}function En(){Tt.call(this),this.i=new Ai(this),this.P=this,this.I=null}function ir(a,n){var o,u=a.I;if(u)for(o=[];u;u=u.I)o.push(u);if(a=a.P,u=n.type||n,"string"==typeof n)n=new Hn(n,a);else if(n instanceof Hn)n.target=n.target||a;else{var d=n;Rr(n=new Hn(u,a),d)}if(d=!0,o)for(var v=o.length-1;0<=v;v--){var A=n.g=o[v];d=Sr(A,u,!0,n)&&d}if(d=Sr(A=n.g=a,u,!0,n)&&d,d=Sr(A,u,!1,n)&&d,o)for(v=0;v<o.length;v++)d=Sr(A=n.g=o[v],u,!1,n)&&d}function Sr(a,n,o,u){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var d=!0,v=0;v<n.length;++v){var A=n[v];if(A&&!A.ca&&A.capture==o){var j=A.listener,Q=A.ia||A.src;A.fa&&Yi(a.i,A),d=!1!==j.call(Q,u)&&d}}return d&&!u.defaultPrevented}Ge(En,Tt),En.prototype[Hr]=!0,En.prototype.removeEventListener=function(a,n,o,u){Ut(this,a,n,o,u)},En.prototype.M=function(){if(En.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],u=0;u<o.length;u++)gi(o[u]);delete a.g[n],a.h--}}this.I=null},En.prototype.N=function(a,n,o,u){return this.i.add(String(a),n,!1,o,u)},En.prototype.O=function(a,n,o,u){return this.i.add(String(a),n,!0,o,u)};var _n=Ee.JSON.stringify;function je(){var a=qr;let n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var Fn,ge=new class{constructor(a,n){this.i=a,this.j=n,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new Ye,a=>a.reset());class Ye{constructor(){this.next=this.g=this.h=null}set(n,o){this.h=n,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function vt(a){Ee.setTimeout(()=>{throw a},0)}function cn(a,n){Fn||function(){var a=Ee.Promise.resolve(void 0);Fn=function(){a.then(Cs)}}(),Un||(Fn(),Un=!0),qr.add(a,n)}var Un=!1,qr=new class{constructor(){this.h=this.g=null}add(n,o){const u=ge.get();u.set(n,o),this.h?this.h.next=u:this.g=u,this.h=u}};function Cs(){for(var a;a=je();){try{a.h.call(a.g)}catch(o){vt(o)}var n=ge;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}Un=!1}function mi(a,n){En.call(this),this.h=a||1,this.g=n||Ee,this.j=ut(this.kb,this),this.l=Date.now()}function ti(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function Mi(a,n,o){if("function"==typeof a)o&&(a=ut(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=ut(a.handleEvent,a)}return 2147483647<Number(n)?-1:Ee.setTimeout(a,n||0)}function Kr(a){a.g=Mi(()=>{a.g=null,a.i&&(a.i=!1,Kr(a))},a.j);const n=a.h;a.h=null,a.m.apply(null,n)}Ge(mi,En),(Te=mi.prototype).da=!1,Te.S=null,Te.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ir(this,"tick"),this.da&&(ti(this),this.start()))}},Te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){mi.Z.M.call(this),ti(this),delete this.g};class gn extends Tt{constructor(n,o){super(),this.m=n,this.j=o,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Kr(this)}M(){super.M(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(a){Tt.call(this),this.h=a,this.g={}}Ge(xr,Tt);var Ws=[];function Si(a,n,o,u){Array.isArray(o)||(o&&(Ws[0]=o.toString()),o=Ws);for(var d=0;d<o.length;d++){var v=an(n,o[d],u||a.handleEvent,!1,a.h||a);if(!v)break;a.g[v.key]=v}}function mr(a){Xt(a.g,function(n,o){this.g.hasOwnProperty(o)&&Vn(n)},a),a.g={}}function yi(){this.g=!0}function Vr(a,n,o,u){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var u=o[a];if(!(2>u.length)){var d=u[1];if(Array.isArray(d)&&!(1>d.length)){var v=d[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var A=1;A<d.length;A++)d[A]=""}}}return _n(o)}catch(j){return n}}(a,o)+(u?" "+u:"")})}xr.prototype.M=function(){xr.Z.M.call(this),mr(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yi.prototype.Aa=function(){this.g=!1},yi.prototype.info=function(){};var Pi={},di=null;function Qi(){return di=di||new En}function xi(a){Hn.call(this,Pi.Ma,a)}function Hi(a){const n=Qi();ir(n,new xi(n,a))}function Ts(a,n){Hn.call(this,Pi.STAT_EVENT,a),this.stat=n}function Gr(a){const n=Qi();ir(n,new Ts(n,a))}function Us(a,n){Hn.call(this,Pi.Na,a),this.size=n}function ki(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){a()},n)}Pi.Ma="serverreachability",Ge(xi,Hn),Pi.STAT_EVENT="statevent",Ge(Ts,Hn),Pi.Na="timingevent",Ge(Us,Hn);var hs={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Is={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $i(){}function Fo(){}$i.prototype.h=null;var _i,oi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ks(){Hn.call(this,"d")}function fs(){Hn.call(this,"c")}function qi(){}function fi(a,n,o,u){this.l=a,this.j=n,this.m=o,this.X=u||1,this.V=new xr(this),this.P=Fi,this.W=new mi(a=kn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ys}function Ys(){this.i=null,this.g="",this.h=!1}Ge(Ks,Hn),Ge(fs,Hn),Ge(qi,$i),qi.prototype.g=function(){return new XMLHttpRequest},qi.prototype.i=function(){return{}},_i=new qi;var Fi=45e3,js={},Ds={};function Gi(a,n,o){a.K=1,a.v=J(we(n)),a.s=o,a.U=!0,yo(a,null)}function yo(a,n){a.F=Date.now(),Zi(a),a.A=we(a.v);var o=a.A,u=a.X;Array.isArray(u)||(u=[String(u)]),uo(o.h,"t",u),a.C=0,o=a.l.H,a.h=new Ys,a.g=Me(a.l,o?n:null,!a.s),0<a.O&&(a.L=new gn(ut(a.Ia,a,a.g),a.O)),Si(a.V,a.g,"readystatechange",a.gb),n=a.H?hn(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),Hi(1),function(a,n,o,u,d,v){a.info(function(){if(a.g)if(v)for(var A="",j=v.split("&"),Q=0;Q<j.length;Q++){var le=j[Q].split("=");if(1<le.length){var ve=le[0];le=le[1];var Ze=ve.split("_");A=2<=Ze.length&&"type"==Ze[1]?A+(ve+"=")+le+"&":A+(ve+"=redacted&")}}else A=null;else A=v;return"XMLHTTP REQ ("+u+") [attempt "+d+"]: "+n+"\n"+o+"\n"+A})}(a.j,a.u,a.A,a.m,a.X,a.s)}function _o(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function rs(a,n,o){let d,u=!0;for(;!a.I&&a.C<o.length;){if(d=is(a,o),d==Ds){4==n&&(a.o=4,Gr(14),u=!1),Vr(a.j,a.m,null,"[Incomplete Response]");break}if(d==js){a.o=4,Gr(15),Vr(a.j,a.m,o,"[Invalid Chunk]"),u=!1;break}Vr(a.j,a.m,d,null),ps(a,d)}_o(a)&&d!=Ds&&d!=js&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,Gr(16),u=!1),a.i=a.i&&u,u?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Lo(n),n.L=!0,Gr(11))):(Vr(a.j,a.m,o,"[Invalid Chunked Response]"),Ji(a),kr(a))}function is(a,n){var o=a.C,u=n.indexOf("\n",o);return-1==u?Ds:(o=Number(n.substring(o,u)),isNaN(o)?js:(u+=1)+o>n.length?Ds:(n=n.substr(u,o),a.C=u+o,n))}function Zi(a){a.Y=Date.now()+a.P,Pr(a,a.P)}function Pr(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=ki(ut(a.eb,a),n)}function As(a){a.B&&(Ee.clearTimeout(a.B),a.B=null)}function kr(a){0==a.l.G||a.I||fo(a.l,a)}function Ji(a){As(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,ti(a.W),mr(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function ps(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||vs(o.i,a)))if(o.I=a.N,!a.J&&vs(o.i,a)&&3==o.G){try{var u=o.Ca.g.parse(n)}catch(le){u=null}if(Array.isArray(u)&&3==u.length){var d=u;if(0==d[0])e:if(o.u)o.ta=d[1],0<o.ta-o.U&&37500>d[2]&&o.N&&0==o.A&&!o.v&&(o.v=ki(ut(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;ri(o),es(o)}Jo(o),Gr(18)}if(1>=_s(o.i)&&o.ka){try{o.ka()}catch(le){}o.ka=void 0}}else O(o,11)}else if((a.J||o.g==a)&&ri(o),!Be(n))for(d=o.Ca.g.parse(n),n=0;n<d.length;n++){let le=d[n];if(o.U=le[0],le=le[1],2==o.G)if("c"==le[0]){o.J=le[1],o.la=le[2];const ve=le[3];null!=ve&&(o.ma=ve,o.h.info("VER="+o.ma));const Ze=le[4];null!=Ze&&(o.za=Ze,o.h.info("SVER="+o.za));const wt=le[5];null!=wt&&"number"==typeof wt&&0<wt&&(o.K=u=1.5*wt,o.h.info("backChannelRequestTimeoutMs_="+u)),u=o;const St=a.g;if(St){const Qt=St.g?St.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qt){var v=u.i;!v.g&&(lt(Qt,"spdy")||lt(Qt,"quic")||lt(Qt,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Ss(v,v.h),v.h=null))}if(u.D){const Bn=St.g?St.g.getResponseHeader("X-HTTP-Session-Id"):null;Bn&&(u.sa=Bn,R(u.F,u.D,Bn))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var A=a;if((u=o).oa=Y(u,u.H?u.la:null,u.W),A.J){So(u.i,A);var j=A,Q=u.K;Q&&j.setTimeout(Q),j.B&&(As(j),Zi(j)),u.g=A}else _a(u);0<o.l.length&&Ei(o)}else"stop"!=le[0]&&"close"!=le[0]||O(o,7);else 3==o.G&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?O(o,7):Vi(o):"noop"!=le[0]&&o.j&&o.j.wa(le),o.A=0)}Hi(4)}catch(le){}}function Qs(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Ft(a)||"string"==typeof a)bn(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Ft(a)||"string"==typeof a){o=[];for(var u=a.length,d=0;d<u;d++)o.push(d)}else for(d in o=[],u=0,a)o[u++]=d;d=(u=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Ft(a)){for(var n=[],o=a.length,u=0;u<o;u++)n.push(a[u]);return n}for(u in n=[],o=0,a)n[o++]=a[u];return n}(a)).length;for(var v=0;v<d;v++)n.call(void 0,u[v],o&&o[v],a)}}function ss(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var u=0;u<o;u+=2)this.set(arguments[u],arguments[u+1])}else if(a)if(a instanceof ss)for(o=a.T(),u=0;u<o.length;u++)this.set(o[u],a.get(o[u]));else for(u in a)this.set(u,a[u])}function ms(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var u=a.g[n];U(a.h,u)&&(a.g[o++]=u),n++}a.g.length=o}if(a.i!=a.g.length){var d={};for(o=n=0;n<a.g.length;)U(d,u=a.g[n])||(a.g[o++]=u,d[u]=1),n++;a.g.length=o}}function U(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(Te=fi.prototype).setTimeout=function(a){this.P=a},Te.gb=function(a){a=a.target;const n=this.L;n&&3==Wn(a)?n.l():this.Ia(a)},Te.Ia=function(a){try{if(a==this.g)e:{const ve=Wn(this.g);var n=this.g.Da();const Ze=this.g.ba();if(!(3>ve)&&(3!=ve||kn||this.g&&(this.h.h||this.g.ga()||Nr(this.g)))){this.I||4!=ve||7==n||Hi(8==n||0>=Ze?3:2),As(this);var o=this.g.ba();this.N=o;t:if(_o(this)){var u=Nr(this.g);a="";var d=u.length,v=4==Wn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ji(this),kr(this);var A="";break t}this.h.i=new Ee.TextDecoder}for(n=0;n<d;n++)this.h.h=!0,a+=this.h.i.decode(u[n],{stream:v&&n==d-1});u.splice(0,d),this.h.g+=a,this.C=0,A=this.h.g}else A=this.g.ga();if(this.i=200==o,function(a,n,o,u,d,v,A){a.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+d+"]: "+n+"\n"+o+"\n"+v+" "+A})}(this.j,this.u,this.A,this.m,this.X,ve,o),this.i){if(this.$&&!this.J){t:{if(this.g){var j,Q=this.g;if((j=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(j)){var le=j;break t}}le=null}if(!(o=le)){this.i=!1,this.o=3,Gr(12),Ji(this),kr(this);break e}Vr(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ps(this,o)}this.U?(rs(this,ve,A),kn&&this.i&&3==ve&&(Si(this.V,this.W,"tick",this.fb),this.W.start())):(Vr(this.j,this.m,A,null),ps(this,A)),4==ve&&Ji(this),this.i&&!this.I&&(4==ve?fo(this.l,this):(this.i=!1,Zi(this)))}else 400==o&&0<A.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),Ji(this),kr(this)}}}catch(ve){}},Te.fb=function(){if(this.g){var a=Wn(this.g),n=this.g.ga();this.C<n.length&&(As(this),rs(this,a,n),this.i&&4!=a&&Zi(this))}},Te.cancel=function(){this.I=!0,Ji(this)},Te.eb=function(){this.B=null;const a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Hi(3),Gr(17)),Ji(this),this.o=2,kr(this)):Pr(this,this.Y-a)},(Te=ss.prototype).R=function(){ms(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},Te.T=function(){return ms(this),this.g.concat()},Te.get=function(a,n){return U(this.h,a)?this.h[a]:n},Te.set=function(a,n){U(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},Te.forEach=function(a,n){for(var o=this.T(),u=0;u<o.length;u++){var d=o[u],v=this.get(d);a.call(n,v,d,this)}};var X=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function re(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof re){this.g=void 0!==n?n:a.g,it(this,a.j),this.s=a.s,Dt(this,a.i),V(this,a.m),this.l=a.l,n=a.h;var o=new Xs;o.i=n.i,n.g&&(o.g=new ss(n.g),o.h=n.h),P(this,o),this.o=a.o}else a&&(o=String(a).match(X))?(this.g=!!n,it(this,o[1]||"",!0),this.s=An(o[2]||""),Dt(this,o[3]||"",!0),V(this,o[4]),this.l=An(o[5]||"",!0),P(this,o[6]||"",!0),this.o=An(o[7]||"")):(this.g=!!n,this.h=new Xs(null,this.g))}function we(a){return new re(a)}function it(a,n,o){a.j=o?An(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function Dt(a,n,o){a.i=o?An(n,!0):n}function V(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function P(a,n,o){n instanceof Xs?(a.h=n,function(a,n){n&&!a.j&&(ys(a),a.i=null,a.g.forEach(function(o,u){var d=u.toLowerCase();u!=d&&(Ua(this,u),uo(this,d,o))},a)),a.j=n}(a.h,a.g)):(o||(n=sr(n,Tn)),a.h=new Xs(n,a.g))}function R(a,n,o){a.h.set(n,o)}function J(a){return R(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function An(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function sr(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,vi),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function vi(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}re.prototype.toString=function(){var a=[],n=this.j;n&&a.push(sr(n,Ur,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(sr(n,Ur,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(sr(o,"/"==o.charAt(0)?Li:Yr,!0))),(o=this.h.toString())&&a.push("?",o),(o=this.o)&&a.push("#",sr(o,Js)),a.join("")};var Ur=/[#\/\?@]/g,Yr=/[#\?:]/g,Li=/[#\?]/g,Tn=/[#\?@]/g,Js=/#/g;function Xs(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function ys(a){a.g||(a.g=new ss,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var u=a[o].indexOf("="),d=null;if(0<=u){var v=a[o].substring(0,u);d=a[o].substring(u+1)}else v=a[o];n(v,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function Ua(a,n){ys(a),n=Hs(a,n),U(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,U((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&ms(a)))}function ai(a,n){return ys(a),n=Hs(a,n),U(a.g.h,n)}function uo(a,n,o){Ua(a,n),0<o.length&&(a.i=null,a.g.set(Hs(a,n),Ot(o)),a.h+=o.length)}function Hs(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}function Do(a){this.l=a||ni,a=Ee.PerformanceNavigationTiming?0<(a=Ee.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=Xs.prototype).add=function(a,n){ys(this),this.i=null,a=Hs(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},Te.forEach=function(a,n){ys(this),this.g.forEach(function(o,u){bn(o,function(d){a.call(n,d,u,this)},this)},this)},Te.T=function(){ys(this);for(var a=this.g.R(),n=this.g.T(),o=[],u=0;u<n.length;u++)for(var d=a[u],v=0;v<d.length;v++)o.push(n[u]);return o},Te.R=function(a){ys(this);var n=[];if("string"==typeof a)ai(this,a)&&(n=jn(n,this.g.get(Hs(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=jn(n,a[o])}return n},Te.set=function(a,n){return ys(this),this.i=null,ai(this,a=Hs(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},Te.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var u=n[o],d=encodeURIComponent(String(u));u=this.R(u);for(var v=0;v<u.length;v++){var A=d;""!==u[v]&&(A+="="+encodeURIComponent(String(u[v]))),a.push(A)}}return this.i=a.join("&")};var ni=10;function Ao(a){return!!a.h||!!a.g&&a.g.size>=a.j}function _s(a){return a.h?1:a.g?a.g.size:0}function vs(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function Ss(a,n){a.g?a.g.add(n):a.h=n}function So(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function Sa(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let n=a.i;for(const o of a.g.values())n=n.concat(o.D);return n}return Ot(a.i)}function co(){}function vo(){this.g=new co}function xo(a,n,o){const u=o||"";try{Qs(a,function(d,v){let A=d;Yt(d)&&(A=_n(d)),n.push(u+v+"="+encodeURIComponent(A))})}catch(d){throw n.push(u+"type="+encodeURIComponent("_badmap")),d}}function Xi(a,n,o,u,d){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,d(u)}catch(v){}}function ho(a){this.l=a.$b||null,this.j=a.ib||!1}function eo(a,n){En.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=zi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Do.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},co.prototype.stringify=function(a){return Ee.JSON.stringify(a,void 0)},co.prototype.parse=function(a){return Ee.JSON.parse(a,void 0)},Ge(ho,$i),ho.prototype.g=function(){return new eo(this.l,this.j)},ho.prototype.i=function(a){return function(){return a}}({}),Ge(eo,En);var zi=0;function Qo(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function xs(a){a.readyState=4,a.l=null,a.j=null,a.A=null,$s(a)}function $s(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(Te=eo.prototype).open=function(a,n){if(this.readyState!=zi)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,$s(this)},Te.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||Ee).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xs(this)),this.readyState=zi},Te.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ee.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qo(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},Te.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?xs(this):$s(this),3==this.readyState&&Qo(this)}},Te.Ua=function(a){this.g&&(this.response=this.responseText=a,xs(this))},Te.Ta=function(a){this.g&&(this.response=a,xs(this))},Te.ha=function(){this.g&&xs(this)},Te.setRequestHeader=function(a,n){this.v.append(a,n)},Te.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],n=this.h.entries();for(var o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(eo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Ro=Ee.JSON.parse;function $(a){En.call(this),this.headers=new ss,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=B,this.K=this.L=!1}Ge($,En);var B="",K=/^https?$/i,ae=["POST","PUT"];function at(a){return"content-type"==a.toLowerCase()}function bt(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,en(a),fn(a)}function en(a){a.D||(a.D=!0,ir(a,"complete"),ir(a,"error"))}function zt(a){if(a.h&&void 0!==ze&&(!a.C[1]||4!=Wn(a)||2!=a.ba()))if(a.v&&4==Wn(a))Mi(a.Fa,0,a);else if(ir(a,"readystatechange"),4==Wn(a)){a.h=!1;try{const j=a.ba();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var o;if(!(o=n)){var u;if(u=0===j){var d=String(a.H).match(X)[1]||null;if(!d&&Ee.self&&Ee.self.location){var v=Ee.self.location.protocol;d=v.substr(0,v.length-1)}u=!K.test(d?d.toLowerCase():"")}o=u}if(o)ir(a,"complete"),ir(a,"success");else{a.m=6;try{var A=2<Wn(a)?a.g.statusText:""}catch(Q){A=""}a.j=A+" ["+a.ba()+"]",en(a)}}finally{fn(a)}}}function fn(a,n){if(a.g){$n(a);const o=a.g,u=a.C[0]?Et:null;a.g=null,a.C=null,n||ir(a,"ready");try{o.onreadystatechange=u}catch(d){}}}function $n(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Ee.clearTimeout(a.A),a.A=null)}function Wn(a){return a.g?a.g.readyState:0}function Nr(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case B:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function tr(a,n,o){e:{for(u in o){var u=!1;break e}u=!0}u||(o=function(a){let n="";return Xt(a,function(o,u){n+=u,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):R(a,n,o))}function Or(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function vr(a){this.za=0,this.l=[],this.h=new yi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Or("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Or("baseRetryDelayMs",5e3,a),this.$a=Or("retryDelaySeedMs",1e4,a),this.Ya=Or("forwardChannelMaxRetries",2,a),this.ra=Or("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new Do(a&&a.concurrentRequestLimit),this.Ca=new vo,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Vi(a){if(bi(a),3==a.G){var n=a.V++,o=we(a.F);R(o,"SID",a.J),R(o,"RID",n),R(o,"TYPE","terminate"),os(a,o),(n=new fi(a,a.h,n,void 0)).K=2,n.v=J(we(o)),o=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(o=Ee.navigator.sendBeacon(n.v.toString(),"")),!o&&Ee.Image&&((new Image).src=n.v,o=!0),o||(n.g=Me(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Zi(n)}M(a)}function es(a){a.g&&(Lo(a),a.g.cancel(),a.g=null)}function bi(a){es(a),a.u&&(Ee.clearTimeout(a.u),a.u=null),ri(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Ee.clearTimeout(a.m),a.m=null)}function Zr(a,n){a.l.push(new class{constructor(a,n){this.h=a,this.g=n}}(a.Za++,n)),3==a.G&&Ei(a)}function Ei(a){Ao(a.i)||a.m||(a.m=!0,cn(a.Ha,a),a.C=0)}function to(a,n){var o;o=n?n.m:a.V++;const u=we(a.F);R(u,"SID",a.J),R(u,"RID",o),R(u,"AID",a.U),os(a,u),a.o&&a.s&&tr(u,a.o,a.s),o=new fi(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=wo(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Ss(a.i,o),Gi(o,u,n)}function os(a,n){a.j&&Qs({},function(o,u){R(n,u,o)})}function wo(a,n,o){o=Math.min(a.l.length,o);var u=a.j?ut(a.j.Oa,a.j,a):null;e:{var d=a.l;let v=-1;for(;;){const A=["count="+o];-1==v?0<o?(v=d[0].h,A.push("ofs="+v)):v=0:A.push("ofs="+v);let j=!0;for(let Q=0;Q<o;Q++){let le=d[Q].h;const ve=d[Q].g;if(le-=v,0>le)v=Math.max(0,d[Q].h-100),j=!1;else try{xo(ve,A,"req"+le+"_")}catch(Ze){u&&u(ve)}}if(j){u=A.join("&");break e}}}return a=a.l.splice(0,o),n.D=a,u}function _a(a){a.g||a.u||(a.Y=1,cn(a.Ga,a),a.A=0)}function Jo(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=ki(ut(a.Ga,a),Rs(a,a.A)),a.A++,0))}function Lo(a){null!=a.B&&(Ee.clearTimeout(a.B),a.B=null)}function qs(a){a.g=new fi(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=we(a.oa);R(n,"RID","rpc"),R(n,"SID",a.J),R(n,"CI",a.N?"0":"1"),R(n,"AID",a.U),os(a,n),R(n,"TYPE","xmlhttp"),a.o&&a.s&&tr(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=J(we(n)),o.s=null,o.U=!0,yo(o,a)}function ri(a){null!=a.v&&(Ee.clearTimeout(a.v),a.v=null)}function fo(a,n){var o=null;if(a.g==n){ri(a),Lo(a),a.g=null;var u=2}else{if(!vs(a.i,n))return;o=n.D,So(a.i,n),u=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==u){o=n.s?n.s.length:0,n=Date.now()-n.F;var d=a.C;ir(u=Qi(),new Us(u,o,n,d)),Ei(a)}else _a(a);else if(3==(d=n.o)||0==d&&0<a.I||!(1==u&&function(a,n){return!(_s(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=ki(ut(a.Ha,a,n),Rs(a,a.C)),a.C++,0)))}(a,n)||2==u&&Jo(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),d){case 1:O(a,5);break;case 4:O(a,10);break;case 3:O(a,6);break;default:O(a,2)}}function Rs(a,n){let o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function O(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var u=ut(a.jb,a);o||(o=new re("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||it(o,"https"),J(o)),function(a,n){const o=new yi;if(Ee.Image){const u=new Image;u.onload=xe(Xi,o,u,"TestLoadImage: loaded",!0,n),u.onerror=xe(Xi,o,u,"TestLoadImage: error",!1,n),u.onabort=xe(Xi,o,u,"TestLoadImage: abort",!1,n),u.ontimeout=xe(Xi,o,u,"TestLoadImage: timeout",!1,n),Ee.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=a}else n(!1)}(o.toString(),u)}else Gr(2);a.G=0,a.j&&a.j.va(n),M(a),bi(a)}function M(a){a.G=0,a.I=-1,a.j&&((0!=Sa(a.i).length||0!=a.l.length)&&(a.i.i.length=0,Ot(a.l),a.l.length=0),a.j.ua())}function Y(a,n,o){let u=function(a){return a instanceof re?we(a):new re(a,void 0)}(o);if(""!=u.i)n&&Dt(u,n+"."+u.i),V(u,u.m);else{const d=Ee.location;u=function(a,n,o,u){var d=new re(null,void 0);return a&&it(d,a),n&&Dt(d,n),o&&V(d,o),u&&(d.l=u),d}(d.protocol,n?n+"."+d.hostname:d.hostname,+d.port,o)}return a.aa&&Xt(a.aa,function(d,v){R(u,v,d)}),o=a.sa,(n=a.D)&&o&&R(u,n,o),R(u,"VER",a.ma),os(a,u),u}function Me(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new $(o&&a.Ba&&!a.qa?new ho({ib:!0}):a.qa)).L=a.H,n}function Nt(){}function Nn(){if(jr&&!(10<=Number(Er)))throw Error("Environmental error: no available transport.")}function rr(a,n){En.call(this),this.g=new vr(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!Be(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Be(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new w(this)}function L(a){Ks.call(this);var n=a.__sm__;if(n){e:{for(const o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function b(){fs.call(this),this.status=1}function w(a){this.g=a}(Te=$.prototype).ea=function(a,n,o,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():_i.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:_i),this.g.onreadystatechange=ut(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(v){return void bt(this,v)}a=o||"";const d=new ss(this.headers);u&&Qs(u,function(v,A){d.set(A,v)}),u=function(a){e:{var n=at;const o=a.length,u="string"==typeof a?a.split(""):a;for(let d=0;d<o;d++)if(d in u&&n.call(void 0,u[d],d,a)){n=d;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(d.T()),o=Ee.FormData&&a instanceof Ee.FormData,!(0<=cr(ae,n))||u||o||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(v,A){this.g.setRequestHeader(A,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$n(this),0<this.B&&((this.K=function(a){return jr&&Vt()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.pa,this)):this.A=Mi(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(v){bt(this,v)}},Te.pa=function(){void 0!==ze&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ir(this,"timeout"),this.abort(8))},Te.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,ir(this,"complete"),ir(this,"abort"),fn(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fn(this,!0)),$.Z.M.call(this)},Te.Fa=function(){this.s||(this.F||this.v||this.l?zt(this):this.cb())},Te.cb=function(){zt(this)},Te.ba=function(){try{return 2<Wn(this)?this.g.status:-1}catch(a){return-1}},Te.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},Te.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),Ro(n)}},Te.Da=function(){return this.m},Te.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=vr.prototype).ma=8,Te.G=1,Te.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},Te.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;const d=new fi(this,this.h,a,void 0);let v=this.s;if(this.P&&(v?(v=hn(v),Rr(v,this.P)):v=this.P),null===this.o&&(d.H=v),this.ja)e:{for(var n=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(n+=u)){n=o;break e}if(4096===n||o===this.l.length-1){n=o+1;break e}}n=1e3}else n=1e3;n=wo(this,d,n),R(o=we(this.F),"RID",a),R(o,"CVER",22),this.D&&R(o,"X-HTTP-Session-Id",this.D),os(this,o),this.o&&v&&tr(o,this.o,v),Ss(this.i,d),this.Ra&&R(o,"TYPE","init"),this.ja?(R(o,"$req",n),R(o,"SID","null"),d.$=!0,Gi(d,o,null)):Gi(d,o,n),this.G=2}}else 3==this.G&&(a?to(this,a):0==this.l.length||Ao(this.i)||to(this))},Te.Ga=function(){if(this.u=null,qs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=ki(ut(this.bb,this),a)}},Te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),es(this),qs(this))},Te.ab=function(){null!=this.v&&(this.v=null,es(this),Jo(this),Gr(19))},Te.jb=function(a){a?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(Te=Nt.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Oa=function(){},Nn.prototype.g=function(a,n){return new rr(a,n)},Ge(rr,En),rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),cn(ut(a.hb,a,n))),Gr(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=Y(a,null,a.W),Ei(a)},rr.prototype.close=function(){Vi(this.g)},rr.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,Zr(this.g,n)}else this.v?((n={}).__data__=_n(a),Zr(this.g,n)):Zr(this.g,a)},rr.prototype.M=function(){this.g.j=null,delete this.j,Vi(this.g),delete this.g,rr.Z.M.call(this)},Ge(L,Ks),Ge(b,fs),Ge(w,Nt),w.prototype.xa=function(){ir(this.g,"a")},w.prototype.wa=function(a){ir(this.g,new L(a))},w.prototype.va=function(a){ir(this.g,new b(a))},w.prototype.ua=function(){ir(this.g,"b")},Nn.prototype.createWebChannel=Nn.prototype.g,rr.prototype.send=rr.prototype.u,rr.prototype.open=rr.prototype.m,rr.prototype.close=rr.prototype.close,hs.NO_ERROR=0,hs.TIMEOUT=8,hs.HTTP_ERROR=6,Is.COMPLETE="complete",Fo.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",En.prototype.listen=En.prototype.N,$.prototype.listenOnce=$.prototype.O,$.prototype.getLastError=$.prototype.La,$.prototype.getLastErrorCode=$.prototype.Da,$.prototype.getStatus=$.prototype.ba,$.prototype.getResponseJson=$.prototype.Qa,$.prototype.getResponseText=$.prototype.ga,$.prototype.send=$.prototype.ea;var N=Qe.createWebChannelTransport=function(){return new Nn},W=Qe.getStatEventTarget=function(){return Qi()},oe=Qe.ErrorCode=hs,_e=Qe.EventType=Is,Ie=Qe.Event=Pi,et=Qe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},pt=Qe.FetchXmlHttpFactory=ho,Wt=Qe.WebChannel=Fo,vn=Qe.XhrIo=$;class In{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let fr="9.1.0";const Sn=new st.Yd("@firebase/firestore");function Ln(){return Sn.logLevel}function Rt(a,...n){if(Sn.logLevel<=st.in.DEBUG){const o=n.map(Ri);Sn.debug(`Firestore (${fr}): ${a}`,...o)}}function or(a,...n){if(Sn.logLevel<=st.in.ERROR){const o=n.map(Ri);Sn.error(`Firestore (${fr}): ${a}`,...o)}}function li(a,...n){if(Sn.logLevel<=st.in.WARN){const o=n.map(Ri);Sn.warn(`Firestore (${fr}): ${a}`,...o)}}function Ri(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function mn(a="Unexpected state"){const n=`FIRESTORE (${fr}) INTERNAL ASSERTION FAILED: `+a;throw or(n),new Error(n)}function Dn(a,n){a||mn()}function Zt(a,n){return a}const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class I{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class F{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class G{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(In.UNAUTHENTICATED))}shutdown(){}}class ne{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class be{constructor(n){this.t=n,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var u=this;let d=this.i;const v=le=>this.i!==d?(d=this.i,o(le)):Promise.resolve();let A=new I;this.o=()=>{this.i++,this.currentUser=this.u(),A.resolve(),A=new I,n.enqueueRetryable(()=>v(this.currentUser))};const j=()=>{const le=A;n.enqueueRetryable((0,_.Z)(function*(){yield le.promise,yield v(u.currentUser)}))},Q=le=>{Rt("FirebaseCredentialsProvider","Auth detected"),this.auth=le,this.auth.addAuthTokenListener(this.o),j()};this.t.onInit(le=>Q(le)),setTimeout(()=>{if(!this.auth){const le=this.t.getImmediate({optional:!0});le?Q(le):(Rt("FirebaseCredentialsProvider","Auth not yet detected"),A.resolve(),A=new I)}},0),j()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(u=>this.i!==n?(Rt("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(Dn("string"==typeof u.accessToken),new F(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Dn(null===n||"string"==typeof n),new In(n)}}class pe{constructor(n,o,u){this.h=n,this.l=o,this.m=u,this.type="FirstParty",this.user=In.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class Xe{constructor(n,o,u){this.h=n,this.l=o,this.m=u}getToken(){return Promise.resolve(new pe(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ct{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.g(u),this.p=u=>o.writeSequenceNumber(u))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function pn(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let u=0;u<a;u++)o[u]=Math.floor(256*Math.random());return o}Ct.T=-1;class sn{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let u="";for(;u.length<20;){const d=pn(40);for(let v=0;v<d.length;++v)u.length<20&&d[v]<o&&(u+=n.charAt(d[v]%n.length))}return u}}function Jt(a,n){return a<n?-1:a>n?1:0}function Mn(a,n,o){return a.length===n.length&&a.every((u,d)=>o(u,n[d]))}function Ui(a){return a+"\0"}class Jn{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new T(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new T(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Jn.fromMillis(Date.now())}static fromDate(n){return Jn.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),u=Math.floor(1e6*(n-1e3*o));return new Jn(o,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?Jt(this.nanoseconds,n.nanoseconds):Jt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xn(n)}static min(){return new xn(new Jn(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gs(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function ls(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function po(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class go{constructor(n,o,u){void 0===o?o=0:o>n.length&&mn(),void 0===u?u=n.length-o:u>n.length-o&&mn(),this.segments=n,this.offset=o,this.len=u}get length(){return this.len}isEqual(n){return 0===go.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof go?n.forEach(u=>{o.push(u)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,u=this.limit();o<u;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const u=Math.min(n.length,o.length);for(let d=0;d<u;d++){const v=n.get(d),A=o.get(d);if(v<A)return-1;if(v>A)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class Mr extends go{construct(n,o,u){return new Mr(n,o,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const u of n){if(u.indexOf("//")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);o.push(...u.split("/").filter(d=>d.length>0))}return new Mr(o)}static emptyPath(){return new Mr([])}}const Wi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class no extends go{construct(n,o,u){return new no(n,o,u)}static isValidIdentifier(n){return Wi.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),no.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new no(["__name__"])}static fromServerFormat(n){const o=[];let u="",d=0;const v=()=>{if(0===u.length)throw new T(D.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(u),u=""};let A=!1;for(;d<n.length;){const j=n[d];if("\\"===j){if(d+1===n.length)throw new T(D.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const Q=n[d+1];if("\\"!==Q&&"."!==Q&&"`"!==Q)throw new T(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);u+=Q,d+=2}else"`"===j?(A=!A,d++):"."!==j||A?(u+=j,d++):(v(),d++)}if(v(),A)throw new T(D.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new no(o)}static emptyPath(){return new no([])}}class il{constructor(n){this.fields=n,n.sort(no.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return Mn(this.fields,n.fields,(o,u)=>o.isEqual(u))}}class Ns{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new Ns(o)}static fromUint8Array(n){const o=function(u){let d="";for(let v=0;v<u.length;++v)d+=String.fromCharCode(u[v]);return d}(n);return new Ns(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return Jt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Ns.EMPTY_BYTE_STRING=new Ns("");const rm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xa(a){if(Dn(!!a),"string"==typeof a){let n=0;const o=rm.exec(a);if(Dn(!!o),o[1]){let d=o[1];d=(d+"000000000").substr(0,9),n=Number(d)}const u=new Date(a);return{seconds:Math.floor(u.getTime()/1e3),nanos:n}}return{seconds:Os(a.seconds),nanos:Os(a.nanos)}}function Os(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function sl(a){return"string"==typeof a?Ns.fromBase64String(a):Ns.fromUint8Array(a)}function ih(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function Zc(a){const n=a.mapValue.fields.__previous_value__;return ih(n)?Zc(n):n}function ol(a){const n=xa(a.mapValue.fields.__local_write_time__.timestampValue);return new Jn(n.seconds,n.nanos)}function Vo(a){return null==a}function zc(a){return 0===a&&1/a==-1/0}function ts(a){return"number"==typeof a&&Number.isInteger(a)&&!zc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class wn{constructor(n){this.path=n}static fromPath(n){return new wn(Mr.fromString(n))}static fromName(n){return new wn(Mr.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Mr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return Mr.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new wn(new Mr(n.slice()))}}function mo(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?ih(a)?4:10:mn()}function ra(a,n){const o=mo(a);if(o!==mo(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return ol(a).isEqual(ol(n));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const v=xa(u.timestampValue),A=xa(d.timestampValue);return v.seconds===A.seconds&&v.nanos===A.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return d=n,sl(a.bytesValue).isEqual(sl(d.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(u,d){return Os(u.geoPointValue.latitude)===Os(d.geoPointValue.latitude)&&Os(u.geoPointValue.longitude)===Os(d.geoPointValue.longitude)}(a,n);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return Os(u.integerValue)===Os(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const v=Os(u.doubleValue),A=Os(d.doubleValue);return v===A?zc(v)===zc(A):isNaN(v)&&isNaN(A)}return!1}(a,n);case 9:return Mn(a.arrayValue.values||[],n.arrayValue.values||[],ra);case 10:return function(u,d){const v=u.mapValue.fields||{},A=d.mapValue.fields||{};if(Gs(v)!==Gs(A))return!1;for(const j in v)if(v.hasOwnProperty(j)&&(void 0===A[j]||!ra(v[j],A[j])))return!1;return!0}(a,n);default:return mn()}var d}function mu(a,n){return void 0!==(a.values||[]).find(o=>ra(o,n))}function ro(a,n){const o=mo(a),u=mo(n);if(o!==u)return Jt(o,u);switch(o){case 0:return 0;case 1:return Jt(a.booleanValue,n.booleanValue);case 2:return function(d,v){const A=Os(d.integerValue||d.doubleValue),j=Os(v.integerValue||v.doubleValue);return A<j?-1:A>j?1:A===j?0:isNaN(A)?isNaN(j)?0:-1:1}(a,n);case 3:return ia(a.timestampValue,n.timestampValue);case 4:return ia(ol(a),ol(n));case 5:return Jt(a.stringValue,n.stringValue);case 6:return function(d,v){const A=sl(d),j=sl(v);return A.compareTo(j)}(a.bytesValue,n.bytesValue);case 7:return function(d,v){const A=d.split("/"),j=v.split("/");for(let Q=0;Q<A.length&&Q<j.length;Q++){const le=Jt(A[Q],j[Q]);if(0!==le)return le}return Jt(A.length,j.length)}(a.referenceValue,n.referenceValue);case 8:return function(d,v){const A=Jt(Os(d.latitude),Os(v.latitude));return 0!==A?A:Jt(Os(d.longitude),Os(v.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(d,v){const A=d.values||[],j=v.values||[];for(let Q=0;Q<A.length&&Q<j.length;++Q){const le=ro(A[Q],j[Q]);if(le)return le}return Jt(A.length,j.length)}(a.arrayValue,n.arrayValue);case 10:return function(d,v){const A=d.fields||{},j=Object.keys(A),Q=v.fields||{},le=Object.keys(Q);j.sort(),le.sort();for(let ve=0;ve<j.length&&ve<le.length;++ve){const Ze=Jt(j[ve],le[ve]);if(0!==Ze)return Ze;const wt=ro(A[j[ve]],Q[le[ve]]);if(0!==wt)return wt}return Jt(j.length,le.length)}(a.mapValue,n.mapValue);default:throw mn()}}function ia(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return Jt(a,n);const o=xa(a),u=xa(n),d=Jt(o.seconds,u.seconds);return 0!==d?d:Jt(o.nanos,u.nanos)}function Ba(a){return va(a)}function va(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(u){const d=xa(u);return`time(${d.seconds},${d.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?sl(a.bytesValue).toBase64():"referenceValue"in a?wn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(u){let d="[",v=!0;for(const A of u.values||[])v?v=!1:d+=",",d+=va(A);return d+"]"}(a.arrayValue):"mapValue"in a?function(u){const d=Object.keys(u.fields||{}).sort();let v="{",A=!0;for(const j of d)A?A=!1:v+=",",v+=`${j}:${va(u.fields[j])}`;return v+"}"}(a.mapValue):mn();var n}function sa(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function tc(a){return!!a&&"integerValue"in a}function yu(a){return!!a&&"arrayValue"in a}function sh(a){return!!a&&"nullValue"in a}function Wc(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Kc(a){return!!a&&"mapValue"in a}function ja(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return ls(a.mapValue.fields,(o,u)=>n.mapValue.fields[o]=ja(u)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=ja(a.arrayValue.values[o]);return n}return Object.assign({},a)}class ii{constructor(n){this.value=n}static empty(){return new ii({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let u=0;u<n.length-1;++u)if(o=(o.mapValue.fields||{})[n.get(u)],!Kc(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=ja(o)}setAll(n){let o=no.emptyPath(),u={},d=[];n.forEach((A,j)=>{if(!o.isImmediateParentOf(j)){const Q=this.getFieldsMap(o);this.applyChanges(Q,u,d),u={},d=[],o=j.popLast()}A?u[j.lastSegment()]=ja(A):d.push(j.lastSegment())});const v=this.getFieldsMap(o);this.applyChanges(v,u,d)}delete(n){const o=this.field(n.popLast());Kc(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return ra(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let u=0;u<n.length;++u){let d=o.mapValue.fields[n.get(u)];Kc(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},o.mapValue.fields[n.get(u)]=d),o=d}return o.mapValue.fields}applyChanges(n,o,u){ls(o,(d,v)=>n[d]=v);for(const d of u)delete n[d]}clone(){return new ii(ja(this.value))}}function nc(a){const n=[];return ls(a.fields,(o,u)=>{const d=new no([o]);if(Kc(u)){const v=nc(u.mapValue).fields;if(0===v.length)n.push(d);else for(const A of v)n.push(d.child(A))}else n.push(d)}),new il(n)}class Jr{constructor(n,o,u,d,v){this.key=n,this.documentType=o,this.version=u,this.data=d,this.documentState=v}static newInvalidDocument(n){return new Jr(n,0,xn.min(),ii.empty(),0)}static newFoundDocument(n,o,u){return new Jr(n,1,o,u,0)}static newNoDocument(n,o){return new Jr(n,2,o,ii.empty(),0)}static newUnknownDocument(n,o){return new Jr(n,3,o,ii.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Jr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Jr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class im{constructor(n,o=null,u=[],d=[],v=null,A=null,j=null){this.path=n,this.collectionGroup=o,this.orderBy=u,this.filters=d,this.limit=v,this.startAt=A,this.endAt=j,this.A=null}}function Yc(a,n=null,o=[],u=[],d=null,v=null,A=null){return new im(a,n,o,u,d,v,A)}function al(a){const n=Zt(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(u=>function(a){return a.field.canonicalString()+a.op.toString()+Ba(a.value)}(u)).join(","),o+="|ob:",o+=n.orderBy.map(u=>{return(d=u).field.canonicalString()+d.dir;var d}).join(","),Vo(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=Ul(n.startAt)),n.endAt&&(o+="|ub:",o+=Ul(n.endAt)),n.A=o}return n.A}function Fl(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let d=0;d<a.orderBy.length;d++)if(!Bl(a.orderBy[d],n.orderBy[d]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let d=0;d<a.filters.length;d++)if((o=a.filters[d]).op!==(u=n.filters[d]).op||!o.field.isEqual(u.field)||!ra(o.value,u.value))return!1;var o,u;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!qa(a.startAt,n.startAt)&&qa(a.endAt,n.endAt)}function rc(a){return wn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class io extends class{}{constructor(n,o,u){super(),this.field=n,this.op=o,this.value=u}static create(n,o,u){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,u):new Jc(n,o,u):"array-contains"===o?new Xc(n,u):"in"===o?new Ha(n,u):"not-in"===o?new Gf(n,u):"array-contains-any"===o?new Zf(n,u):new io(n,o,u)}static R(n,o,u){return"in"===o?new ic(n,u):new oh(n,u)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(ro(o,this.value)):null!==o&&mo(this.value)===mo(o)&&this.P(ro(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return mn()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jc extends io{constructor(n,o,u){super(n,o,u),this.key=wn.fromName(u.referenceValue)}matches(n){const o=wn.comparator(n.key,this.key);return this.P(o)}}class ic extends io{constructor(n,o){super(n,"in",o),this.keys=Vl(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class oh extends io{constructor(n,o){super(n,"not-in",o),this.keys=Vl(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function Vl(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(u=>wn.fromName(u.referenceValue))}class Xc extends io{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return yu(o)&&mu(o.arrayValue,this.value)}}class Ha extends io{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&mu(this.value.arrayValue,o)}}class Gf extends io{constructor(n,o){super(n,"not-in",o)}matches(n){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!mu(this.value.arrayValue,o)}}class Zf extends io{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!yu(o)||!o.arrayValue.values)&&o.arrayValue.values.some(u=>mu(this.value.arrayValue,u))}}class ll{constructor(n,o){this.position=n,this.before=o}}function Ul(a){return`${a.before?"b":"a"}:${a.position.map(n=>Ba(n)).join(",")}`}class ul{constructor(n,o="asc"){this.field=n,this.dir=o}}function Bl(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function $a(a,n,o){let u=0;for(let d=0;d<a.position.length;d++){const v=n[d],A=a.position[d];if(u=v.field.isKeyField()?wn.comparator(wn.fromName(A.referenceValue),o.key):ro(A,o.data.field(v.field)),"desc"===v.dir&&(u*=-1),0!==u)break}return a.before?u<=0:u<0}function qa(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!ra(a.position[o],n.position[o]))return!1;return!0}class oa{constructor(n,o=null,u=[],d=[],v=null,A="F",j=null,Q=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=u,this.filters=d,this.limit=v,this.limitType=A,this.startAt=j,this.endAt=Q,this.V=null,this.S=null}}function us(a,n,o,u,d,v,A,j){return new oa(a,n,o,u,d,v,A,j)}function Ga(a){return new oa(a)}function sc(a){return!Vo(a.limit)&&"F"===a.limitType}function aa(a){return!Vo(a.limit)&&"L"===a.limitType}function cl(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function oc(a){for(const n of a.filters)if(n.v())return n.field;return null}function jl(a){return null!==a.collectionGroup}function dl(a){const n=Zt(a);if(null===n.V){n.V=[];const o=oc(n),u=cl(n);if(null!==o&&null===u)o.isKeyField()||n.V.push(new ul(o)),n.V.push(new ul(no.keyField(),"asc"));else{let d=!1;for(const v of n.explicitOrderBy)n.V.push(v),v.field.isKeyField()&&(d=!0);if(!d){const v=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new ul(no.keyField(),v))}}}return n.V}function la(a){const n=Zt(a);if(!n.S)if("F"===n.limitType)n.S=Yc(n.path,n.collectionGroup,dl(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const v of dl(n))o.push(new ul(v.field,"desc"===v.dir?"asc":"desc"));const u=n.endAt?new ll(n.endAt.position,!n.endAt.before):null,d=n.startAt?new ll(n.startAt.position,!n.startAt.before):null;n.S=Yc(n.path,n.collectionGroup,o,n.filters,n.limit,u,d)}return n.S}function hl(a,n,o){return new oa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function bo(a,n){return Fl(la(a),la(n))&&a.limitType===n.limitType}function _u(a){return`${al(la(a))}|lt:${a.limitType}`}function wa(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(u=o).field.canonicalString()} ${u.op} ${Ba(u.value)}`;var u}).join(", ")}]`),Vo(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),a.startAt&&(n+=", startAt: "+Ul(a.startAt)),a.endAt&&(n+=", endAt: "+Ul(a.endAt)),`Target(${n})`}(la(a))}; limitType=${a.limitType})`}function Hl(a,n){return n.isFoundDocument()&&function(o,u){const d=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):wn.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(a,n)&&function(o,u){for(const d of o.explicitOrderBy)if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(a,n)&&function(o,u){for(const d of o.filters)if(!d.matches(u))return!1;return!0}(a,n)&&(u=n,!((o=a).startAt&&!$a(o.startAt,dl(o),u)||o.endAt&&$a(o.endAt,dl(o),u)));var o,u}function ed(a){return(n,o)=>{let u=!1;for(const d of dl(a)){const v=$l(d,n,o);if(0!==v)return v;u=u||d.field.isKeyField()}return 0}}function $l(a,n,o){const u=a.field.isKeyField()?wn.comparator(n.key,o.key):function(d,v,A){const j=v.data.field(d),Q=A.data.field(d);return null!==j&&null!==Q?ro(j,Q):mn()}(a.field,n,o);switch(a.dir){case"asc":return u;case"desc":return-1*u;default:return mn()}}function vu(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(n)?"-0":n}}function td(a){return{integerValue:""+a}}function ah(a,n){return ts(n)?td(n):vu(a,n)}class ac{constructor(){this._=void 0}}function ql(a,n,o){return a instanceof bu?function(u,d){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&(v.fields.__previous_value__=d),{mapValue:v}}(o,n):a instanceof ba?uh(a,n):a instanceof Gl?ch(a,n):function(u,d){const v=lh(u,d),A=dh(v)+dh(u.C);return tc(v)&&tc(u.C)?td(A):vu(u.N,A)}(a,n)}function wu(a,n,o){return a instanceof ba?uh(a,n):a instanceof Gl?ch(a,n):o}function lh(a,n){return a instanceof Zl?tc(o=n)||(u=o)&&"doubleValue"in u?n:{integerValue:0}:null;var u,o}class bu extends ac{}class ba extends ac{constructor(n){super(),this.elements=n}}function uh(a,n){const o=zl(n);for(const u of a.elements)o.some(d=>ra(d,u))||o.push(u);return{arrayValue:{values:o}}}class Gl extends ac{constructor(n){super(),this.elements=n}}function ch(a,n){let o=zl(n);for(const u of a.elements)o=o.filter(d=>!ra(d,u));return{arrayValue:{values:o}}}class Zl extends ac{constructor(n,o){super(),this.N=n,this.C=o}}function dh(a){return Os(a.integerValue||a.doubleValue)}function zl(a){return yu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class fl{constructor(n,o){this.field=n,this.transform=o}}class zf{constructor(n,o){this.version=n,this.transformResults=o}}class ws{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new ws}static exists(n){return new ws(void 0,n)}static updateTime(n){return new ws(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Eu(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class pl{}function Cu(a,n,o){a instanceof Tu?function(u,d,v){const A=u.value.clone(),j=fh(u.fieldTransforms,d,v.transformResults);A.setAll(j),d.convertToFoundDocument(v.version,A).setHasCommittedMutations()}(a,n,o):a instanceof Za?function(u,d,v){if(!Eu(u.precondition,d))return void d.convertToUnknownDocument(v.version);const A=fh(u.fieldTransforms,d,v.transformResults),j=d.data;j.setAll(hh(u)),j.setAll(A),d.convertToFoundDocument(v.version,j).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function lc(a,n,o){var d;a instanceof Tu?function(u,d,v){if(!Eu(u.precondition,d))return;const A=u.value.clone(),j=ph(u.fieldTransforms,v,d);A.setAll(j),d.convertToFoundDocument(Ea(d),A).setHasLocalMutations()}(a,n,o):a instanceof Za?function(u,d,v){if(!Eu(u.precondition,d))return;const A=ph(u.fieldTransforms,v,d),j=d.data;j.setAll(hh(u)),j.setAll(A),d.convertToFoundDocument(Ea(d),j).setHasLocalMutations()}(a,n,o):Eu(a.precondition,d=n)&&d.convertToNoDocument(xn.min())}function nd(a,n){let o=null;for(const u of a.fieldTransforms){const d=n.data.field(u.field),v=lh(u.transform,d||null);null!=v&&(null==o&&(o=ii.empty()),o.set(u.field,v))}return o||null}function rd(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&Mn(o,u,(d,v)=>function(a,n){return a.field.isEqual(n.field)&&(u=n.transform,(o=a.transform)instanceof ba&&u instanceof ba||o instanceof Gl&&u instanceof Gl?Mn(o.elements,u.elements,ra):o instanceof Zl&&u instanceof Zl?ra(o.C,u.C):o instanceof bu&&u instanceof bu);var o,u}(d,v))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,u}function Ea(a){return a.isFoundDocument()?a.version:xn.min()}class Tu extends pl{constructor(n,o,u,d=[]){super(),this.key=n,this.value=o,this.precondition=u,this.fieldTransforms=d,this.type=0}}class Za extends pl{constructor(n,o,u,d,v=[]){super(),this.key=n,this.data=o,this.fieldMask=u,this.precondition=d,this.fieldTransforms=v,this.type=1}}function hh(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const u=a.data.field(o);n.set(o,u)}}),n}function fh(a,n,o){const u=new Map;Dn(a.length===o.length);for(let d=0;d<o.length;d++){const v=a[d],A=v.transform,j=n.data.field(v.field);u.set(v.field,wu(A,j,o[d]))}return u}function ph(a,n,o){const u=new Map;for(const d of a){const v=d.transform,A=o.data.field(d.field);u.set(d.field,ql(v,A,n))}return u}class Uo extends pl{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class gl extends pl{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class za{constructor(n){this.count=n}}var bs,Fr;function uc(a){switch(a){case D.OK:return mn();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0;default:return mn()}}function gh(a){if(void 0===a)return or("GRPC error has no .code"),D.UNKNOWN;switch(a){case bs.OK:return D.OK;case bs.CANCELLED:return D.CANCELLED;case bs.UNKNOWN:return D.UNKNOWN;case bs.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case bs.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case bs.INTERNAL:return D.INTERNAL;case bs.UNAVAILABLE:return D.UNAVAILABLE;case bs.UNAUTHENTICATED:return D.UNAUTHENTICATED;case bs.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case bs.NOT_FOUND:return D.NOT_FOUND;case bs.ALREADY_EXISTS:return D.ALREADY_EXISTS;case bs.PERMISSION_DENIED:return D.PERMISSION_DENIED;case bs.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case bs.ABORTED:return D.ABORTED;case bs.OUT_OF_RANGE:return D.OUT_OF_RANGE;case bs.UNIMPLEMENTED:return D.UNIMPLEMENTED;case bs.DATA_LOSS:return D.DATA_LOSS;default:return mn()}}(Fr=bs||(bs={}))[Fr.OK=0]="OK",Fr[Fr.CANCELLED=1]="CANCELLED",Fr[Fr.UNKNOWN=2]="UNKNOWN",Fr[Fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fr[Fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fr[Fr.NOT_FOUND=5]="NOT_FOUND",Fr[Fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fr[Fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fr[Fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fr[Fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fr[Fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fr[Fr.ABORTED=10]="ABORTED",Fr[Fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fr[Fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fr[Fr.INTERNAL=13]="INTERNAL",Fr[Fr.UNAVAILABLE=14]="UNAVAILABLE",Fr[Fr.DATA_LOSS=15]="DATA_LOSS";class cs{constructor(n,o){this.comparator=n,this.root=o||so.EMPTY}insert(n,o){return new cs(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,so.BLACK,null,null))}remove(n){return new cs(this.comparator,this.root.remove(n,this.comparator).copy(null,null,so.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return o.value;u<0?o=o.left:u>0&&(o=o.right)}return null}indexOf(n){let o=0,u=this.root;for(;!u.isEmpty();){const d=this.comparator(n,u.key);if(0===d)return o+u.left.size;d<0?u=u.left:(o+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,u)=>(n(o,u),!1))}toString(){const n=[];return this.inorderTraversal((o,u)=>(n.push(`${o}:${u}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Iu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Iu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Iu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Iu(this.root,n,this.comparator,!0)}}class Iu{constructor(n,o,u,d){this.isReverse=d,this.nodeStack=[];let v=1;for(;!n.isEmpty();)if(v=o?u(n.key,o):1,d&&(v*=-1),v<0)n=this.isReverse?n.left:n.right;else{if(0===v){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class so{constructor(n,o,u,d,v){this.key=n,this.value=o,this.color=null!=u?u:so.RED,this.left=null!=d?d:so.EMPTY,this.right=null!=v?v:so.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,u,d,v){return new so(null!=n?n:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=d?d:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,u){let d=this;const v=u(n,d.key);return d=v<0?d.copy(null,null,null,d.left.insert(n,o,u),null):0===v?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(n,o,u)),d.fixUp()}removeMin(){if(this.left.isEmpty())return so.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let u,d=this;if(o(n,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(n,o),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===o(n,d.key)){if(d.right.isEmpty())return so.EMPTY;u=d.right.min(),d=d.copy(u.key,u.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(n,o))}return d.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,so.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,so.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mn();const n=this.left.check();if(n!==this.right.check())throw mn();return n+(this.isRed()?0:1)}}so.EMPTY=null,so.RED=!0,so.BLACK=!1,so.EMPTY=new class{constructor(){this.size=0}get key(){throw mn()}get value(){throw mn()}get color(){throw mn()}get left(){throw mn()}get right(){throw mn()}copy(a,n,o,u,d){return this}insert(a,n,o){return new so(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(n){this.comparator=n,this.data=new cs(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,u)=>(n(o),!1))}forEachInRange(n,o){const u=this.data.getIteratorFrom(n[0]);for(;u.hasNext();){const d=u.getNext();if(this.comparator(d.key,n[1])>=0)return;o(d.key)}}forEachWhile(n,o){let u;for(u=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();u.hasNext();)if(!n(u.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(n){return new mh(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(u=>{o=o.add(u)}),o}isEqual(n){if(!(n instanceof Bi)||this.size!==n.size)return!1;const o=this.data.getIterator(),u=n.data.getIterator();for(;o.hasNext();){const d=o.getNext().key,v=u.getNext().key;if(0!==this.comparator(d,v))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new Bi(this.comparator);return o.data=n,o}}class mh{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Wf=new cs(wn.comparator);function Bo(){return Wf}const Kf=new cs(wn.comparator);function ml(){return Kf}const yh=new cs(wn.comparator);function ua(){return yh}const Du=new Bi(wn.comparator);function Xr(...a){let n=Du;for(const o of a)n=n.add(o);return n}const cc=new Bi(Jt);function Au(){return cc}class dc{constructor(n,o,u,d,v){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=u,this.documentUpdates=d,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(n,o){const u=new Map;return u.set(n,Kl.createSynthesizedTargetChangeForCurrentChange(n,o)),new dc(xn.min(),u,Au(),Bo(),Xr())}}class Kl{constructor(n,o,u,d,v){this.resumeToken=n,this.current=o,this.addedDocuments=u,this.modifiedDocuments=d,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(n,o){return new Kl(Ns.EMPTY_BYTE_STRING,o,Xr(),Xr(),Xr())}}class Su{constructor(n,o,u,d){this.k=n,this.removedTargetIds=o,this.key=u,this.$=d}}class hc{constructor(n,o){this.targetId=n,this.O=o}}class fc{constructor(n,o,u=Ns.EMPTY_BYTE_STRING,d=null){this.state=n,this.targetIds=o,this.resumeToken=u,this.cause=d}}class yl{constructor(){this.F=0,this.M=id(),this.L=Ns.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=Xr(),o=Xr(),u=Xr();return this.M.forEach((d,v)=>{switch(v){case 0:n=n.add(d);break;case 2:o=o.add(d);break;case 1:u=u.add(d);break;default:mn()}}),new Kl(this.L,this.B,n,o,u)}G(){this.U=!1,this.M=id()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class sm{constructor(n){this.tt=n,this.et=new Map,this.nt=Bo(),this.st=Yf(),this.it=new Bi(Jt)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const u=this.ut(o);switch(n.state){case 0:this.ht(o)&&u.j(n.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(n.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(o);break;case 3:this.ht(o)&&(u.Z(),u.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),u.j(n.resumeToken));break;default:mn()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((u,d)=>{this.ht(d)&&o(d)})}ft(n){const o=n.targetId,u=n.O.count,d=this.dt(o);if(d){const v=d.target;if(rc(v))if(0===u){const A=new wn(v.path);this.at(o,A,Jr.newNoDocument(A,xn.min()))}else Dn(1===u);else this.wt(o)!==u&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((v,A)=>{const j=this.dt(A);if(j){if(v.current&&rc(j.target)){const Q=new wn(j.target.path);null!==this.nt.get(Q)||this.gt(A,Q)||this.at(A,Q,Jr.newNoDocument(Q,n))}v.K&&(o.set(A,v.W()),v.G())}});let u=Xr();this.st.forEach((v,A)=>{let j=!0;A.forEachWhile(Q=>{const le=this.dt(Q);return!le||2===le.purpose||(j=!1,!1)}),j&&(u=u.add(v))});const d=new dc(n,o,this.it,this.nt,u);return this.nt=Bo(),this.st=Yf(),this.it=new Bi(Jt),d}ot(n,o){if(!this.ht(n))return;const u=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,u),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,u){if(!this.ht(n))return;const d=this.ut(n);this.gt(n,o)?d.H(o,1):d.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),u&&(this.nt=this.nt.insert(o,u))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new yl,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new Bi(Jt),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||Rt("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new yl),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function Yf(){return new cs(wn.comparator)}function id(){return new cs(wn.comparator)}const _h={asc:"ASCENDING",desc:"DESCENDING"},Qf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Jf{constructor(n,o){this.databaseId=n,this.D=o}}function xu(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function sd(a,n){return a.D?n.toBase64():n.toUint8Array()}function _l(a,n){return xu(a,n.toTimestamp())}function Ms(a){return Dn(!!a),xn.fromTimestamp(function(n){const o=xa(n);return new Jn(o.seconds,o.nanos)}(a))}function Yl(a,n){return(o=a,new Mr(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function vh(a){const n=Mr.fromString(a);return Dn(Eh(n)),n}function Ti(a,n){return Yl(a.databaseId,n.path)}function ca(a,n){const o=vh(n);if(o.get(1)!==a.databaseId.projectId)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new T(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new wn(pc(o))}function od(a,n){return Yl(a.databaseId,n)}function Ru(a){const n=vh(a);return 4===n.length?Mr.emptyPath():pc(n)}function Wa(a){return new Mr(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function pc(a){return Dn(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function ad(a,n,o){return{name:Ti(a,n),fields:o.value.mapValue.fields}}function wh(a,n,o){const u=ca(a,n.name),d=Ms(n.updateTime),v=new ii({mapValue:{fields:n.fields}}),A=Jr.newFoundDocument(u,d,v);return o&&A.setHasCommittedMutations(),o?A.setHasCommittedMutations():A}function vl(a,n){let o;if(n instanceof Tu)o={update:ad(a,n.key,n.value)};else if(n instanceof Uo)o={delete:Ti(a,n.key)};else if(n instanceof Za)o={update:ad(a,n.key,n.data),updateMask:gc(n.fieldMask)};else{if(!(n instanceof gl))return mn();o={verify:Ti(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(u=>function(d,v){const A=v.transform;if(A instanceof bu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof ba)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Gl)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Zl)return{fieldPath:v.field.canonicalString(),increment:A.C};throw mn()}(0,u))),n.precondition.isNone||(o.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:_l(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:mn()),o;var d}function bh(a,n){const o=n.currentDocument?void 0!==(d=n.currentDocument).updateTime?ws.updateTime(Ms(d.updateTime)):void 0!==d.exists?ws.exists(d.exists):ws.none():ws.none(),u=n.updateTransforms?n.updateTransforms.map(d=>function(v,A){let j=null;"setToServerValue"in A?(Dn("REQUEST_TIME"===A.setToServerValue),j=new bu):"appendMissingElements"in A?j=new ba(A.appendMissingElements.values||[]):"removeAllFromArray"in A?j=new Gl(A.removeAllFromArray.values||[]):"increment"in A?j=new Zl(v,A.increment):mn();const Q=no.fromServerFormat(A.fieldPath);return new fl(Q,j)}(a,d)):[];var d;if(n.update){const d=ca(a,n.update.name),v=new ii({mapValue:{fields:n.update.fields}});if(n.updateMask){const A=new il((n.updateMask.fieldPaths||[]).map(le=>no.fromServerFormat(le)));return new Za(d,v,A,o,u)}return new Tu(d,v,o,u)}if(n.delete){const d=ca(a,n.delete);return new Uo(d,o)}if(n.verify){const d=ca(a,n.verify);return new gl(d,o)}return mn()}function Zs(a,n){return{documents:[od(a,n.path)]}}function Ql(a,n){const o={structuredQuery:{}},u=n.path;null!==n.collectionGroup?(o.parent=od(a,u),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=od(a,u.popLast()),o.structuredQuery.from=[{collectionId:u.lastSegment()}]);const d=function(j){if(0===j.length)return;const Q=j.map(le=>function(ve){if("=="===ve.op){if(Wc(ve.value))return{unaryFilter:{field:wl(ve.field),op:"IS_NAN"}};if(sh(ve.value))return{unaryFilter:{field:wl(ve.field),op:"IS_NULL"}}}else if("!="===ve.op){if(Wc(ve.value))return{unaryFilter:{field:wl(ve.field),op:"IS_NOT_NAN"}};if(sh(ve.value))return{unaryFilter:{field:wl(ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wl(ve.field),op:ep(ve.op),value:ve.value}}}(le));return 1===Q.length?Q[0]:{compositeFilter:{op:"AND",filters:Q}}}(n.filters);d&&(o.structuredQuery.where=d);const v=function(j){if(0!==j.length)return j.map(Q=>{return{field:wl((le=Q).field),direction:Xf(le.dir)};var le})}(n.orderBy);v&&(o.structuredQuery.orderBy=v);const A=(Q=n.limit,a.D||Vo(Q)?Q:{value:Q});var Q;return null!==A&&(o.structuredQuery.limit=A),n.startAt&&(o.structuredQuery.startAt=Ho(n.startAt)),n.endAt&&(o.structuredQuery.endAt=Ho(n.endAt)),o}function ud(a){let n=Ru(a.parent);const o=a.structuredQuery,u=o.from?o.from.length:0;let d=null;if(u>0){Dn(1===u);const ve=o.from[0];ve.allDescendants?d=ve.collectionId:n=n.child(ve.collectionId)}let v=[];o.where&&(v=oo(o.where));let A=[];o.orderBy&&(A=o.orderBy.map(ve=>{return new ul(bl((Ze=ve).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ze.direction));var Ze}));let j=null;o.limit&&(j=function(ve){let Ze;return Ze="object"==typeof ve?ve.value:ve,Vo(Ze)?null:Ze}(o.limit));let Q=null;o.startAt&&(Q=Ou(o.startAt));let le=null;return o.endAt&&(le=Ou(o.endAt)),us(n,d,A,v,j,"F",Q,le)}function oo(a){return a?void 0!==a.unaryFilter?[dd(a)]:void 0!==a.fieldFilter?[Eo(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>oo(n)).reduce((n,o)=>n.concat(o)):mn():[]}function Ho(a){return{before:a.before,values:a.position}}function Ou(a){return new ll(a.values||[],!!a.before)}function Xf(a){return _h[a]}function ep(a){return Qf[a]}function wl(a){return{fieldPath:a.canonicalString()}}function bl(a){return no.fromServerFormat(a.fieldPath)}function Eo(a){return io.create(bl(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return mn()}}(a.fieldFilter.op),a.fieldFilter.value)}function dd(a){switch(a.unaryFilter.op){case"IS_NAN":const n=bl(a.unaryFilter.field);return io.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=bl(a.unaryFilter.field);return io.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bl(a.unaryFilter.field);return io.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=bl(a.unaryFilter.field);return io.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return mn()}}function gc(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function Eh(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function Ps(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=mc(n)),n=Mu(a.get(o),n);return mc(n)}function Mu(a,n){let o=n;const u=a.length;for(let d=0;d<u;d++){const v=a.charAt(d);switch(v){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=v}}return o}function mc(a){return a+"\x01\x01"}function Xo(a){const n=a.length;if(Dn(n>=2),2===n)return Dn("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Mr.emptyPath();const o=n-2,u=[];let d="";for(let v=0;v<n;){const A=a.indexOf("\x01",v);switch((A<0||A>o)&&mn(),a.charAt(A+1)){case"\x01":const j=a.substring(v,A);let Q;0===d.length?Q=j:(d+=j,Q=d,d=""),u.push(Q);break;case"\x10":d+=a.substring(v,A),d+="\0";break;case"\x11":d+=a.substring(v,A+1);break;default:mn()}v=A+2}return new Mr(u)}class yc{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class $o{constructor(n,o,u){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=u}}$o.store="owner",$o.key="owner";class El{constructor(n,o,u){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=u}}El.store="mutationQueues",El.keyPath="userId";class Ii{constructor(n,o,u,d,v){this.userId=n,this.batchId=o,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=v}}Ii.store="mutations",Ii.keyPath="batchId",Ii.userMutationsIndex="userMutationsIndex",Ii.userMutationsKeyPath=["userId","batchId"];class ks{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,Ps(o)]}static key(n,o,u){return[n,Ps(o),u]}}ks.store="documentMutations",ks.PLACEHOLDER=new ks;class C{constructor(n,o){this.path=n,this.readTime=o}}class f{constructor(n,o){this.path=n,this.version=o}}class m{constructor(n,o,u,d,v,A){this.unknownDocument=n,this.noDocument=o,this.document=u,this.hasCommittedMutations=d,this.readTime=v,this.parentPath=A}}m.store="remoteDocuments",m.readTimeIndex="readTimeIndex",m.readTimeIndexPath="readTime",m.collectionReadTimeIndex="collectionReadTimeIndex",m.collectionReadTimeIndexPath=["parentPath","readTime"];class S{constructor(n){this.byteSize=n}}S.store="remoteDocumentGlobal",S.key="remoteDocumentGlobalKey";class Z{constructor(n,o,u,d,v,A,j){this.targetId=n,this.canonicalId=o,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=v,this.lastLimboFreeSnapshotVersion=A,this.query=j}}Z.store="targets",Z.keyPath="targetId",Z.queryTargetsIndexName="queryTargetsIndex",Z.queryTargetsKeyPath=["canonicalId","targetId"];class ie{constructor(n,o,u){this.targetId=n,this.path=o,this.sequenceNumber=u}}ie.store="targetDocuments",ie.keyPath=["targetId","path"],ie.documentTargetsIndex="documentTargetsIndex",ie.documentTargetsKeyPath=["path","targetId"];class Ue{constructor(n,o,u,d){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=u,this.targetCount=d}}Ue.key="targetGlobalKey",Ue.store="targetGlobal";class yt{constructor(n,o){this.collectionId=n,this.parent=o}}yt.store="collectionParents",yt.keyPath=["collectionId","parent"];class qt{constructor(n,o,u,d){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=u,this.inForeground=d}}qt.store="clientMetadata",qt.keyPath="clientId";class ln{constructor(n,o,u){this.bundleId=n,this.createTime=o,this.version=u}}ln.store="bundles",ln.keyPath="bundleId";class Kn{constructor(n,o,u){this.name=n,this.readTime=o,this.bundledQuery=u}}Kn.store="namedQueries",Kn.keyPath="name";const er=[El.store,Ii.store,ks.store,m.store,Z.store,$o.store,Ue.store,ie.store,qt.store,S.store,yt.store,ln.store,Kn.store],Es="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Mt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&mn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new Mt((u,d)=>{this.nextCallback=v=>{this.wrapSuccess(n,v).next(u,d)},this.catchCallback=v=>{this.wrapFailure(o,v).next(u,d)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof Mt?o:Mt.resolve(o)}catch(o){return Mt.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):Mt.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):Mt.reject(o)}static resolve(n){return new Mt((o,u)=>{o(n)})}static reject(n){return new Mt((o,u)=>{u(n)})}static waitFor(n){return new Mt((o,u)=>{let d=0,v=0,A=!1;n.forEach(j=>{++d,j.next(()=>{++v,A&&v===d&&o()},Q=>u(Q))}),A=!0,v===d&&o()})}static or(n){let o=Mt.resolve(!1);for(const u of n)o=o.next(d=>d?Mt.resolve(d):u());return o}static forEach(n,o){const u=[];return n.forEach((d,v)=>{u.push(o.call(this,d,v))}),this.waitFor(u)}}class Jl{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new I,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new Xl(n,o.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const d=Pu(u.target.error);this.Tt.reject(new Xl(n,d))}}static open(n,o,u,d){try{return new Jl(o,n.transaction(d,u))}catch(v){throw new Xl(o,v)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(Rt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new da(o)}}class Go{constructor(n,o,u){this.name=n,this.version=o,this.At=u,12.2===Go.Rt((0,Le.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return Rt("SimpleDb","Removing database:",n),Cl(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Le.hl)())return!1;if(Go.Pt())return!0;const n=(0,Le.z$)(),o=Go.Rt(n),u=0<o&&o<10,d=Go.vt(n),v=0<d&&d<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||u||v)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(n){const o=n.match(/Android ([\d.]+)/i),u=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(n){var o=this;return(0,_.Z)(function*(){return o.db||(Rt("SimpleDb","Opening database:",o.name),o.db=yield new Promise((u,d)=>{const v=indexedDB.open(o.name,o.version);v.onsuccess=A=>{u(A.target.result)},v.onblocked=()=>{d(new Xl(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},v.onerror=A=>{const j=A.target.error;d("VersionError"===j.name?new T(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===j.name?new T(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+j):new Xl(n,j))},v.onupgradeneeded=A=>{Rt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',A.oldVersion),o.At.Ct(A.target.result,v.transaction,A.oldVersion,o.version).next(()=>{Rt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=u=>o.Nt(u)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,u,d){var v=this;return(0,_.Z)(function*(){const A="readonly"===o;let j=0;for(;;){++j;try{v.db=yield v.Dt(n);const Q=Jl.open(v.db,n,A?"readonly":"readwrite",u),le=d(Q).catch(ve=>(Q.abort(ve),Mt.reject(ve))).toPromise();return le.catch(()=>{}),yield Q.It,le}catch(Q){const le="FirebaseError"!==Q.name&&j<3;if(Rt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",le),v.close(),!le)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ch{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Cl(this.kt.delete())}}class Xl extends T{constructor(n,o){super(D.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function No(a){return"IndexedDbTransactionError"===a.name}class da{constructor(n){this.store=n}put(n,o){let u;return void 0!==o?(Rt("SimpleDb","PUT",this.store.name,n,o),u=this.store.put(o,n)):(Rt("SimpleDb","PUT",this.store.name,"<auto-key>",n),u=this.store.put(n)),Cl(u)}add(n){return Rt("SimpleDb","ADD",this.store.name,n,n),Cl(this.store.add(n))}get(n){return Cl(this.store.get(n)).next(o=>(void 0===o&&(o=null),Rt("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return Rt("SimpleDb","DELETE",this.store.name,n),Cl(this.store.delete(n))}count(){return Rt("SimpleDb","COUNT",this.store.name),Cl(this.store.count())}Lt(n,o){const u=this.cursor(this.options(n,o)),d=[];return this.Bt(u,(v,A)=>{d.push(A)}).next(()=>d)}Ut(n,o){Rt("SimpleDb","DELETE ALL",this.store.name);const u=this.options(n,o);u.qt=!1;const d=this.cursor(u);return this.Bt(d,(v,A,j)=>j.delete())}Kt(n,o){let u;o?u=n:(u={},o=n);const d=this.cursor(u);return this.Bt(d,o)}jt(n){const o=this.cursor({});return new Mt((u,d)=>{o.onerror=v=>{const A=Pu(v.target.error);d(A)},o.onsuccess=v=>{const A=v.target.result;A?n(A.primaryKey,A.value).next(j=>{j?A.continue():u()}):u()}})}Bt(n,o){const u=[];return new Mt((d,v)=>{n.onerror=A=>{v(A.target.error)},n.onsuccess=A=>{const j=A.target.result;if(!j)return void d();const Q=new Ch(j),le=o(j.primaryKey,j.value,Q);if(le instanceof Mt){const ve=le.catch(Ze=>(Q.done(),Mt.reject(Ze)));u.push(ve)}Q.isDone?d():null===Q.Ft?j.continue():j.continue(Q.Ft)}}).next(()=>Mt.waitFor(u))}options(n,o){let u;return void 0!==n&&("string"==typeof n?u=n:o=n),{index:u,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const u=this.store.index(n.index);return n.qt?u.openKeyCursor(n.range,o):u.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function Cl(a){return new Mt((n,o)=>{a.onsuccess=u=>{n(u.target.result)},a.onerror=u=>{const d=Pu(u.target.error);o(d)}})}let hd=!1;function Pu(a){const n=Go.Rt((0,Le.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const u=new T("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hd||(hd=!0,setTimeout(()=>{throw u},0)),u}}return a}class tp extends qo{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function Ni(a,n){const o=Zt(a);return Go.St(o.Qt,n)}class ku{constructor(n,o,u,d){this.batchId=n,this.localWriteTime=o,this.baseMutations=u,this.mutations=d}applyToRemoteDocument(n,o){const u=o.mutationResults;for(let d=0;d<this.mutations.length;d++){const v=this.mutations[d];v.key.isEqual(n.key)&&Cu(v,n,u[d])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&lc(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&lc(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const u=n.get(o.key),d=u;this.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(xn.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),Xr())}isEqual(n){return this.batchId===n.batchId&&Mn(this.mutations,n.mutations,(o,u)=>rd(o,u))&&Mn(this.baseMutations,n.baseMutations,(o,u)=>rd(o,u))}}class fd{constructor(n,o,u,d){this.batch=n,this.commitVersion=o,this.mutationResults=u,this.docVersions=d}static from(n,o,u){Dn(n.mutations.length===u.length);let d=ua();const v=n.mutations;for(let A=0;A<v.length;A++)d=d.insert(v[A].key,u[A].version);return new fd(n,o,u,d)}}class eu{constructor(n,o,u,d,v=xn.min(),A=xn.min(),j=Ns.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=u,this.sequenceNumber=d,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=A,this.resumeToken=j}withSequenceNumber(n){return new eu(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new eu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class np{constructor(n){this.Wt=n}}function Fu(a,n){if(n.document)return wh(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=wn.fromSegments(n.noDocument.path),u=Lu(n.noDocument.readTime),d=Jr.newNoDocument(o,u);return n.hasCommittedMutations?d.setHasCommittedMutations():d}if(n.unknownDocument){const o=wn.fromSegments(n.unknownDocument.path),u=Lu(n.unknownDocument.version);return Jr.newUnknownDocument(o,u)}return mn()}function rp(a,n,o){const u=Th(o),d=n.key.path.popLast().toArray();if(n.isFoundDocument()){const v={name:Ti(j=a.Wt,(Q=n).key),fields:Q.data.value.mapValue.fields,updateTime:xu(j,Q.version.toTimestamp())};return new m(null,null,v,n.hasCommittedMutations,u,d)}var j,Q;if(n.isNoDocument()){const v=n.key.path.toArray(),A=tu(n.version),j=n.hasCommittedMutations;return new m(null,new C(v,A),null,j,u,d)}if(n.isUnknownDocument()){const v=n.key.path.toArray(),A=tu(n.version);return new m(new f(v,A),null,null,!0,u,d)}return mn()}function Th(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Ih(a){const n=new Jn(a[0],a[1]);return xn.fromTimestamp(n)}function tu(a){const n=a.toTimestamp();return new yc(n.seconds,n.nanoseconds)}function Lu(a){const n=new Jn(a.seconds,a.nanoseconds);return xn.fromTimestamp(n)}function pd(a,n){const o=(n.baseMutations||[]).map(v=>bh(a.Wt,v));for(let v=0;v<n.mutations.length-1;++v){const A=n.mutations[v];v+1<n.mutations.length&&void 0!==n.mutations[v+1].transform&&(A.updateTransforms=n.mutations[v+1].transform.fieldTransforms,n.mutations.splice(v+1,1),++v)}const u=n.mutations.map(v=>bh(a.Wt,v)),d=Jn.fromMillis(n.localWriteTimeMs);return new ku(n.batchId,d,o,u)}function Ka(a){const n=Lu(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?Lu(a.lastLimboFreeSnapshotVersion):xn.min();let u;var d;return void 0!==a.query.documents?(Dn(1===(d=a.query).documents.length),u=la(Ga(Ru(d.documents[0])))):u=la(ud(a.query)),new eu(u,a.targetId,0,a.lastListenSequenceNumber,n,o,Ns.fromBase64String(a.resumeToken))}function Dh(a,n){const o=tu(n.snapshotVersion),u=tu(n.lastLimboFreeSnapshotVersion);let d;d=rc(n.target)?Zs(a.Wt,n.target):Ql(a.Wt,n.target);const v=n.resumeToken.toBase64();return new Z(n.targetId,al(n.target),o,v,n.sequenceNumber,u,d)}function Ah(a){const n=ud({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?hl(n,n.limit,"L"):n}class y_{getBundleMetadata(n,o){return Sh(n).get(o).next(u=>{if(u)return{id:(d=u).bundleId,createTime:Lu(d.createTime),version:d.version};var d})}saveBundleMetadata(n,o){return Sh(n).put({bundleId:(u=o).id,createTime:tu(Ms(u.createTime)),version:u.version});var u}getNamedQuery(n,o){return om(n).get(o).next(u=>{if(u)return{name:(d=u).name,query:Ah(d.bundledQuery),readTime:Lu(d.readTime)};var d})}saveNamedQuery(n,o){return om(n).put({name:(u=o).name,readTime:tu(Ms(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Sh(a){return Ni(a,ln.store)}function om(a){return Ni(a,Kn.store)}class __{constructor(){this.Gt=new ip}addToCollectionParentIndex(n,o){return this.Gt.add(o),Mt.resolve()}getCollectionParents(n,o){return Mt.resolve(this.Gt.getEntries(o))}}class ip{constructor(){this.index={}}add(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o]||new Bi(Mr.comparator),v=!d.has(u);return this.index[o]=d.add(u),v}has(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o];return d&&d.has(u)}getEntries(n){return(this.index[n]||new Bi(Mr.comparator)).toArray()}}class v_{constructor(){this.zt=new ip}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const u=o.lastSegment(),d=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const v={collectionId:u,parent:Ps(d)};return am(n).put(v)}return Mt.resolve()}getCollectionParents(n,o){const u=[],d=IDBKeyRange.bound([o,""],[Ui(o),""],!1,!0);return am(n).Lt(d).next(v=>{for(const A of v){if(A.collectionId!==o)break;u.push(Xo(A.parent))}return u})}}function am(a){return Ni(a,yt.store)}const lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Zo{constructor(n,o,u){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=u}static withCacheSize(n){return new Zo(n,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xh(a,n,o){const u=a.store(Ii.store),d=a.store(ks.store),v=[],A=IDBKeyRange.only(o.batchId);let j=0;const Q=u.Kt({range:A},(ve,Ze,wt)=>(j++,wt.delete()));v.push(Q.next(()=>{Dn(1===j)}));const le=[];for(const ve of o.mutations){const Ze=ks.key(n,ve.key.path,o.batchId);v.push(d.delete(Ze)),le.push(ve.key)}return Mt.waitFor(v).next(()=>le)}function gd(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw mn();n=a.noDocument}return JSON.stringify(n).length}Zo.DEFAULT_COLLECTION_PERCENTILE=10,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zo.DEFAULT=new Zo(41943040,Zo.DEFAULT_COLLECTION_PERCENTILE,Zo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zo.DISABLED=new Zo(-1,0,0);class md{constructor(n,o,u,d){this.userId=n,this.N=o,this.Ht=u,this.referenceDelegate=d,this.Jt={}}static Yt(n,o,u,d){Dn(""!==n.uid);const v=n.isAuthenticated()?n.uid:"";return new md(v,o,u,d)}checkEmpty(n){let o=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nu(n).Kt({index:Ii.userMutationsIndex,range:u},(d,v,A)=>{o=!1,A.done()}).next(()=>o)}addMutationBatch(n,o,u,d){const v=Vu(n),A=nu(n);return A.add({}).next(j=>{Dn("number"==typeof j);const Q=new ku(j,o,u,d),le=function(wt,St,Qt){const Bn=Qt.baseMutations.map(ds=>vl(wt.Wt,ds)),Dr=Qt.mutations.map(ds=>vl(wt.Wt,ds));return new Ii(St,Qt.batchId,Qt.localWriteTime.toMillis(),Bn,Dr)}(this.N,this.userId,Q),ve=[];let Ze=new Bi((wt,St)=>Jt(wt.canonicalString(),St.canonicalString()));for(const wt of d){const St=ks.key(this.userId,wt.key.path,j);Ze=Ze.add(wt.key.path.popLast()),ve.push(A.put(le)),ve.push(v.put(St,ks.PLACEHOLDER))}return Ze.forEach(wt=>{ve.push(this.Ht.addToCollectionParentIndex(n,wt))}),n.addOnCommittedListener(()=>{this.Jt[j]=Q.keys()}),Mt.waitFor(ve).next(()=>Q)})}lookupMutationBatch(n,o){return nu(n).get(o).next(u=>u?(Dn(u.userId===this.userId),pd(this.N,u)):null)}Xt(n,o){return this.Jt[o]?Mt.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(u=>{if(u){const d=u.keys();return this.Jt[o]=d,d}return null})}getNextMutationBatchAfterBatchId(n,o){const u=o+1,d=IDBKeyRange.lowerBound([this.userId,u]);let v=null;return nu(n).Kt({index:Ii.userMutationsIndex,range:d},(A,j,Q)=>{j.userId===this.userId&&(Dn(j.batchId>=u),v=pd(this.N,j)),Q.done()}).next(()=>v)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return nu(n).Kt({index:Ii.userMutationsIndex,range:o,reverse:!0},(d,v,A)=>{u=v.batchId,A.done()}).next(()=>u)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nu(n).Lt(Ii.userMutationsIndex,o).next(u=>u.map(d=>pd(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(n,o){const u=ks.prefixForPath(this.userId,o.path),d=IDBKeyRange.lowerBound(u),v=[];return Vu(n).Kt({range:d},(A,j,Q)=>{const[le,ve,Ze]=A,wt=Xo(ve);if(le===this.userId&&o.path.isEqual(wt))return nu(n).get(Ze).next(St=>{if(!St)throw mn();Dn(St.userId===this.userId),v.push(pd(this.N,St))});Q.done()}).next(()=>v)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new Bi(Jt);const d=[];return o.forEach(v=>{const A=ks.prefixForPath(this.userId,v.path),j=IDBKeyRange.lowerBound(A),Q=Vu(n).Kt({range:j},(le,ve,Ze)=>{const[wt,St,Qt]=le,Bn=Xo(St);wt===this.userId&&v.path.isEqual(Bn)?u=u.add(Qt):Ze.done()});d.push(Q)}),Mt.waitFor(d).next(()=>this.Zt(n,u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1,v=ks.prefixForPath(this.userId,u),A=IDBKeyRange.lowerBound(v);let j=new Bi(Jt);return Vu(n).Kt({range:A},(Q,le,ve)=>{const[Ze,wt,St]=Q,Qt=Xo(wt);Ze===this.userId&&u.isPrefixOf(Qt)?Qt.length===d&&(j=j.add(St)):ve.done()}).next(()=>this.Zt(n,j))}Zt(n,o){const u=[],d=[];return o.forEach(v=>{d.push(nu(n).get(v).next(A=>{if(null===A)throw mn();Dn(A.userId===this.userId),u.push(pd(this.N,A))}))}),Mt.waitFor(d).next(()=>u)}removeMutationBatch(n,o){return xh(n.Qt,this.userId,o).next(u=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),Mt.forEach(u,d=>this.referenceDelegate.markPotentiallyOrphaned(n,d))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return Mt.resolve();const u=IDBKeyRange.lowerBound(ks.prefixForUser(this.userId)),d=[];return Vu(n).Kt({range:u},(v,A,j)=>{if(v[0]===this.userId){const Q=Xo(v[1]);d.push(Q)}else j.done()}).next(()=>{Dn(0===d.length)})})}containsKey(n,o){return um(n,this.userId,o)}ee(n){return sp(n).get(this.userId).next(o=>o||new El(this.userId,-1,""))}}function um(a,n,o){const u=ks.prefixForPath(n,o.path),d=u[1],v=IDBKeyRange.lowerBound(u);let A=!1;return Vu(a).Kt({range:v,qt:!0},(j,Q,le)=>{const[ve,Ze,wt]=j;ve===n&&Ze===d&&(A=!0),le.done()}).next(()=>A)}function nu(a){return Ni(a,Ii.store)}function Vu(a){return Ni(a,ks.store)}function sp(a){return Ni(a,El.store)}class ha{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new ha(0)}static ie(){return new ha(-1)}}class cm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const u=new ha(o.highestTargetId);return o.highestTargetId=u.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>xn.fromTimestamp(new Jn(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,u){return this.re(n).next(d=>(d.highestListenSequenceNumber=o,u&&(d.lastRemoteSnapshotVersion=u.toTimestamp()),o>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=o),this.oe(n,d)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(u=>(u.targetCount+=1,this.ce(o,u),this.oe(n,u))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>Uu(n).delete(o.targetId)).next(()=>this.re(n)).next(u=>(Dn(u.targetCount>0),u.targetCount-=1,this.oe(n,u)))}removeTargets(n,o,u){let d=0;const v=[];return Uu(n).Kt((A,j)=>{const Q=Ka(j);Q.sequenceNumber<=o&&null===u.get(Q.targetId)&&(d++,v.push(this.removeTargetData(n,Q)))}).next(()=>Mt.waitFor(v)).next(()=>d)}forEachTarget(n,o){return Uu(n).Kt((u,d)=>{const v=Ka(d);o(v)})}re(n){return dm(n).get(Ue.key).next(o=>(Dn(null!==o),o))}oe(n,o){return dm(n).put(Ue.key,o)}ae(n,o){return Uu(n).put(Dh(this.N,o))}ce(n,o){let u=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,u=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,u=!0),u}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const u=al(o),d=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let v=null;return Uu(n).Kt({range:d,index:Z.queryTargetsIndexName},(A,j,Q)=>{const le=Ka(j);Fl(o,le.target)&&(v=le,Q.done())}).next(()=>v)}addMatchingKeys(n,o,u){const d=[],v=Ra(n);return o.forEach(A=>{const j=Ps(A.path);d.push(v.put(new ie(u,j))),d.push(this.referenceDelegate.addReference(n,u,A))}),Mt.waitFor(d)}removeMatchingKeys(n,o,u){const d=Ra(n);return Mt.forEach(o,v=>{const A=Ps(v.path);return Mt.waitFor([d.delete([u,A]),this.referenceDelegate.removeReference(n,u,v)])})}removeMatchingKeysForTargetId(n,o){const u=Ra(n),d=IDBKeyRange.bound([o],[o+1],!1,!0);return u.delete(d)}getMatchingKeysForTargetId(n,o){const u=IDBKeyRange.bound([o],[o+1],!1,!0),d=Ra(n);let v=Xr();return d.Kt({range:u,qt:!0},(A,j,Q)=>{const le=Xo(A[1]),ve=new wn(le);v=v.add(ve)}).next(()=>v)}containsKey(n,o){const u=Ps(o.path),d=IDBKeyRange.bound([u],[Ui(u)],!1,!0);let v=0;return Ra(n).Kt({index:ie.documentTargetsIndex,qt:!0,range:d},([A,j],Q,le)=>{0!==A&&(v++,le.done())}).next(()=>v>0)}Et(n,o){return Uu(n).get(o).next(u=>u?Ka(u):null)}}function Uu(a){return Ni(a,Z.store)}function dm(a){return Ni(a,Ue.store)}function Ra(a){return Ni(a,ie.store)}function Bu(a){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,_.Z)(function*(a){if(a.code!==D.FAILED_PRECONDITION||a.message!==Es)throw a;Rt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function op([a,n],[o,u]){const d=Jt(a,o);return 0===d?Jt(n,u):d}class hm{constructor(n){this.ue=n,this.buffer=new Bi(op),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const u=this.buffer.last();op(o,u)<0&&(this.buffer=this.buffer.delete(u).add(o))}}get maxValue(){return this.buffer.last()[0]}}class ap{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const u=this.de?3e5:6e4;Rt("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,_.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(d){No(d)?Rt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Bu(d)}yield o._e(n)}))}}class fm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(u=>Math.floor(o/100*u))}nthSequenceNumber(n,o){if(0===o)return Mt.resolve(Ct.T);const u=new hm(o);return this.me.forEachTarget(n,d=>u.fe(d.sequenceNumber)).next(()=>this.me.ye(n,d=>u.fe(d))).next(()=>u.maxValue)}removeTargets(n,o,u){return this.me.removeTargets(n,o,u)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(lm)):this.getCacheSize(n).next(u=>u<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lm):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let u,d,v,A,j,Q,le;const ve=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(Ze=>(Ze>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ze}`),d=this.params.maximumSequenceNumbersToCollect):d=Ze,A=Date.now(),this.nthSequenceNumber(n,d))).next(Ze=>(u=Ze,j=Date.now(),this.removeTargets(n,u,o))).next(Ze=>(v=Ze,Q=Date.now(),this.removeOrphanedDocuments(n,u))).next(Ze=>(le=Date.now(),Ln()<=st.in.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${A-ve}ms\n\tDetermined least recently used ${d} in `+(j-A)+`ms\n\tRemoved ${v} targets in `+(Q-j)+`ms\n\tRemoved ${Ze} documents in `+(le-Q)+`ms\nTotal Duration: ${le-ve}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:v,documentsRemoved:Ze})))}}class Nh{constructor(n,o){this.db=n,this.garbageCollector=new fm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(u=>o.next(d=>u+d))}Ee(n){let o=0;return this.ye(n,u=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(u,d)=>o(d))}addReference(n,o,u){return ju(n,u)}removeReference(n,o,u){return ju(n,u)}removeTargets(n,o,u){return this.db.getTargetCache().removeTargets(n,o,u)}markPotentiallyOrphaned(n,o){return ju(n,o)}Ie(n,o){return function(u,d){let v=!1;return sp(u).jt(A=>um(u,A,d).next(j=>(j&&(v=!0),Mt.resolve(!j)))).next(()=>v)}(n,o)}removeOrphanedDocuments(n,o){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let v=0;return this.Te(n,(A,j)=>{if(j<=o){const Q=this.Ie(n,A).next(le=>{if(!le)return v++,u.getEntry(n,A).next(()=>(u.removeEntry(A),Ra(n).delete([0,Ps(A.path)])))});d.push(Q)}}).next(()=>Mt.waitFor(d)).next(()=>u.apply(n)).next(()=>v)}removeTarget(n,o){const u=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,u)}updateLimboDocument(n,o){return ju(n,o)}Te(n,o){const u=Ra(n);let d,v=Ct.T;return u.Kt({index:ie.documentTargetsIndex},([A,j],{path:Q,sequenceNumber:le})=>{0===A?(v!==Ct.T&&o(new wn(Xo(d)),v),v=le,d=Q):v=Ct.T}).next(()=>{v!==Ct.T&&o(new wn(Xo(d)),v)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function ju(a,n){return Ra(a).put((u=a.currentSequenceNumber,new ie(0,Ps(n.path),u)));var u}class Hu{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0!==u)for(const[d,v]of u)if(this.equalsFn(d,n))return v}has(n){return void 0!==this.get(n)}set(n,o){const u=this.mapKeyFn(n),d=this.inner[u];if(void 0!==d){for(let v=0;v<d.length;v++)if(this.equalsFn(d[v][0],n))return void(d[v]=[n,o]);d.push([n,o])}else this.inner[u]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return!1;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],n))return 1===u.length?delete this.inner[o]:u.splice(d,1),!0;return!1}forEach(n){ls(this.inner,(o,u)=>{for(const[d,v]of u)n(d,v)})}isEmpty(){return po(this.inner)}}class Oh{constructor(){this.changes=new Hu(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:xn.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:Jr.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const u=this.changes.get(o);return void 0!==u?Mt.resolve(u.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class pm{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,u){return ru(n).put(yd(o),u)}removeEntry(n,o){const u=ru(n),d=yd(o);return u.delete(d)}updateMetadata(n,o){return this.getMetadata(n).next(u=>(u.byteSize+=o,this.Ae(n,u)))}getEntry(n,o){return ru(n).get(yd(o)).next(u=>this.Re(o,u))}be(n,o){return ru(n).get(yd(o)).next(u=>({document:this.Re(o,u),size:gd(u)}))}getEntries(n,o){let u=Bo();return this.Pe(n,o,(d,v)=>{const A=this.Re(d,v);u=u.insert(d,A)}).next(()=>u)}ve(n,o){let u=Bo(),d=new cs(wn.comparator);return this.Pe(n,o,(v,A)=>{const j=this.Re(v,A);u=u.insert(v,j),d=d.insert(v,gd(A))}).next(()=>({documents:u,Ve:d}))}Pe(n,o,u){if(o.isEmpty())return Mt.resolve();const d=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),v=o.getIterator();let A=v.getNext();return ru(n).Kt({range:d},(j,Q,le)=>{const ve=wn.fromSegments(j);for(;A&&wn.comparator(A,ve)<0;)u(A,null),A=v.getNext();A&&A.isEqual(ve)&&(u(A,Q),A=v.hasNext()?v.getNext():null),A?le.Mt(A.path.toArray()):le.done()}).next(()=>{for(;A;)u(A,null),A=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(n,o,u){let d=Bo();const v=o.path.length+1,A={};if(u.isEqual(xn.min())){const j=o.path.toArray();A.range=IDBKeyRange.lowerBound(j)}else{const j=o.path.toArray(),Q=Th(u);A.range=IDBKeyRange.lowerBound([j,Q],!0),A.index=m.collectionReadTimeIndex}return ru(n).Kt(A,(j,Q,le)=>{if(j.length!==v)return;const ve=Fu(this.N,Q);o.path.isPrefixOf(ve.key.path)?Hl(o,ve)&&(d=d.insert(ve.key,ve)):le.done()}).next(()=>d)}newChangeBuffer(n){return new lp(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return _c(n).get(S.key).next(o=>(Dn(!!o),o))}Ae(n,o){return _c(n).put(S.key,o)}Re(n,o){if(o){const u=Fu(this.N,o);if(!u.isNoDocument()||!u.version.isEqual(xn.min()))return u}return Jr.newInvalidDocument(n)}}class lp extends Oh{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new Hu(u=>u.toString(),(u,d)=>u.isEqual(d))}applyChanges(n){const o=[];let u=0,d=new Bi((v,A)=>Jt(v.canonicalString(),A.canonicalString()));return this.changes.forEach((v,A)=>{const j=this.De.get(v);if(A.document.isValidDocument()){const Q=rp(this.Se.N,A.document,this.getReadTime(v));d=d.add(v.path.popLast()),u+=gd(Q)-j,o.push(this.Se.addEntry(n,v,Q))}else if(u-=j,this.trackRemovals){const Q=rp(this.Se.N,Jr.newNoDocument(v,xn.min()),this.getReadTime(v));o.push(this.Se.addEntry(n,v,Q))}else o.push(this.Se.removeEntry(n,v))}),d.forEach(v=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,v))}),o.push(this.Se.updateMetadata(n,u)),Mt.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(u=>(this.De.set(o,u.size),u.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:u,Ve:d})=>(d.forEach((v,A)=>{this.De.set(v,A)}),u))}}function _c(a){return Ni(a,S.store)}function ru(a){return Ni(a,m.store)}function yd(a){return a.path.toArray()}class w_{constructor(n){this.N=n}Ct(n,o,u,d){Dn(u<d&&u>=0&&d<=11);const v=new Jl("createOrUpgrade",o);var j;u<1&&d>=1&&(n.createObjectStore($o.store),(j=n).createObjectStore(El.store,{keyPath:El.keyPath}),j.createObjectStore(Ii.store,{keyPath:Ii.keyPath,autoIncrement:!0}).createIndex(Ii.userMutationsIndex,Ii.userMutationsKeyPath,{unique:!0}),j.createObjectStore(ks.store),gm(n),function(j){j.createObjectStore(m.store)}(n));let A=Mt.resolve();return u<3&&d>=3&&(0!==u&&(function(j){j.deleteObjectStore(ie.store),j.deleteObjectStore(Z.store),j.deleteObjectStore(Ue.store)}(n),gm(n)),A=A.next(()=>function(j){const Q=j.store(Ue.store),le=new Ue(0,0,xn.min().toTimestamp(),0);return Q.put(Ue.key,le)}(v))),u<4&&d>=4&&(0!==u&&(A=A.next(()=>function(j,Q){return Q.store(Ii.store).Lt().next(le=>{j.deleteObjectStore(Ii.store),j.createObjectStore(Ii.store,{keyPath:Ii.keyPath,autoIncrement:!0}).createIndex(Ii.userMutationsIndex,Ii.userMutationsKeyPath,{unique:!0});const ve=Q.store(Ii.store),Ze=le.map(wt=>ve.put(wt));return Mt.waitFor(Ze)})}(n,v))),A=A.next(()=>{!function(j){j.createObjectStore(qt.store,{keyPath:qt.keyPath})}(n)})),u<5&&d>=5&&(A=A.next(()=>this.Ce(v))),u<6&&d>=6&&(A=A.next(()=>(function(j){j.createObjectStore(S.store)}(n),this.Ne(v)))),u<7&&d>=7&&(A=A.next(()=>this.xe(v))),u<8&&d>=8&&(A=A.next(()=>this.ke(n,v))),u<9&&d>=9&&(A=A.next(()=>{(function(j){j.objectStoreNames.contains("remoteDocumentChanges")&&j.deleteObjectStore("remoteDocumentChanges")})(n),function(j){const Q=j.objectStore(m.store);Q.createIndex(m.readTimeIndex,m.readTimeIndexPath,{unique:!1}),Q.createIndex(m.collectionReadTimeIndex,m.collectionReadTimeIndexPath,{unique:!1})}(o)})),u<10&&d>=10&&(A=A.next(()=>this.$e(v))),u<11&&d>=11&&(A=A.next(()=>{(function(j){j.createObjectStore(ln.store,{keyPath:ln.keyPath})})(n),function(j){j.createObjectStore(Kn.store,{keyPath:Kn.keyPath})}(n)})),A}Ne(n){let o=0;return n.store(m.store).Kt((u,d)=>{o+=gd(d)}).next(()=>{const u=new S(o);return n.store(S.store).put(S.key,u)})}Ce(n){const o=n.store(El.store),u=n.store(Ii.store);return o.Lt().next(d=>Mt.forEach(d,v=>{const A=IDBKeyRange.bound([v.userId,-1],[v.userId,v.lastAcknowledgedBatchId]);return u.Lt(Ii.userMutationsIndex,A).next(j=>Mt.forEach(j,Q=>{Dn(Q.userId===v.userId);const le=pd(this.N,Q);return xh(n,v.userId,le).next(()=>{})}))}))}xe(n){const o=n.store(ie.store),u=n.store(m.store);return n.store(Ue.store).get(Ue.key).next(d=>{const v=[];return u.Kt((A,j)=>{const Q=new Mr(A),le=[0,Ps(Q)];v.push(o.get(le).next(ve=>ve?Mt.resolve():o.put(new ie(0,Ps(Q),d.highestListenSequenceNumber))))}).next(()=>Mt.waitFor(v))})}ke(n,o){n.createObjectStore(yt.store,{keyPath:yt.keyPath});const u=o.store(yt.store),d=new ip,v=A=>{if(d.add(A)){const j=A.lastSegment(),Q=A.popLast();return u.put({collectionId:j,parent:Ps(Q)})}};return o.store(m.store).Kt({qt:!0},(A,j)=>{const Q=new Mr(A);return v(Q.popLast())}).next(()=>o.store(ks.store).Kt({qt:!0},([A,j,Q],le)=>{const ve=Xo(j);return v(ve.popLast())}))}$e(n){const o=n.store(Z.store);return o.Kt((u,d)=>{const v=Ka(d),A=Dh(this.N,v);return o.put(A)})}}function gm(a){a.createObjectStore(ie.store,{keyPath:ie.keyPath}).createIndex(ie.documentTargetsIndex,ie.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(Z.store,{keyPath:Z.keyPath}).createIndex(Z.queryTargetsIndexName,Z.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Ue.store)}const Mh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class _d{constructor(n,o,u,d,v,A,j,Q,le,ve){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=u,this.Oe=v,this.window=A,this.document=j,this.Fe=le,this.Me=ve,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=Ze=>Promise.resolve(),!_d.bt())throw new T(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Nh(this,d),this.We=o+"main",this.N=new np(Q),this.Ge=new Go(this.We,11,new w_(this.N)),this.ze=new cm(this.referenceDelegate,this.N),this.Ht=new v_,this.He=new pm(this.N,this.Ht),this.Je=new y_,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===ve&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new T(D.FAILED_PRECONDITION,Mh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Ct(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var u=(0,_.Z)(function*(d){if(o.started)return n(d)});return function(d){return u.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,_.Z)(function*(u){null===u.newVersion&&(yield n())});return function(u){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,_.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>up(n).put(new qt(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(No(n))return Rt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return Rt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return vc(n).get($o.key).next(o=>Mt.resolve(this.cn(o)))}un(n){return up(n).delete(this.clientId)}hn(){var n=this;return(0,_.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const d=Ni(u,qt.store);return d.Lt().next(v=>{const A=n.fn(v,18e5),j=v.filter(Q=>-1===A.indexOf(Q));return Mt.forEach(j,Q=>d.delete(Q.clientId)).next(()=>j)})}).catch(()=>[]);if(n.Ye)for(const u of o)n.Ye.removeItem(n.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Mt.resolve(!0):vc(n).get($o.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new T(D.FAILED_PRECONDITION,Mh);return!1}}return!(!this.networkEnabled||!this.inForeground)||up(n).Lt().next(u=>void 0===this.fn(u,5e3).find(d=>{if(this.clientId!==d.clientId){const A=!this.inForeground&&d.inForeground,j=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||A&&j)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&Rt("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,_.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[$o.store,qt.store],o=>{const u=new tp(o,Ct.T);return n.on(u).next(()=>n.un(u))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(u=>this.ln(u.updateTimeMs,o)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>up(n).Lt().next(o=>this.fn(o,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(n){return md.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,u){let v;return Rt("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",er,A=>(v=new tp(A,this.Le?this.Le.next():Ct.T),"readwrite-primary"===o?this.sn(v).next(j=>!!j||this.rn(v)).next(j=>{if(!j)throw or(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new T(D.FAILED_PRECONDITION,Es);return u(v)}).next(j=>this.an(v).next(()=>j)):this.En(v).next(()=>u(v)))).then(A=>(v.raiseOnCommittedEvent(),A))}En(n){return vc(n).get($o.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new T(D.FAILED_PRECONDITION,Mh)})}an(n){const o=new $o(this.clientId,this.allowTabSynchronization,Date.now());return vc(n).put($o.key,o)}static bt(){return Go.bt()}on(n){const o=vc(n);return o.get($o.key).next(u=>this.cn(u)?(Rt("IndexedDbPersistence","Releasing primary lease."),o.delete($o.key)):Mt.resolve())}ln(n,o){const u=Date.now();return!(n<u-o||n>u&&(or(`Detected an update time that is in the future: ${n} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Le.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const u=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return Rt("IndexedDbPersistence",`Client '${n}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return or("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){or("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function vc(a){return Ni(a,$o.store)}function up(a){return Ni(a,qt.store)}function Ph(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class b_{constructor(n,o){this.progress=n,this.Tn=o}}class cp{constructor(n,o,u){this.He=n,this.In=o,this.Ht=u}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(u=>this.Rn(n,o,u))}Rn(n,o,u){return this.He.getEntry(n,o).next(d=>{for(const v of u)v.applyToLocalView(d);return d})}bn(n,o){n.forEach((u,d)=>{for(const v of o)v.applyToLocalView(d)})}Pn(n,o){return this.He.getEntries(n,o).next(u=>this.vn(n,u).next(()=>u))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(u=>this.bn(o,u))}getDocumentsMatchingQuery(n,o,u){return wn.isDocumentKey((d=o).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(n,o.path):jl(o)?this.Sn(n,o,u):this.Dn(n,o,u);var d}Vn(n,o){return this.An(n,new wn(o)).next(u=>{let d=ml();return u.isFoundDocument()&&(d=d.insert(u.key,u)),d})}Sn(n,o,u){const d=o.collectionGroup;let v=ml();return this.Ht.getCollectionParents(n,d).next(A=>Mt.forEach(A,j=>{const Q=(le=o,ve=j.child(d),new oa(ve,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,ve;return this.Dn(n,Q,u).next(le=>{le.forEach((ve,Ze)=>{v=v.insert(ve,Ze)})})}).next(()=>v))}Dn(n,o,u){let d,v;return this.He.getDocumentsMatchingQuery(n,o,u).next(A=>(d=A,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(A=>(v=A,this.Cn(n,v,d).next(j=>{d=j;for(const Q of v)for(const le of Q.mutations){const ve=le.key;let Ze=d.get(ve);null==Ze&&(Ze=Jr.newInvalidDocument(ve),d=d.insert(ve,Ze)),lc(le,Ze,Q.localWriteTime),Ze.isFoundDocument()||(d=d.remove(ve))}}))).next(()=>(d.forEach((A,j)=>{Hl(o,j)||(d=d.remove(A))}),d))}Cn(n,o,u){let d=Xr();for(const A of o)for(const j of A.mutations)j instanceof Za&&null===u.get(j.key)&&(d=d.add(j.key));let v=u;return this.He.getEntries(n,d).next(A=>(A.forEach((j,Q)=>{Q.isFoundDocument()&&(v=v.insert(j,Q))}),v))}}class dp{constructor(n,o,u,d){this.targetId=n,this.fromCache=o,this.Nn=u,this.xn=d}static kn(n,o){let u=Xr(),d=Xr();for(const v of o.docChanges)switch(v.type){case 0:u=u.add(v.doc.key);break;case 1:d=d.add(v.doc.key)}return new dp(n,o.fromCache,u,d)}}class mm{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,u,d){return 0===(v=o).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||u.isEqual(xn.min())?this.Fn(n,o):this.On.Pn(n,d).next(v=>{const A=this.Mn(o,v);return(sc(o)||aa(o))&&this.Ln(o.limitType,A,d,u)?this.Fn(n,o):(Ln()<=st.in.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),wa(o)),this.On.getDocumentsMatchingQuery(n,o,u).next(j=>(A.forEach(Q=>{j=j.insert(Q.key,Q)}),j)))});var v}Mn(n,o){let u=new Bi(ed(n));return o.forEach((d,v)=>{Hl(n,v)&&(u=u.add(v))}),u}Ln(n,o,u,d){if(u.size!==o.size)return!0;const v="F"===n?o.last():o.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(d)>0)}Fn(n,o){return Ln()<=st.in.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",wa(o)),this.On.getDocumentsMatchingQuery(n,o,xn.min())}}class Na{constructor(n,o,u,d){this.persistence=n,this.Bn=o,this.N=d,this.Un=new cs(Jt),this.qn=new Hu(v=>al(v),Fl),this.Kn=xn.min(),this.In=n.getMutationQueue(u),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new cp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function ym(a,n,o,u){return new Na(a,n,o,u)}function hp(a,n){return fp.apply(this,arguments)}function fp(){return(fp=(0,_.Z)(function*(a,n){const o=Zt(a);let u=o.In,d=o.Qn;const v=yield o.persistence.runTransaction("Handle user change","readonly",A=>{let j;return o.In.getAllMutationBatches(A).next(Q=>(j=Q,u=o.persistence.getMutationQueue(n),d=new cp(o.jn,u,o.persistence.getIndexManager()),u.getAllMutationBatches(A))).next(Q=>{const le=[],ve=[];let Ze=Xr();for(const wt of j){le.push(wt.batchId);for(const St of wt.mutations)Ze=Ze.add(St.key)}for(const wt of Q){ve.push(wt.batchId);for(const St of wt.mutations)Ze=Ze.add(St.key)}return d.Pn(A,Ze).next(wt=>({Wn:wt,removedBatchIds:le,addedBatchIds:ve}))})});return o.In=u,o.Qn=d,o.Bn.$n(o.Qn),v})).apply(this,arguments)}function E_(a,n){const o=Zt(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const d=n.batch.keys(),v=o.jn.newChangeBuffer({trackRemovals:!0});return function(A,j,Q,le){const ve=Q.batch,Ze=ve.keys();let wt=Mt.resolve();return Ze.forEach(St=>{wt=wt.next(()=>le.getEntry(j,St)).next(Qt=>{const Bn=Q.docVersions.get(St);Dn(null!==Bn),Qt.version.compareTo(Bn)<0&&(ve.applyToRemoteDocument(Qt,Q),Qt.isValidDocument()&&le.addEntry(Qt,Q.commitVersion))})}),wt.next(()=>A.In.removeMutationBatch(j,ve))}(o,u,n,v).next(()=>v.apply(u)).next(()=>o.In.performConsistencyCheck(u)).next(()=>o.Qn.Pn(u,d))})}function _m(a){const n=Zt(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function C_(a,n){const o=Zt(a),u=n.snapshotVersion;let d=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const A=o.jn.newChangeBuffer({trackRemovals:!0});d=o.Un;const j=[];n.targetChanges.forEach((le,ve)=>{const Ze=d.get(ve);if(!Ze)return;j.push(o.ze.removeMatchingKeys(v,le.removedDocuments,ve).next(()=>o.ze.addMatchingKeys(v,le.addedDocuments,ve)));const wt=le.resumeToken;if(wt.approximateByteSize()>0){const St=Ze.withResumeToken(wt,u).withSequenceNumber(v.currentSequenceNumber);d=d.insert(ve,St),Qt=Ze,Dr=le,Dn((Bn=St).resumeToken.approximateByteSize()>0),(0===Qt.resumeToken.approximateByteSize()||Bn.snapshotVersion.toMicroseconds()-Qt.snapshotVersion.toMicroseconds()>=3e8||Dr.addedDocuments.size+Dr.modifiedDocuments.size+Dr.removedDocuments.size>0)&&j.push(o.ze.updateTargetData(v,St))}var Qt,Bn,Dr});let Q=Bo();if(n.documentUpdates.forEach((le,ve)=>{n.resolvedLimboDocuments.has(le)&&j.push(o.persistence.referenceDelegate.updateLimboDocument(v,le))}),j.push(pp(v,A,n.documentUpdates,u,void 0).next(le=>{Q=le})),!u.isEqual(xn.min())){const le=o.ze.getLastRemoteSnapshotVersion(v).next(ve=>o.ze.setTargetsMetadata(v,v.currentSequenceNumber,u));j.push(le)}return Mt.waitFor(j).next(()=>A.apply(v)).next(()=>o.Qn.vn(v,Q)).next(()=>Q)}).then(v=>(o.Un=d,v))}function pp(a,n,o,u,d){let v=Xr();return o.forEach(A=>v=v.add(A)),n.getEntries(a,v).next(A=>{let j=Bo();return o.forEach((Q,le)=>{const ve=A.get(Q),Ze=(null==d?void 0:d.get(Q))||u;le.isNoDocument()&&le.version.isEqual(xn.min())?(n.removeEntry(Q,Ze),j=j.insert(Q,le)):!ve.isValidDocument()||le.version.compareTo(ve.version)>0||0===le.version.compareTo(ve.version)&&ve.hasPendingWrites?(n.addEntry(le,Ze),j=j.insert(Q,le)):Rt("LocalStore","Ignoring outdated watch update for ",Q,". Current version:",ve.version," Watch version:",le.version)}),j})}function T_(a,n){const o=Zt(a);return o.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(u,n)))}function wc(a,n){const o=Zt(a);return o.persistence.runTransaction("Allocate target","readwrite",u=>{let d;return o.ze.getTargetData(u,n).next(v=>v?(d=v,Mt.resolve(d)):o.ze.allocateTargetId(u).next(A=>(d=new eu(n,A,0,u.currentSequenceNumber),o.ze.addTargetData(u,d).next(()=>d))))}).then(u=>{const d=o.Un.get(u.targetId);return(null===d||u.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(o.Un=o.Un.insert(u.targetId,u),o.qn.set(n,u.targetId)),u})}function bc(a,n,o){return yr.apply(this,arguments)}function yr(){return(yr=(0,_.Z)(function*(a,n,o){const u=Zt(a),d=u.Un.get(n),v=o?"readwrite":"readwrite-primary";try{o||(yield u.persistence.runTransaction("Release target",v,A=>u.persistence.referenceDelegate.removeTarget(A,d)))}catch(A){if(!No(A))throw A;Rt("LocalStore",`Failed to update sequence numbers for target ${n}: ${A}`)}u.Un=u.Un.remove(n),u.qn.delete(d.target)})).apply(this,arguments)}function vd(a,n,o){const u=Zt(a);let d=xn.min(),v=Xr();return u.persistence.runTransaction("Execute query","readonly",A=>function(j,Q,le){const ve=Zt(j),Ze=ve.qn.get(le);return void 0!==Ze?Mt.resolve(ve.Un.get(Ze)):ve.ze.getTargetData(Q,le)}(u,A,la(n)).next(j=>{if(j)return d=j.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(A,j.targetId).next(Q=>{v=Q})}).next(()=>u.Bn.getDocumentsMatchingQuery(A,n,o?d:xn.min(),o?v:Xr())).next(j=>({documents:j,Gn:v})))}function gp(a,n){const o=Zt(a),u=Zt(o.ze),d=o.Un.get(n);return d?Promise.resolve(d.target):o.persistence.runTransaction("Get target data","readonly",v=>u.Et(v,n).next(A=>A?A.target:null))}function wd(a){const n=Zt(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(u,d,v){const A=Zt(u);let j=Bo(),Q=Th(v);const le=ru(d),ve=IDBKeyRange.lowerBound(Q,!0);return le.Kt({index:m.readTimeIndex,range:ve},(Ze,wt)=>{const St=Fu(A.N,wt);j=j.insert(St.key,St),Q=wt.readTime}).next(()=>({Tn:j,readTime:Ih(Q)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:u})=>(n.Kn=u,o))}function kh(){return(kh=(0,_.Z)(function*(a){const n=Zt(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(u){const d=ru(u);let v=xn.min();return d.Kt({index:m.readTimeIndex,reverse:!0},(A,j,Q)=>{j.readTime&&(v=Ih(j.readTime)),Q.done()}).next(()=>v)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function bd(){return(bd=(0,_.Z)(function*(a,n,o,u){const d=Zt(a);let v=Xr(),A=Bo(),j=ua();for(const ve of o){const Ze=n.zn(ve.metadata.name);ve.document&&(v=v.add(Ze)),A=A.insert(Ze,n.Hn(ve)),j=j.insert(Ze,n.Jn(ve.metadata.readTime))}const Q=d.jn.newChangeBuffer({trackRemovals:!0}),le=yield wc(d,(ve=u,la(Ga(Mr.fromString(`__bundle__/docs/${ve}`)))));var ve;return d.persistence.runTransaction("Apply bundle documents","readwrite",ve=>pp(ve,Q,A,xn.min(),j).next(Ze=>(Q.apply(ve),Ze)).next(Ze=>d.ze.removeMatchingKeysForTargetId(ve,le.targetId).next(()=>d.ze.addMatchingKeys(ve,v,le.targetId)).next(()=>d.Qn.vn(ve,Ze)).next(()=>Ze)))})).apply(this,arguments)}function Tl(a,n){return Ed.apply(this,arguments)}function Ed(){return(Ed=(0,_.Z)(function*(a,n,o=Xr()){const u=yield wc(a,la(Ah(n.bundledQuery))),d=Zt(a);return d.persistence.runTransaction("Save named query","readwrite",v=>{const A=Ms(n.readTime);if(u.snapshotVersion.compareTo(A)>=0)return d.Je.saveNamedQuery(v,n);const j=u.withResumeToken(Ns.EMPTY_BYTE_STRING,A);return d.Un=d.Un.insert(j.targetId,j),d.ze.updateTargetData(v,j).next(()=>d.ze.removeMatchingKeysForTargetId(v,u.targetId)).next(()=>d.ze.addMatchingKeys(v,o,u.targetId)).next(()=>d.Je.saveNamedQuery(v,n))})})).apply(this,arguments)}class vm{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return Mt.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var u;return this.Yn.set(o.id,{id:(u=o).id,version:u.version,createTime:Ms(u.createTime)}),Mt.resolve()}getNamedQuery(n,o){return Mt.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(u=o).name,query:Ah(u.bundledQuery),readTime:Ms(u.readTime)}),Mt.resolve();var u}}class Cd{constructor(){this.Zn=new Bi(Co.ts),this.es=new Bi(Co.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const u=new Co(n,o);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(n,o){n.forEach(u=>this.addReference(u,o))}removeReference(n,o){this.rs(new Co(n,o))}os(n,o){n.forEach(u=>this.removeReference(u,o))}cs(n){const o=new wn(new Mr([])),u=new Co(o,n),d=new Co(o,n+1),v=[];return this.es.forEachInRange([u,d],A=>{this.rs(A),v.push(A.key)}),v}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new wn(new Mr([])),u=new Co(o,n),d=new Co(o,n+1);let v=Xr();return this.es.forEachInRange([u,d],A=>{v=v.add(A.key)}),v}containsKey(n){const o=new Co(n,0),u=this.Zn.firstAfterOrEqual(o);return null!==u&&n.isEqual(u.key)}}class Co{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return wn.comparator(n.key,o.key)||Jt(n.ls,o.ls)}static ns(n,o){return Jt(n.ls,o.ls)||wn.comparator(n.key,o.key)}}class wm{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new Bi(Co.ts)}checkEmpty(n){return Mt.resolve(0===this.In.length)}addMutationBatch(n,o,u,d){const v=this.fs;this.fs++;const A=new ku(v,o,u,d);this.In.push(A);for(const j of d)this.ds=this.ds.add(new Co(j.key,v)),this.Ht.addToCollectionParentIndex(n,j.key.path.popLast());return Mt.resolve(A)}lookupMutationBatch(n,o){return Mt.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const d=this._s(o+1),v=d<0?0:d;return Mt.resolve(this.In.length>v?this.In[v]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Mt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const u=new Co(o,0),d=new Co(o,Number.POSITIVE_INFINITY),v=[];return this.ds.forEachInRange([u,d],A=>{const j=this.ws(A.ls);v.push(j)}),Mt.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new Bi(Jt);return o.forEach(d=>{const v=new Co(d,0),A=new Co(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([v,A],j=>{u=u.add(j.ls)})}),Mt.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1;let v=u;wn.isDocumentKey(v)||(v=v.child(""));const A=new Co(new wn(v),0);let j=new Bi(Jt);return this.ds.forEachWhile(Q=>{const le=Q.key.path;return!!u.isPrefixOf(le)&&(le.length===d&&(j=j.add(Q.ls)),!0)},A),Mt.resolve(this.gs(j))}gs(n){const o=[];return n.forEach(u=>{const d=this.ws(u);null!==d&&o.push(d)}),o}removeMutationBatch(n,o){Dn(0===this.ys(o.batchId,"removed")),this.In.shift();let u=this.ds;return Mt.forEach(o.mutations,d=>{const v=new Co(d.key,o.batchId);return u=u.delete(v),this.referenceDelegate.markPotentiallyOrphaned(n,d.key)}).next(()=>{this.ds=u})}te(n){}containsKey(n,o){const u=new Co(o,0),d=this.ds.firstAfterOrEqual(u);return Mt.resolve(o.isEqual(d&&d.key))}performConsistencyCheck(n){return Mt.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class Pw{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new cs(wn.comparator),this.size=0}addEntry(n,o,u){const d=o.key,v=this.docs.get(d),A=v?v.size:0,j=this.ps(o);return this.docs=this.docs.insert(d,{document:o.clone(),size:j,readTime:u}),this.size+=j-A,this.Ht.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const u=this.docs.get(o);return Mt.resolve(u?u.document.clone():Jr.newInvalidDocument(o))}getEntries(n,o){let u=Bo();return o.forEach(d=>{const v=this.docs.get(d);u=u.insert(d,v?v.document.clone():Jr.newInvalidDocument(d))}),Mt.resolve(u)}getDocumentsMatchingQuery(n,o,u){let d=Bo();const v=new wn(o.path.child("")),A=this.docs.getIteratorFrom(v);for(;A.hasNext();){const{key:j,value:{document:Q,readTime:le}}=A.getNext();if(!o.path.isPrefixOf(j.path))break;le.compareTo(u)<=0||Hl(o,Q)&&(d=d.insert(Q.key,Q.clone()))}return Mt.resolve(d)}Es(n,o){return Mt.forEach(this.docs,u=>o(u))}newChangeBuffer(n){return new Il(this)}getSize(n){return Mt.resolve(this.size)}}class Il extends Oh{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((u,d)=>{d.document.isValidDocument()?o.push(this.Se.addEntry(n,d.document,this.getReadTime(u))):this.Se.removeEntry(u)}),Mt.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class Fh{constructor(n){this.persistence=n,this.Ts=new Hu(o=>al(o),Fl),this.lastRemoteSnapshotVersion=xn.min(),this.highestTargetId=0,this.Is=0,this.As=new Cd,this.targetCount=0,this.Rs=ha.se()}forEachTarget(n,o){return this.Ts.forEach((u,d)=>o(d)),Mt.resolve()}getLastRemoteSnapshotVersion(n){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Mt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(n,o,u){return u&&(this.lastRemoteSnapshotVersion=u),o>this.Is&&(this.Is=o),Mt.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new ha(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,Mt.resolve()}updateTargetData(n,o){return this.ae(o),Mt.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(n,o,u){let d=0;const v=[];return this.Ts.forEach((A,j)=>{j.sequenceNumber<=o&&null===u.get(j.targetId)&&(this.Ts.delete(A),v.push(this.removeMatchingKeysForTargetId(n,j.targetId)),d++)}),Mt.waitFor(v).next(()=>d)}getTargetCount(n){return Mt.resolve(this.targetCount)}getTargetData(n,o){const u=this.Ts.get(o)||null;return Mt.resolve(u)}addMatchingKeys(n,o,u){return this.As.ss(o,u),Mt.resolve()}removeMatchingKeys(n,o,u){this.As.os(o,u);const d=this.persistence.referenceDelegate,v=[];return d&&o.forEach(A=>{v.push(d.markPotentiallyOrphaned(n,A))}),Mt.waitFor(v)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),Mt.resolve()}getMatchingKeysForTargetId(n,o){const u=this.As.hs(o);return Mt.resolve(u)}containsKey(n,o){return Mt.resolve(this.As.containsKey(o))}}class Lh{constructor(n,o){this.bs={},this.Le=new Ct(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new Fh(this),this.Ht=new __,this.He=new Pw(this.Ht,u=>this.referenceDelegate.Ps(u)),this.N=new np(o),this.Je=new vm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new wm(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,u){Rt("MemoryPersistence","Starting transaction:",n);const d=new mp(this.Le.next());return this.referenceDelegate.vs(),u(d).next(v=>this.referenceDelegate.Vs(d).next(()=>v)).toPromise().then(v=>(d.raiseOnCommittedEvent(),v))}Ss(n,o){return Mt.or(Object.values(this.bs).map(u=>()=>u.containsKey(n,o)))}}class mp extends qo{constructor(n){super(),this.currentSequenceNumber=n}}class bm{constructor(n){this.persistence=n,this.Ds=new Cd,this.Cs=null}static Ns(n){return new bm(n)}get xs(){if(this.Cs)return this.Cs;throw mn()}addReference(n,o,u){return this.Ds.addReference(u,o),this.xs.delete(u.toString()),Mt.resolve()}removeReference(n,o,u){return this.Ds.removeReference(u,o),this.xs.add(u.toString()),Mt.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toString()),Mt.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(d=>this.xs.add(d.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(n,o.targetId).next(d=>{d.forEach(v=>this.xs.add(v.toString()))}).next(()=>u.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.xs,u=>{const d=wn.fromPath(u);return this.ks(n,d).next(v=>{v||o.removeEntry(d)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(u=>{u?this.xs.delete(o.toString()):this.xs.add(o.toString())})}Ps(n){return 0}ks(n,o){return Mt.or([()=>Mt.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function Em(a,n){return`firestore_clients_${a}_${n}`}function yp(a,n,o){let u=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(u+=`_${n.uid}`),u}function Cm(a,n){return`firestore_targets_${a}_${n}`}class Vh{constructor(n,o,u,d){this.user=n,this.batchId=o,this.state=u,this.error=d}static $s(n,o,u){const d=JSON.parse(u);let v,A="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return A&&d.error&&(A="string"==typeof d.error.message&&"string"==typeof d.error.code,A&&(v=new T(d.error.code,d.error.message))),A?new Vh(n,o,d.state,v):(or("SharedClientState",`Failed to parse mutation state for ID '${o}': ${u}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Uh{constructor(n,o,u){this.targetId=n,this.state=o,this.error=u}static $s(n,o){const u=JSON.parse(o);let d,v="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(d=new T(u.error.code,u.error.message))),v?new Uh(n,u.state,d):(or("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Td{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const u=JSON.parse(o);let d="object"==typeof u&&u.activeTargetIds instanceof Array,v=Au();for(let A=0;d&&A<u.activeTargetIds.length;++A)d=ts(u.activeTargetIds[A]),v=v.add(u.activeTargetIds[A]);return d?new Td(n,v):(or("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class Bh{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Bh(o.clientId,o.onlineState):(or("SharedClientState",`Failed to parse online state: ${n}`),null)}}class _p{constructor(){this.activeTargetIds=Au()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Id{constructor(n,o,u,d,v){this.window=n,this.Oe=o,this.persistenceKey=u,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new cs(Jt),this.started=!1,this.Ks=[];const A=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=v,this.js=Em(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new _p),this.Ws=new RegExp(`^firestore_clients_${A}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${A}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${A}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(j){return`firestore_bundle_loaded_${j}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,_.Z)(function*(){const o=yield n.syncEngine.pn();for(const d of o){if(d===n.Ls)continue;const v=n.getItem(Em(n.persistenceKey,d));if(v){const A=Td.$s(d,v);A&&(n.qs=n.qs.insert(A.clientId,A))}}n.Ys();const u=n.storage.getItem(n.Hs);if(u){const d=n.Xs(u);d&&n.Zs(d)}for(const d of n.Ks)n.Us(d);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((u,d)=>{d.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,u){this.ei(n,o,u),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(Cm(this.persistenceKey,n));if(u){const d=Uh.$s(n,u);d&&(o=d.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Cm(this.persistenceKey,n))}updateQueryState(n,o,u){this.ii(n,o,u)}handleUserChange(n,o,u){o.forEach(d=>{this.ni(d)}),this.currentUser=n,u.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return Rt("SharedClientState","READ",n,o),o}setItem(n,o){Rt("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){Rt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const u=n;if(u.storageArea===this.storage){if(Rt("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_.Z)(function*(){if(o.started){if(null!==u.key)if(o.Ws.test(u.key)){if(null==u.newValue){const d=o.ai(u.key);return o.ci(d,null)}{const d=o.ui(u.key,u.newValue);if(d)return o.ci(d.clientId,d)}}else if(o.Gs.test(u.key)){if(null!==u.newValue){const d=o.hi(u.key,u.newValue);if(d)return o.li(d)}}else if(o.zs.test(u.key)){if(null!==u.newValue){const d=o.fi(u.key,u.newValue);if(d)return o.di(d)}}else if(u.key===o.Hs){if(null!==u.newValue){const d=o.Xs(u.newValue);if(d)return o.Zs(d)}}else if(u.key===o.Qs){const d=function(v){let A=Ct.T;if(null!=v)try{const j=JSON.parse(v);Dn("number"==typeof j),A=j}catch(j){or("SharedClientState","Failed to read sequence number from WebStorage",j)}return A}(u.newValue);d!==Ct.T&&o.sequenceNumberHandler(d)}else if(u.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,u){const d=new Vh(this.currentUser,n,o,u),v=yp(this.persistenceKey,this.currentUser,n);this.setItem(v,d.Os())}ni(n){const o=yp(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,u){const d=Cm(this.persistenceKey,n),v=new Uh(n,o,u);this.setItem(d,v.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const u=this.ai(n);return Td.$s(u,o)}hi(n,o){const u=this.Gs.exec(n),d=Number(u[1]);return Vh.$s(new In(void 0!==u[2]?u[2]:null),d,o)}fi(n,o){const u=this.zs.exec(n),d=Number(u[1]);return Uh.$s(d,o)}Xs(n){return Bh.$s(n)}li(n){var o=this;return(0,_.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);Rt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const u=o?this.qs.insert(n,o):this.qs.remove(n),d=this.ti(this.qs),v=this.ti(u),A=[],j=[];return v.forEach(Q=>{d.has(Q)||A.push(Q)}),d.forEach(Q=>{v.has(Q)||j.push(Q)}),this.syncEngine.gi(A,j).then(()=>{this.qs=u})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=Au();return n.forEach((u,d)=>{o=o.unionWith(d.activeTargetIds)}),o}}class D_{constructor(){this.yi=new _p,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,u){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,u){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new _p,Promise.resolve()}handleUserChange(n,o,u){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class kw{Ei(n){}shutdown(){}}class A_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lw{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Vw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,u,d){const v=this.Bi(n,o);Rt("RestConnection","Sending: ",v,u);const A={};return this.Ui(A,d),this.qi(n,v,A,u).then(j=>(Rt("RestConnection","Received: ",j),j),j=>{throw li("RestConnection",`${n} failed with error: `,j,"url: ",v,"request:",u),j})}Ki(n,o,u,d){return this.Li(n,o,u,d)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+fr,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const u in o.authHeaders)o.authHeaders.hasOwnProperty(u)&&(n[u]=o.authHeaders[u])}Bi(n,o){return`${this.Fi}/v1/${o}:${Fw[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,u,d){return new Promise((v,A)=>{const j=new vn;j.listenOnce(_e.COMPLETE,()=>{try{switch(j.getLastErrorCode()){case oe.NO_ERROR:const le=j.getResponseJson();Rt("Connection","XHR received:",JSON.stringify(le)),v(le);break;case oe.TIMEOUT:Rt("Connection",'RPC "'+n+'" timed out'),A(new T(D.DEADLINE_EXCEEDED,"Request time out"));break;case oe.HTTP_ERROR:const ve=j.getStatus();if(Rt("Connection",'RPC "'+n+'" failed with status:',ve,"response text:",j.getResponseText()),ve>0){const Ze=j.getResponseJson().error;if(Ze&&Ze.status&&Ze.message){const wt=function(St){const Qt=St.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(Qt)>=0?Qt:D.UNKNOWN}(Ze.status);A(new T(wt,Ze.message))}else A(new T(D.UNKNOWN,"Server responded with status "+j.getStatus()))}else A(new T(D.UNAVAILABLE,"Connection failed."));break;default:mn()}}finally{Rt("Connection",'RPC "'+n+'" completed.')}});const Q=JSON.stringify(d);j.send(o,"POST",Q,u,15)})}ji(n,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=N(),v=W(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new pt({})),this.Ui(A.initMessageHeaders,o),(0,Le.uI)()||(0,Le.b$)()||(0,Le.d)()||(0,Le.w1)()||(0,Le.Mn)()||(0,Le.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const j=u.join("");Rt("Connection","Creating WebChannel: "+j,A);const Q=d.createWebChannel(j,A);let le=!1,ve=!1;const Ze=new Lw({vi:St=>{ve?Rt("Connection","Not sending because WebChannel is closed:",St):(le||(Rt("Connection","Opening WebChannel transport."),Q.open(),le=!0),Rt("Connection","WebChannel sending:",St),Q.send(St))},Vi:()=>Q.close()}),wt=(St,Qt,Bn)=>{St.listen(Qt,Dr=>{try{Bn(Dr)}catch(ds){setTimeout(()=>{throw ds},0)}})};return wt(Q,Wt.EventType.OPEN,()=>{ve||Rt("Connection","WebChannel transport opened.")}),wt(Q,Wt.EventType.CLOSE,()=>{ve||(ve=!0,Rt("Connection","WebChannel transport closed"),Ze.$i())}),wt(Q,Wt.EventType.ERROR,St=>{ve||(ve=!0,li("Connection","WebChannel transport errored:",St),Ze.$i(new T(D.UNAVAILABLE,"The operation could not be completed")))}),wt(Q,Wt.EventType.MESSAGE,St=>{var Qt;if(!ve){const Bn=St.data[0];Dn(!!Bn);const Dr=Bn,ds=Dr.error||(null===(Qt=Dr[0])||void 0===Qt?void 0:Qt.error);if(ds){Rt("Connection","WebChannel received error:",ds);const Yo=ds.status;let Rl=function(Qd){const Sf=bs[Qd];if(void 0!==Sf)return gh(Sf)}(Yo),La=ds.message;void 0===Rl&&(Rl=D.INTERNAL,La="Unknown error status: "+Yo+" with message "+ds.message),ve=!0,Ze.$i(new T(Rl,La)),Q.close()}else Rt("Connection","WebChannel received:",Bn),Ze.Oi(Bn)}}),wt(v,Ie.STAT_EVENT,St=>{St.stat===et.PROXY?Rt("Connection","Detected buffering proxy"):St.stat===et.NOPROXY&&Rt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.ki()},0),Ze}}function S_(){return"undefined"!=typeof window?window:null}function vp(){return"undefined"!=typeof document?document:null}function jh(a){return new Jf(a,!0)}class Tm{constructor(n,o,u=1e3,d=1.5,v=6e4){this.Oe=n,this.timerId=o,this.Qi=u,this.Wi=d,this.Gi=v,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),d=Math.max(0,o-u);d>0&&Rt("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class x_{constructor(n,o,u,d,v,A){this.Oe=n,this.er=u,this.nr=d,this.credentialsProvider=v,this.listener=A,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Tm(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,_.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,_.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var u=this;return(0,_.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==n?u.rr.reset():o&&o.code===D.RESOURCE_EXHAUSTED?(or(o.toString()),or("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):o&&o.code===D.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=n,yield u.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===o&&this.yr(u)},u=>{n(()=>{const d=new T(D.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(d)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{o(()=>this.pr(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ur(){var n=this;this.state=4,this.rr.Xi((0,_.Z)(function*(){n.state=0,n.start()}))}pr(n){return Rt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iu extends x_{constructor(n,o,u,d,v){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,u,v),this.N=d}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const u="NO_CHANGE"===(Q=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:mn(),d=n.targetChange.targetIds||[],v=function(Q,le){return Q.D?(Dn(void 0===le||"string"==typeof le),Ns.fromBase64String(le||"")):(Dn(void 0===le||le instanceof Uint8Array),Ns.fromUint8Array(le||new Uint8Array))}(a,n.targetChange.resumeToken),A=n.targetChange.cause,j=A&&function(Q){const le=void 0===Q.code?D.UNKNOWN:gh(Q.code);return new T(le,Q.message||"")}(A);o=new fc(u,d,v,j||null)}else if("documentChange"in n){const u=n.documentChange,d=ca(a,u.document.name),v=Ms(u.document.updateTime),A=new ii({mapValue:{fields:u.document.fields}}),j=Jr.newFoundDocument(d,v,A);o=new Su(u.targetIds||[],u.removedTargetIds||[],j.key,j)}else if("documentDelete"in n){const u=n.documentDelete,d=ca(a,u.document),v=u.readTime?Ms(u.readTime):xn.min(),A=Jr.newNoDocument(d,v);o=new Su([],u.removedTargetIds||[],A.key,A)}else if("documentRemove"in n){const u=n.documentRemove,d=ca(a,u.document);o=new Su([],u.removedTargetIds||[],d,null)}else{if(!("filter"in n))return mn();{const u=n.filter,v=new za(u.count||0);o=new hc(u.targetId,v)}}var Q;return o}(this.N,n),u=function(d){if(!("targetChange"in d))return xn.min();const v=d.targetChange;return v.targetIds&&v.targetIds.length?xn.min():v.readTime?Ms(v.readTime):xn.min()}(n);return this.listener.Tr(o,u)}Ir(n){const o={};o.database=Wa(this.N),o.addTarget=function(d,v){let A;const j=v.target;return A=rc(j)?{documents:Zs(d,j)}:{query:Ql(d,j)},A.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?A.resumeToken=sd(d,v.resumeToken):v.snapshotVersion.compareTo(xn.min())>0&&(A.readTime=xu(d,v.snapshotVersion.toTimestamp())),A}(this.N,n);const u=function(a,n){const o=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return mn()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);u&&(o.labels=u),this.wr(o)}Ar(n){const o={};o.database=Wa(this.N),o.removeTarget=n,this.wr(o)}}class wp extends x_{constructor(n,o,u,d,v){super(n,"write_stream_connection_backoff","write_stream_idle",o,u,v),this.N=d,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(Dn(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(Dn(void 0!==n),a.map(o=>function(u,d){let v=Ms(u.updateTime?u.updateTime:d);return v.isEqual(xn.min())&&(v=Ms(d)),new zf(v,u.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),u=Ms(n.commitTime);return this.listener.vr(u,o)}return Dn(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=Wa(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(u=>vl(this.N,u))};this.wr(o)}}class R_ extends class{}{constructor(n,o,u){super(),this.credentials=n,this.nr=o,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===D.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new T(D.UNKNOWN,d.toString())})}Ki(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===D.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new T(D.UNKNOWN,d.toString())})}terminate(){this.Dr=!0}}class Im{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(or(o),this.$r=!1):Rt("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class bp{constructor(n,o,u,d,v){var A=this;this.localStore=n,this.datastore=o,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=v,this.Qr.Ei(j=>{u.enqueueAndForget((0,_.Z)(function*(){var Q;su(A)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield(Q=(0,_.Z)(function*(le){const ve=Zt(le);ve.Kr.add(4),yield Cc(ve),ve.Wr.set("Unknown"),ve.Kr.delete(4),yield Ec(ve)}),function(le){return Q.apply(this,arguments)})(A))}))}),this.Wr=new Im(u,d)}}function Ec(a){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,_.Z)(function*(a){if(su(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function Cc(a){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,_.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function Ad(a,n){const o=Zt(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),$h(o)?Ep(o):Od(o).cr()&&Dm(o,n))}function Sd(a,n){const o=Zt(a),u=Od(o);o.qr.delete(n),u.cr()&&Hh(o,n),0===o.qr.size&&(u.cr()?u.lr():su(o)&&o.Wr.set("Unknown"))}function Dm(a,n){a.Gr.Y(n.targetId),Od(a).Ir(n)}function Hh(a,n){a.Gr.Y(n),Od(a).Ar(n)}function Ep(a){a.Gr=new sm({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),Od(a).start(),a.Wr.Or()}function $h(a){return su(a)&&!Od(a).ar()&&a.qr.size>0}function su(a){return 0===Zt(a).Kr.size}function Am(a){a.Gr=void 0}function xd(a){return ou.apply(this,arguments)}function ou(){return(ou=(0,_.Z)(function*(a){a.qr.forEach((n,o)=>{Dm(a,n)})})).apply(this,arguments)}function Cp(a,n){return au.apply(this,arguments)}function au(){return(au=(0,_.Z)(function*(a,n){Am(a),$h(a)?(a.Wr.Lr(n),Ep(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function Rd(a,n,o){return lu.apply(this,arguments)}function lu(){return(lu=(0,_.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof fc&&2===n.state&&n.cause)try{yield(u=(0,_.Z)(function*(d,v){const A=v.cause;for(const j of v.targetIds)d.qr.has(j)&&(yield d.remoteSyncer.rejectListen(j,A),d.qr.delete(j),d.Gr.removeTarget(j))}),function(d,v){return u.apply(this,arguments)})(a,n)}catch(u){Rt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),u),yield qh(a,u)}else if(n instanceof Su?a.Gr.rt(n):n instanceof hc?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(xn.min()))try{const u=yield _m(a.localStore);o.compareTo(u)>=0&&(yield function(d,v){const A=d.Gr._t(v);return A.targetChanges.forEach((j,Q)=>{if(j.resumeToken.approximateByteSize()>0){const le=d.qr.get(Q);le&&d.qr.set(Q,le.withResumeToken(j.resumeToken,v))}}),A.targetMismatches.forEach(j=>{const Q=d.qr.get(j);if(!Q)return;d.qr.set(j,Q.withResumeToken(Ns.EMPTY_BYTE_STRING,Q.snapshotVersion)),Hh(d,j);const le=new eu(Q.target,j,1,Q.sequenceNumber);Dm(d,le)}),d.remoteSyncer.applyRemoteEvent(A)}(a,o))}catch(u){Rt("RemoteStore","Failed to raise snapshot:",u),yield qh(a,u)}var u})).apply(this,arguments)}function qh(a,n,o){return Gh.apply(this,arguments)}function Gh(){return(Gh=(0,_.Z)(function*(a,n,o){if(!No(n))throw n;a.Kr.add(1),yield Cc(a),a.Wr.set("Offline"),o||(o=()=>_m(a.localStore)),a.asyncQueue.enqueueRetryable((0,_.Z)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield Ec(a)}))})).apply(this,arguments)}function Tp(a,n){return n().catch(o=>qh(a,o,n))}function uu(a){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,_.Z)(function*(a){const n=Zt(a),o=$u(n);let u=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Sm(n);)try{const d=yield T_(n.localStore,u);if(null===d){0===n.Ur.length&&o.lr();break}u=d.batchId,Zh(n,d)}catch(d){yield qh(n,d)}xm(n)&&Ip(n)})).apply(this,arguments)}function Sm(a){return su(a)&&a.Ur.length<10}function Zh(a,n){a.Ur.push(n);const o=$u(a);o.cr()&&o.br&&o.Pr(n.mutations)}function xm(a){return su(a)&&!$u(a).ar()&&a.Ur.length>0}function Ip(a){$u(a).start()}function Uw(a){return zh.apply(this,arguments)}function zh(){return(zh=(0,_.Z)(function*(a){$u(a).Sr()})).apply(this,arguments)}function Rm(a){return Dp.apply(this,arguments)}function Dp(){return(Dp=(0,_.Z)(function*(a){const n=$u(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Nm(a,n,o){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,_.Z)(function*(a,n,o){const u=a.Ur.shift(),d=fd.from(u,n,o);yield Tp(a,()=>a.remoteSyncer.applySuccessfulWrite(d)),yield uu(a)})).apply(this,arguments)}function N_(a,n){return zo.apply(this,arguments)}function zo(){return(zo=(0,_.Z)(function*(a,n){var o;n&&$u(a).br&&(yield(o=(0,_.Z)(function*(u,d){if(uc(v=d.code)&&v!==D.ABORTED){const A=u.Ur.shift();$u(u).hr(),yield Tp(u,()=>u.remoteSyncer.rejectFailedWrite(A.batchId,d)),yield uu(u)}var v}),function(u,d){return o.apply(this,arguments)})(a,n)),xm(a)&&Ip(a)})).apply(this,arguments)}function Sp(a,n){return xp.apply(this,arguments)}function xp(){return(xp=(0,_.Z)(function*(a,n){const o=Zt(a);n?(o.Kr.delete(2),yield Ec(o)):n||(o.Kr.add(2),yield Cc(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function Od(a){return a.zr||(a.zr=function(n,o,u){const d=Zt(n);return d.Cr(),new iu(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:xd.bind(null,a),Ci:Cp.bind(null,a),Tr:Rd.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.zr.hr(),$h(a)?Ep(a):a.Wr.set("Unknown")):(yield a.zr.stop(),Am(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function $u(a){return a.Hr||(a.Hr=function(n,o,u){const d=Zt(n);return d.Cr(),new wp(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:Uw.bind(null,a),Ci:N_.bind(null,a),Vr:Rm.bind(null,a),vr:Nm.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.Hr.hr(),yield uu(a)):(yield a.Hr.stop(),a.Ur.length>0&&(Rt("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class Wh{constructor(n,o,u,d,v){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=u,this.op=d,this.removalCallback=v,this.deferred=new I,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(A=>{})}static createAndSchedule(n,o,u,d,v){const A=Date.now()+u,j=new Wh(n,o,A,d,v);return j.start(u),j}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(D.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Md(a,n){if(or("AsyncQueue",`${n}: ${a}`),No(a))return new T(D.UNAVAILABLE,`${n}: ${a}`);throw a}class Tc{constructor(n){this.comparator=n?(o,u)=>n(o,u)||wn.comparator(o.key,u.key):(o,u)=>wn.comparator(o.key,u.key),this.keyedMap=ml(),this.sortedSet=new cs(this.comparator)}static emptySet(n){return new Tc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,u)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof Tc)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),u=n.sortedSet.getIterator();for(;o.hasNext();){const d=o.getNext().key,v=u.getNext().key;if(!d.isEqual(v))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const u=new Tc;return u.comparator=this.comparator,u.keyedMap=n,u.sortedSet=o,u}}class Kh{constructor(){this.Jr=new cs(wn.comparator)}track(n){const o=n.doc.key,u=this.Jr.get(o);u?0!==n.type&&3===u.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==u.type?this.Jr=this.Jr.insert(o,{type:u.type,doc:n.doc}):2===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===u.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===u.type?this.Jr=this.Jr.remove(o):1===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:1,doc:u.doc}):0===n.type&&1===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):mn():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,u)=>{n.push(u)}),n}}class qu{constructor(n,o,u,d,v,A,j,Q){this.query=n,this.docs=o,this.oldDocs=u,this.docChanges=d,this.mutatedKeys=v,this.fromCache=A,this.syncStateChanged=j,this.excludesMetadataChanges=Q}static fromInitialDocuments(n,o,u,d){const v=[];return o.forEach(A=>{v.push({type:0,doc:A})}),new qu(n,o,Tc.emptySet(o),v,u,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&bo(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,u=n.docChanges;if(o.length!==u.length)return!1;for(let d=0;d<o.length;d++)if(o[d].type!==u[d].type||!o[d].doc.isEqual(u[d].doc))return!1;return!0}}class O_{constructor(){this.Xr=void 0,this.listeners=[]}}class M_{constructor(){this.queries=new Hu(n=>_u(n),bo),this.onlineState="Unknown",this.Zr=new Set}}function Rp(a,n){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,_.Z)(function*(a,n){const o=Zt(a),u=n.query;let d=!1,v=o.queries.get(u);if(v||(d=!0,v=new O_),d)try{v.Xr=yield o.onListen(u)}catch(A){const j=Md(A,`Initialization of query '${wa(n.query)}' failed`);return void n.onError(j)}o.queries.set(u,v),v.listeners.push(n),n.eo(o.onlineState),v.Xr&&n.no(v.Xr)&&Jh(o)})).apply(this,arguments)}function Np(a,n){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,_.Z)(function*(a,n){const o=Zt(a),u=n.query;let d=!1;const v=o.queries.get(u);if(v){const A=v.listeners.indexOf(n);A>=0&&(v.listeners.splice(A,1),d=0===v.listeners.length)}if(d)return o.queries.delete(u),o.onUnlisten(u)})).apply(this,arguments)}function P_(a,n){const o=Zt(a);let u=!1;for(const d of n){const A=o.queries.get(d.query);if(A){for(const j of A.listeners)j.no(d)&&(u=!0);A.Xr=d}}u&&Jh(o)}function k_(a,n,o){const u=Zt(a),d=u.queries.get(n);if(d)for(const v of d.listeners)v.onError(o);u.queries.delete(n)}function Jh(a){a.Zr.forEach(n=>{n.next()})}class Xh{constructor(n,o,u){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(n){if(!this.options.includeMetadataChanges){const u=[];for(const d of n.docChanges)3!==d.type&&u.push(d);n=new qu(n.query,n.docs,n.oldDocs,u,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=qu.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class F_{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class Ma{constructor(n){this.N=n}zn(n){return ca(this.N,n)}Hn(n){return n.metadata.exists?wh(this.N,n.document,!1):Jr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Ms(n)}}class Op{constructor(n,o,u){this.lo=n,this.localStore=o,this.N=u,this.queries=[],this.documents=[],this.progress=Om(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,u=new Ma(this.N);for(const d of n)if(d.metadata.queries){const v=u.zn(d.metadata.name);for(const A of d.metadata.queries){const j=(o.get(A)||Xr()).add(v);o.set(A,j)}}return o}complete(){var n=this;return(0,_.Z)(function*(){const o=yield function(a,n,o,u){return bd.apply(this,arguments)}(n.localStore,new Ma(n.N),n.documents,n.lo.id),u=n.wo(n.documents);for(const d of n.queries)yield Tl(n.localStore,d,u.get(d.name));return n.progress.taskState="Success",new b_(Object.assign({},n.progress),o)})()}}function Om(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Mm{constructor(n){this.key=n}}class L_{constructor(n){this.key=n}}class Mp{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=Xr(),this.mutatedKeys=Xr(),this.po=ed(n),this.Eo=new Tc(this.po)}get To(){return this._o}Io(n,o){const u=o?o.Ao:new Kh,d=o?o.Eo:this.Eo;let v=o?o.mutatedKeys:this.mutatedKeys,A=d,j=!1;const Q=sc(this.query)&&d.size===this.query.limit?d.last():null,le=aa(this.query)&&d.size===this.query.limit?d.first():null;if(n.inorderTraversal((ve,Ze)=>{const wt=d.get(ve),St=Hl(this.query,Ze)?Ze:null,Qt=!!wt&&this.mutatedKeys.has(wt.key),Bn=!!St&&(St.hasLocalMutations||this.mutatedKeys.has(St.key)&&St.hasCommittedMutations);let Dr=!1;wt&&St?wt.data.isEqual(St.data)?Qt!==Bn&&(u.track({type:3,doc:St}),Dr=!0):this.Ro(wt,St)||(u.track({type:2,doc:St}),Dr=!0,(Q&&this.po(St,Q)>0||le&&this.po(St,le)<0)&&(j=!0)):!wt&&St?(u.track({type:0,doc:St}),Dr=!0):wt&&!St&&(u.track({type:1,doc:wt}),Dr=!0,(Q||le)&&(j=!0)),Dr&&(St?(A=A.add(St),v=Bn?v.add(ve):v.delete(ve)):(A=A.delete(ve),v=v.delete(ve)))}),sc(this.query)||aa(this.query))for(;A.size>this.query.limit;){const ve=sc(this.query)?A.last():A.first();A=A.delete(ve.key),v=v.delete(ve.key),u.track({type:1,doc:ve})}return{Eo:A,Ao:u,Ln:j,mutatedKeys:v}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,u){const d=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const v=n.Ao.Yr();v.sort((le,ve)=>function(Ze,wt){const St=Qt=>{switch(Qt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mn()}};return St(Ze)-St(wt)}(le.type,ve.type)||this.po(le.doc,ve.doc)),this.bo(u);const A=o?this.Po():[],j=0===this.yo.size&&this.current?1:0,Q=j!==this.mo;return this.mo=j,0!==v.length||Q?{snapshot:new qu(this.query,n.Eo,d,v,n.mutatedKeys,0===j,Q,!1),vo:A}:{vo:A}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Kh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=Xr(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const o=[];return n.forEach(u=>{this.yo.has(u)||o.push(new L_(u))}),this.yo.forEach(u=>{n.has(u)||o.push(new Mm(u))}),o}So(n){this._o=n.Gn,this.yo=Xr();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return qu.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class V_{constructor(n,o,u){this.query=n,this.targetId=o,this.view=u}}class U_{constructor(n){this.key=n,this.Co=!1}}class B_{constructor(n,o,u,d,v,A){this.localStore=n,this.remoteStore=o,this.eventManager=u,this.sharedClientState=d,this.currentUser=v,this.maxConcurrentLimboResolutions=A,this.No={},this.xo=new Hu(j=>_u(j),bo),this.ko=new Map,this.$o=new Set,this.Oo=new cs(wn.comparator),this.Fo=new Map,this.Mo=new Cd,this.Lo={},this.Bo=new Map,this.Uo=ha.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Pp(a,n){return kp.apply(this,arguments)}function kp(){return(kp=(0,_.Z)(function*(a,n){const o=$m(a);let u,d;const v=o.xo.get(n);if(v)u=v.targetId,o.sharedClientState.addLocalQueryTarget(u),d=v.view.Do();else{const A=yield wc(o.localStore,la(n)),j=o.sharedClientState.addLocalQueryTarget(A.targetId);u=A.targetId,d=yield Fp(o,n,u,"current"===j),o.isPrimaryClient&&Ad(o.remoteStore,A)}return d})).apply(this,arguments)}function Fp(a,n,o,u){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,_.Z)(function*(a,n,o,u){a.Ko=(ve,Ze,wt)=>{return(St=(0,_.Z)(function*(Qt,Bn,Dr,ds){let Yo=Bn.view.Io(Dr);Yo.Ln&&(Yo=yield vd(Qt.localStore,Bn.query,!1).then(({documents:Qd})=>Bn.view.Io(Qd,Yo)));const Rl=ds&&ds.targetChanges.get(Bn.targetId),La=Bn.view.applyChanges(Yo,Qt.isPrimaryClient,Rl);return Um(Qt,Bn.targetId,La.vo),La.snapshot}),function(Qt,Bn,Dr,ds){return St.apply(this,arguments)})(a,ve,Ze,wt);var St};const d=yield vd(a.localStore,n,!0),v=new Mp(n,d.Gn),A=v.Io(d.documents),j=Kl.createSynthesizedTargetChangeForCurrentChange(o,u&&"Offline"!==a.onlineState),Q=v.applyChanges(A,a.isPrimaryClient,j);Um(a,o,Q.vo);const le=new V_(n,o,v);return a.xo.set(n,le),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),Q.snapshot})).apply(this,arguments)}function Lp(a,n){return Vp.apply(this,arguments)}function Vp(){return(Vp=(0,_.Z)(function*(a,n){const o=Zt(a),u=o.xo.get(n),d=o.ko.get(u.targetId);if(d.length>1)return o.ko.set(u.targetId,d.filter(v=>!bo(v,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield bc(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),Sd(o.remoteStore,u.targetId),Ac(o,u.targetId)}).catch(Bu))):(Ac(o,u.targetId),yield bc(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Pd(){return(Pd=(0,_.Z)(function*(a,n,o){const u=Wp(a);try{const d=yield function(v,A){const j=Zt(v),Q=Jn.now(),le=A.reduce((Ze,wt)=>Ze.add(wt.key),Xr());let ve;return j.persistence.runTransaction("Locally write mutations","readwrite",Ze=>j.Qn.Pn(Ze,le).next(wt=>{ve=wt;const St=[];for(const Qt of A){const Bn=nd(Qt,ve.get(Qt.key));null!=Bn&&St.push(new Za(Qt.key,Bn,nc(Bn.value.mapValue),ws.exists(!0)))}return j.In.addMutationBatch(Ze,Q,St,A)})).then(Ze=>(Ze.applyToLocalDocumentSet(ve),{batchId:Ze.batchId,changes:ve}))}(u.localStore,n);u.sharedClientState.addPendingMutation(d.batchId),function(v,A,j){let Q=v.Lo[v.currentUser.toKey()];Q||(Q=new cs(Jt)),Q=Q.insert(A,j),v.Lo[v.currentUser.toKey()]=Q}(u,d.batchId,o),yield fa(u,d.changes),yield uu(u.remoteStore)}catch(d){const v=Md(d,"Failed to persist write");o.reject(v)}})).apply(this,arguments)}function Bp(a,n){return jp.apply(this,arguments)}function jp(){return(jp=(0,_.Z)(function*(a,n){const o=Zt(a);try{const u=yield C_(o.localStore,n);n.targetChanges.forEach((d,v)=>{const A=o.Fo.get(v);A&&(Dn(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?A.Co=!0:d.modifiedDocuments.size>0?Dn(A.Co):d.removedDocuments.size>0&&(Dn(A.Co),A.Co=!1))}),yield fa(o,u,n)}catch(u){yield Bu(u)}})).apply(this,arguments)}function Pm(a,n,o){const u=Zt(a);if(u.isPrimaryClient&&0===o||!u.isPrimaryClient&&1===o){const d=[];u.xo.forEach((v,A)=>{const j=A.view.eo(n);j.snapshot&&d.push(j.snapshot)}),function(v,A){const j=Zt(v);j.onlineState=A;let Q=!1;j.queries.forEach((le,ve)=>{for(const Ze of ve.listeners)Ze.eo(A)&&(Q=!0)}),Q&&Jh(j)}(u.eventManager,n),d.length&&u.No.Tr(d),u.onlineState=n,u.isPrimaryClient&&u.sharedClientState.setOnlineState(n)}}function Hp(a,n,o){return km.apply(this,arguments)}function km(){return(km=(0,_.Z)(function*(a,n,o){const u=Zt(a);u.sharedClientState.updateQueryState(n,"rejected",o);const d=u.Fo.get(n),v=d&&d.key;if(v){let A=new cs(wn.comparator);A=A.insert(v,Jr.newNoDocument(v,xn.min()));const j=Xr().add(v),Q=new dc(xn.min(),new Map,new Bi(Jt),A,j);yield Bp(u,Q),u.Oo=u.Oo.remove(v),u.Fo.delete(n),rf(u)}else yield bc(u.localStore,n,!1).then(()=>Ac(u,n,o)).catch(Bu)})).apply(this,arguments)}function j_(a,n){return ef.apply(this,arguments)}function ef(){return(ef=(0,_.Z)(function*(a,n){const o=Zt(a),u=n.batch.batchId;try{const d=yield E_(o.localStore,n);Dc(o,u,null),Pa(o,u),o.sharedClientState.updateMutationState(u,"acknowledged"),yield fa(o,d)}catch(d){yield Bu(d)}})).apply(this,arguments)}function Fm(a,n,o){return tf.apply(this,arguments)}function tf(){return(tf=(0,_.Z)(function*(a,n,o){const u=Zt(a);try{const d=yield function(v,A){const j=Zt(v);return j.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let le;return j.In.lookupMutationBatch(Q,A).next(ve=>(Dn(null!==ve),le=ve.keys(),j.In.removeMutationBatch(Q,ve))).next(()=>j.In.performConsistencyCheck(Q)).next(()=>j.Qn.Pn(Q,le))})}(u.localStore,n);Dc(u,n,o),Pa(u,n),u.sharedClientState.updateMutationState(n,"rejected",o),yield fa(u,d)}catch(d){yield Bu(d)}})).apply(this,arguments)}function nf(){return(nf=(0,_.Z)(function*(a,n){const o=Zt(a);su(o.remoteStore)||Rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(v){const A=Zt(v);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",j=>A.In.getHighestUnacknowledgedBatchId(j))}(o.localStore);if(-1===u)return void n.resolve();const d=o.Bo.get(u)||[];d.push(n),o.Bo.set(u,d)}catch(u){const d=Md(u,"Initialization of waitForPendingWrites() operation failed");n.reject(d)}})).apply(this,arguments)}function Pa(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function Dc(a,n,o){const u=Zt(a);let d=u.Lo[u.currentUser.toKey()];if(d){const v=d.get(n);v&&(o?v.reject(o):v.resolve(),d=d.remove(n)),u.Lo[u.currentUser.toKey()]=d}}function Ac(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const u of a.ko.get(n))a.xo.delete(u),o&&a.No.jo(u,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(u=>{a.Mo.containsKey(u)||Vm(a,u)})}function Vm(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(Sd(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),rf(a))}function Um(a,n,o){for(const u of o)u instanceof Mm?(a.Mo.addReference(u.key,n),Sc(a,u)):u instanceof L_?(Rt("SyncEngine","Document no longer in limbo: "+u.key),a.Mo.removeReference(u.key,n),a.Mo.containsKey(u.key)||Vm(a,u.key)):mn()}function Sc(a,n){const o=n.key,u=o.path.canonicalString();a.Oo.get(o)||a.$o.has(u)||(Rt("SyncEngine","New document in limbo: "+o),a.$o.add(u),rf(a))}function rf(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new wn(Mr.fromString(n)),u=a.Uo.next();a.Fo.set(u,new U_(o)),a.Oo=a.Oo.insert(o,u),Ad(a.remoteStore,new eu(la(Ga(o.path)),u,2,Ct.T))}}function fa(a,n,o){return Gu.apply(this,arguments)}function Gu(){return(Gu=(0,_.Z)(function*(a,n,o){const u=Zt(a),d=[],v=[],A=[];var j;u.xo.isEmpty()||(u.xo.forEach((j,Q)=>{A.push(u.Ko(Q,n,o).then(le=>{if(le){u.isPrimaryClient&&u.sharedClientState.updateQueryState(Q.targetId,le.fromCache?"not-current":"current"),d.push(le);const ve=dp.kn(Q.targetId,le);v.push(ve)}}))}),yield Promise.all(A),u.No.Tr(d),yield(j=(0,_.Z)(function*(Q,le){const ve=Zt(Q);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ze=>Mt.forEach(le,wt=>Mt.forEach(wt.Nn,St=>ve.persistence.referenceDelegate.addReference(Ze,wt.targetId,St)).next(()=>Mt.forEach(wt.xn,St=>ve.persistence.referenceDelegate.removeReference(Ze,wt.targetId,St)))))}catch(Ze){if(!No(Ze))throw Ze;Rt("LocalStore","Failed to update sequence numbers: "+Ze)}for(const Ze of le){const wt=Ze.targetId;if(!Ze.fromCache){const St=ve.Un.get(wt),Bn=St.withLastLimboFreeSnapshotVersion(St.snapshotVersion);ve.Un=ve.Un.insert(wt,Bn)}}}),function(Q,le){return j.apply(this,arguments)})(u.localStore,v))})).apply(this,arguments)}function H_(a,n){return kd.apply(this,arguments)}function kd(){return(kd=(0,_.Z)(function*(a,n){const o=Zt(a);if(!o.currentUser.isEqual(n)){Rt("SyncEngine","User change. New user:",n.toKey());const u=yield hp(o.localStore,n);o.currentUser=n,(d=o).Bo.forEach(A=>{A.forEach(j=>{j.reject(new T(D.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),o.sharedClientState.handleUserChange(n,u.removedBatchIds,u.addedBatchIds),yield fa(o,u.Wn)}var d})).apply(this,arguments)}function Bm(a,n){const o=Zt(a),u=o.Fo.get(n);if(u&&u.Co)return Xr().add(u.key);{let d=Xr();const v=o.ko.get(n);if(!v)return d;for(const A of v){const j=o.xo.get(A);d=d.unionWith(j.view.To)}return d}}function $_(a,n){return sf.apply(this,arguments)}function sf(){return(sf=(0,_.Z)(function*(a,n){const o=Zt(a),u=yield vd(o.localStore,n.query,!0),d=n.view.So(u);return o.isPrimaryClient&&Um(o,n.targetId,d.vo),d})).apply(this,arguments)}function q_(a){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,_.Z)(function*(a){const n=Zt(a);return wd(n.localStore).then(o=>fa(n,o))})).apply(this,arguments)}function G_(a,n,o,u){return $p.apply(this,arguments)}function $p(){return($p=(0,_.Z)(function*(a,n,o,u){const d=Zt(a),v=yield function(A,j){const Q=Zt(A),le=Zt(Q.In);return Q.persistence.runTransaction("Lookup mutation documents","readonly",ve=>le.Xt(ve,j).next(Ze=>Ze?Q.Qn.Pn(ve,Ze):Mt.resolve(null)))}(d.localStore,n);var j;null!==v?("pending"===o?yield uu(d.remoteStore):"acknowledged"===o||"rejected"===o?(Dc(d,n,u||null),Pa(d,n),j=n,Zt(Zt(d.localStore).In).te(j)):mn(),yield fa(d,v)):Rt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function cu(){return(cu=(0,_.Z)(function*(a,n){const o=Zt(a);if($m(o),Wp(o),!0===n&&!0!==o.qo){const u=o.sharedClientState.getAllActiveQueryTargets(),d=yield qp(o,u.toArray());o.qo=!0,yield Sp(o.remoteStore,!0);for(const v of d)Ad(o.remoteStore,v)}else if(!1===n&&!1!==o.qo){const u=[];let d=Promise.resolve();o.ko.forEach((v,A)=>{o.sharedClientState.isLocalQueryTarget(A)?u.push(A):d=d.then(()=>(Ac(o,A),bc(o.localStore,A,!0))),Sd(o.remoteStore,A)}),yield d,yield qp(o,u),function(v){const A=Zt(v);A.Fo.forEach((j,Q)=>{Sd(A.remoteStore,Q)}),A.Mo.us(),A.Fo=new Map,A.Oo=new cs(wn.comparator)}(o),o.qo=!1,yield Sp(o.remoteStore,!1)}})).apply(this,arguments)}function qp(a,n,o){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,_.Z)(function*(a,n,o){const u=Zt(a),d=[],v=[];for(const A of n){let j;const Q=u.ko.get(A);if(Q&&0!==Q.length){j=yield wc(u.localStore,la(Q[0]));for(const le of Q){const ve=u.xo.get(le),Ze=yield $_(u,ve);Ze.snapshot&&v.push(Ze.snapshot)}}else{const le=yield gp(u.localStore,A);j=yield wc(u.localStore,le),yield Fp(u,Hm(le),A,!1)}d.push(j)}return u.No.Tr(v),d})).apply(this,arguments)}function Hm(a){return us(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function xc(a){const n=Zt(a);return Zt(Zt(n.localStore).persistence).pn()}function Z_(a,n,o,u){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,_.Z)(function*(a,n,o,u){const d=Zt(a);if(d.qo)Rt("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(n))switch(o){case"current":case"not-current":{const v=yield wd(d.localStore),A=dc.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield fa(d,v,A);break}case"rejected":yield bc(d.localStore,n,!0),Ac(d,n,u);break;default:mn()}})).apply(this,arguments)}function z_(a,n,o){return zp.apply(this,arguments)}function zp(){return(zp=(0,_.Z)(function*(a,n,o){const u=$m(a);if(u.qo){for(const d of n){if(u.ko.has(d)){Rt("SyncEngine","Adding an already active target "+d);continue}const v=yield gp(u.localStore,d),A=yield wc(u.localStore,v);yield Fp(u,Hm(v),A.targetId,!1),Ad(u.remoteStore,A)}for(const d of o)u.ko.has(d)&&(yield bc(u.localStore,d,!1).then(()=>{Sd(u.remoteStore,d),Ac(u,d)}).catch(Bu))}})).apply(this,arguments)}function $m(a){const n=Zt(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=Bp.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bm.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Hp.bind(null,n),n.No.Tr=P_.bind(null,n.eventManager),n.No.jo=k_.bind(null,n.eventManager),n}function Wp(a){const n=Zt(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,n),n}class Ki{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,_.Z)(function*(){o.N=jh(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}Go(n){return new Lh(bm.Ns,this.N)}Wo(n){return new D_}terminate(){var n=this;return(0,_.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class of extends Ki{constructor(n,o,u){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n),yield function(a){return kh.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,n),yield Wp(u.Jo.syncEngine),yield uu(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}zo(n){return new ap(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Ph(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?Zo.withCacheSize(this.cacheSizeBytes):Zo.DEFAULT;return new _d(this.synchronizeTabs,o,n.clientId,u,n.asyncQueue,S_(),vp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new D_}}class Bw extends of{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n);const d=u.Jo.syncEngine;u.sharedClientState instanceof Id&&(u.sharedClientState.syncEngine={_i:G_.bind(null,d),mi:Z_.bind(null,d),gi:z_.bind(null,d),pn:xc.bind(null,d),wi:q_.bind(null,d)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var v=(0,_.Z)(function*(A){yield function(a,n){return cu.apply(this,arguments)}(u.Jo.syncEngine,A),u.gcScheduler&&(A&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):A||u.gcScheduler.stop())});return function(A){return v.apply(this,arguments)}}())})()}Wo(n){const o=S_();if(!Id.bt(o))throw new T(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Ph(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Id(o,n.asyncQueue,u,n.clientId,n.initialUser)}}class ka{initialize(n,o){var u=this;return(0,_.Z)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=d=>Pm(u.syncEngine,d,1),u.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,u.syncEngine),yield Sp(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new M_}createDatastore(n){const o=jh(n.databaseInfo.databaseId),u=new Vw(n.databaseInfo);return new R_(n.credentials,u,o)}createRemoteStore(n){return o=this.localStore,u=this.datastore,d=n.asyncQueue,v=j=>Pm(this.syncEngine,j,0),A=A_.bt()?new A_:new kw,new bp(o,u,d,v,A);var o,u,d,v,A}createSyncEngine(n,o){return function(u,d,v,A,j,Q,le){const ve=new B_(u,d,v,A,j,Q);return le&&(ve.qo=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,_.Z)(function*(o){const u=Zt(o);Rt("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield Cc(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function af(a,n=10240){let o=0;return{read:()=>(0,_.Z)(function*(){if(o<a.byteLength){const u={value:a.slice(o,o+n),done:!1};return o+=n,u}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Rc{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class jw{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new I,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,_.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,_.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,_.Z)(function*(){const o=yield n.na();if(null===o)return null;const u=n.ta.decode(o),d=Number(u);isNaN(d)&&n.sa(`length string (${u}) is not valid number`);const v=yield n.ia(d);return new F_(JSON.parse(v),o.length+d)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,_.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const u=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),u})()}ia(n){var o=this;return(0,_.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const u=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),u})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,_.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const u=new Uint8Array(n.buffer.length+o.value.length);u.set(n.buffer),u.set(o.value,n.buffer.length),n.buffer=u}return o.done})()}}class W_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,_.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new T(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(d=(0,_.Z)(function*(v,A){const j=Zt(v),Q=Wa(j.N)+"/documents",le={documents:A.map(St=>Ti(j.N,St))},ve=yield j.Ki("BatchGetDocuments",Q,le),Ze=new Map;ve.forEach(St=>{const Qt=function(a,n){return"found"in n?function(o,u){Dn(!!u.found);const d=ca(o,u.found.name),v=Ms(u.found.updateTime),A=new ii({mapValue:{fields:u.found.fields}});return Jr.newFoundDocument(d,v,A)}(a,n):"missing"in n?function(o,u){Dn(!!u.missing),Dn(!!u.readTime);const d=ca(o,u.missing),v=Ms(u.readTime);return Jr.newNoDocument(d,v)}(a,n):mn()}(j.N,St);Ze.set(Qt.key.toString(),Qt)});const wt=[];return A.forEach(St=>{const Qt=Ze.get(St.toString());Dn(!!Qt),wt.push(Qt)}),wt}),function(v,A){return d.apply(this,arguments)})(o.datastore,n);var d;return u.forEach(d=>o.recordVersion(d)),u})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(n.toString())}delete(n){this.write(new Uo(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,_.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var u;n.mutations.forEach(u=>{o.delete(u.key.toString())}),o.forEach((u,d)=>{const v=wn.fromPath(d);n.mutations.push(new gl(v,n.precondition(v)))}),yield(u=(0,_.Z)(function*(d,v){const A=Zt(d),j=Wa(A.N)+"/documents",Q={writes:v.map(le=>vl(A.N,le))};yield A.Li("Commit",j,Q)}),function(d,v){return u.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw mn();o=xn.min()}const u=this.readVersions.get(n.key.toString());if(u){if(!o.isEqual(u))throw new T(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?ws.updateTime(o):ws.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(xn.min()))throw new T(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ws.updateTime(o)}return ws.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class K_{constructor(n,o,u,d){this.asyncQueue=n,this.datastore=o,this.updateFunction=u,this.deferred=d,this.aa=5,this.rr=new Tm(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,_.Z)(function*(){const o=new W_(n.datastore),u=n.ua(o);u&&u.then(d=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(d)}).catch(v=>{n.ha(v)}))}).catch(d=>{n.ha(d)})}))}ua(n){try{const o=this.updateFunction(n);return!Vo(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!uc(o)}return!1}}class Gm{constructor(n,o,u){var d=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=In.UNAUTHENTICATED,this.clientId=sn.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var v=(0,_.Z)(function*(A){Rt("FirestoreClient","Received user=",A.uid),yield d.credentialListener(A),d.user=A});return function(A){return v.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,_.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new I;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(u){const d=Md(u,"Failed to shutdown persistence");o.reject(d)}})),o.promise}}function Kp(a,n){return lf.apply(this,arguments)}function lf(){return(lf=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let u=o.initialUser;a.setCredentialChangeListener(function(){var d=(0,_.Z)(function*(v){u.isEqual(v)||(yield hp(n.localStore,v),u=v)});return function(v){return d.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Yp(a,n){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield Jp(a);Rt("FirestoreClient","Initializing OnlineComponentProvider");const u=yield a.getConfiguration();yield n.initialize(o,u),a.setCredentialChangeListener(d=>{return(v=(0,_.Z)(function*(A,j){const Q=Zt(A);Q.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const le=su(Q);Q.Kr.add(3),yield Cc(Q),le&&Q.Wr.set("Unknown"),yield Q.remoteSyncer.handleCredentialChange(j),Q.Kr.delete(3),yield Ec(Q)}),function(A,j){return v.apply(this,arguments)})(n.remoteStore,d);var v}),a.onlineComponents=n})).apply(this,arguments)}function Jp(a){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,_.Z)(function*(a){return a.offlineComponents||(Rt("FirestoreClient","Using default OfflineComponentProvider"),yield Kp(a,new Ki)),a.offlineComponents})).apply(this,arguments)}function Nc(a){return uf.apply(this,arguments)}function uf(){return(uf=(0,_.Z)(function*(a){return a.onlineComponents||(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield Yp(a,new ka)),a.onlineComponents})).apply(this,arguments)}function Xp(a){return Jp(a).then(n=>n.persistence)}function cf(a){return Jp(a).then(n=>n.localStore)}function eg(a){return Nc(a).then(n=>n.remoteStore)}function tg(a){return Nc(a).then(n=>n.syncEngine)}function Oc(a){return ng.apply(this,arguments)}function ng(){return(ng=(0,_.Z)(function*(a){const n=yield Nc(a),o=n.eventManager;return o.onListen=Pp.bind(null,n.syncEngine),o.onUnlisten=Lp.bind(null,n.syncEngine),o})).apply(this,arguments)}function rg(a,n,o={}){const u=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,v,A,j,Q){const le=new Rc({next:Ze=>{v.enqueueAndForget(()=>Np(d,ve));const wt=Ze.docs.has(A);!wt&&Ze.fromCache?Q.reject(new T(D.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ze.fromCache&&j&&"server"===j.source?Q.reject(new T(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(Ze)},error:Ze=>Q.reject(Ze)}),ve=new Xh(Ga(A.path),le,{includeMetadataChanges:!0,uo:!0});return Rp(d,ve)}(yield Oc(a),a.asyncQueue,n,o,u)})),u.promise}function zm(a,n,o={}){const u=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,v,A,j,Q){const le=new Rc({next:Ze=>{v.enqueueAndForget(()=>Np(d,ve)),Ze.fromCache&&"server"===j.source?Q.reject(new T(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(Ze)},error:Ze=>Q.reject(Ze)}),ve=new Xh(A,le,{includeMetadataChanges:!0,uo:!0});return Rp(d,ve)}(yield Oc(a),a.asyncQueue,n,o,u)})),u.promise}class Wm{constructor(n,o,u,d,v,A,j,Q){this.databaseId=n,this.appId=o,this.persistenceKey=u,this.host=d,this.ssl=v,this.forceLongPolling=A,this.autoDetectLongPolling=j,this.useFetchStreams=Q}}class zu{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof zu&&n.projectId===this.projectId&&n.database===this.database}}const X_=new Map;function pa(a,n,o){if(!o)throw new T(D.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function ev(a,n,o,u){if(!0===n&&!0===u)throw new T(D.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function tv(a){if(!wn.isDocumentKey(a))throw new T(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function nv(a){if(wn.isDocumentKey(a))throw new T(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Ld(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=(o=a).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof a?"a function":mn()}function zr(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new T(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Ld(a);throw new T(D.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function sg(a,n){if(n<=0)throw new T(D.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class Km{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new T(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new T(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,ev("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class df{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,n instanceof zu?this._databaseId=n:(this._app=n,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new T(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zu(u.options.projectId)}(n))}get app(){if(!this._app)throw new T(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new G;switch(o.type){case"gapi":const u=o.client;return Dn(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new Xe(u,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new T(D.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=X_.get(n);o&&(Rt("ComponentProvider","Removing Datastore"),X_.delete(n),o.terminate())}(this),Promise.resolve()}}class Oi{constructor(n,o,u){this.converter=o,this._key=u,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ca(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Oi(this.firestore,n,this._key)}}class Oo{constructor(n,o,u){this.converter=o,this._query=u,this.type="query",this.firestore=n}withConverter(n){return new Oo(this.firestore,n,this._query)}}class Ca extends Oo{constructor(n,o,u){super(n,o,Ga(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Oi(this.firestore,null,new wn(n))}withConverter(n){return new Ca(this.firestore,n,this._path)}}function Qm(a,n,...o){if(a=(0,Le.m9)(a),pa("collection","path",n),a instanceof df){const u=Mr.fromString(n,...o);return nv(u),new Ca(a,null,u)}{if(!(a instanceof Oi||a instanceof Ca))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Mr.fromString(n,...o));return nv(u),new Ca(a.firestore,null,u)}}function hf(a,n,...o){if(a=(0,Le.m9)(a),1===arguments.length&&(n=sn.I()),pa("doc","path",n),a instanceof df){const u=Mr.fromString(n,...o);return tv(u),new Oi(a,null,new wn(u))}{if(!(a instanceof Oi||a instanceof Ca))throw new T(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Mr.fromString(n,...o));return tv(u),new Oi(a.firestore,a instanceof Ca?a.converter:null,new wn(u))}}function Jm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),(a instanceof Oi||a instanceof Ca)&&(n instanceof Oi||n instanceof Ca)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function Xm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),a instanceof Oo&&n instanceof Oo&&a.firestore===n.firestore&&bo(a._query,n._query)&&a.converter===n.converter}class iv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Tm(this,"async_queue_retry"),this.Ea=()=>{const o=vp();o&&Rt("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=vp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=vp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new I;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,_.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!No(o))throw o;Rt("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(u=>{throw this.ma=u,this.ga=!1,or("INTERNAL UNHANDLED ERROR: ",function(d){let v=d.message||"";return d.stack&&(v=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),v}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=o,o}enqueueAfterDelay(n,o,u){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const d=Wh.createAndSchedule(this,n,o,u,v=>this.Ra(v));return this._a.push(d),d}Ta(){this.ma&&mn()}verifyOperationInProgress(){}ba(){var n=this;return(0,_.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,u)=>o.targetTimeMs-u.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function Mc(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(a)}class Pc{constructor(){this._progressObserver={},this._taskCompletionResolver=new I,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,u){this._progressObserver={next:n,error:o,complete:u}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class si extends df{constructor(n,o){super(n,o),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||pf(this),this._firestoreClient.terminate()}}function ao(a){return a._firestoreClient||pf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function pf(a){var n;const o=a._freezeSettings(),u=(v=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new Wm(a._databaseId,v,a._persistenceKey,(j=o).host,j.ssl,j.experimentalForceLongPolling,j.experimentalAutoDetectLongPolling,j.useFetchStreams));var v,j;a._firestoreClient=new Gm(a._credentials,a._queue,u)}function To(a,n,o){const u=new I;return a.asyncQueue.enqueue((0,_.Z)(function*(){try{yield Kp(a,o),yield Yp(a,n),u.resolve()}catch(d){if(!("FirebaseError"===(v=d).name?v.code===D.FAILED_PRECONDITION||v.code===D.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d)}var v})).then(()=>u.promise)}function Ku(a){if(a._initialized||a._terminated)throw new T(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ea{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new T(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new no(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Wo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Wo(Ns.fromBase64String(n))}catch(o){throw new T(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new Wo(Ns.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Ia{constructor(n){this._methodName=n}}class Dl{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new T(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new T(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return Jt(this._lat,n._lat)||Jt(this._long,n._long)}}const ty=/^__.*__$/;class ny{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return null!==this.fieldMask?new Za(n,this.data,this.fieldMask,o,this.fieldTransforms):new Tu(n,this.data,o,this.fieldTransforms)}}class ag{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return new Za(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function lg(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mn()}}class jd{constructor(n,o,u,d,v,A){this.settings=n,this.databaseId=o,this.N=u,this.ignoreUndefinedProperties=d,void 0===v&&this.Sa(),this.fieldTransforms=v||[],this.fieldMask=A||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new jd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.ka(n),d}$a(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.Sa(),d}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return $d(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(lg(this.Da)&&ty.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class ry{constructor(n,o,u){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=u||jh(n)}Ba(n,o,u,d=!1){return new jd({Da:n,methodName:o,La:u,path:no.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function du(a){const n=a._freezeSettings(),o=jh(a._databaseId);return new ry(a._databaseId,!!n.ignoreUndefinedProperties,o)}function Hd(a,n,o,u,d,v={}){const A=a.Ba(v.merge||v.mergeFields?2:0,n,o,d);dg("Data must be an object, but it was:",A,u);const j=uy(u,A);let Q,le;if(v.merge)Q=new il(A.fieldMask),le=A.fieldTransforms;else if(v.mergeFields){const ve=[];for(const Ze of v.mergeFields){const wt=hg(n,Ze,o);if(!A.contains(wt))throw new T(D.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);ov(ve,wt)||ve.push(wt)}Q=new il(ve),le=A.fieldTransforms.filter(Ze=>Q.covers(Ze.field))}else Q=null,le=A.fieldTransforms;return new ny(new ii(j),Q,le)}class Lc extends Ia{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Lc}}function iy(a,n,o){return new jd({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class mf extends Ia{_toFieldTransform(n){return new fl(n.path,new bu)}isEqual(n){return n instanceof mf}}class sv extends Ia{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(v=>hu(v,o)),d=new ba(u);return new fl(n.path,d)}isEqual(n){return this===n}}class sy extends Ia{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(v=>hu(v,o)),d=new Gl(u);return new fl(n.path,d)}isEqual(n){return this===n}}class oy extends Ia{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new Zl(n.N,ah(n.N,this.qa));return new fl(n.path,o)}isEqual(n){return this===n}}function ug(a,n,o,u){const d=a.Ba(1,n,o);dg("Data must be an object, but it was:",d,u);const v=[],A=ii.empty();ls(u,(Q,le)=>{const ve=fg(n,Q,o);le=(0,Le.m9)(le);const Ze=d.$a(ve);if(le instanceof Lc)v.push(ve);else{const wt=hu(le,Ze);null!=wt&&(v.push(ve),A.set(ve,wt))}});const j=new il(v);return new ag(A,j,d.fieldTransforms)}function ay(a,n,o,u,d,v){const A=a.Ba(1,n,o),j=[hg(n,u,o)],Q=[d];if(v.length%2!=0)throw new T(D.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<v.length;wt+=2)j.push(hg(n,v[wt])),Q.push(v[wt+1]);const le=[],ve=ii.empty();for(let wt=j.length-1;wt>=0;--wt)if(!ov(le,j[wt])){const St=j[wt];let Qt=Q[wt];Qt=(0,Le.m9)(Qt);const Bn=A.$a(St);if(Qt instanceof Lc)le.push(St);else{const Dr=hu(Qt,Bn);null!=Dr&&(le.push(St),ve.set(St,Dr))}}const Ze=new il(le);return new ag(ve,Ze,A.fieldTransforms)}function ly(a,n,o,u=!1){return hu(o,a.Ba(u?4:3,n))}function hu(a,n){if(cg(a=(0,Le.m9)(a)))return dg("Unsupported field value:",n,a),uy(a,n);if(a instanceof Ia)return function(o,u){if(!lg(u.Da))throw u.Fa(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,u){const d=[];let v=0;for(const A of o){let j=hu(A,u.Oa(v));null==j&&(j={nullValue:"NULL_VALUE"}),d.push(j),v++}return{arrayValue:{values:d}}}(a,n)}return function(o,u){if(null===(o=(0,Le.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return ah(u.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=Jn.fromDate(o);return{timestampValue:xu(u.N,d)}}if(o instanceof Jn){const d=new Jn(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:xu(u.N,d)}}if(o instanceof Dl)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Wo)return{bytesValue:sd(u.N,o._byteString)};if(o instanceof Oi){const d=u.databaseId,v=o.firestore._databaseId;if(!v.isEqual(d))throw u.Fa(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Yl(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Fa(`Unsupported field value: ${Ld(o)}`)}(a,n)}function uy(a,n){const o={};return po(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):ls(a,(u,d)=>{const v=hu(d,n.Na(u));null!=v&&(o[u]=v)}),{mapValue:{fields:o}}}function cg(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof Jn||a instanceof Dl||a instanceof Wo||a instanceof Oi||a instanceof Ia)}function dg(a,n,o){if(!cg(o)||"object"!=typeof(u=o)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=Ld(o);throw n.Fa("an object"===u?a+" a custom object":a+" "+u)}var u}function hg(a,n,o){if((n=(0,Le.m9)(n))instanceof ea)return n._internalPath;if("string"==typeof n)return fg(a,n);throw $d("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const Zw=new RegExp("[~\\*/\\[\\]]");function fg(a,n,o){if(n.search(Zw)>=0)throw $d(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new ea(...n.split("."))._internalPath}catch(u){throw $d(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function $d(a,n,o,u,d){const v=u&&!u.isEmpty(),A=void 0!==d;let j=`Function ${n}() called with invalid data`;o&&(j+=" (via `toFirestore()`)"),j+=". ";let Q="";return(v||A)&&(Q+=" (found",v&&(Q+=` in field ${u}`),A&&(Q+=` in document ${d}`),Q+=")"),new T(D.INVALID_ARGUMENT,j+a+Q)}function ov(a,n){return a.some(o=>o.isEqual(n))}class yf{constructor(n,o,u,d,v){this._firestore=n,this._userDataWriter=o,this._key=u,this._document=d,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(_f("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class zw extends yf{data(){return super.data()}}function _f(a,n){return"string"==typeof n?fg(a,n):n instanceof ea?n._internalPath:n._delegate._internalPath}class Vc{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Al extends yf{constructor(n,o,u,d,v,A){super(n,o,u,d,A),this._firestore=n,this._firestoreImpl=n,this.metadata=v}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new qd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const u=this._document.data.field(_f("DocumentSnapshot.get",n));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}}}class qd extends Al{data(n={}){return super.data(n)}}class Ja{constructor(n,o,u,d){this._firestore=n,this._userDataWriter=o,this._snapshot=d,this.metadata=new Vc(d.hasPendingWrites,d.fromCache),this.query=u}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(u=>{n.call(o,new qd(this._firestore,this._userDataWriter,u.key,u,new Vc(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new T(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new qd(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Vc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const j=new qd(u._firestore,u._userDataWriter,A.doc.key,A.doc,new Vc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let Q=-1,le=-1;return 0!==A.type&&(Q=v.indexOf(A.doc.key),v=v.delete(A.doc.key)),1!==A.type&&(v=v.add(A.doc),le=v.indexOf(A.doc.key)),{type:pg(A.type),doc:j,oldIndex:Q,newIndex:le}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function pg(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mn()}}function cy(a,n){return a instanceof Al&&n instanceof Al?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof Ja&&n instanceof Ja&&a._firestore===n._firestore&&Xm(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function av(a){if(aa(a)&&0===a.explicitOrderBy.length)throw new T(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vf{}function Yu(a,...n){for(const o of n)a=o._apply(a);return a}class lv extends vf{constructor(n,o,u){super(),this.Ka=n,this.ja=o,this.Qa=u,this.type="where"}_apply(n){const o=du(n.firestore),u=function(d,v,A,j,Q,le,ve){let Ze;if(Q.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new T(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on FieldPath.documentId().`);if("in"===le||"not-in"===le){vy(ve,le);const St=[];for(const Qt of ve)St.push(_y(j,d,Qt));Ze={arrayValue:{values:St}}}else Ze=_y(j,d,ve)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||vy(ve,le),Ze=ly(A,"where",ve,"in"===le||"not-in"===le);const wt=io.create(Q,le,Ze);return function(St,Qt){if(Qt.v()){const Dr=oc(St);if(null!==Dr&&!Dr.isEqual(Qt.field))throw new T(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Dr.toString()}' and '${Qt.field.toString()}'`);const ds=cl(St);null!==ds&&wy(0,Qt.field,ds)}const Bn=function(Dr,ds){for(const Yo of Dr.filters)if(ds.indexOf(Yo.op)>=0)return Yo.op;return null}(St,function(Dr){switch(Dr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Qt.op));if(null!==Bn)throw new T(D.INVALID_ARGUMENT,Bn===Qt.op?`Invalid query. You cannot use more than one '${Qt.op.toString()}' filter.`:`Invalid query. You cannot use '${Qt.op.toString()}' filters with '${Bn.toString()}' filters.`)}(d,wt),wt}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Oo(n.firestore,n.converter,function(d,v){const A=d.filters.concat([v]);return new oa(d.path,d.collectionGroup,d.explicitOrderBy.slice(),A,d.limit,d.limitType,d.startAt,d.endAt)}(n._query,u))}}class Ww extends vf{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(u,d,v){if(null!==u.startAt)throw new T(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new T(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const A=new ul(d,v);return function(j,Q){if(null===cl(j)){const le=oc(j);null!==le&&wy(0,le,Q.field)}}(u,A),A}(n._query,this.Ka,this.Wa);return new Oo(n.firestore,n.converter,function(u,d){const v=u.explicitOrderBy.concat([d]);return new oa(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))}}class Qu extends vf{constructor(n,o,u){super(),this.type=n,this.Ga=o,this.za=u}_apply(n){return new Oo(n.firestore,n.converter,hl(n._query,this.Ga,this.za))}}class fy extends vf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new Oo(n.firestore,n.converter,(d=o,new oa((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}class gy extends vf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new Oo(n.firestore,n.converter,(d=o,new oa((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function yy(a,n,o,u){if(o[0]=(0,Le.m9)(o[0]),o[0]instanceof yf)return function(d,v,A,j,Q){if(!j)throw new T(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const le=[];for(const ve of dl(d))if(ve.field.isKeyField())le.push(sa(v,j.key));else{const Ze=j.data.field(ve.field);if(ih(Ze))throw new T(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ze){const wt=ve.field.canonicalString();throw new T(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}le.push(Ze)}return new ll(le,Q)}(a._query,a.firestore._databaseId,n,o[0]._document,u);{const d=du(a.firestore);return function(v,A,j,Q,le,ve){const Ze=v.explicitOrderBy;if(le.length>Ze.length)throw new T(D.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let St=0;St<le.length;St++){const Qt=le[St];if(Ze[St].field.isKeyField()){if("string"!=typeof Qt)throw new T(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof Qt}`);if(!jl(v)&&-1!==Qt.indexOf("/"))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${Q}() must be a plain document ID, but '${Qt}' contains a slash.`);const Bn=v.path.child(Mr.fromString(Qt));if(!wn.isDocumentKey(Bn))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${Q}() must result in a valid document path, but '${Bn}' is not because it contains an odd number of segments.`);const Dr=new wn(Bn);wt.push(sa(A,Dr))}else{const Bn=ly(j,Q,Qt);wt.push(Bn)}}return new ll(wt,ve)}(a._query,a.firestore._databaseId,d,n,o,u)}}function _y(a,n,o){if("string"==typeof(o=(0,Le.m9)(o))){if(""===o)throw new T(D.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jl(n)&&-1!==o.indexOf("/"))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const u=n.path.child(Mr.fromString(o));if(!wn.isDocumentKey(u))throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return sa(a,new wn(u))}if(o instanceof Oi)return sa(a,o._key);throw new T(D.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(o)}.`)}function vy(a,n){if(!Array.isArray(a)||0===a.length)throw new T(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(a.length>10)throw new T(D.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function wy(a,n,o){if(!o.isEqual(n))throw new T(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class bf{convertValue(n,o="none"){switch(mo(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Os(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(sl(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw mn()}}convertObject(n,o){const u={};return ls(n.fields,(d,v)=>{u[d]=this.convertValue(v,o)}),u}convertGeoPoint(n){return new Dl(Os(n.latitude),Os(n.longitude))}convertArray(n,o){return(n.values||[]).map(u=>this.convertValue(u,o))}convertServerTimestamp(n,o){switch(o){case"previous":const u=Zc(n);return null==u?null:this.convertValue(u,o);case"estimate":return this.convertTimestamp(ol(n));default:return null}}convertTimestamp(n){const o=xa(n);return new Jn(o.seconds,o.nanos)}convertDocumentKey(n,o){const u=Mr.fromString(n);Dn(Eh(u));const d=new zu(u.get(1),u.get(3)),v=new wn(u.popFirst(5));return d.isEqual(o)||or(`Document ${v} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),v}}function Ef(a,n,o){let u;return u=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,u}class by extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wo(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Oi(this.firestore,null,o)}}class gg{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=du(n)}set(n,o,u){this._verifyNotCommitted();const d=Xa(n,this._firestore),v=Ef(d.converter,o,u),A=Hd(this._dataReader,"WriteBatch.set",d._key,v,null!==d.converter,u);return this._mutations.push(A.toMutation(d._key,ws.none())),this}update(n,o,u,...d){this._verifyNotCommitted();const v=Xa(n,this._firestore);let A;return A="string"==typeof(o=(0,Le.m9)(o))||o instanceof ea?ay(this._dataReader,"WriteBatch.update",v._key,o,u,d):ug(this._dataReader,"WriteBatch.update",v._key,o),this._mutations.push(A.toMutation(v._key,ws.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=Xa(n,this._firestore);return this._mutations=this._mutations.concat(new Uo(o._key,ws.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new T(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Xa(a,n){if((a=(0,Le.m9)(a)).firestore!==n)throw new T(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Sl extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wo(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Oi(this.firestore,null,o)}}function Cf(a,n,o){a=zr(a,Oi);const u=zr(a.firestore,si),d=Ef(a.converter,n,o);return Uc(u,[Hd(du(u),"setDoc",a._key,d,null!==a.converter,o).toMutation(a._key,ws.none())])}function Ey(a,n,o,...u){a=zr(a,Oi);const d=zr(a.firestore,si),v=du(d);let A;return A="string"==typeof(n=(0,Le.m9)(n))||n instanceof ea?ay(v,"updateDoc",a._key,n,o,u):ug(v,"updateDoc",a._key,n),Uc(d,[A.toMutation(a._key,ws.exists(!0))])}function vg(a,...n){var o,u,d;a=(0,Le.m9)(a);let v={includeMetadataChanges:!1},A=0;"object"!=typeof n[A]||Mc(n[A])||(v=n[A],A++);const j={includeMetadataChanges:v.includeMetadataChanges};if(Mc(n[A])){const Ze=n[A];n[A]=null===(o=Ze.next)||void 0===o?void 0:o.bind(Ze),n[A+1]=null===(u=Ze.error)||void 0===u?void 0:u.bind(Ze),n[A+2]=null===(d=Ze.complete)||void 0===d?void 0:d.bind(Ze)}let Q,le,ve;if(a instanceof Oi)le=zr(a.firestore,si),ve=Ga(a._key.path),Q={next:Ze=>{n[A]&&n[A](Zd(le,a,Ze))},error:n[A+1],complete:n[A+2]};else{const Ze=zr(a,Oo);le=zr(Ze.firestore,si),ve=Ze._query;const wt=new Sl(le);Q={next:St=>{n[A]&&n[A](new Ja(le,wt,Ze,St))},error:n[A+1],complete:n[A+2]},av(a._query)}return function(Ze,wt,St,Qt){const Bn=new Rc(Qt),Dr=new Xh(wt,Bn,St);return Ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Rp(yield Oc(Ze),Dr)})),()=>{Bn.Xo(),Ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Np(yield Oc(Ze),Dr)}))}}(ao(le),ve,j,Q)}function Uc(a,n){return function(o,u){const d=new I;return o.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n,o){return Pd.apply(this,arguments)}(yield tg(o),u,d)})),d.promise}(ao(a),n)}function Zd(a,n,o){const u=o.docs.get(n._key),d=new Sl(a);return new Al(a,d,n._key,u,new Vc(o.hasPendingWrites,o.fromCache),n.converter)}class wg extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=du(n)}get(n){const o=Xa(n,this._firestore),u=new by(this._firestore);return this._transaction.lookup([o._key]).then(d=>{if(!d||1!==d.length)return mn();const v=d[0];if(v.isFoundDocument())return new yf(this._firestore,u,v.key,v,o.converter);if(v.isNoDocument())return new yf(this._firestore,u,o._key,null,o.converter);throw mn()})}set(n,o,u){const d=Xa(n,this._firestore),v=Ef(d.converter,o,u),A=Hd(this._dataReader,"Transaction.set",d._key,v,null!==d.converter,u);return this._transaction.set(d._key,A),this}update(n,o,u,...d){const v=Xa(n,this._firestore);let A;return A="string"==typeof(o=(0,Le.m9)(o))||o instanceof ea?ay(this._dataReader,"Transaction.update",v._key,o,u,d):ug(this._dataReader,"Transaction.update",v._key,o),this._transaction.update(v._key,A),this}delete(n){const o=Xa(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=Xa(n,this._firestore),u=new Sl(this._firestore);return super.get(n).then(d=>new Al(this._firestore,u,o._key,d._document,new Vc(!1,!1),o.converter))}}function zd(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new T("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function Tg(){if("undefined"==typeof Uint8Array)throw new T("unimplemented","Uint8Arrays are not available in this environment.")}function Ay(){if("undefined"==typeof atob)throw new T("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){fr=a})($t.SDK_VERSION),(0,$t._registerComponent)(new nn.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),u=new si(o,new be(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),u._setSettings(n),u},"PUBLIC")),(0,$t.registerVersion)("@firebase/firestore","3.1.0",void 0);class Wd{constructor(n){this._delegate=n}static fromBase64String(n){return Ay(),new Wd(Wo.fromBase64String(n))}static fromUint8Array(n){return Tg(),new Wd(Wo.fromUint8Array(n))}toBase64(){return Ay(),this._delegate.toBase64()}toUint8Array(){return Tg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ig(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(a)}class Dg{enableIndexedDbPersistence(n,o){return function(a,n){Ku(a=zr(a,si));const o=ao(a),u=a._freezeSettings(),d=new ka;return To(o,d,new of(d,u.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){Ku(a=zr(a,si));const n=ao(a),o=a._freezeSettings(),u=new ka;return To(n,u,new Bw(u,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new T(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new I;return a._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(o=(0,_.Z)(function*(u){if(!Go.bt())return Promise.resolve();const d=u+"main";yield Go.delete(d)}),function(u){return o.apply(this,arguments)})(Ph(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class Ag{constructor(n,o,u){this._delegate=o,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},n instanceof zu||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&li("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,u={}){!function(a,n,o,u={}){var d;const v=(a=zr(a,df))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==n&&li("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},v),{host:`${n}:${o}`,ssl:!1})),u.mockUserToken){let A,j;if("string"==typeof u.mockUserToken)A=u.mockUserToken,j=In.MOCK_USER;else{A=(0,Le.Sg)(u.mockUserToken,null===(d=a._app)||void 0===d?void 0:d.options.projectId);const Q=u.mockUserToken.sub||u.mockUserToken.user_id;if(!Q)throw new T(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");j=new In(Q)}a._credentials=new ne(new F(A,j))}}(this._delegate,n,o,u)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield Xp(a),o=yield eg(a);return n.setNetworkEnabled(!0),function(u){const d=Zt(u);return d.Kr.delete(0),Ec(d)}(o)}))}(ao(a=zr(a,si)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield Xp(a),o=yield eg(a);return n.setNetworkEnabled(!1),(u=(0,_.Z)(function*(d){const v=Zt(d);v.Kr.add(0),yield Cc(v),v.Wr.set("Offline")}),function(d){return u.apply(this,arguments)})(o);var u}))}(ao(a=zr(a,si)))}(this._delegate)}enablePersistence(n){let o=!1,u=!1;return n&&(o=!!n.synchronizeTabs,u=!!n.experimentalForceOwningTab,ev("synchronizeTabs",o,"experimentalForceOwningTab",u)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new I;return n.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n){return nf.apply(this,arguments)}(yield tg(n),o)})),o.promise}(ao(a=zr(a,si)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new Rc(n);return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Oc(a),d=o,Zt(u).Zr.add(d),void d.next();var u,d})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Oc(a),d=o,void Zt(u).Zr.delete(d);var u,d}))}}(ao(a=zr(a,si)),Mc(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new T("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new jc(this,Qm(this._delegate,n))}catch(o){throw Mo(o,"collection()","Firestore.collection()")}}doc(n){try{return new ga(this,hf(this._delegate,n))}catch(o){throw Mo(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Ko(this,function(a,n){if(a=zr(a,df),pa("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new T(D.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Oo(a,null,(o=n,new oa(Mr.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw Mo(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const u=yield(d=a,Nc(d).then(v=>v.datastore));var d;new K_(a.asyncQueue,u,n,o).run()})),o.promise}(ao(a),o=>n(new wg(a,o)))}(this._delegate,o=>n(new Sg(this,o)))}batch(){return ao(this._delegate),new xg(new gg(this._delegate,n=>Uc(this._delegate,n)))}loadBundle(n){return function(a,n){const o=ao(a=zr(a,si)),u=new Pc;return function(a,n,o,u){const d=function(v,A){let j;return j="string"==typeof v?(new TextEncoder).encode(v):v,Q=function(Q,le){if(Q instanceof Uint8Array)return af(Q,void 0);if(Q instanceof ArrayBuffer)return af(new Uint8Array(Q),void 0);if(Q instanceof ReadableStream)return Q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(j),new jw(Q,A);var Q}(o,jh(n));a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function(a,n,o){const u=Zt(a);var d;(d=(0,_.Z)(function*(v,A,j){try{const Q=yield A.getMetadata();if(yield function(wt,St){const Qt=Zt(wt),Bn=Ms(St.createTime);return Qt.persistence.runTransaction("hasNewerBundle","readonly",Dr=>Qt.Je.getBundleMetadata(Dr,St.id)).then(Dr=>!!Dr&&Dr.createTime.compareTo(Bn)>=0)}(v.localStore,Q))return yield A.close(),void j._completeWith((wt=Q,{taskState:"Success",documentsLoaded:wt.totalDocuments,bytesLoaded:wt.totalBytes,totalDocuments:wt.totalDocuments,totalBytes:wt.totalBytes}));j._updateProgress(Om(Q));const le=new Op(Q,v.localStore,A.N);let ve=yield A.Qo();for(;ve;){const wt=yield le.fo(ve);wt&&j._updateProgress(wt),ve=yield A.Qo()}const Ze=yield le.complete();yield fa(v,Ze.Tn,void 0),yield function(wt,St){const Qt=Zt(wt);return Qt.persistence.runTransaction("Save bundle","readwrite",Bn=>Qt.Je.saveBundleMetadata(Bn,St))}(v.localStore,Q),j._completeWith(Ze.progress)}catch(Q){li("SyncEngine",`Loading bundle failed with ${Q}`),j._failWith(Q)}var wt}),function(v,A,j){return d.apply(this,arguments)})(u,n,o).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield tg(a),d,u)}))}(o,a._databaseId,n,u),u}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,_.Z)(function*(){return function(o,u){const d=Zt(o);return d.persistence.runTransaction("Get named query","readonly",v=>d.Je.getNamedQuery(v,u))}(yield cf(a),n)}))}(ao(a=zr(a,si)),n).then(o=>o?new Oo(a,null,o.query):null)}(this._delegate,n).then(o=>o?new Ko(this,o):null)}}class Kd extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new Wd(new Wo(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return ga.forKey(o,this.firestore,null)}}class Sg{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Kd(n)}get(n){const o=Ju(n);return this._delegate.get(o).then(u=>new Yd(this._firestore,new Al(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,o.converter)))}set(n,o,u){const d=Ju(n);return u?(zd("Transaction.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const v=Ju(n);return 2===arguments.length?this._delegate.update(v,o):this._delegate.update(v,o,u,...d),this}delete(n){const o=Ju(n);return this._delegate.delete(o),this}}class xg{constructor(n){this._delegate=n}set(n,o,u){const d=Ju(n);return u?(zd("WriteBatch.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const v=Ju(n);return 2===arguments.length?this._delegate.update(v,o):this._delegate.update(v,o,u,...d),this}delete(n){const o=Ju(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class fu{constructor(n,o,u){this._firestore=n,this._userDataWriter=o,this._delegate=u}fromFirestore(n,o){const u=new qd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Bc(this._firestore,u),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const u=fu.INSTANCES;let d=u.get(n);d||(d=new WeakMap,u.set(n,d));let v=d.get(o);return v||(v=new fu(n,new Kd(n),o),d.set(o,v)),v}}fu.INSTANCES=new WeakMap;class ga{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Kd(n)}static forPath(n,o,u){if(n.length%2!=0)throw new T("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new ga(o,new Oi(o._delegate,u,new wn(n)))}static forKey(n,o,u){return new ga(o,new Oi(o._delegate,u,n))}get id(){return this._delegate.id}get parent(){return new jc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new jc(this.firestore,Qm(this._delegate,n))}catch(o){throw Mo(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Le.m9)(n))instanceof Oi&&Jm(this._delegate,n)}set(n,o){o=zd("DocumentReference.set",o);try{return o?Cf(this._delegate,n,o):Cf(this._delegate,n)}catch(u){throw Mo(u,"setDoc()","DocumentReference.set()")}}update(n,o,...u){try{return 1===arguments.length?Ey(this._delegate,n):Ey(this._delegate,n,o,...u)}catch(d){throw Mo(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return Uc(zr(a.firestore,si),[new Uo(a._key,ws.none())])}(this._delegate)}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new Yd(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return vg(this._delegate,o,u)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=zr(a,Oi);const n=zr(a.firestore,si),o=ao(n),u=new Sl(n);return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,v,A){try{const j=yield function(Q,le){const ve=Zt(Q);return ve.persistence.runTransaction("read document","readonly",Ze=>ve.Qn.An(Ze,le))}(d,v);j.isFoundDocument()?A.resolve(j):j.isNoDocument()?A.resolve(null):A.reject(new T(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(j){const Q=Md(j,`Failed to get document '${v} from cache`);A.reject(Q)}}),function(d,v,A){return u.apply(this,arguments)})(yield cf(a),n,o);var u})),o.promise}(o,a._key).then(d=>new Al(n,u,a._key,d,new Vc(null!==d&&d.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=zr(a,Oi);const n=zr(a.firestore,si);return rg(ao(n),a._key,{source:"server"}).then(o=>Zd(n,a,o))}(this._delegate):function(a){a=zr(a,Oi);const n=zr(a.firestore,si);return rg(ao(n),a._key).then(o=>Zd(n,a,o))}(this._delegate),o.then(u=>new Yd(this.firestore,new Al(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(n){return new ga(this.firestore,this._delegate.withConverter(n?fu.getInstance(this.firestore,n):null))}}function Mo(a,n,o){return a.message=a.message.replace(n,o),a}function yv(a){for(const n of a)if("object"==typeof n&&!Ig(n))return n;return{}}function Ry(a,n){var o,u;let d;return d=Ig(a[0])?a[0]:Ig(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:v=>{d.next&&d.next(n(v))},error:null===(o=d.error)||void 0===o?void 0:o.bind(d),complete:null===(u=d.complete)||void 0===u?void 0:u.bind(d)}}class Yd{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new ga(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return cy(this._delegate,n._delegate)}}class Bc extends Yd{data(n){const o=this._delegate.data(n);return function(a,n){a||mn()}(void 0!==o),o}}class Ko{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Kd(n)}where(n,o,u){try{return new Ko(this.firestore,Yu(this._delegate,function(a,n,o){const u=n,d=_f("where",a);return new lv(d,u,o)}(n,o,u)))}catch(d){throw Mo(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new Ko(this.firestore,Yu(this._delegate,function(a,n="asc"){const o=n,u=_f("orderBy",a);return new Ww(u,o)}(n,o)))}catch(u){throw Mo(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Ko(this.firestore,Yu(this._delegate,function(a){return sg("limit",a),new Qu("limit",a,"F")}(n)))}catch(o){throw Mo(o,"limit()","Query.limit()")}}limitToLast(n){try{return new Ko(this.firestore,Yu(this._delegate,function(a){return sg("limitToLast",a),new Qu("limitToLast",a,"L")}(n)))}catch(o){throw Mo(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Ko(this.firestore,Yu(this._delegate,function(...a){return new fy("startAt",a,!0)}(...n)))}catch(o){throw Mo(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Ko(this.firestore,Yu(this._delegate,function(...a){return new fy("startAfter",a,!1)}(...n)))}catch(o){throw Mo(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Ko(this.firestore,Yu(this._delegate,function(...a){return new gy("endBefore",a,!0)}(...n)))}catch(o){throw Mo(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Ko(this.firestore,Yu(this._delegate,function(...a){return new gy("endAt",a,!1)}(...n)))}catch(o){throw Mo(o,"endAt()","Query.endAt()")}}isEqual(n){return Xm(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=zr(a,Oo);const n=zr(a.firestore,si),o=ao(n),u=new Sl(n);return function(a,n){const o=new I;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,v,A){try{const j=yield vd(d,v,!0),Q=new Mp(v,j.Gn),le=Q.Io(j.documents),ve=Q.applyChanges(le,!1);A.resolve(ve.snapshot)}catch(j){const Q=Md(j,`Failed to execute query '${v} against cache`);A.reject(Q)}}),function(d,v,A){return u.apply(this,arguments)})(yield cf(a),n,o);var u})),o.promise}(o,a._query).then(d=>new Ja(n,u,a,d))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=zr(a,Oo);const n=zr(a.firestore,si),o=ao(n),u=new Sl(n);return zm(o,a._query,{source:"server"}).then(d=>new Ja(n,u,a,d))}(this._delegate):function(a){a=zr(a,Oo);const n=zr(a.firestore,si),o=ao(n),u=new Sl(n);return av(a._query),zm(o,a._query).then(d=>new Ja(n,u,a,d))}(this._delegate),o.then(u=>new Tf(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new Tf(this.firestore,new Ja(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return vg(this._delegate,o,u)}withConverter(n){return new Ko(this.firestore,this._delegate.withConverter(n?fu.getInstance(this.firestore,n):null))}}class lo{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new Bc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tf{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new Ko(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Bc(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new lo(this._firestore,o))}forEach(n,o){this._delegate.forEach(u=>{n.call(o,new Bc(this._firestore,u))})}isEqual(n){return cy(this._delegate,n._delegate)}}class jc extends Ko{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new ga(this.firestore,n):null}doc(n){try{return new ga(this.firestore,void 0===n?hf(this._delegate):hf(this._delegate,n))}catch(o){throw Mo(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=zr(a.firestore,si),u=hf(a),d=Ef(a.converter,n);return Uc(o,[Hd(du(a.firestore),"addDoc",u._key,d,null!==a.converter,{}).toMutation(u._key,ws.exists(!1))]).then(()=>u)}(this._delegate,n).then(o=>new ga(this.firestore,o))}isEqual(n){return Jm(this._delegate,n._delegate)}withConverter(n){return new jc(this.firestore,this._delegate.withConverter(n?fu.getInstance(this.firestore,n):null))}}function Ju(a){return zr(a,Oi)}class If{constructor(...n){this._delegate=new ea(...n)}static documentId(){return new If(no.keyField().canonicalString())}isEqual(n){return(n=(0,Le.m9)(n))instanceof ea&&this._delegate._internalPath.isEqual(n._internalPath)}}class Xu{constructor(n){this._delegate=n}static serverTimestamp(){const n=new mf("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new Xu(n)}static delete(){const n=new Lc("deleteField");return n._methodName="FieldValue.delete",new Xu(n)}static arrayUnion(...n){const o=function(...a){return new sv("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new Xu(o)}static arrayRemove(...n){const o=function(...a){return new sy("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new Xu(o)}static increment(n){const o=function(a){return new oy("increment",a)}(n);return o._methodName="FieldValue.increment",new Xu(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const Ny={Firestore:Ag,GeoPoint:Dl,Timestamp:Jn,Blob:Wd,Transaction:Sg,WriteBatch:xg,DocumentReference:ga,DocumentSnapshot:Yd,Query:Ko,QueryDocumentSnapshot:Bc,QuerySnapshot:Tf,CollectionReference:jc,FieldPath:If,FieldValue:Xu,setLogLevel:function(a){!function(a){Sn.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new nn.wA("firestore-compat",o=>((n,o)=>new Ag(n,o,new Dg))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Ny)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.3")}(xt.Z);var xl=q(7057);function Py(a,n){return function(a,n=Ve.z){return new Ne.y(o=>{let u;return null!=n?n.schedule(()=>{u=a.onSnapshot({includeMetadataChanges:!0},o)}):u=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=u&&u()}})}(a,n)}function Fy(a,n){return Py(a,n).pipe((0,Fe.U)(o=>({payload:o,type:"query"})))}function $c(a,n){return Fy(a,n).pipe((0,me.O)(void 0),ce(),(0,Fe.U)(([o,u])=>{const d=u.payload.docChanges(),v=d.map(A=>({type:A.type,payload:A}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((A,j)=>{const Q=d.find(ve=>ve.doc.ref.isEqual(A.ref)),le=null==o?void 0:o.payload.docs.find(ve=>ve.ref.isEqual(A.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(A.metadata)||!Q&&le&&JSON.stringify(le.metadata)===JSON.stringify(A.metadata)||v.push({type:"modified",payload:{oldIndex:j,newIndex:j,type:"modified",doc:A}})}),v}))}function Df(a,n,o){return $c(a,o).pipe((0,Ke.R)((u,d)=>function(a,n,o){return n.forEach(u=>{o.indexOf(u.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return Rg(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return Rg(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Rg(a,n.oldIndex,1)}return a}(a,u))}),a}(u,d.map(v=>v.payload),n),[]),o=>o.lift(new gt(void 0,void 0)),(0,Fe.U)(u=>u.map(d=>({type:d.type,payload:d}))))}function Rg(a,n,o,...u){const d=a.slice();return d.splice(n,o,...u),d}function Fa(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}q(7841);class Da{constructor(n,o,u){this.ref=n,this.query=o,this.afs=u}stateChanges(n){let o=$c(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,Fe.U)(u=>u.filter(d=>n.indexOf(d.type)>-1)))),o.pipe((0,me.O)(void 0),ce(),(0,ht.h)(([u,d])=>d.length>0||!u),(0,Fe.U)(([u,d])=>d),he.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ke.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Fa(n);return Df(this.query,o,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(o=>o.payload.docs.map(u=>n.idField?Object.assign(Object.assign({},u.data()),{[n.idField]:u.id}):u.data())),he.iC)}get(n){return(0,ye.D)(this.query.get(n)).pipe(he.iC)}add(n){return this.ref.add(n)}doc(n){return new Aa(this.ref.doc(n),this.afs)}}class Aa{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const u=this.ref.collection(n),{ref:d,query:v}=By(u,o);return new Da(d,v,this.afs)}snapshotChanges(){return function(a,n){return Py(a,n).pipe((0,me.O)(void 0),ce(),(0,Fe.U)(([o,u])=>u.exists?(null==o?void 0:o.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Fe.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,ye.D)(this.ref.get(n)).pipe(he.iC)}}class Vy{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?$c(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(o=>o.filter(u=>n.indexOf(u.type)>-1)),(0,ht.h)(o=>o.length>0),he.iC):$c(this.query,this.afs.schedulers.outsideAngular).pipe(he.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ke.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Fa(n);return Df(this.query,o,this.afs.schedulers.outsideAngular).pipe(he.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(u=>u.payload.docs.map(d=>n.idField?Object.assign({[n.idField]:d.id},d.data()):d.data())),he.iC)}get(n){return(0,ye.D)(this.query.get(n)).pipe(he.iC)}}const Uy=new ee.OlP("angularfire2.enableFirestorePersistence"),_v=new ee.OlP("angularfire2.firestore.persistenceSettings"),vv=new ee.OlP("angularfire2.firestore.settings"),wv=new ee.OlP("angularfire2.firestore.use-emulator");function By(a,n=(o=>o)){return{query:n(a),ref:a}}let Ng=(()=>{class a{constructor(o,u,d,v,A,j,Q,le,ve,Ze,wt,St,Qt,Bn,Dr,ds){this.schedulers=Q;const Yo=(0,_t.on)(o,j,u),Rl=ve;Ze&&(0,xl.nw)(Yo,j,wt,Qt,Bn,Dr,St,ds),[this.firestore,this.persistenceEnabled$]=(0,he.cc)(`${Yo.name}.firestore`,"AngularFirestore",Yo.name,()=>{const La=j.runOutsideAngular(()=>Yo.firestore());if(v&&La.settings(v),Rl&&La.useEmulator(...Rl),d&&!(0,ct.PM)(A)){const Qd=()=>{try{return(0,ye.D)(La.enablePersistence(le||void 0).then(()=>!0,()=>!1))}catch(Sf){return"undefined"!=typeof console&&console.warn(Sf),(0,$e.of)(!1)}};return[La,j.runOutsideAngular(Qd)]}return[La,(0,$e.of)(!1)]},[v,Rl,d])}collection(o,u){let d;d="string"==typeof o?this.firestore.collection(o):o;const{ref:v,query:A}=By(d,u),j=this.schedulers.ngZone.run(()=>v);return new Da(j,A,this)}collectionGroup(o,u){const d=u||(A=>A),v=this.firestore.collectionGroup(o);return new Vy(d(v),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const d=this.schedulers.ngZone.run(()=>u);return new Aa(d,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(ee.LFG(_t.Dh),ee.LFG(_t.xv,8),ee.LFG(Uy,8),ee.LFG(vv,8),ee.LFG(ee.Lbi),ee.LFG(ee.R0b),ee.LFG(he.HU),ee.LFG(_v,8),ee.LFG(wv,8),ee.LFG(xl.zQ,8),ee.LFG(xl.Qv,8),ee.LFG(xl.L6,8),ee.LFG(xl._Q,8),ee.LFG(xl.rT,8),ee.LFG(xl.lh,8),ee.LFG(xl.f7,8))},a.\u0275prov=ee.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),bv=(()=>{class a{constructor(o,u){var d=this;this.af=o,this.auth=u,this.auth.authState.subscribe(function(){var v=(0,_.Z)(function*(A){(null==A?void 0:A.uid)&&(yield d.getUser(null==A?void 0:A.email))});return function(A){return v.apply(this,arguments)}}()),this.pacienteCollectionReference=this.af.collection("pacientes"),this.pacientesObs=this.pacienteCollectionReference.valueChanges({idField:"id"}),this.especialistaCollectionReference=this.af.collection("especialistas"),this.especialistasObs=this.especialistaCollectionReference.valueChanges({idField:"id"}),this.adminCollectionReference=this.af.collection("administradores"),this.adminObs=this.adminCollectionReference.valueChanges({idField:"id"}),this.especialidadesCollectionReference=this.af.collection("especialidades"),this.especialidadesObs=this.especialidadesCollectionReference.valueChanges({idField:"id"}),this.turnosCollectionReference=this.af.collection("turnos"),this.turnosObs=this.turnosCollectionReference.valueChanges({idField:"id"})}getPacientes(){return this.pacientesObs}getEspecialistas(){return this.especialistasObs}getAdmins(){return this.adminObs}addPaciente(o){this.pacienteCollectionReference.add(Object.assign({},o))}addEspecialidad(o){this.especialidadesCollectionReference.add({especialidad:o})}updateEspecialista(o,u){this.af.collection("especialistas").doc(u).update({horarios:o})}addTurnoPaciente(o,u){this.af.collection("pacientes").doc(u).update({turno:o})}addTurnoEspecialista(o){this.af.collection("especialistas").doc(o.id).update(o)}addAdmin(o){this.adminCollectionReference.add(Object.assign({},o))}addTurno(o){this.turnosCollectionReference.add(o)}addEspecialista(o){this.especialistaCollectionReference.add(Object.assign({},o))}modificarEstadoTurno(o){this.turnosCollectionReference.doc(o.id).update({estado:o.estado})}getUser(o){var u=this;return(0,_.Z)(function*(){let d=yield u.af.collection("administradores",v=>v.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,g.q)(1)).toPromise();return 0===d.length&&(d=yield u.af.collection("pacientes",v=>v.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,g.q)(1)).toPromise()),0===d.length&&(d=yield u.af.collection("especialistas",v=>v.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,g.q)(1)).toPromise()),u.usuarioActual=d[0],d[0]})()}getPaciente(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("pacientes",v=>v.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,g.q)(1)).toPromise())[0]})()}getEspecialista(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("especialistas",v=>v.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,g.q)(1)).toPromise())[0]})()}}return a.\u0275fac=function(o){return new(o||a)(ee.LFG(Ng),ee.LFG(xl.zQ))},a.\u0275prov=ee.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5803:(Gt,tt,q)=>{"use strict";var _=q(9075),g=q(7716);const ee_firebaseConfig={apiKey:"AIzaSyB71LrO5NbBWRHi_rsIxIYvnaO_eQgUrjI",authDomain:"clinicaonline-ee233.firebaseapp.com",projectId:"clinicaonline-ee233",storageBucket:"clinicaonline-ee233.appspot.com",messagingSenderId:"420028550231",appId:"1:420028550231:web:c4ec3baf3185efe7126712"};var Ve=q(5160),Ne=q(611);let ye=(()=>{class L{constructor(w,N){this.firestore=w,this.router=N}canActivate(w,N){var W;return"admin"===(null===(W=this.firestore.usuarioActual)||void 0===W?void 0:W.perfil)||(this.router.navigate(["/sin-permisos"]),!1)}}return L.\u0275fac=function(w){return new(w||L)(g.LFG(Ve.C),g.LFG(Ne.F0))},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac,providedIn:"root"}),L})();var $e=q(8583),he=q(164);function me(L,b){if(1&L){const w=g.EpF();g.TgZ(0,"div",2),g.TgZ(1,"button",3),g.NdJ("click",function(){return g.CHM(w),g.oxw().tipo="paciente"}),g._uU(2," Paciente "),g.qZA(),g.TgZ(3,"button",3),g.NdJ("click",function(){return g.CHM(w),g.oxw().tipo="especialista"}),g._uU(4," Especialista "),g.qZA(),g.qZA()}}function te(L,b){if(1&L&&g._UZ(0,"app-registro",4),2&L){const w=g.oxw();g.Q6J("tipo",w.tipo)}}let ce=(()=>{class L{constructor(){}ngOnInit(){}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-page-registro"]],decls:2,vars:2,consts:[["class","row justify-content-center my-5 gap-3 p-0 mx-0",4,"ngIf"],[3,"tipo",4,"ngIf"],[1,"row","justify-content-center","my-5","gap-3","p-0","mx-0"],[1,"col-5","btn","btn-danger",3,"click"],[3,"tipo"]],template:function(w,N){1&w&&(g.YNc(0,me,5,0,"div",0),g.YNc(1,te,1,1,"app-registro",1)),2&w&&(g.Q6J("ngIf",!N.tipo),g.xp6(1),g.Q6J("ngIf",N.tipo))},directives:[$e.O5,he.J],styles:[""]}),L})(),de=(()=>{class L{constructor(){}ngOnInit(){}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-home"]],decls:1,vars:0,consts:[[1,"container"]],template:function(w,N){1&w&&g._UZ(0,"div",0)},styles:[""]}),L})();var Se=q(665),Fe=q(7556),Ke=q(4132);function qe(L,b){1&L&&(g.TgZ(0,"div"),g._UZ(1,"app-spinner"),g.qZA())}function gt(L,b){1&L&&(g.TgZ(0,"div",15),g._uU(1," Ingrese su email "),g.qZA())}function fe(L,b){1&L&&(g.TgZ(0,"div",15),g._uU(1," Ingrese un email valido "),g.qZA())}function ht(L,b){1&L&&(g.TgZ(0,"div",16),g._uU(1," Ingrese su contrase\xf1a "),g.qZA())}function _t(L,b){1&L&&(g.TgZ(0,"div",16),g._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),g.qZA())}let ct=(()=>{class L{constructor(w,N,W){this.auth=w,this.formBuilder=N,this.router=W,this.form=this.formBuilder.group({email:["",[Se.kI.required,Se.kI.email]],password:["",[Se.kI.required,Se.kI.minLength(8)]]})}ngOnInit(){}signIn(){this.auth.signIn(this.form.value)}loginEspecialista(){var w,N;null===(w=this.form.get("email"))||void 0===w||w.setValue("especialista@especialista.com"),null===(N=this.form.get("password"))||void 0===N||N.setValue("especialista"),this.signIn()}loginPaciente(){var w,N;null===(w=this.form.get("email"))||void 0===w||w.setValue("paciente@paciente.com"),null===(N=this.form.get("password"))||void 0===N||N.setValue("paciente"),this.signIn()}loginAdmin(){var w,N;null===(w=this.form.get("email"))||void 0===w||w.setValue("admin@admin.com"),null===(N=this.form.get("password"))||void 0===N||N.setValue("adminadmin"),this.signIn()}}return L.\u0275fac=function(w){return new(w||L)(g.Y36(Fe.e),g.Y36(Se.qu),g.Y36(Ne.F0))},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-login"]],decls:36,vars:7,consts:[[1,"container",2,"max-height","100vh !important"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"col-md-4","col-12"],["type","button",1,"btn",3,"click"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"]],template:function(w,N){if(1&w&&(g.TgZ(0,"div",0),g.YNc(1,qe,2,0,"div",1),g.TgZ(2,"form",2),g.NdJ("ngSubmit",function(){return N.signIn()}),g.TgZ(3,"div",3),g.TgZ(4,"h1"),g._uU(5,"Login"),g.qZA(),g.TgZ(6,"h3"),g._uU(7,"Ingrese sus datos:"),g.qZA(),g.TgZ(8,"div",4),g.TgZ(9,"div",5),g.TgZ(10,"label",6),g.TgZ(11,"b"),g._uU(12,"Email"),g.qZA(),g.qZA(),g._UZ(13,"input",7),g.YNc(14,gt,2,0,"div",8),g.YNc(15,fe,2,0,"div",8),g.qZA(),g.TgZ(16,"div",5),g.TgZ(17,"label",9),g.TgZ(18,"b"),g._uU(19,"Contrase\xf1a"),g.qZA(),g.qZA(),g._UZ(20,"input",10),g.YNc(21,ht,2,0,"div",11),g.YNc(22,_t,2,0,"div",11),g.qZA(),g.qZA(),g.TgZ(23,"div",4),g.TgZ(24,"div",5),g.TgZ(25,"button",12),g._uU(26,"Ingresar"),g.qZA(),g.qZA(),g.TgZ(27,"div",13),g.TgZ(28,"button",14),g.NdJ("click",function(){return N.loginEspecialista()}),g._uU(29,"Ingreso especialista"),g.qZA(),g.qZA(),g.TgZ(30,"div",13),g.TgZ(31,"button",14),g.NdJ("click",function(){return N.loginPaciente()}),g._uU(32,"Ingreso paciente"),g.qZA(),g.qZA(),g.TgZ(33,"div",13),g.TgZ(34,"button",14),g.NdJ("click",function(){return N.loginAdmin()}),g._uU(35,"Ingreso admin"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&w){let W,oe,_e,Ie;g.xp6(1),g.Q6J("ngIf",N.auth.loading),g.xp6(1),g.Q6J("formGroup",N.form),g.xp6(12),g.Q6J("ngIf",(null==(W=N.form.get("email"))?null:W.touched)&&(null==(W=N.form.get("email"))||null==W.errors?null:W.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(oe=N.form.get("email"))?null:oe.touched)&&(null==(oe=N.form.get("email"))||null==oe.errors?null:oe.errors.email)),g.xp6(6),g.Q6J("ngIf",(null==(_e=N.form.get("password"))?null:_e.touched)&&(null==(_e=N.form.get("password"))||null==_e.errors?null:_e.errors.required)),g.xp6(1),g.Q6J("ngIf",(null==(Ie=N.form.get("password"))?null:Ie.touched)&&(null==(Ie=N.form.get("password"))||null==Ie.errors?null:Ie.errors.minlength)),g.xp6(3),g.Q6J("disabled",N.form.invalid)}},directives:[$e.O5,Se._Y,Se.JL,Se.sg,Se.Fj,Se.JJ,Se.u,Se.Q7,Ke.O],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:250px}}']}),L})();const De=function(){return["/home"]};let xt=(()=>{class L{constructor(){}ngOnInit(){}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-sin-permisos"]],decls:10,vars:2,consts:[[1,"container"],[1,"row","justify-content-center","p-0","m-0","align-items-center",2,"height","100px"],[1,"card","border-danger","mb-3","text-center",2,"max-width","20rem","max-height","12rem","margin-top","200px"],[1,"card-body","text-danger"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","m-auto","d-block",3,"routerLink"]],template:function(w,N){1&w&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.TgZ(3,"div",3),g.TgZ(4,"h5",4),g._uU(5,"Error"),g.qZA(),g.TgZ(6,"p",5),g._uU(7,"No tiene permisos para acceder a esta pagina. Vuelva al inicio"),g.qZA(),g.TgZ(8,"button",6),g._uU(9,"Inicio"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&w&&(g.xp6(8),g.Q6J("routerLink",g.DdM(1,De)))},directives:[Ne.rH],styles:[""]}),L})();var $t=q(916);let nn=(()=>{class L{constructor(w,N){this.formBuilder=w,this.firestore=N,this.form=this.formBuilder.group({lunes:["",[]],martes:["",[]],miercoles:["",[]],jueves:["",[]],viernes:["",[]],sabado:["",[]]})}ngOnInit(){}actualizarHorarios(){var w,N,W,oe,_e,Ie,et;let pt=[];(null===(w=this.form.controls)||void 0===w?void 0:w.lunes.value)&&pt.push(1),(null===(N=this.form.controls)||void 0===N?void 0:N.martes.value)&&pt.push(2),(null===(W=this.form.controls)||void 0===W?void 0:W.miercoles.value)&&pt.push(3),(null===(oe=this.form.controls)||void 0===oe?void 0:oe.jueves.value)&&pt.push(4),(null===(_e=this.form.controls)||void 0===_e?void 0:_e.viernes.value)&&pt.push(5),(null===(Ie=this.form.controls)||void 0===Ie?void 0:Ie.sabado.value)&&pt.push(6),console.log(pt),this.firestore.updateEspecialista(pt,null===(et=this.firestore.usuarioActual)||void 0===et?void 0:et.id)}}return L.\u0275fac=function(w){return new(w||L)(g.Y36(Se.qu),g.Y36(Ve.C))},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-mis-horarios"]],decls:37,vars:1,consts:[[1,"container","text-white"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-check","form-switch"],["formControlName","lunes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label","noselect"],["formControlName","martes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercoles","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","jueves","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","viernes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","sabado","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","submit",1,"btn","btn-primary","mt-2"]],template:function(w,N){1&w&&(g.TgZ(0,"div",0),g._uU(1," Seleccione los horarios disponibles "),g.TgZ(2,"div",1),g.TgZ(3,"form",2),g.NdJ("ngSubmit",function(){return N.actualizarHorarios()}),g.TgZ(4,"div",3),g.TgZ(5,"div",4),g._UZ(6,"input",5),g.TgZ(7,"label",6),g._uU(8,"Lunes"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(9,"div",3),g.TgZ(10,"div",4),g._UZ(11,"input",7),g.TgZ(12,"label",6),g._uU(13,"Martes"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(14,"div",3),g.TgZ(15,"div",4),g._UZ(16,"input",8),g.TgZ(17,"label",6),g._uU(18,"Miercoles"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(19,"div",3),g.TgZ(20,"div",4),g._UZ(21,"input",9),g.TgZ(22,"label",6),g._uU(23,"Jueves"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(24,"div",3),g.TgZ(25,"div",4),g._UZ(26,"input",10),g.TgZ(27,"label",6),g._uU(28,"Viernes"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(29,"div",3),g.TgZ(30,"div",4),g._UZ(31,"input",11),g.TgZ(32,"label",6),g._uU(33,"Sabado"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(34,"div",3),g.TgZ(35,"button",12),g._uU(36,"Actualizar horarios"),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&w&&(g.xp6(3),g.Q6J("formGroup",N.form))},directives:[Se._Y,Se.JL,Se.sg,Se.Wl,Se.JJ,Se.u],styles:[""]}),L})();function st(L,b){if(1&L){const w=g.EpF();g.TgZ(0,"button",21),g.NdJ("click",function(){return g.CHM(w),g.oxw(2).verHorarios()}),g._uU(1),g.qZA()}if(2&L){const w=g.oxw(2);g.xp6(1),g.Oqu(w.verHorariosBtn)}}function Le(L,b){if(1&L&&(g.TgZ(0,"div"),g.TgZ(1,"div",22),g.TgZ(2,"div",23),g.TgZ(3,"div",24),g._UZ(4,"img",25),g.qZA(),g.TgZ(5,"div",26),g._UZ(6,"img",27),g.qZA(),g.qZA(),g.TgZ(7,"button",28),g._UZ(8,"span",29),g.TgZ(9,"span",30),g._uU(10,"Previous"),g.qZA(),g.qZA(),g.TgZ(11,"button",31),g._UZ(12,"span",32),g.TgZ(13,"span",30),g._uU(14,"Next"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&L){const w=g.oxw(2);g.xp6(4),g.Q6J("defaultImage",w.defaultImage)("lazyLoad",w.usuario.imagenes[0]),g.xp6(2),g.Q6J("src",w.usuario.imagenes[1],g.LSH)}}function nt(L,b){if(1&L&&(g.TgZ(0,"div"),g._UZ(1,"img",33),g.qZA()),2&L){const w=g.oxw(2);g.xp6(1),g.Q6J("defaultImage",w.defaultImage)("lazyLoad",null==w.usuario?null:w.usuario.imagen)}}function Qe(L,b){if(1&L&&(g.TgZ(0,"div"),g.TgZ(1,"div",16),g._uU(2," Obra social: "),g.qZA(),g.TgZ(3,"div",19),g._uU(4),g.qZA(),g._UZ(5,"div",14),g._UZ(6,"div",18),g.qZA()),2&L){const w=g.oxw(2);g.xp6(4),g.hij(" ",null==w.usuario?null:w.usuario.obraSocial," ")}}function Te(L,b){if(1&L&&(g.TgZ(0,"div"),g.TgZ(1,"div",16),g._uU(2," Especialidad: "),g.qZA(),g.TgZ(3,"div",19),g._uU(4),g.qZA(),g._UZ(5,"div",14),g._UZ(6,"div",18),g.qZA()),2&L){const w=g.oxw(2);g.xp6(4),g.hij(" ",null==w.usuario?null:w.usuario.especialidad," ")}}function ze(L,b){1&L&&(g.TgZ(0,"div",34),g._UZ(1,"app-mis-horarios"),g.qZA())}function Ee(L,b){if(1&L&&(g.TgZ(0,"div"),g.TgZ(1,"div",3),g.TgZ(2,"div",4),g.YNc(3,st,2,1,"button",5),g.TgZ(4,"div"),g.TgZ(5,"div",6),g.TgZ(6,"div",7),g._uU(7),g.qZA(),g.TgZ(8,"div",8),g.TgZ(9,"div",9),g.TgZ(10,"div",10),g.TgZ(11,"div",11),g.TgZ(12,"div",12),g.YNc(13,Le,15,3,"div",13),g.qZA(),g.YNc(14,nt,2,2,"div",13),g.qZA(),g.qZA(),g._UZ(15,"br"),g.qZA(),g._UZ(16,"div",14),g._UZ(17,"hr",15),g.TgZ(18,"div",16),g._uU(19," Nombre: "),g.qZA(),g.TgZ(20,"div",17),g._uU(21),g.qZA(),g._UZ(22,"div",14),g._UZ(23,"div",18),g.TgZ(24,"div",16),g._uU(25," Apellido: "),g.qZA(),g.TgZ(26,"div",19),g._uU(27),g.qZA(),g._UZ(28,"div",14),g._UZ(29,"div",18),g.TgZ(30,"div"),g.TgZ(31,"div",16),g._uU(32," Edad: "),g.qZA(),g.TgZ(33,"div",19),g._uU(34),g.qZA(),g._UZ(35,"div",14),g._UZ(36,"div",18),g.qZA(),g.YNc(37,Qe,7,1,"div",13),g.YNc(38,Te,7,1,"div",13),g.TgZ(39,"div",16),g._uU(40," Correo electronico: "),g.qZA(),g.TgZ(41,"div",19),g._uU(42),g.qZA(),g._UZ(43,"div",14),g._UZ(44,"div",18),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.YNc(45,ze,2,0,"div",20),g.qZA(),g.qZA()),2&L){const w=g.oxw();g.xp6(3),g.Q6J("ngIf","especialista"===(null==w.firestore||null==w.firestore.usuarioActual?null:w.firestore.usuarioActual.perfil)),g.xp6(4),g.AsE("",null==w.usuario?null:w.usuario.nombre," ",null==w.usuario?null:w.usuario.apellido,""),g.xp6(6),g.Q6J("ngIf","paciente"===(null==w.usuario?null:w.usuario.perfil)),g.xp6(1),g.Q6J("ngIf","paciente"!==(null==w.usuario?null:w.usuario.perfil)),g.xp6(7),g.hij(" ",null==w.usuario?null:w.usuario.nombre," "),g.xp6(6),g.hij(" ",null==w.usuario?null:w.usuario.apellido," "),g.xp6(7),g.hij(" ",null==w.usuario?null:w.usuario.edad," "),g.xp6(3),g.Q6J("ngIf","paciente"===(null==w.usuario?null:w.usuario.perfil)),g.xp6(1),g.Q6J("ngIf","especialista"===(null==w.usuario?null:w.usuario.perfil)),g.xp6(4),g.hij(" ",null==w.usuario?null:w.usuario.email," "),g.xp6(3),g.Q6J("ngIf",w.horarios)}}function Et(L,b){1&L&&g._UZ(0,"app-spinner")}const Yt=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:de},{path:"login",component:ct},{path:"registro",component:ce},{path:"usuarios",loadChildren:()=>q.e(433).then(q.bind(q,9433)).then(L=>L.UsuariosModule),canActivate:[ye]},{path:"turnos",loadChildren:()=>Promise.all([q.e(433),q.e(776)]).then(q.bind(q,6776)).then(L=>L.TurnosModule)},{path:"sin-permisos",component:xt},{path:"mi-perfil",component:(()=>{class L{constructor(w){this.firestore=w,this.horarios=!1,this.verHorariosBtn="Ver horarios",this.defaultImage="../../../assets/spinnerImage.gif"}ngOnInit(){}ngAfterViewChecked(){setTimeout(()=>{this.usuario=this.firestore.usuarioActual},1e3)}verHorarios(){this.horarios=!this.horarios,this.verHorariosBtn=this.horarios?"Ocultar horarios":"Ver horarios"}}return L.\u0275fac=function(w){return new(w||L)(g.Y36(Ve.C))},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-mi-perfil"]],decls:4,vars:2,consts:[[1,"container","text-white"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"box","box-info"],[1,"box-body"],[1,"col-sm-6"],["align","center"],[4,"ngIf"],[1,"clearfix"],[2,"margin","5px 0 5px 0"],[1,"col-sm-5","col-xs-6","title"],[1,"col-sm-7","col-xs-6"],[1,"bot-border"],[1,"col-sm-7"],["class","col-12 col-sm-6 col-md-4 mt-5",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","",1,"img-circle","img-responsive","profile-image",3,"defaultImage","lazyLoad"],[1,"carousel-item"],["alt","",1,"img-circle","img-responsive","profile-image","noselect",3,"src"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"fas","fa-chevron-left",2,"color","white"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"fas","fa-chevron-right",2,"color","white"],["alt","",1,"img-circle","img-responsive","profile-image","d-block","m-auto","noselect",3,"defaultImage","lazyLoad"],[1,"col-12","col-sm-6","col-md-4","mt-5"]],template:function(w,N){if(1&w&&(g.TgZ(0,"div",0),g.YNc(1,Ee,46,12,"div",1),g.YNc(2,Et,1,0,"ng-template",null,2,g.W1O),g.qZA()),2&w){const W=g.MAs(3);g.xp6(1),g.Q6J("ngIf",void 0!==N.usuario)("ngIfElse",W)}},directives:[$e.O5,$t.z1,nn,Ke.O],styles:["input.hidden[_ngcontent-%COMP%]{position:absolute;left:-9999px}.profile-image[_ngcontent-%COMP%]{cursor:pointer;width:100px;height:100px;border-radius:50%}.title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.bot-border[_ngcontent-%COMP%]{border-bottom:1px #f8f8f8 solid;margin:5px 0}"]}),L})()}];let Kt=(()=>{class L{}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=g.oAB({type:L}),L.\u0275inj=g.cJS({imports:[[Ne.Bz.forRoot(Yt)],Ne.Bz]}),L})();const Lt=function(){return["/login"]};function tn(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Login"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,Lt))}const Pn=function(){return["/registro"]};function dt(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Registrarse"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,Pn))}const ut=function(){return["/mi-perfil"]};function xe(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Mi perfil"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,ut))}const Ge=function(){return["/usuarios"]};function Tt(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Usuarios"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,Ge))}const jt=function(){return["/turnos/solicitar-turno"]};function On(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Solicitar turno"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,jt))}const cr=function(){return["/turnos/mis-turnos/paciente"]};function bn(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Mis turnos"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,cr))}const ar=function(){return["/turnos/mis-turnos/especialista"]};function jn(L,b){1&L&&(g.TgZ(0,"a",14),g._uU(1,"Mis turnos"),g.qZA()),2&L&&g.Q6J("routerLink",g.DdM(1,ar))}function Ot(L,b){if(1&L){const w=g.EpF();g.TgZ(0,"a",15),g.NdJ("click",function(){return g.CHM(w),g.oxw().auth.logOut()}),g._uU(1,"Cerrar sesi\xf3n"),g.qZA()}}const Be=function(){return["/"]};let ot=(()=>{class L{constructor(w,N){this.firestore=w,this.auth=N}ngOnInit(){}}return L.\u0275fac=function(w){return new(w||L)(g.Y36(Ve.C),g.Y36(Fe.e))},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-navbar"]],decls:31,vars:13,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","noselect",3,"routerLink"],["src","../../../assets/favicon.ico","alt","","width","30","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active","text-white","noselect",3,"routerLink"],["class","nav-link text-white noselect",3,"routerLink",4,"ngIf"],[1,"navbar-nav","ms-auto"],[1,"nav-link","text-white","noselect"],["class","nav-link text-white noselect",3,"click",4,"ngIf"],[1,"nav-link","text-white","noselect",3,"routerLink"],[1,"nav-link","text-white","noselect",3,"click"]],template:function(w,N){1&w&&(g.TgZ(0,"nav",0),g.TgZ(1,"div",1),g.TgZ(2,"a",2),g._UZ(3,"img",3),g.qZA(),g.TgZ(4,"button",4),g._UZ(5,"span",5),g.qZA(),g.TgZ(6,"div",6),g.TgZ(7,"ul",7),g.TgZ(8,"li",8),g.TgZ(9,"a",9),g._uU(10,"Bienvenido"),g.qZA(),g.qZA(),g.TgZ(11,"li",8),g.YNc(12,tn,2,2,"a",10),g.qZA(),g.TgZ(13,"li",8),g.YNc(14,dt,2,2,"a",10),g.qZA(),g.TgZ(15,"li",8),g.YNc(16,xe,2,2,"a",10),g.qZA(),g.TgZ(17,"li",8),g.YNc(18,Tt,2,2,"a",10),g.qZA(),g.TgZ(19,"li",8),g.YNc(20,On,2,2,"a",10),g.qZA(),g.TgZ(21,"li",8),g.YNc(22,bn,2,2,"a",10),g.qZA(),g.TgZ(23,"li",8),g.YNc(24,jn,2,2,"a",10),g.qZA(),g.qZA(),g.TgZ(25,"ul",11),g.TgZ(26,"li",8),g.TgZ(27,"a",12),g._uU(28),g.qZA(),g.qZA(),g.TgZ(29,"li",8),g.YNc(30,Ot,2,0,"a",13),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&w&&(g.xp6(2),g.Q6J("routerLink",g.DdM(11,Be)),g.xp6(7),g.Q6J("routerLink",g.DdM(12,Be)),g.xp6(3),g.Q6J("ngIf",!N.firestore.usuarioActual),g.xp6(2),g.Q6J("ngIf",!N.firestore.usuarioActual),g.xp6(2),g.Q6J("ngIf",N.firestore.usuarioActual),g.xp6(2),g.Q6J("ngIf","admin"===(null==N.firestore.usuarioActual?null:N.firestore.usuarioActual.perfil)),g.xp6(2),g.Q6J("ngIf","especialista"!==(null==N.firestore.usuarioActual?null:N.firestore.usuarioActual.perfil)),g.xp6(2),g.Q6J("ngIf","paciente"===(null==N.firestore.usuarioActual?null:N.firestore.usuarioActual.perfil)),g.xp6(2),g.Q6J("ngIf","especialista"===(null==N.firestore.usuarioActual?null:N.firestore.usuarioActual.perfil)),g.xp6(4),g.Oqu(null==N.firestore.usuarioActual?null:N.firestore.usuarioActual.email),g.xp6(2),g.Q6J("ngIf",null==N.firestore?null:N.firestore.usuarioActual))},directives:[Ne.yS,$e.O5],styles:[""]}),L})(),lt=(()=>{class L{constructor(){this.title="ClinicaOnline"}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275cmp=g.Xpm({type:L,selectors:[["app-root"]],decls:2,vars:0,template:function(w,N){1&w&&(g._UZ(0,"app-navbar"),g._UZ(1,"router-outlet"))},directives:[ot,Ne.lC],styles:[""]}),L})();var rn=q(8939),un=q(9344),Ht=q(7238);function dn(){return"undefined"!=typeof window&&void 0!==window.document}function Xt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function hn(L){switch(L.length){case 0:return new Ht.ZN;case 1:return L[0];default:return new Ht.ZE(L)}}function Xn(L,b,w,N,W={},oe={}){const _e=[],Ie=[];let et=-1,pt=null;if(N.forEach(Wt=>{const vn=Wt.offset,In=vn==et,fr=In&&pt||{};Object.keys(Wt).forEach(Sn=>{let Ln=Sn,wr=Wt[Sn];if("offset"!==Sn)switch(Ln=b.normalizePropertyName(Ln,_e),wr){case Ht.k1:wr=W[Sn];break;case Ht.l3:wr=oe[Sn];break;default:wr=b.normalizeStyleValue(Sn,Ln,wr,_e)}fr[Ln]=wr}),In||Ie.push(fr),pt=fr,et=vn}),_e.length){const Wt="\n - ";throw new Error(`Unable to animate due to the following errors:${Wt}${_e.join(Wt)}`)}return Ie}function Rr(L,b,w,N){switch(b){case"start":L.onStart(()=>N(w&&nr(w,"start",L)));break;case"done":L.onDone(()=>N(w&&nr(w,"done",L)));break;case"destroy":L.onDestroy(()=>N(w&&nr(w,"destroy",L)))}}function nr(L,b,w){const N=w.totalTime,oe=kt(L.element,L.triggerName,L.fromState,L.toState,b||L.phaseName,null==N?L.totalTime:N,!!w.disabled),_e=L._data;return null!=_e&&(oe._data=_e),oe}function kt(L,b,w,N,W="",oe=0,_e){return{element:L,triggerName:b,fromState:w,toState:N,phaseName:W,totalTime:oe,disabled:!!_e}}function on(L,b,w){let N;return L instanceof Map?(N=L.get(b),N||L.set(b,N=w)):(N=L[b],N||(N=L[b]=w)),N}function jr(L){const b=L.indexOf(":");return[L.substring(1,b),L.substr(b+1)]}let hi=(L,b)=>!1,dr=(L,b)=>!1,pi=(L,b,w)=>[];const Ce=Xt();(Ce||"undefined"!=typeof Element)&&(hi=dn()?(L,b)=>{for(;b&&b!==document.documentElement;){if(b===L)return!0;b=b.parentNode||b.host}return!1}:(L,b)=>L.contains(b),dr=(()=>{if(Ce||Element.prototype.matches)return(L,b)=>L.matches(b);{const L=Element.prototype,b=L.matchesSelector||L.mozMatchesSelector||L.msMatchesSelector||L.oMatchesSelector||L.webkitMatchesSelector;return b?(w,N)=>b.apply(w,[N]):dr}})(),pi=(L,b,w)=>{let N=[];if(w){const W=L.querySelectorAll(b);for(let oe=0;oe<W.length;oe++)N.push(W[oe])}else{const W=L.querySelector(b);W&&N.push(W)}return N});let mt=null,Je=!1;function Vt(L){mt||(mt=("undefined"!=typeof document?document.body:null)||{},Je=!!mt.style&&"WebkitAppearance"in mt.style);let b=!0;return mt.style&&!function(L){return"ebkit"==L.substring(1,6)}(L)&&(b=L in mt.style,!b&&Je&&(b="Webkit"+L.charAt(0).toUpperCase()+L.substr(1)in mt.style)),b}const qn=dr,Er=hi,Gn=pi;function Hn(L){const b={};return Object.keys(L).forEach(w=>{const N=w.replace(/([a-z])([A-Z])/g,"$1-$2");b[N]=L[w]}),b}let Zn=(()=>{class L{validateStyleProperty(w){return Vt(w)}matchesElement(w,N){return qn(w,N)}containsElement(w,N){return Er(w,N)}query(w,N,W){return Gn(w,N,W)}computeStyle(w,N,W){return W||""}animate(w,N,W,oe,_e,Ie=[],et){return new Ht.ZN(W,oe)}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac}),L})(),Lr=(()=>{class L{}return L.NOOP=new Zn,L})();const gi="ng-enter",Ai="ng-leave",br="ng-trigger",Rn=".ng-trigger",an="ng-animating",Tr=".ng-animating";function ui(L){if("number"==typeof L)return L;const b=L.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:Yn(parseFloat(b[1]),b[2])}function Yn(L,b){switch(b){case"s":return 1e3*L;default:return L}}function Ut(L,b,w){return L.hasOwnProperty("duration")?L:function(L,b,w){let W,oe=0,_e="";if("string"==typeof L){const Ie=L.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ie)return b.push(`The provided timing value "${L}" is invalid.`),{duration:0,delay:0,easing:""};W=Yn(parseFloat(Ie[1]),Ie[2]);const et=Ie[3];null!=et&&(oe=Yn(parseFloat(et),Ie[4]));const pt=Ie[5];pt&&(_e=pt)}else W=L;if(!w){let Ie=!1,et=b.length;W<0&&(b.push("Duration values below 0 are not allowed for this animation step."),Ie=!0),oe<0&&(b.push("Delay values below 0 are not allowed for this animation step."),Ie=!0),Ie&&b.splice(et,0,`The provided timing value "${L}" is invalid.`)}return{duration:W,delay:oe,easing:_e}}(L,b,w)}function lr(L,b={}){return Object.keys(L).forEach(w=>{b[w]=L[w]}),b}function Qn(L,b,w={}){if(b)for(let N in L)w[N]=L[N];else lr(L,w);return w}function pr(L,b,w){return w?b+":"+w+";":""}function Wr(L){let b="";for(let w=0;w<L.style.length;w++){const N=L.style.item(w);b+=pr(0,N,L.style.getPropertyValue(N))}for(const w in L.style)L.style.hasOwnProperty(w)&&!w.startsWith("_")&&(b+=pr(0,Fn(w),L.style[w]));L.setAttribute("style",b)}function En(L,b,w){L.style&&(Object.keys(b).forEach(N=>{const W=cn(N);w&&!w.hasOwnProperty(N)&&(w[N]=L.style[W]),L.style[W]=b[N]}),Xt()&&Wr(L))}function ir(L,b){L.style&&(Object.keys(b).forEach(w=>{const N=cn(w);L.style[N]=""}),Xt()&&Wr(L))}function Sr(L){return Array.isArray(L)?1==L.length?L[0]:(0,Ht.vP)(L):L}const je=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pe(L){let b=[];if("string"==typeof L){let w;for(;w=je.exec(L);)b.push(w[1]);je.lastIndex=0}return b}function ge(L,b,w){const N=L.toString(),W=N.replace(je,(oe,_e)=>{let Ie=b[_e];return b.hasOwnProperty(_e)||(w.push(`Please provide a value for the animation param ${_e}`),Ie=""),Ie.toString()});return W==N?L:W}function Ye(L){const b=[];let w=L.next();for(;!w.done;)b.push(w.value),w=L.next();return b}const vt=/-+([a-z0-9])/g;function cn(L){return L.replace(vt,(...b)=>b[1].toUpperCase())}function Fn(L){return L.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function gr(L,b){return 0===L||0===b}function Un(L,b,w){const N=Object.keys(w);if(N.length&&b.length){let oe=b[0],_e=[];if(N.forEach(Ie=>{oe.hasOwnProperty(Ie)||_e.push(Ie),oe[Ie]=w[Ie]}),_e.length)for(var W=1;W<b.length;W++){let Ie=b[W];_e.forEach(function(et){Ie[et]=Cs(L,et)})}}return b}function qr(L,b,w){switch(b.type){case 7:return L.visitTrigger(b,w);case 0:return L.visitState(b,w);case 1:return L.visitTransition(b,w);case 2:return L.visitSequence(b,w);case 3:return L.visitGroup(b,w);case 4:return L.visitAnimate(b,w);case 5:return L.visitKeyframes(b,w);case 6:return L.visitStyle(b,w);case 8:return L.visitReference(b,w);case 9:return L.visitAnimateChild(b,w);case 10:return L.visitAnimateRef(b,w);case 11:return L.visitQuery(b,w);case 12:return L.visitStagger(b,w);default:throw new Error(`Unable to resolve animation metadata node #${b.type}`)}}function Cs(L,b){return window.getComputedStyle(L)[b]}function ti(L,b){const w=[];return"string"==typeof L?L.split(/\s*,\s*/).forEach(N=>function(L,b,w){if(":"==L[0]){const et=function(L,b){switch(L){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(w,N)=>parseFloat(N)>parseFloat(w);case":decrement":return(w,N)=>parseFloat(N)<parseFloat(w);default:return b.push(`The transition alias value "${L}" is not supported`),"* => *"}}(L,w);if("function"==typeof et)return void b.push(et);L=et}const N=L.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==N||N.length<4)return w.push(`The provided transition expression "${L}" is not supported`),b;const W=N[1],oe=N[2],_e=N[3];b.push(Ws(W,_e));"<"==oe[0]&&!("*"==W&&"*"==_e)&&b.push(Ws(_e,W))}(N,w,b)):w.push(L),w}const gn=new Set(["true","1"]),xr=new Set(["false","0"]);function Ws(L,b){const w=gn.has(L)||xr.has(L),N=gn.has(b)||xr.has(b);return(W,oe)=>{let _e="*"==L||L==W,Ie="*"==b||b==oe;return!_e&&w&&"boolean"==typeof W&&(_e=W?gn.has(L):xr.has(L)),!Ie&&N&&"boolean"==typeof oe&&(Ie=oe?gn.has(b):xr.has(b)),_e&&Ie}}const mr=new RegExp("s*:selfs*,?","g");function yi(L,b,w){return new ci(L).build(b,w)}class ci{constructor(b){this._driver=b}build(b,w){const N=new Vs(w);return this._resetContextStyleTimingState(N),qr(this,Sr(b),N)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles={},b.collectedStyles[""]={},b.currentTime=0}visitTrigger(b,w){let N=w.queryCount=0,W=w.depCount=0;const oe=[],_e=[];return"@"==b.name.charAt(0)&&w.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),b.definitions.forEach(Ie=>{if(this._resetContextStyleTimingState(w),0==Ie.type){const et=Ie,pt=et.name;pt.toString().split(/\s*,\s*/).forEach(Wt=>{et.name=Wt,oe.push(this.visitState(et,w))}),et.name=pt}else if(1==Ie.type){const et=this.visitTransition(Ie,w);N+=et.queryCount,W+=et.depCount,_e.push(et)}else w.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:b.name,states:oe,transitions:_e,queryCount:N,depCount:W,options:null}}visitState(b,w){const N=this.visitStyle(b.styles,w),W=b.options&&b.options.params||null;if(N.containsDynamicStyles){const oe=new Set,_e=W||{};if(N.styles.forEach(Ie=>{if(di(Ie)){const et=Ie;Object.keys(et).forEach(pt=>{Pe(et[pt]).forEach(Wt=>{_e.hasOwnProperty(Wt)||oe.add(Wt)})})}}),oe.size){const Ie=Ye(oe.values());w.errors.push(`state("${b.name}", ...) must define default values for all the following style substitutions: ${Ie.join(", ")}`)}}return{type:0,name:b.name,style:N,options:W?{params:W}:null}}visitTransition(b,w){w.queryCount=0,w.depCount=0;const N=qr(this,Sr(b.animation),w);return{type:1,matchers:ti(b.expr,w.errors),animation:N,queryCount:w.queryCount,depCount:w.depCount,options:xi(b.options)}}visitSequence(b,w){return{type:2,steps:b.steps.map(N=>qr(this,N,w)),options:xi(b.options)}}visitGroup(b,w){const N=w.currentTime;let W=0;const oe=b.steps.map(_e=>{w.currentTime=N;const Ie=qr(this,_e,w);return W=Math.max(W,w.currentTime),Ie});return w.currentTime=W,{type:3,steps:oe,options:xi(b.options)}}visitAnimate(b,w){const N=function(L,b){let w=null;if(L.hasOwnProperty("duration"))w=L;else if("number"==typeof L)return Hi(Ut(L,b).duration,0,"");const N=L;if(N.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=Hi(0,0,"");return oe.dynamic=!0,oe.strValue=N,oe}return w=w||Ut(N,b),Hi(w.duration,w.delay,w.easing)}(b.timings,w.errors);w.currentAnimateTimings=N;let W,oe=b.styles?b.styles:(0,Ht.oB)({});if(5==oe.type)W=this.visitKeyframes(oe,w);else{let _e=b.styles,Ie=!1;if(!_e){Ie=!0;const pt={};N.easing&&(pt.easing=N.easing),_e=(0,Ht.oB)(pt)}w.currentTime+=N.duration+N.delay;const et=this.visitStyle(_e,w);et.isEmptyStep=Ie,W=et}return w.currentAnimateTimings=null,{type:4,timings:N,style:W,options:null}}visitStyle(b,w){const N=this._makeStyleAst(b,w);return this._validateStyleAst(N,w),N}_makeStyleAst(b,w){const N=[];Array.isArray(b.styles)?b.styles.forEach(_e=>{"string"==typeof _e?_e==Ht.l3?N.push(_e):w.errors.push(`The provided style string value ${_e} is not allowed.`):N.push(_e)}):N.push(b.styles);let W=!1,oe=null;return N.forEach(_e=>{if(di(_e)){const Ie=_e,et=Ie.easing;if(et&&(oe=et,delete Ie.easing),!W)for(let pt in Ie)if(Ie[pt].toString().indexOf("{{")>=0){W=!0;break}}}),{type:6,styles:N,easing:oe,offset:b.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(b,w){const N=w.currentAnimateTimings;let W=w.currentTime,oe=w.currentTime;N&&oe>0&&(oe-=N.duration+N.delay),b.styles.forEach(_e=>{"string"!=typeof _e&&Object.keys(_e).forEach(Ie=>{if(!this._driver.validateStyleProperty(Ie))return void w.errors.push(`The provided animation property "${Ie}" is not a supported CSS property for animations`);const et=w.collectedStyles[w.currentQuerySelector],pt=et[Ie];let Wt=!0;pt&&(oe!=W&&oe>=pt.startTime&&W<=pt.endTime&&(w.errors.push(`The CSS property "${Ie}" that exists between the times of "${pt.startTime}ms" and "${pt.endTime}ms" is also being animated in a parallel animation between the times of "${oe}ms" and "${W}ms"`),Wt=!1),oe=pt.startTime),Wt&&(et[Ie]={startTime:oe,endTime:W}),w.options&&function(L,b,w){const N=b.params||{},W=Pe(L);W.length&&W.forEach(oe=>{N.hasOwnProperty(oe)||w.push(`Unable to resolve the local animation param ${oe} in the given list of values`)})}(_e[Ie],w.options,w.errors)})})}visitKeyframes(b,w){const N={type:5,styles:[],options:null};if(!w.currentAnimateTimings)return w.errors.push("keyframes() must be placed inside of a call to animate()"),N;let oe=0;const _e=[];let Ie=!1,et=!1,pt=0;const Wt=b.steps.map(Rt=>{const or=this._makeStyleAst(Rt,w);let li=null!=or.offset?or.offset:function(L){if("string"==typeof L)return null;let b=null;if(Array.isArray(L))L.forEach(w=>{if(di(w)&&w.hasOwnProperty("offset")){const N=w;b=parseFloat(N.offset),delete N.offset}});else if(di(L)&&L.hasOwnProperty("offset")){const w=L;b=parseFloat(w.offset),delete w.offset}return b}(or.styles),Ri=0;return null!=li&&(oe++,Ri=or.offset=li),et=et||Ri<0||Ri>1,Ie=Ie||Ri<pt,pt=Ri,_e.push(Ri),or});et&&w.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),Ie&&w.errors.push("Please ensure that all keyframe offsets are in order");const vn=b.steps.length;let In=0;oe>0&&oe<vn?w.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==oe&&(In=1/(vn-1));const fr=vn-1,Sn=w.currentTime,Ln=w.currentAnimateTimings,wr=Ln.duration;return Wt.forEach((Rt,or)=>{const li=In>0?or==fr?1:In*or:_e[or],Ri=li*wr;w.currentTime=Sn+Ln.delay+Ri,Ln.duration=Ri,this._validateStyleAst(Rt,w),Rt.offset=li,N.styles.push(Rt)}),N}visitReference(b,w){return{type:8,animation:qr(this,Sr(b.animation),w),options:xi(b.options)}}visitAnimateChild(b,w){return w.depCount++,{type:9,options:xi(b.options)}}visitAnimateRef(b,w){return{type:10,animation:this.visitReference(b.animation,w),options:xi(b.options)}}visitQuery(b,w){const N=w.currentQuerySelector,W=b.options||{};w.queryCount++,w.currentQuery=b;const[oe,_e]=function(L){const b=!!L.split(/\s*,\s*/).find(w=>":self"==w);return b&&(L=L.replace(mr,"")),[L=L.replace(/@\*/g,Rn).replace(/@\w+/g,w=>Rn+"-"+w.substr(1)).replace(/:animating/g,Tr),b]}(b.selector);w.currentQuerySelector=N.length?N+" "+oe:oe,on(w.collectedStyles,w.currentQuerySelector,{});const Ie=qr(this,Sr(b.animation),w);return w.currentQuery=null,w.currentQuerySelector=N,{type:11,selector:oe,limit:W.limit||0,optional:!!W.optional,includeSelf:_e,animation:Ie,originalSelector:b.selector,options:xi(b.options)}}visitStagger(b,w){w.currentQuery||w.errors.push("stagger() can only be used inside of query()");const N="full"===b.timings?{duration:0,delay:0,easing:"full"}:Ut(b.timings,w.errors,!0);return{type:12,animation:qr(this,Sr(b.animation),w),timings:N,options:null}}}class Vs{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function di(L){return!Array.isArray(L)&&"object"==typeof L}function xi(L){return L?(L=lr(L)).params&&(L.params=function(L){return L?lr(L):null}(L.params)):L={},L}function Hi(L,b,w){return{duration:L,delay:b,easing:w}}function Ts(L,b,w,N,W,oe,_e=null,Ie=!1){return{type:1,element:L,keyframes:b,preStyleProps:w,postStyleProps:N,duration:W,delay:oe,totalTime:W+oe,easing:_e,subTimeline:Ie}}class Gr{constructor(){this._map=new Map}consume(b){let w=this._map.get(b);return w?this._map.delete(b):w=[],w}append(b,w){let N=this._map.get(b);N||this._map.set(b,N=[]),N.push(...w)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const hs=new RegExp(":enter","g"),$i=new RegExp(":leave","g");function Bs(L,b,w,N,W,oe={},_e={},Ie,et,pt=[]){return(new Fo).buildKeyframes(L,b,w,N,W,oe,_e,Ie,et,pt)}class Fo{buildKeyframes(b,w,N,W,oe,_e,Ie,et,pt,Wt=[]){pt=pt||new Gr;const vn=new Ks(b,w,pt,W,oe,Wt,[]);vn.options=et,vn.currentTimeline.setStyles([_e],null,vn.errors,et),qr(this,N,vn);const In=vn.timelines.filter(fr=>fr.containsAnimation());if(In.length&&Object.keys(Ie).length){const fr=In[In.length-1];fr.allowOnlyTimelineStyles()||fr.setStyles([Ie],null,vn.errors,et)}return In.length?In.map(fr=>fr.buildKeyframes()):[Ts(w,[],[],[],0,0,"",!1)]}visitTrigger(b,w){}visitState(b,w){}visitTransition(b,w){}visitAnimateChild(b,w){const N=w.subInstructions.consume(w.element);if(N){const W=w.createSubContext(b.options),oe=w.currentTimeline.currentTime,_e=this._visitSubInstructions(N,W,W.options);oe!=_e&&w.transformIntoNewTimeline(_e)}w.previousNode=b}visitAnimateRef(b,w){const N=w.createSubContext(b.options);N.transformIntoNewTimeline(),this.visitReference(b.animation,N),w.transformIntoNewTimeline(N.currentTimeline.currentTime),w.previousNode=b}_visitSubInstructions(b,w,N){let oe=w.currentTimeline.currentTime;const _e=null!=N.duration?ui(N.duration):null,Ie=null!=N.delay?ui(N.delay):null;return 0!==_e&&b.forEach(et=>{const pt=w.appendInstructionToTimeline(et,_e,Ie);oe=Math.max(oe,pt.duration+pt.delay)}),oe}visitReference(b,w){w.updateOptions(b.options,!0),qr(this,b.animation,w),w.previousNode=b}visitSequence(b,w){const N=w.subContextCount;let W=w;const oe=b.options;if(oe&&(oe.params||oe.delay)&&(W=w.createSubContext(oe),W.transformIntoNewTimeline(),null!=oe.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=oi);const _e=ui(oe.delay);W.delayNextStep(_e)}b.steps.length&&(b.steps.forEach(_e=>qr(this,_e,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>N&&W.transformIntoNewTimeline()),w.previousNode=b}visitGroup(b,w){const N=[];let W=w.currentTimeline.currentTime;const oe=b.options&&b.options.delay?ui(b.options.delay):0;b.steps.forEach(_e=>{const Ie=w.createSubContext(b.options);oe&&Ie.delayNextStep(oe),qr(this,_e,Ie),W=Math.max(W,Ie.currentTimeline.currentTime),N.push(Ie.currentTimeline)}),N.forEach(_e=>w.currentTimeline.mergeTimelineCollectedStyles(_e)),w.transformIntoNewTimeline(W),w.previousNode=b}_visitTiming(b,w){if(b.dynamic){const N=b.strValue;return Ut(w.params?ge(N,w.params,w.errors):N,w.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,w){const N=w.currentAnimateTimings=this._visitTiming(b.timings,w),W=w.currentTimeline;N.delay&&(w.incrementTime(N.delay),W.snapshotCurrentStyles());const oe=b.style;5==oe.type?this.visitKeyframes(oe,w):(w.incrementTime(N.duration),this.visitStyle(oe,w),W.applyStylesToKeyframe()),w.currentAnimateTimings=null,w.previousNode=b}visitStyle(b,w){const N=w.currentTimeline,W=w.currentAnimateTimings;!W&&N.getCurrentStyleProperties().length&&N.forwardFrame();const oe=W&&W.easing||b.easing;b.isEmptyStep?N.applyEmptyStep(oe):N.setStyles(b.styles,oe,w.errors,w.options),w.previousNode=b}visitKeyframes(b,w){const N=w.currentAnimateTimings,W=w.currentTimeline.duration,oe=N.duration,Ie=w.createSubContext().currentTimeline;Ie.easing=N.easing,b.styles.forEach(et=>{Ie.forwardTime((et.offset||0)*oe),Ie.setStyles(et.styles,et.easing,w.errors,w.options),Ie.applyStylesToKeyframe()}),w.currentTimeline.mergeTimelineCollectedStyles(Ie),w.transformIntoNewTimeline(W+oe),w.previousNode=b}visitQuery(b,w){const N=w.currentTimeline.currentTime,W=b.options||{},oe=W.delay?ui(W.delay):0;oe&&(6===w.previousNode.type||0==N&&w.currentTimeline.getCurrentStyleProperties().length)&&(w.currentTimeline.snapshotCurrentStyles(),w.previousNode=oi);let _e=N;const Ie=w.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!W.optional,w.errors);w.currentQueryTotal=Ie.length;let et=null;Ie.forEach((pt,Wt)=>{w.currentQueryIndex=Wt;const vn=w.createSubContext(b.options,pt);oe&&vn.delayNextStep(oe),pt===w.element&&(et=vn.currentTimeline),qr(this,b.animation,vn),vn.currentTimeline.applyStylesToKeyframe(),_e=Math.max(_e,vn.currentTimeline.currentTime)}),w.currentQueryIndex=0,w.currentQueryTotal=0,w.transformIntoNewTimeline(_e),et&&(w.currentTimeline.mergeTimelineCollectedStyles(et),w.currentTimeline.snapshotCurrentStyles()),w.previousNode=b}visitStagger(b,w){const N=w.parentContext,W=w.currentTimeline,oe=b.timings,_e=Math.abs(oe.duration),Ie=_e*(w.currentQueryTotal-1);let et=_e*w.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":et=Ie-et;break;case"full":et=N.currentStaggerTime}const Wt=w.currentTimeline;et&&Wt.delayNextStep(et);const vn=Wt.currentTime;qr(this,b.animation,w),w.previousNode=b,N.currentStaggerTime=W.currentTime-vn+(W.startTime-N.currentTimeline.startTime)}}const oi={};class Ks{constructor(b,w,N,W,oe,_e,Ie,et){this._driver=b,this.element=w,this.subInstructions=N,this._enterClassName=W,this._leaveClassName=oe,this.errors=_e,this.timelines=Ie,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=oi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=et||new fs(this._driver,w,0),Ie.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,w){if(!b)return;const N=b;let W=this.options;null!=N.duration&&(W.duration=ui(N.duration)),null!=N.delay&&(W.delay=ui(N.delay));const oe=N.params;if(oe){let _e=W.params;_e||(_e=this.options.params={}),Object.keys(oe).forEach(Ie=>{(!w||!_e.hasOwnProperty(Ie))&&(_e[Ie]=ge(oe[Ie],_e,this.errors))})}}_copyOptions(){const b={};if(this.options){const w=this.options.params;if(w){const N=b.params={};Object.keys(w).forEach(W=>{N[W]=w[W]})}}return b}createSubContext(b=null,w,N){const W=w||this.element,oe=new Ks(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,N||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(b),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(b){return this.previousNode=oi,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,w,N){const W={duration:null!=w?w:b.duration,delay:this.currentTimeline.currentTime+(null!=N?N:0)+b.delay,easing:""},oe=new _i(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,W,b.stretchStartingKeyframe);return this.timelines.push(oe),W}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,w,N,W,oe,_e){let Ie=[];if(W&&Ie.push(this.element),b.length>0){b=(b=b.replace(hs,"."+this._enterClassName)).replace($i,"."+this._leaveClassName);let pt=this._driver.query(this.element,b,1!=N);0!==N&&(pt=N<0?pt.slice(pt.length+N,pt.length):pt.slice(0,N)),Ie.push(...pt)}return!oe&&0==Ie.length&&_e.push(`\`query("${w}")\` returned zero elements. (Use \`query("${w}", { optional: true })\` if you wish to allow this.)`),Ie}}class fs{constructor(b,w,N,W){this._driver=b,this.element=w,this.startTime=N,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(w),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(w,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const w=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||w?(this.forwardTime(this.currentTime+b),w&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,w){return this.applyStylesToKeyframe(),new fs(this._driver,b,w||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,w){this._localTimelineStyles[b]=w,this._globalTimelineStyles[b]=w,this._styleSummary[b]={time:this.currentTime,value:w}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&(this._previousKeyframe.easing=b),Object.keys(this._globalTimelineStyles).forEach(w=>{this._backFill[w]=this._globalTimelineStyles[w]||Ht.l3,this._currentKeyframe[w]=Ht.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,w,N,W){w&&(this._previousKeyframe.easing=w);const oe=W&&W.params||{},_e=function(L,b){const w={};let N;return L.forEach(W=>{"*"===W?(N=N||Object.keys(b),N.forEach(oe=>{w[oe]=Ht.l3})):Qn(W,!1,w)}),w}(b,this._globalTimelineStyles);Object.keys(_e).forEach(Ie=>{const et=ge(_e[Ie],oe,N);this._pendingStyles[Ie]=et,this._localTimelineStyles.hasOwnProperty(Ie)||(this._backFill[Ie]=this._globalTimelineStyles.hasOwnProperty(Ie)?this._globalTimelineStyles[Ie]:Ht.l3),this._updateStyle(Ie,et)})}applyStylesToKeyframe(){const b=this._pendingStyles,w=Object.keys(b);0!=w.length&&(this._pendingStyles={},w.forEach(N=>{this._currentKeyframe[N]=b[N]}),Object.keys(this._localTimelineStyles).forEach(N=>{this._currentKeyframe.hasOwnProperty(N)||(this._currentKeyframe[N]=this._localTimelineStyles[N])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(b=>{const w=this._localTimelineStyles[b];this._pendingStyles[b]=w,this._updateStyle(b,w)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let w in this._currentKeyframe)b.push(w);return b}mergeTimelineCollectedStyles(b){Object.keys(b._styleSummary).forEach(w=>{const N=this._styleSummary[w],W=b._styleSummary[w];(!N||W.time>N.time)&&this._updateStyle(w,W.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,w=new Set,N=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((Ie,et)=>{const pt=Qn(Ie,!0);Object.keys(pt).forEach(Wt=>{const vn=pt[Wt];vn==Ht.k1?b.add(Wt):vn==Ht.l3&&w.add(Wt)}),N||(pt.offset=et/this.duration),W.push(pt)});const oe=b.size?Ye(b.values()):[],_e=w.size?Ye(w.values()):[];if(N){const Ie=W[0],et=lr(Ie);Ie.offset=0,et.offset=1,W=[Ie,et]}return Ts(this.element,W,oe,_e,this.duration,this.startTime,this.easing,!1)}}class _i extends fs{constructor(b,w,N,W,oe,_e,Ie=!1){super(b,w,_e.delay),this.keyframes=N,this.preStyleProps=W,this.postStyleProps=oe,this._stretchStartingKeyframe=Ie,this.timings={duration:_e.duration,delay:_e.delay,easing:_e.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:w,duration:N,easing:W}=this.timings;if(this._stretchStartingKeyframe&&w){const oe=[],_e=N+w,Ie=w/_e,et=Qn(b[0],!1);et.offset=0,oe.push(et);const pt=Qn(b[0],!1);pt.offset=qi(Ie),oe.push(pt);const Wt=b.length-1;for(let vn=1;vn<=Wt;vn++){let In=Qn(b[vn],!1);In.offset=qi((w+In.offset*N)/_e),oe.push(In)}N=_e,w=0,W="",b=oe}return Ts(this.element,b,this.preStyleProps,this.postStyleProps,N,w,W,!0)}}function qi(L,b=3){const w=Math.pow(10,b-1);return Math.round(L*w)/w}class Fi{}class Ds extends Fi{normalizePropertyName(b,w){return cn(b)}normalizeStyleValue(b,w,N,W){let oe="";const _e=N.toString().trim();if(yo[w]&&0!==N&&"0"!==N)if("number"==typeof N)oe="px";else{const Ie=N.match(/^[+-]?[\d\.]+([a-z]*)$/);Ie&&0==Ie[1].length&&W.push(`Please provide a CSS unit value for ${b}:${N}`)}return _e+oe}}const yo=(()=>function(L){const b={};return L.forEach(w=>b[w]=!0),b}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function rs(L,b,w,N,W,oe,_e,Ie,et,pt,Wt,vn,In){return{type:0,element:L,triggerName:b,isRemovalTransition:W,fromState:w,fromStyles:oe,toState:N,toStyles:_e,timelines:Ie,queriedElements:et,preStyleProps:pt,postStyleProps:Wt,totalTime:vn,errors:In}}const is={};class Zi{constructor(b,w,N){this._triggerName=b,this.ast=w,this._stateStyles=N}match(b,w,N,W){return function(L,b,w,N,W){return L.some(oe=>oe(b,w,N,W))}(this.ast.matchers,b,w,N,W)}buildStyles(b,w,N){const W=this._stateStyles["*"],oe=this._stateStyles[b],_e=W?W.buildStyles(w,N):{};return oe?oe.buildStyles(w,N):_e}build(b,w,N,W,oe,_e,Ie,et,pt,Wt){const vn=[],In=this.ast.options&&this.ast.options.params||is,Sn=this.buildStyles(N,Ie&&Ie.params||is,vn),Ln=et&&et.params||is,wr=this.buildStyles(W,Ln,vn),Rt=new Set,or=new Map,li=new Map,Ri="void"===W,mn={params:Object.assign(Object.assign({},In),Ln)},Dn=Wt?[]:Bs(b,w,this.ast.animation,oe,_e,Sn,wr,mn,pt,vn);let as=0;if(Dn.forEach(D=>{as=Math.max(D.duration+D.delay,as)}),vn.length)return rs(w,this._triggerName,N,W,Ri,Sn,wr,[],[],or,li,as,vn);Dn.forEach(D=>{const T=D.element,I=on(or,T,{});D.preStyleProps.forEach(G=>I[G]=!0);const F=on(li,T,{});D.postStyleProps.forEach(G=>F[G]=!0),T!==w&&Rt.add(T)});const Zt=Ye(Rt.values());return rs(w,this._triggerName,N,W,Ri,Sn,wr,Dn,Zt,or,li,as)}}class As{constructor(b,w,N){this.styles=b,this.defaultParams=w,this.normalizer=N}buildStyles(b,w){const N={},W=lr(this.defaultParams);return Object.keys(b).forEach(oe=>{const _e=b[oe];null!=_e&&(W[oe]=_e)}),this.styles.styles.forEach(oe=>{if("string"!=typeof oe){const _e=oe;Object.keys(_e).forEach(Ie=>{let et=_e[Ie];et.length>1&&(et=ge(et,W,w));const pt=this.normalizer.normalizePropertyName(Ie,w);et=this.normalizer.normalizeStyleValue(Ie,pt,et,w),N[pt]=et})}}),N}}class Ji{constructor(b,w,N){this.name=b,this.ast=w,this._normalizer=N,this.transitionFactories=[],this.states={},w.states.forEach(W=>{this.states[W.name]=new As(W.style,W.options&&W.options.params||{},N)}),gs(this.states,"true","1"),gs(this.states,"false","0"),w.transitions.forEach(W=>{this.transitionFactories.push(new Zi(b,W,this.states))}),this.fallbackTransition=function(L,b,w){return new Zi(L,{type:1,animation:{type:2,steps:[],options:null},matchers:[(_e,Ie)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,w,N,W){return this.transitionFactories.find(_e=>_e.match(b,w,N,W))||null}matchStyles(b,w,N){return this.fallbackTransition.buildStyles(b,w,N)}}function gs(L,b,w){L.hasOwnProperty(b)?L.hasOwnProperty(w)||(L[w]=L[b]):L.hasOwnProperty(w)&&(L[b]=L[w])}const Qs=new Gr;class ss{constructor(b,w,N){this.bodyNode=b,this._driver=w,this._normalizer=N,this._animations={},this._playersById={},this.players=[]}register(b,w){const N=[],W=yi(this._driver,w,N);if(N.length)throw new Error(`Unable to build the animation due to the following errors: ${N.join("\n")}`);this._animations[b]=W}_buildPlayer(b,w,N){const W=b.element,oe=Xn(0,this._normalizer,0,b.keyframes,w,N);return this._driver.animate(W,oe,b.duration,b.delay,b.easing,[],!0)}create(b,w,N={}){const W=[],oe=this._animations[b];let _e;const Ie=new Map;if(oe?(_e=Bs(this._driver,w,oe,gi,Ai,{},{},N,Qs,W),_e.forEach(Wt=>{const vn=on(Ie,Wt.element,{});Wt.postStyleProps.forEach(In=>vn[In]=null)})):(W.push("The requested animation doesn't exist or has already been destroyed"),_e=[]),W.length)throw new Error(`Unable to create the animation due to the following errors: ${W.join("\n")}`);Ie.forEach((Wt,vn)=>{Object.keys(Wt).forEach(In=>{Wt[In]=this._driver.computeStyle(vn,In,Ht.l3)})});const pt=hn(_e.map(Wt=>{const vn=Ie.get(Wt.element);return this._buildPlayer(Wt,{},vn)}));return this._playersById[b]=pt,pt.onDestroy(()=>this.destroy(b)),this.players.push(pt),pt}destroy(b){const w=this._getPlayer(b);w.destroy(),delete this._playersById[b];const N=this.players.indexOf(w);N>=0&&this.players.splice(N,1)}_getPlayer(b){const w=this._playersById[b];if(!w)throw new Error(`Unable to find the timeline player referenced by ${b}`);return w}listen(b,w,N,W){const oe=kt(w,"","","");return Rr(this._getPlayer(b),N,oe,W),()=>{}}command(b,w,N,W){if("register"==N)return void this.register(b,W[0]);if("create"==N)return void this.create(b,w,W[0]||{});const oe=this._getPlayer(b);switch(N){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(b)}}}const ms="ng-animate-queued",X="ng-animate-disabled",H=".ng-animate-disabled",it=[],Dt={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},P="__ng_removed";class R{constructor(b,w=""){this.namespaceId=w;const N=b&&b.hasOwnProperty("value");if(this.value=null!=(L=N?b.value:b)?L:null,N){const oe=lr(b);delete oe.value,this.options=oe}else this.options={};var L;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(b){const w=b.params;if(w){const N=this.options.params;Object.keys(w).forEach(W=>{null==N[W]&&(N[W]=w[W])})}}}const J="void",We=new R(J);class Pt{constructor(b,w,N){this.id=b,this.hostElement=w,this._engine=N,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,ai(w,this._hostClassName)}listen(b,w,N,W){if(!this._triggers.hasOwnProperty(w))throw new Error(`Unable to listen on the animation trigger event "${N}" because the animation trigger "${w}" doesn't exist!`);if(null==N||0==N.length)throw new Error(`Unable to listen on the animation trigger "${w}" because the provided event is undefined!`);if("start"!=(L=N)&&"done"!=L)throw new Error(`The provided animation trigger event "${N}" for the animation trigger "${w}" is not supported!`);var L;const oe=on(this._elementListeners,b,[]),_e={name:w,phase:N,callback:W};oe.push(_e);const Ie=on(this._engine.statesByElement,b,{});return Ie.hasOwnProperty(w)||(ai(b,br),ai(b,br+"-"+w),Ie[w]=We),()=>{this._engine.afterFlush(()=>{const et=oe.indexOf(_e);et>=0&&oe.splice(et,1),this._triggers[w]||delete Ie[w]})}}register(b,w){return!this._triggers[b]&&(this._triggers[b]=w,!0)}_getTrigger(b){const w=this._triggers[b];if(!w)throw new Error(`The provided animation trigger "${b}" has not been registered!`);return w}trigger(b,w,N,W=!0){const oe=this._getTrigger(w),_e=new sr(this.id,w,b);let Ie=this._engine.statesByElement.get(b);Ie||(ai(b,br),ai(b,br+"-"+w),this._engine.statesByElement.set(b,Ie={}));let et=Ie[w];const pt=new R(N,this.id);if(!(N&&N.hasOwnProperty("value"))&&et&&pt.absorbOptions(et.options),Ie[w]=pt,et||(et=We),pt.value!==J&&et.value===pt.value){if(!function(L,b){const w=Object.keys(L),N=Object.keys(b);if(w.length!=N.length)return!1;for(let W=0;W<w.length;W++){const oe=w[W];if(!b.hasOwnProperty(oe)||L[oe]!==b[oe])return!1}return!0}(et.params,pt.params)){const Ln=[],wr=oe.matchStyles(et.value,et.params,Ln),Rt=oe.matchStyles(pt.value,pt.params,Ln);Ln.length?this._engine.reportError(Ln):this._engine.afterFlush(()=>{ir(b,wr),En(b,Rt)})}return}const In=on(this._engine.playersByElement,b,[]);In.forEach(Ln=>{Ln.namespaceId==this.id&&Ln.triggerName==w&&Ln.queued&&Ln.destroy()});let fr=oe.matchTransition(et.value,pt.value,b,pt.params),Sn=!1;if(!fr){if(!W)return;fr=oe.fallbackTransition,Sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:w,transition:fr,fromState:et,toState:pt,player:_e,isFallbackTransition:Sn}),Sn||(ai(b,ms),_e.onStart(()=>{uo(b,ms)})),_e.onDone(()=>{let Ln=this.players.indexOf(_e);Ln>=0&&this.players.splice(Ln,1);const wr=this._engine.playersByElement.get(b);if(wr){let Rt=wr.indexOf(_e);Rt>=0&&wr.splice(Rt,1)}}),this.players.push(_e),In.push(_e),_e}deregister(b){delete this._triggers[b],this._engine.statesByElement.forEach((w,N)=>{delete w[b]}),this._elementListeners.forEach((w,N)=>{this._elementListeners.set(N,w.filter(W=>W.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const w=this._engine.playersByElement.get(b);w&&(w.forEach(N=>N.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,w){const N=this._engine.driver.query(b,Rn,!0);N.forEach(W=>{if(W[P])return;const oe=this._engine.fetchNamespacesByElement(W);oe.size?oe.forEach(_e=>_e.triggerLeaveAnimation(W,w,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>N.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(b,w,N,W){const oe=this._engine.statesByElement.get(b);if(oe){const _e=[];if(Object.keys(oe).forEach(Ie=>{if(this._triggers[Ie]){const et=this.trigger(b,Ie,J,W);et&&_e.push(et)}}),_e.length)return this._engine.markElementAsRemoved(this.id,b,!0,w),N&&hn(_e).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const w=this._elementListeners.get(b),N=this._engine.statesByElement.get(b);if(w&&N){const W=new Set;w.forEach(oe=>{const _e=oe.name;if(W.has(_e))return;W.add(_e);const et=this._triggers[_e].fallbackTransition,pt=N[_e]||We,Wt=new R(J),vn=new sr(this.id,_e,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:_e,transition:et,fromState:pt,toState:Wt,player:vn,isFallbackTransition:!0})})}}removeNode(b,w){const N=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,w),this.triggerLeaveAnimation(b,w,!0))return;let W=!1;if(N.totalAnimations){const oe=N.players.length?N.playersByQueriedElement.get(b):[];if(oe&&oe.length)W=!0;else{let _e=b;for(;_e=_e.parentNode;)if(N.statesByElement.get(_e)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(b),W)N.markElementAsRemoved(this.id,b,!1,w);else{const oe=b[P];(!oe||oe===Dt)&&(N.afterFlush(()=>this.clearElementCache(b)),N.destroyInnerAnimations(b),N._onRemovalComplete(b,w))}}insertNode(b,w){ai(b,this._hostClassName)}drainQueuedTransitions(b){const w=[];return this._queue.forEach(N=>{const W=N.player;if(W.destroyed)return;const oe=N.element,_e=this._elementListeners.get(oe);_e&&_e.forEach(Ie=>{if(Ie.name==N.triggerName){const et=kt(oe,N.triggerName,N.fromState.value,N.toState.value);et._data=b,Rr(N.player,Ie.phase,et,Ie.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):w.push(N)}),this._queue=[],w.sort((N,W)=>{const oe=N.transition.ast.depCount,_e=W.transition.ast.depCount;return 0==oe||0==_e?oe-_e:this._engine.driver.containsElement(N.element,W.element)?1:-1})}destroy(b){this.players.forEach(w=>w.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let w=!1;return this._elementListeners.has(b)&&(w=!0),w=!!this._queue.find(N=>N.element===b)||w,w}}class An{constructor(b,w,N){this.bodyNode=b,this.driver=w,this._normalizer=N,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,oe)=>{}}_onRemovalComplete(b,w){this.onRemovalComplete(b,w)}get queuedPlayers(){const b=[];return this._namespaceList.forEach(w=>{w.players.forEach(N=>{N.queued&&b.push(N)})}),b}createNamespace(b,w){const N=new Pt(b,w,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,w)?this._balanceNamespaceList(N,w):(this.newHostElements.set(w,N),this.collectEnterElement(w)),this._namespaceLookup[b]=N}_balanceNamespaceList(b,w){const N=this._namespaceList.length-1;if(N>=0){let W=!1;for(let oe=N;oe>=0;oe--)if(this.driver.containsElement(this._namespaceList[oe].hostElement,w)){this._namespaceList.splice(oe+1,0,b),W=!0;break}W||this._namespaceList.splice(0,0,b)}else this._namespaceList.push(b);return this.namespacesByHostElement.set(w,b),b}register(b,w){let N=this._namespaceLookup[b];return N||(N=this.createNamespace(b,w)),N}registerTrigger(b,w,N){let W=this._namespaceLookup[b];W&&W.register(w,N)&&this.totalAnimations++}destroy(b,w){if(!b)return;const N=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(N.hostElement),delete this._namespaceLookup[b];const W=this._namespaceList.indexOf(N);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>N.destroy(w))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const w=new Set,N=this.statesByElement.get(b);if(N){const W=Object.keys(N);for(let oe=0;oe<W.length;oe++){const _e=N[W[oe]].namespaceId;if(_e){const Ie=this._fetchNamespace(_e);Ie&&w.add(Ie)}}}return w}trigger(b,w,N,W){if(Yr(w)){const oe=this._fetchNamespace(b);if(oe)return oe.trigger(w,N,W),!0}return!1}insertNode(b,w,N,W){if(!Yr(w))return;const oe=w[P];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const _e=this.collectedLeaveElements.indexOf(w);_e>=0&&this.collectedLeaveElements.splice(_e,1)}if(b){const _e=this._fetchNamespace(b);_e&&_e.insertNode(w,N)}W&&this.collectEnterElement(w)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,w){w?this.disabledNodes.has(b)||(this.disabledNodes.add(b),ai(b,X)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),uo(b,X))}removeNode(b,w,N,W){if(Yr(w)){const oe=b?this._fetchNamespace(b):null;if(oe?oe.removeNode(w,W):this.markElementAsRemoved(b,w,!1,W),N){const _e=this.namespacesByHostElement.get(w);_e&&_e.id!==b&&_e.removeNode(w,W)}}else this._onRemovalComplete(w,W)}markElementAsRemoved(b,w,N,W){this.collectedLeaveElements.push(w),w[P]={namespaceId:b,setForRemoval:W,hasAnimation:N,removedBeforeQueried:!1}}listen(b,w,N,W,oe){return Yr(w)?this._fetchNamespace(b).listen(w,N,W,oe):()=>{}}_buildInstruction(b,w,N,W,oe){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,N,W,b.fromState.options,b.toState.options,w,oe)}destroyInnerAnimations(b){let w=this.driver.query(b,Rn,!0);w.forEach(N=>this.destroyActiveAnimationsForElement(N)),0!=this.playersByQueriedElement.size&&(w=this.driver.query(b,Tr,!0),w.forEach(N=>this.finishActiveQueriedAnimationOnElement(N)))}destroyActiveAnimationsForElement(b){const w=this.playersByElement.get(b);w&&w.forEach(N=>{N.queued?N.markedForDestroy=!0:N.destroy()})}finishActiveQueriedAnimationOnElement(b){const w=this.playersByQueriedElement.get(b);w&&w.forEach(N=>N.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return hn(this.players).onDone(()=>b());b()})}processLeaveNode(b){const w=b[P];if(w&&w.setForRemoval){if(b[P]=Dt,w.namespaceId){this.destroyInnerAnimations(b);const N=this._fetchNamespace(w.namespaceId);N&&N.clearElementCache(b)}this._onRemovalComplete(b,w.setForRemoval)}this.driver.matchesElement(b,H)&&this.markElementAsDisabled(b,!1),this.driver.query(b,H,!0).forEach(N=>{this.markElementAsDisabled(N,!1)})}flush(b=-1){let w=[];if(this.newHostElements.size&&(this.newHostElements.forEach((N,W)=>this._balanceNamespaceList(N,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let N=0;N<this.collectedEnterElements.length;N++)ai(this.collectedEnterElements[N],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const N=[];try{w=this._flushAnimations(N,b)}finally{for(let W=0;W<N.length;W++)N[W]()}}else for(let N=0;N<this.collectedLeaveElements.length;N++)this.processLeaveNode(this.collectedLeaveElements[N]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(N=>N()),this._flushFns=[],this._whenQuietFns.length){const N=this._whenQuietFns;this._whenQuietFns=[],w.length?hn(w).onDone(()=>{N.forEach(W=>W())}):N.forEach(W=>W())}}reportError(b){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${b.join("\n")}`)}_flushAnimations(b,w){const N=new Gr,W=[],oe=new Map,_e=[],Ie=new Map,et=new Map,pt=new Map,Wt=new Set;this.disabledNodes.forEach(pe=>{Wt.add(pe);const Xe=this.driver.query(pe,".ng-animate-queued",!0);for(let Ct=0;Ct<Xe.length;Ct++)Wt.add(Xe[Ct])});const vn=this.bodyNode,In=Array.from(this.statesByElement.keys()),fr=Xs(In,this.collectedEnterElements),Sn=new Map;let Ln=0;fr.forEach((pe,Xe)=>{const Ct=gi+Ln++;Sn.set(Xe,Ct),pe.forEach(pn=>ai(pn,Ct))});const wr=[],Rt=new Set,or=new Set;for(let pe=0;pe<this.collectedLeaveElements.length;pe++){const Xe=this.collectedLeaveElements[pe],Ct=Xe[P];Ct&&Ct.setForRemoval&&(wr.push(Xe),Rt.add(Xe),Ct.hasAnimation?this.driver.query(Xe,".ng-star-inserted",!0).forEach(pn=>Rt.add(pn)):or.add(Xe))}const li=new Map,Ri=Xs(In,Array.from(Rt));Ri.forEach((pe,Xe)=>{const Ct=Ai+Ln++;li.set(Xe,Ct),pe.forEach(pn=>ai(pn,Ct))}),b.push(()=>{fr.forEach((pe,Xe)=>{const Ct=Sn.get(Xe);pe.forEach(pn=>uo(pn,Ct))}),Ri.forEach((pe,Xe)=>{const Ct=li.get(Xe);pe.forEach(pn=>uo(pn,Ct))}),wr.forEach(pe=>{this.processLeaveNode(pe)})});const mn=[],Dn=[];for(let pe=this._namespaceList.length-1;pe>=0;pe--)this._namespaceList[pe].drainQueuedTransitions(w).forEach(Ct=>{const pn=Ct.player,sn=Ct.element;if(mn.push(pn),this.collectedEnterElements.length){const Gs=sn[P];if(Gs&&Gs.setForMove)return void pn.destroy()}const Jt=!vn||!this.driver.containsElement(vn,sn),Mn=li.get(sn),Ui=Sn.get(sn),Jn=this._buildInstruction(Ct,N,Ui,Mn,Jt);if(Jn.errors&&Jn.errors.length)Dn.push(Jn);else{if(Jt)return pn.onStart(()=>ir(sn,Jn.fromStyles)),pn.onDestroy(()=>En(sn,Jn.toStyles)),void W.push(pn);if(Ct.isFallbackTransition)return pn.onStart(()=>ir(sn,Jn.fromStyles)),pn.onDestroy(()=>En(sn,Jn.toStyles)),void W.push(pn);Jn.timelines.forEach(Gs=>Gs.stretchStartingKeyframe=!0),N.append(sn,Jn.timelines),_e.push({instruction:Jn,player:pn,element:sn}),Jn.queriedElements.forEach(Gs=>on(Ie,Gs,[]).push(pn)),Jn.preStyleProps.forEach((Gs,ls)=>{const po=Object.keys(Gs);if(po.length){let go=et.get(ls);go||et.set(ls,go=new Set),po.forEach(Mr=>go.add(Mr))}}),Jn.postStyleProps.forEach((Gs,ls)=>{const po=Object.keys(Gs);let go=pt.get(ls);go||pt.set(ls,go=new Set),po.forEach(Mr=>go.add(Mr))})}});if(Dn.length){const pe=[];Dn.forEach(Xe=>{pe.push(`@${Xe.triggerName} has failed due to:\n`),Xe.errors.forEach(Ct=>pe.push(`- ${Ct}\n`))}),mn.forEach(Xe=>Xe.destroy()),this.reportError(pe)}const as=new Map,Zt=new Map;_e.forEach(pe=>{const Xe=pe.element;N.has(Xe)&&(Zt.set(Xe,Xe),this._beforeAnimationBuild(pe.player.namespaceId,pe.instruction,as))}),W.forEach(pe=>{const Xe=pe.element;this._getPreviousPlayers(Xe,!1,pe.namespaceId,pe.triggerName,null).forEach(pn=>{on(as,Xe,[]).push(pn),pn.destroy()})});const D=wr.filter(pe=>ni(pe,et,pt)),T=new Map;Js(T,this.driver,or,pt,Ht.l3).forEach(pe=>{ni(pe,et,pt)&&D.push(pe)});const F=new Map;fr.forEach((pe,Xe)=>{Js(F,this.driver,new Set(pe),et,Ht.k1)}),D.forEach(pe=>{const Xe=T.get(pe),Ct=F.get(pe);T.set(pe,Object.assign(Object.assign({},Xe),Ct))});const G=[],ne=[],be={};_e.forEach(pe=>{const{element:Xe,player:Ct,instruction:pn}=pe;if(N.has(Xe)){if(Wt.has(Xe))return Ct.onDestroy(()=>En(Xe,pn.toStyles)),Ct.disabled=!0,Ct.overrideTotalTime(pn.totalTime),void W.push(Ct);let sn=be;if(Zt.size>1){let Mn=Xe;const Ui=[];for(;Mn=Mn.parentNode;){const Jn=Zt.get(Mn);if(Jn){sn=Jn;break}Ui.push(Mn)}Ui.forEach(Jn=>Zt.set(Jn,sn))}const Jt=this._buildAnimation(Ct.namespaceId,pn,as,oe,F,T);if(Ct.setRealPlayer(Jt),sn===be)G.push(Ct);else{const Mn=this.playersByElement.get(sn);Mn&&Mn.length&&(Ct.parentPlayer=hn(Mn)),W.push(Ct)}}else ir(Xe,pn.fromStyles),Ct.onDestroy(()=>En(Xe,pn.toStyles)),ne.push(Ct),Wt.has(Xe)&&W.push(Ct)}),ne.forEach(pe=>{const Xe=oe.get(pe.element);if(Xe&&Xe.length){const Ct=hn(Xe);pe.setRealPlayer(Ct)}}),W.forEach(pe=>{pe.parentPlayer?pe.syncPlayerEvents(pe.parentPlayer):pe.destroy()});for(let pe=0;pe<wr.length;pe++){const Xe=wr[pe],Ct=Xe[P];if(uo(Xe,Ai),Ct&&Ct.hasAnimation)continue;let pn=[];if(Ie.size){let Jt=Ie.get(Xe);Jt&&Jt.length&&pn.push(...Jt);let Mn=this.driver.query(Xe,Tr,!0);for(let Ui=0;Ui<Mn.length;Ui++){let Jn=Ie.get(Mn[Ui]);Jn&&Jn.length&&pn.push(...Jn)}}const sn=pn.filter(Jt=>!Jt.destroyed);sn.length?Hs(this,Xe,sn):this.processLeaveNode(Xe)}return wr.length=0,G.forEach(pe=>{this.players.push(pe),pe.onDone(()=>{pe.destroy();const Xe=this.players.indexOf(pe);this.players.splice(Xe,1)}),pe.play()}),G}elementContainsData(b,w){let N=!1;const W=w[P];return W&&W.setForRemoval&&(N=!0),this.playersByElement.has(w)&&(N=!0),this.playersByQueriedElement.has(w)&&(N=!0),this.statesByElement.has(w)&&(N=!0),this._fetchNamespace(b).elementContainsData(w)||N}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,w,N,W,oe){let _e=[];if(w){const Ie=this.playersByQueriedElement.get(b);Ie&&(_e=Ie)}else{const Ie=this.playersByElement.get(b);if(Ie){const et=!oe||oe==J;Ie.forEach(pt=>{pt.queued||!et&&pt.triggerName!=W||_e.push(pt)})}}return(N||W)&&(_e=_e.filter(Ie=>!(N&&N!=Ie.namespaceId||W&&W!=Ie.triggerName))),_e}_beforeAnimationBuild(b,w,N){const oe=w.element,_e=w.isRemovalTransition?void 0:b,Ie=w.isRemovalTransition?void 0:w.triggerName;for(const et of w.timelines){const pt=et.element,Wt=pt!==oe,vn=on(N,pt,[]);this._getPreviousPlayers(pt,Wt,_e,Ie,w.toState).forEach(fr=>{const Sn=fr.getRealPlayer();Sn.beforeDestroy&&Sn.beforeDestroy(),fr.destroy(),vn.push(fr)})}ir(oe,w.fromStyles)}_buildAnimation(b,w,N,W,oe,_e){const Ie=w.triggerName,et=w.element,pt=[],Wt=new Set,vn=new Set,In=w.timelines.map(Sn=>{const Ln=Sn.element;Wt.add(Ln);const wr=Ln[P];if(wr&&wr.removedBeforeQueried)return new Ht.ZN(Sn.duration,Sn.delay);const Rt=Ln!==et,or=function(L){const b=[];return hr(L,b),b}((N.get(Ln)||it).map(as=>as.getRealPlayer())).filter(as=>!!as.element&&as.element===Ln),li=oe.get(Ln),Ri=_e.get(Ln),mn=Xn(0,this._normalizer,0,Sn.keyframes,li,Ri),Dn=this._buildPlayer(Sn,mn,or);if(Sn.subTimeline&&W&&vn.add(Ln),Rt){const as=new sr(b,Ie,Ln);as.setRealPlayer(Dn),pt.push(as)}return Dn});pt.forEach(Sn=>{on(this.playersByQueriedElement,Sn.element,[]).push(Sn),Sn.onDone(()=>function(L,b,w){let N;if(L instanceof Map){if(N=L.get(b),N){if(N.length){const W=N.indexOf(w);N.splice(W,1)}0==N.length&&L.delete(b)}}else if(N=L[b],N){if(N.length){const W=N.indexOf(w);N.splice(W,1)}0==N.length&&delete L[b]}return N}(this.playersByQueriedElement,Sn.element,Sn))}),Wt.forEach(Sn=>ai(Sn,an));const fr=hn(In);return fr.onDestroy(()=>{Wt.forEach(Sn=>uo(Sn,an)),En(et,w.toStyles)}),vn.forEach(Sn=>{on(W,Sn,[]).push(fr)}),fr}_buildPlayer(b,w,N){return w.length>0?this.driver.animate(b.element,w,b.duration,b.delay,b.easing,N):new Ht.ZN(b.duration,b.delay)}}class sr{constructor(b,w,N){this.namespaceId=b,this.triggerName=w,this.element=N,this._player=new Ht.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,Object.keys(this._queuedCallbacks).forEach(w=>{this._queuedCallbacks[w].forEach(N=>Rr(b,w,void 0,N))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const w=this._player;w.triggerCallback&&b.onStart(()=>w.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,w){on(this._queuedCallbacks,b,[]).push(w)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const w=this._player;w.triggerCallback&&w.triggerCallback(b)}}function Yr(L){return L&&1===L.nodeType}function Tn(L,b){const w=L.style.display;return L.style.display=null!=b?b:"none",w}function Js(L,b,w,N,W){const oe=[];w.forEach(et=>oe.push(Tn(et)));const _e=[];N.forEach((et,pt)=>{const Wt={};et.forEach(vn=>{const In=Wt[vn]=b.computeStyle(pt,vn,W);(!In||0==In.length)&&(pt[P]=V,_e.push(pt))}),L.set(pt,Wt)});let Ie=0;return w.forEach(et=>Tn(et,oe[Ie++])),_e}function Xs(L,b){const w=new Map;if(L.forEach(Ie=>w.set(Ie,[])),0==b.length)return w;const W=new Set(b),oe=new Map;function _e(Ie){if(!Ie)return 1;let et=oe.get(Ie);if(et)return et;const pt=Ie.parentNode;return et=w.has(pt)?pt:W.has(pt)?1:_e(pt),oe.set(Ie,et),et}return b.forEach(Ie=>{const et=_e(Ie);1!==et&&w.get(et).push(Ie)}),w}const ys="$$classes";function ai(L,b){if(L.classList)L.classList.add(b);else{let w=L[ys];w||(w=L[ys]={}),w[b]=!0}}function uo(L,b){if(L.classList)L.classList.remove(b);else{let w=L[ys];w&&delete w[b]}}function Hs(L,b,w){hn(w).onDone(()=>L.processLeaveNode(b))}function hr(L,b){for(let w=0;w<L.length;w++){const N=L[w];N instanceof Ht.ZE?hr(N.players,b):b.push(N)}}function ni(L,b,w){const N=w.get(L);if(!N)return!1;let W=b.get(L);return W?N.forEach(oe=>W.add(oe)):b.set(L,N),w.delete(L),!0}class Ao{constructor(b,w,N){this.bodyNode=b,this._driver=w,this._normalizer=N,this._triggerCache={},this.onRemovalComplete=(W,oe)=>{},this._transitionEngine=new An(b,w,N),this._timelineEngine=new ss(b,w,N),this._transitionEngine.onRemovalComplete=(W,oe)=>this.onRemovalComplete(W,oe)}registerTrigger(b,w,N,W,oe){const _e=b+"-"+W;let Ie=this._triggerCache[_e];if(!Ie){const et=[],pt=yi(this._driver,oe,et);if(et.length)throw new Error(`The animation trigger "${W}" has failed to build due to the following errors:\n - ${et.join("\n - ")}`);Ie=function(L,b,w){return new Ji(L,b,w)}(W,pt,this._normalizer),this._triggerCache[_e]=Ie}this._transitionEngine.registerTrigger(w,W,Ie)}register(b,w){this._transitionEngine.register(b,w)}destroy(b,w){this._transitionEngine.destroy(b,w)}onInsert(b,w,N,W){this._transitionEngine.insertNode(b,w,N,W)}onRemove(b,w,N,W){this._transitionEngine.removeNode(b,w,W||!1,N)}disableAnimations(b,w){this._transitionEngine.markElementAsDisabled(b,w)}process(b,w,N,W){if("@"==N.charAt(0)){const[oe,_e]=jr(N);this._timelineEngine.command(oe,w,_e,W)}else this._transitionEngine.trigger(b,w,N,W)}listen(b,w,N,W,oe){if("@"==N.charAt(0)){const[_e,Ie]=jr(N);return this._timelineEngine.listen(_e,w,Ie,oe)}return this._transitionEngine.listen(b,w,N,W,oe)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function _s(L,b){let w=null,N=null;return Array.isArray(b)&&b.length?(w=Ss(b[0]),b.length>1&&(N=Ss(b[b.length-1]))):b&&(w=Ss(b)),w||N?new vs(L,w,N):null}let vs=(()=>{class L{constructor(w,N,W){this._element=w,this._startStyles=N,this._endStyles=W,this._state=0;let oe=L.initialStylesByElement.get(w);oe||L.initialStylesByElement.set(w,oe={}),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&En(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(En(this._element,this._initialStyles),this._endStyles&&(En(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(L.initialStylesByElement.delete(this._element),this._startStyles&&(ir(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ir(this._element,this._endStyles),this._endStyles=null),En(this._element,this._initialStyles),this._state=3)}}return L.initialStylesByElement=new WeakMap,L})();function Ss(L){let b=null;const w=Object.keys(L);for(let N=0;N<w.length;N++){const W=w[N];So(W)&&(b=b||{},b[W]=L[W])}return b}function So(L){return"display"===L||"position"===L}const co="animation",vo="animationend";class wi{constructor(b,w,N,W,oe,_e,Ie){this._element=b,this._name=w,this._duration=N,this._delay=W,this._easing=oe,this._fillMode=_e,this._onDoneFn=Ie,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=et=>this._handleCallback(et)}apply(){(function(L,b){const w=Ro(L,"").trim();let N=0;w.length&&(function(L,b){let w=0;for(let N=0;N<L.length;N++)","===L.charAt(N)&&w++;return w}(w)+1,b=`${w}, ${b}`),$s(L,"",b)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),xs(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xi(this._element,this._name,"paused")}resume(){Xi(this._element,this._name,"running")}setPosition(b){const w=zi(this._element,this._name);this._position=b*this._duration,$s(this._element,"Delay",`-${this._position}ms`,w)}getPosition(){return this._position}_handleCallback(b){const w=b._ngTestManualTimestamp||Date.now(),N=1e3*parseFloat(b.elapsedTime.toFixed(3));b.animationName==this._name&&Math.max(w-this._startTime,0)>=this._delay&&N>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),xs(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(L,b){const N=Ro(L,"").split(","),W=Qo(N,b);W>=0&&(N.splice(W,1),$s(L,"",N.join(",")))}(this._element,this._name))}}function Xi(L,b,w){$s(L,"PlayState",w,zi(L,b))}function zi(L,b){const w=Ro(L,"");return w.indexOf(",")>0?Qo(w.split(","),b):Qo([w],b)}function Qo(L,b){for(let w=0;w<L.length;w++)if(L[w].indexOf(b)>=0)return w;return-1}function xs(L,b,w){w?L.removeEventListener(vo,b):L.addEventListener(vo,b)}function $s(L,b,w,N){const W=co+b;if(null!=N){const oe=L.style[W];if(oe.length){const _e=oe.split(",");_e[N]=w,w=_e.join(",")}}L.style[W]=w}function Ro(L,b){return L.style[co+b]||""}class ae{constructor(b,w,N,W,oe,_e,Ie,et){this.element=b,this.keyframes=w,this.animationName=N,this._duration=W,this._delay=oe,this._finalStyles=Ie,this._specialStyles=et,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=_e||"linear",this.totalTime=W+oe,this._buildStyler()}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(b=>b()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(b=>b()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(b){this._styler.setPosition(b)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wi(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(b){const w="start"==b?this._onStartFns:this._onDoneFns;w.forEach(N=>N()),w.length=0}beforeDestroy(){this.init();const b={};if(this.hasStarted()){const w=this._state>=3;Object.keys(this._finalStyles).forEach(N=>{"offset"!=N&&(b[N]=w?this._finalStyles[N]:Cs(this.element,N))})}this.currentSnapshot=b}}class Oe extends Ht.ZN{constructor(b,w){super(),this.element=b,this._startingStyles={},this.__initialized=!1,this._styles=Hn(w)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(b=>{this._startingStyles[b]=this.element.style[b]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(b=>this.element.style.setProperty(b,this._styles[b])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(b=>{const w=this._startingStyles[b];w?this.element.style.setProperty(b,w):this.element.style.removeProperty(b)}),this._startingStyles=null,super.destroy())}}class en{constructor(){this._count=0}validateStyleProperty(b){return Vt(b)}matchesElement(b,w){return qn(b,w)}containsElement(b,w){return Er(b,w)}query(b,w,N){return Gn(b,w,N)}computeStyle(b,w,N){return window.getComputedStyle(b)[w]}buildKeyframeElement(b,w,N){N=N.map(Ie=>Hn(Ie));let W=`@keyframes ${w} {\n`,oe="";N.forEach(Ie=>{oe=" ";const et=parseFloat(Ie.offset);W+=`${oe}${100*et}% {\n`,oe+=" ",Object.keys(Ie).forEach(pt=>{const Wt=Ie[pt];switch(pt){case"offset":return;case"easing":return void(Wt&&(W+=`${oe}animation-timing-function: ${Wt};\n`));default:return void(W+=`${oe}${pt}: ${Wt};\n`)}}),W+=`${oe}}\n`}),W+="}\n";const _e=document.createElement("style");return _e.textContent=W,_e}animate(b,w,N,W,oe,_e=[],Ie){const et=_e.filter(wr=>wr instanceof ae),pt={};gr(N,W)&&et.forEach(wr=>{let Rt=wr.currentSnapshot;Object.keys(Rt).forEach(or=>pt[or]=Rt[or])});const Wt=function(L){let b={};return L&&(Array.isArray(L)?L:[L]).forEach(N=>{Object.keys(N).forEach(W=>{"offset"==W||"easing"==W||(b[W]=N[W])})}),b}(w=Un(b,w,pt));if(0==N)return new Oe(b,Wt);const vn="gen_css_kf_"+this._count++,In=this.buildKeyframeElement(b,vn,w);(function(L){var b;const w=null===(b=L.getRootNode)||void 0===b?void 0:b.call(L);return"undefined"!=typeof ShadowRoot&&w instanceof ShadowRoot?w:document.head})(b).appendChild(In);const Sn=_s(b,w),Ln=new ae(b,w,vn,N,W,oe,Wt,Sn);return Ln.onDestroy(()=>{var L;(L=In).parentNode.removeChild(L)}),Ln}}class Qr{constructor(b,w,N,W){this.element=b,this.keyframes=w,this.options=N,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=N.duration,this._delay=N.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(b,w,N){return b.animate(w,N)}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(w=>{"offset"!=w&&(b[w]=this._finished?this._finalKeyframe[w]:Cs(this.element,w))}),this.currentSnapshot=b}triggerCallback(b){const w="start"==b?this._onStartFns:this._onDoneFns;w.forEach(N=>N()),w.length=0}}class tr{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vr().toString()),this._cssKeyframesDriver=new en}validateStyleProperty(b){return Vt(b)}matchesElement(b,w){return qn(b,w)}containsElement(b,w){return Er(b,w)}query(b,w,N){return Gn(b,w,N)}computeStyle(b,w,N){return window.getComputedStyle(b)[w]}overrideWebAnimationsSupport(b){this._isNativeImpl=b}animate(b,w,N,W,oe,_e=[],Ie){if(!Ie&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(b,w,N,W,oe,_e);const Wt={duration:N,delay:W,fill:0==W?"both":"forwards"};oe&&(Wt.easing=oe);const vn={},In=_e.filter(Sn=>Sn instanceof Qr);gr(N,W)&&In.forEach(Sn=>{let Ln=Sn.currentSnapshot;Object.keys(Ln).forEach(wr=>vn[wr]=Ln[wr])});const fr=_s(b,w=Un(b,w=w.map(Sn=>Qn(Sn,!1)),vn));return new Qr(b,w,Wt,fr)}}function vr(){return dn()&&Element.prototype.animate||{}}let Vi=(()=>{class L extends Ht._j{constructor(w,N){super(),this._nextAnimationId=0,this._renderer=w.createRenderer(N.body,{id:"0",encapsulation:g.ifc.None,styles:[],data:{animation:[]}})}build(w){const N=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(w)?(0,Ht.vP)(w):w;return Zr(this._renderer,null,N,"register",[W]),new es(N,this._renderer)}}return L.\u0275fac=function(w){return new(w||L)(g.LFG(g.FYo),g.LFG($e.K0))},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac}),L})();class es extends Ht.LC{constructor(b,w){super(),this._id=b,this._renderer=w}create(b,w){return new bi(this._id,b,w||{},this._renderer)}}class bi{constructor(b,w,N,W){this.id=b,this.element=w,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",N)}_listen(b,w){return this._renderer.listen(this.element,`@@${this.id}:${b}`,w)}_command(b,...w){return Zr(this._renderer,this.element,this.id,b,w)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,w;return null!==(w=null===(b=this._renderer.engine.players[+this.id])||void 0===b?void 0:b.getPosition())&&void 0!==w?w:0}}function Zr(L,b,w,N,W){return L.setProperty(b,`@@${w}:${N}`,W)}const Ci="@.disabled";let to=(()=>{class L{constructor(w,N,W){this.delegate=w,this.engine=N,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),N.onRemovalComplete=(oe,_e)=>{_e&&_e.parentNode(oe)&&_e.removeChild(oe.parentNode,oe)}}createRenderer(w,N){const oe=this.delegate.createRenderer(w,N);if(!(w&&N&&N.data&&N.data.animation)){let Wt=this._rendererCache.get(oe);return Wt||(Wt=new os("",oe,this.engine),this._rendererCache.set(oe,Wt)),Wt}const _e=N.id,Ie=N.id+"-"+this._currentId;this._currentId++,this.engine.register(Ie,w);const et=Wt=>{Array.isArray(Wt)?Wt.forEach(et):this.engine.registerTrigger(_e,Ie,w,Wt.name,Wt)};return N.data.animation.forEach(et),new wo(this,Ie,oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(w,N,W){w>=0&&w<this._microtaskId?this._zone.run(()=>N(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(oe=>{const[_e,Ie]=oe;_e(Ie)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([N,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return L.\u0275fac=function(w){return new(w||L)(g.LFG(g.FYo),g.LFG(Ao),g.LFG(g.R0b))},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac}),L})();class os{constructor(b,w,N){this.namespaceId=b,this.delegate=w,this.engine=N,this.destroyNode=this.delegate.destroyNode?W=>w.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(b,w){return this.delegate.createElement(b,w)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,w){this.delegate.appendChild(b,w),this.engine.onInsert(this.namespaceId,w,b,!1)}insertBefore(b,w,N,W=!0){this.delegate.insertBefore(b,w,N),this.engine.onInsert(this.namespaceId,w,b,W)}removeChild(b,w,N){this.engine.onRemove(this.namespaceId,w,this.delegate,N)}selectRootElement(b,w){return this.delegate.selectRootElement(b,w)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,w,N,W){this.delegate.setAttribute(b,w,N,W)}removeAttribute(b,w,N){this.delegate.removeAttribute(b,w,N)}addClass(b,w){this.delegate.addClass(b,w)}removeClass(b,w){this.delegate.removeClass(b,w)}setStyle(b,w,N,W){this.delegate.setStyle(b,w,N,W)}removeStyle(b,w,N){this.delegate.removeStyle(b,w,N)}setProperty(b,w,N){"@"==w.charAt(0)&&w==Ci?this.disableAnimations(b,!!N):this.delegate.setProperty(b,w,N)}setValue(b,w){this.delegate.setValue(b,w)}listen(b,w,N){return this.delegate.listen(b,w,N)}disableAnimations(b,w){this.engine.disableAnimations(b,w)}}class wo extends os{constructor(b,w,N,W){super(w,N,W),this.factory=b,this.namespaceId=w}setProperty(b,w,N){"@"==w.charAt(0)?"."==w.charAt(1)&&w==Ci?this.disableAnimations(b,N=void 0===N||!!N):this.engine.process(this.namespaceId,b,w.substr(1),N):this.delegate.setProperty(b,w,N)}listen(b,w,N){if("@"==w.charAt(0)){const W=function(L){switch(L){case"body":return document.body;case"document":return document;case"window":return window;default:return L}}(b);let oe=w.substr(1),_e="";return"@"!=oe.charAt(0)&&([oe,_e]=function(L){const b=L.indexOf(".");return[L.substring(0,b),L.substr(b+1)]}(oe)),this.engine.listen(this.namespaceId,W,oe,_e,Ie=>{this.factory.scheduleListenerCallback(Ie._data||-1,N,Ie)})}return this.delegate.listen(b,w,N)}}let Lo=(()=>{class L extends Ao{constructor(w,N,W){super(w.body,N,W)}ngOnDestroy(){this.flush()}}return L.\u0275fac=function(w){return new(w||L)(g.LFG($e.K0),g.LFG(Lr),g.LFG(Fi))},L.\u0275prov=g.Yz7({token:L,factory:L.\u0275fac}),L})();const Rs=new g.OlP("AnimationModuleType"),O=[{provide:Ht._j,useClass:Vi},{provide:Fi,useFactory:function(){return new Ds}},{provide:Ao,useClass:Lo},{provide:g.FYo,useFactory:function(L,b,w){return new to(L,b,w)},deps:[_.se,Ao,g.R0b]}],M=[{provide:Lr,useFactory:function(){return"function"==typeof vr()?new tr:new en}},{provide:Rs,useValue:"BrowserAnimations"},...O],Y=[{provide:Lr,useClass:Zn},{provide:Rs,useValue:"NoopAnimations"},...O];let Me=(()=>{class L{static withConfig(w){return{ngModule:L,providers:w.disableAnimations?Y:M}}}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=g.oAB({type:L}),L.\u0275inj=g.cJS({providers:M,imports:[_.b2]}),L})();var Nn=q(2271);let rr=(()=>{class L{}return L.\u0275fac=function(w){return new(w||L)},L.\u0275mod=g.oAB({type:L,bootstrap:[lt]}),L.\u0275inj=g.cJS({providers:[{provide:$t.sN,useClass:$t.TD}],imports:[[_.b2,Kt,Se.UX,Se.u5,rn.hO.initializeApp(ee_firebaseConfig),Me,un.Rh.forRoot({timeOut:1500,positionClass:"toast-bottom-center",preventDuplicates:!0}),$t.mZ,Nn.m]]}),L})();(0,g.G48)(),_.q6().bootstrapModule(rr).catch(L=>console.error(L))},4762:(Gt,tt,q)=>{"use strict";function Ve(Le,nt){var Qe={};for(var Te in Le)Object.prototype.hasOwnProperty.call(Le,Te)&&nt.indexOf(Te)<0&&(Qe[Te]=Le[Te]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var ze=0;for(Te=Object.getOwnPropertySymbols(Le);ze<Te.length;ze++)nt.indexOf(Te[ze])<0&&Object.prototype.propertyIsEnumerable.call(Le,Te[ze])&&(Qe[Te[ze]]=Le[Te[ze]])}return Qe}function he(Le,nt,Qe,Te){return new(Qe||(Qe=Promise))(function(Ee,Et){function Ft(Lt){try{Kt(Te.next(Lt))}catch(tn){Et(tn)}}function Yt(Lt){try{Kt(Te.throw(Lt))}catch(tn){Et(tn)}}function Kt(Lt){Lt.done?Ee(Lt.value):function(Ee){return Ee instanceof Qe?Ee:new Qe(function(Et){Et(Ee)})}(Lt.value).then(Ft,Yt)}Kt((Te=Te.apply(Le,nt||[])).next())})}function me(Le,nt){var Te,ze,Ee,Et,Qe={label:0,sent:function(){if(1&Ee[0])throw Ee[1];return Ee[1]},trys:[],ops:[]};return Et={next:Ft(0),throw:Ft(1),return:Ft(2)},"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function Ft(Kt){return function(Lt){return function(Kt){if(Te)throw new TypeError("Generator is already executing.");for(;Qe;)try{if(Te=1,ze&&(Ee=2&Kt[0]?ze.return:Kt[0]?ze.throw||((Ee=ze.return)&&Ee.call(ze),0):ze.next)&&!(Ee=Ee.call(ze,Kt[1])).done)return Ee;switch(ze=0,Ee&&(Kt=[2&Kt[0],Ee.value]),Kt[0]){case 0:case 1:Ee=Kt;break;case 4:return Qe.label++,{value:Kt[1],done:!1};case 5:Qe.label++,ze=Kt[1],Kt=[0];continue;case 7:Kt=Qe.ops.pop(),Qe.trys.pop();continue;default:if(!(Ee=(Ee=Qe.trys).length>0&&Ee[Ee.length-1])&&(6===Kt[0]||2===Kt[0])){Qe=0;continue}if(3===Kt[0]&&(!Ee||Kt[1]>Ee[0]&&Kt[1]<Ee[3])){Qe.label=Kt[1];break}if(6===Kt[0]&&Qe.label<Ee[1]){Qe.label=Ee[1],Ee=Kt;break}if(Ee&&Qe.label<Ee[2]){Qe.label=Ee[2],Qe.ops.push(Kt);break}Ee[2]&&Qe.ops.pop(),Qe.trys.pop();continue}Kt=nt.call(Le,Qe)}catch(Lt){Kt=[6,Lt],ze=0}finally{Te=Ee=0}if(5&Kt[0])throw Kt[1];return{value:Kt[0]?Kt[1]:void 0,done:!0}}([Kt,Lt])}}}function de(Le){var nt="function"==typeof Symbol&&Symbol.iterator,Qe=nt&&Le[nt],Te=0;if(Qe)return Qe.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&Te>=Le.length&&(Le=void 0),{value:Le&&Le[Te++],done:!Le}}};throw new TypeError(nt?"Object is not iterable.":"Symbol.iterator is not defined.")}function Se(Le,nt){var Qe="function"==typeof Symbol&&Le[Symbol.iterator];if(!Qe)return Le;var ze,Et,Te=Qe.call(Le),Ee=[];try{for(;(void 0===nt||nt-- >0)&&!(ze=Te.next()).done;)Ee.push(ze.value)}catch(Ft){Et={error:Ft}}finally{try{ze&&!ze.done&&(Qe=Te.return)&&Qe.call(Te)}finally{if(Et)throw Et.error}}return Ee}function qe(Le,nt,Qe){if(Qe||2===arguments.length)for(var Ee,Te=0,ze=nt.length;Te<ze;Te++)(Ee||!(Te in nt))&&(Ee||(Ee=Array.prototype.slice.call(nt,0,Te)),Ee[Te]=nt[Te]);return Le.concat(Ee||Array.prototype.slice.call(nt))}q.d(tt,{_T:()=>Ve,mG:()=>he,Jh:()=>me,XA:()=>de,CR:()=>Se,ev:()=>qe})},8239:(Gt,tt,q)=>{"use strict";function _(ee,Ve,Ne,ye,$e,he,me){try{var te=ee[he](me),ce=te.value}catch(de){return void Ne(de)}te.done?Ve(ce):Promise.resolve(ce).then(ye,$e)}function g(ee){return function(){var Ve=this,Ne=arguments;return new Promise(function(ye,$e){var he=ee.apply(Ve,Ne);function me(ce){_(he,ye,$e,me,te,"next",ce)}function te(ce){_(he,ye,$e,me,te,"throw",ce)}me(void 0)})}}q.d(tt,{Z:()=>g})}},Gt=>{Gt(Gt.s=5803)}]);