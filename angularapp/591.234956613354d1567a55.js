"use strict";(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[591],{5591:(Ce,vi,g)=>{g.r(vi),g.d(vi,{TurnosModule:()=>xe});var C=g(8583),ii=g(611),i=g(7716);let hi=(()=>{class o{constructor(e){this.router=e,this.usuario=JSON.parse(localStorage.getItem("usuario"))}canActivate(e,t){var a,s;return"paciente"===(null===(a=this.usuario)||void 0===a?void 0:a.perfil)||"admin"===(null===(s=this.usuario)||void 0===s?void 0:s.perfil)||(this.router.navigate(["/sin-permisos"]),!1)}}return o.\u0275fac=function(e){return new(e||o)(i.LFG(ii.F0))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var fi=g(1896),gi=g(8797);let xi=(()=>{class o{constructor(e){this.router=e,this.usuario=JSON.parse(localStorage.getItem("usuario"))}canActivate(e,t){var a;return"paciente"===(null===(a=this.usuario)||void 0===a?void 0:a.perfil)||(this.router.navigate(["/sin-permisos"]),!1)}}return o.\u0275fac=function(e){return new(e||o)(i.LFG(ii.F0))},o.\u0275prov=i.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var Z=g(8239),Ci=g(8259),f=g.n(Ci),ei=g(5160),_=g(665);let oi=(()=>{class o{constructor(e,t){this.el=e,this.renderer=t,this.appEstados=""}ngOnInit(){"aceptado"===this.appEstados?(this.renderer.addClass(this.el.nativeElement,"bg-warning"),this.renderer.addClass(this.el.nativeElement,"text-dark")):"cancelado"===this.appEstados?(this.renderer.addClass(this.el.nativeElement,"bg-danger"),this.renderer.addClass(this.el.nativeElement,"text-white")):"rechazado"===this.appEstados?(this.renderer.addClass(this.el.nativeElement,"bg-danger"),this.renderer.addClass(this.el.nativeElement,"text-dark")):"pendiente"===this.appEstados?(this.renderer.addClass(this.el.nativeElement,"bg-info"),this.renderer.addClass(this.el.nativeElement,"text-dark")):"realizado"===this.appEstados&&(this.renderer.addClass(this.el.nativeElement,"bg-success"),this.renderer.addClass(this.el.nativeElement,"text-dark"))}}return o.\u0275fac=function(e){return new(e||o)(i.Y36(i.SBq),i.Y36(i.Qsj))},o.\u0275dir=i.lG2({type:o,selectors:[["","appEstados",""]],inputs:{appEstados:"appEstados"}}),o})();var ti=g(4132);function Ti(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"div",33),i.TgZ(1,"i",34),i.NdJ("click",function(){return i.CHM(e),i.oxw().limpiarFiltros()}),i._uU(2,"Limpiar filtros"),i.qZA(),i.TgZ(3,"div",35),i.TgZ(4,"input",36),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().searchParam=a})("ngModelChange",function(){return i.CHM(e),i.oxw().filtrar()}),i.qZA(),i.qZA(),i.qZA()}if(2&o){const e=i.oxw();i.xp6(4),i.Q6J("ngModel",e.searchParam)}}function Zi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",44),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).seleccionarPaciente(s)}),i._UZ(1,"img",45),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagenes[0],i.LSH)}}function bi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",46),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).seleccionarEspecialidad(s)}),i._UZ(1,"img",45),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH),i.xp6(2),i.Oqu(e.especialidad)}}function Ai(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",57),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).cancelarTurno(a)}),i.qZA()}}function qi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",58),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).rechazarTurno(a)}),i.qZA()}}function wi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",59),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).aceptarTurno(a)}),i.qZA()}}function Mi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",60),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).turnoActual=a}),i.qZA()}}function Ei(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",61),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).verComentario(a)}),i.qZA()}}function Pi(o,l){if(1&o&&(i.TgZ(0,"div",47),i.TgZ(1,"div",48),i.TgZ(2,"h6"),i._uU(3),i.qZA(),i.TgZ(4,"h6"),i._uU(5),i.qZA(),i.TgZ(6,"h6"),i._uU(7),i.qZA(),i.TgZ(8,"h6",49),i._uU(9),i.qZA(),i.TgZ(10,"h6",49),i._uU(11),i.qZA(),i.TgZ(12,"h6"),i._uU(13),i.ALo(14,"uppercase"),i.qZA(),i.qZA(),i.TgZ(15,"div",50),i.TgZ(16,"div",51),i.YNc(17,Ai,1,0,"i",52),i.YNc(18,qi,1,0,"i",53),i.YNc(19,wi,1,0,"i",54),i.YNc(20,Mi,1,0,"i",55),i.YNc(21,Ei,1,0,"i",56),i.qZA(),i.qZA(),i.qZA()),2&o){const e=l.$implicit,t=i.oxw(2);i.Q6J("appEstados",null==e?null:e.estado),i.xp6(3),i.Oqu(e.fecha),i.xp6(2),i.Oqu(e.hora),i.xp6(2),i.Oqu(e.especialidad),i.xp6(2),i.lnq("",null==e.pacienteCompleto?null:e.pacienteCompleto.nombre," ",null==e.pacienteCompleto?null:e.pacienteCompleto.apellido," - ",null==e.pacienteCompleto?null:e.pacienteCompleto.dni,""),i.xp6(2),i.lnq("",null==t.especialista?null:t.especialista.nombre," ",null==t.especialista?null:t.especialista.apellido," - ",null==t.especialista?null:t.especialista.dni,""),i.xp6(2),i.Oqu(i.lcZ(14,16,e.estado)),i.xp6(4),i.Q6J("ngIf","aceptado"!==e.estado&&"cancelado"!==e.estado&&"rechazado"!==e.estado&&"realizado"!==e.estado),i.xp6(1),i.Q6J("ngIf","aceptado"!==e.estado&&"realizado"!==e.estado&&"rechazado"!==e.estado&&"cancelado"!==e.estado),i.xp6(1),i.Q6J("ngIf","realizado"!==e.estado&&"cancelado"!==e.estado&&"rechazado"!==e.estado&&"aceptado"!==e.estado),i.xp6(1),i.Q6J("ngIf","aceptado"===e.estado),i.xp6(1),i.Q6J("ngIf",(null==e?null:e.atencion)||(null==e?null:e.razon)||(null==e?null:e.satisfaccion))}}function yi(o,l){if(1&o&&(i.TgZ(0,"div"),i.TgZ(1,"span",62),i._uU(2),i.qZA(),i.qZA()),2&o){const e=i.oxw(2);i.xp6(2),i.Oqu(e.mensaje)}}function ki(o,l){if(1&o&&(i.TgZ(0,"div"),i.TgZ(1,"div",37),i.YNc(2,Zi,2,1,"span",38),i.qZA(),i.TgZ(3,"div",39),i.YNc(4,bi,4,2,"span",40),i.qZA(),i.TgZ(5,"div",41),i.YNc(6,Pi,22,18,"div",42),i.qZA(),i.YNc(7,yi,3,1,"div",43),i.qZA()),2&o){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.pacientes),i.xp6(2),i.Q6J("ngForOf",e.array),i.xp6(2),i.Q6J("ngForOf",e.turnosMostrar),i.xp6(1),i.Q6J("ngIf",""!==e.mensaje)}}function Li(o,l){1&o&&i._UZ(0,"app-spinner")}function Ji(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"div",24),i.TgZ(1,"i",25),i.NdJ("click",function(){return i.CHM(e),i.oxw().limpiarFiltros()}),i._uU(2,"Limpiar filtros"),i.qZA(),i.TgZ(3,"div",26),i.TgZ(4,"input",27),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().searchParam=a})("ngModelChange",function(){return i.CHM(e),i.oxw().filtrar()}),i.qZA(),i.qZA(),i.qZA()}if(2&o){const e=i.oxw();i.xp6(4),i.Q6J("ngModel",e.searchParam)}}function Ii(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",34),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).seleccionarEspecialista(s)}),i._UZ(1,"img",35),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH)}}function Oi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",36),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).seleccionarEspecialidad(s)}),i._UZ(1,"img",35),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH),i.xp6(2),i.Oqu(e.especialidad)}}function Ui(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",46),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).cancelarTurno(a)}),i.qZA()}}function Ni(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",47),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).verComentario(a)}),i.qZA()}}function Si(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",48),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).turnoEncuesta=a}),i.qZA()}}function zi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",49),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(2).turnoEncuesta=a}),i.qZA()}}function Qi(o,l){if(1&o&&(i.TgZ(0,"div",37),i.TgZ(1,"div",38),i.TgZ(2,"h6"),i._uU(3),i.qZA(),i.TgZ(4,"h6"),i._uU(5),i.qZA(),i.TgZ(6,"h6"),i._uU(7),i.qZA(),i.TgZ(8,"h6",39),i._uU(9),i.qZA(),i.TgZ(10,"h6",39),i._uU(11),i.qZA(),i.TgZ(12,"h6"),i._uU(13),i.ALo(14,"uppercase"),i.qZA(),i.qZA(),i.TgZ(15,"div",40),i.TgZ(16,"div",41),i.YNc(17,Ui,1,0,"i",42),i.YNc(18,Ni,1,0,"i",43),i.YNc(19,Si,1,0,"i",44),i.YNc(20,zi,1,0,"i",45),i.qZA(),i.qZA(),i.qZA()),2&o){const e=l.$implicit,t=i.oxw(2);i.Q6J("appEstados",null==e?null:e.estado),i.xp6(3),i.Oqu(e.fecha),i.xp6(2),i.Oqu(e.hora),i.xp6(2),i.Oqu(e.especialidad),i.xp6(2),i.lnq("",null==e.especialistaCompleto?null:e.especialistaCompleto.nombre," ",null==e.especialistaCompleto?null:e.especialistaCompleto.apellido," - ",null==e.especialistaCompleto?null:e.especialistaCompleto.dni,""),i.xp6(2),i.lnq("",null==t.paciente?null:t.paciente.nombre," ",null==t.paciente?null:t.paciente.apellido," - ",null==t.paciente?null:t.paciente.dni,""),i.xp6(2),i.Oqu(i.lcZ(14,15,e.estado)),i.xp6(4),i.Q6J("ngIf","aceptado"!==e.estado&&"cancelado"!==e.estado&&"rechazado"!==e.estado&&"realizado"!==e.estado),i.xp6(1),i.Q6J("ngIf",(null==e?null:e.comentario)||(null==e?null:e.razon)),i.xp6(1),i.Q6J("ngIf","realizado"===e.estado&&(null==e?null:e.comentario)&&!e.encuesta),i.xp6(1),i.Q6J("ngIf","realizado"===e.estado&&!e.satisfaccion)}}function Yi(o,l){if(1&o&&(i.TgZ(0,"div"),i.TgZ(1,"div",28),i.YNc(2,Ii,2,1,"span",29),i.qZA(),i.TgZ(3,"div",30),i.YNc(4,Oi,4,2,"span",31),i.qZA(),i.TgZ(5,"div",32),i.YNc(6,Qi,21,17,"div",33),i.qZA(),i.qZA()),2&o){const e=i.oxw();i.xp6(2),i.Q6J("ngForOf",e.especialistas),i.xp6(2),i.Q6J("ngForOf",e.array),i.xp6(2),i.Q6J("ngForOf",e.turnosMostrar)}}function ji(o,l){1&o&&i._UZ(0,"app-spinner")}function Di(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",16),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(3).seleccionarPaciente(s)}),i._UZ(1,"img",17),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagenes[0],i.LSH),i.xp6(2),i.AsE("",e.nombre," ",e.apellido,"")}}function $i(o,l){if(1&o&&(i.TgZ(0,"div",14),i.YNc(1,Di,4,3,"span",15),i.qZA()),2&o){const e=i.oxw(2);i.xp6(1),i.Q6J("ngForOf",e.pacientes)}}function Bi(o,l){if(1&o&&(i.TgZ(0,"div",12),i.YNc(1,$i,2,1,"div",13),i.qZA()),2&o){const e=i.oxw(),t=i.MAs(15);i.xp6(1),i.Q6J("ngIf",void 0!==e.pacientes)("ngIfElse",t)}}function Vi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",18),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw().cambiarEspecialista(s)}),i._UZ(1,"img",19),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH)}}function Gi(o,l){if(1&o&&(i.TgZ(0,"span"),i._uU(1),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.lnq("Turno para el paciente ",null==e.paciente?null:e.paciente.nombre," ",null==e.paciente?null:e.paciente.apellido," con DNI: ",null==e.paciente?null:e.paciente.dni,"")}}function Ri(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",16),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).cambioEspecialidad(s)}),i._UZ(1,"img",19),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH),i.xp6(2),i.Oqu(e.especialidad)}}function Xi(o,l){if(1&o&&(i.TgZ(0,"div",20),i.YNc(1,Ri,4,2,"span",15),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.array)}}function Wi(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"div",27),i.TgZ(1,"span",28),i.NdJ("click",function(){const s=i.CHM(e).$implicit,c=i.oxw().$implicit;return i.oxw(2).seleccionarHora(c.dia,s)}),i._uU(2),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(2),i.Oqu(e)}}function Ki(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"div",23),i.TgZ(1,"div",24),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(2).seleccionarFecha(s)}),i.TgZ(2,"span",25),i._uU(3),i.qZA(),i.TgZ(4,"div",21),i.YNc(5,Wi,3,1,"div",26),i.qZA(),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(3),i.hij(" ",e.dia," "),i.xp6(2),i.Q6J("ngForOf",null==e?null:e.turnosDelDia)}}function ie(o,l){if(1&o&&(i.TgZ(0,"div",21),i.YNc(1,Ki,6,2,"div",22),i.qZA()),2&o){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.fechasEspecialistaActual)}}function ee(o,l){if(1&o&&(i.TgZ(0,"div",29),i.TgZ(1,"div",30),i._uU(2),i.qZA(),i.qZA()),2&o){const e=i.oxw();i.xp6(2),i.Oqu(e.mensaje)}}function te(o,l){1&o&&i._UZ(0,"app-spinner")}function ae(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"div",5),i.TgZ(1,"i",6),i.NdJ("click",function(){return i.CHM(e),i.oxw().limpiarFiltros()}),i._uU(2,"Limpiar filtros"),i.qZA(),i.TgZ(3,"div",7),i.TgZ(4,"input",8),i.NdJ("ngModelChange",function(a){return i.CHM(e),i.oxw().searchParam=a})("ngModelChange",function(){return i.CHM(e),i.oxw().filtrar()}),i.qZA(),i.qZA(),i.qZA()}if(2&o){const e=i.oxw();i.xp6(4),i.Q6J("ngModel",e.searchParam)}}function ne(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",18),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).seleccionarEspecialista(s)}),i._UZ(1,"img",19),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH)}}function se(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"span",20),i.NdJ("click",function(){const s=i.CHM(e).$implicit;return i.oxw(4).seleccionarEspecialidad(s)}),i._UZ(1,"img",19),i.TgZ(2,"p"),i._uU(3),i.qZA(),i.qZA()}if(2&o){const e=l.$implicit;i.xp6(1),i.Q6J("src",null==e?null:e.imagen,i.LSH),i.xp6(2),i.Oqu(e.especialidad)}}function le(o,l){if(1&o){const e=i.EpF();i.TgZ(0,"i",27),i.NdJ("click",function(){i.CHM(e);const a=i.oxw().$implicit;return i.oxw(4).cancelarTurno(a)}),i.qZA()}}function re(o,l){if(1&o&&(i.TgZ(0,"div",21),i.TgZ(1,"div",22),i.TgZ(2,"h6"),i._uU(3),i.qZA(),i.TgZ(4,"h6"),i._uU(5),i.qZA(),i.TgZ(6,"h6"),i._uU(7),i.qZA(),i.TgZ(8,"h6",23),i._uU(9),i.qZA(),i.TgZ(10,"h6",23),i._uU(11),i.qZA(),i.TgZ(12,"h6"),i._uU(13),i.ALo(14,"uppercase"),i.qZA(),i.qZA(),i.TgZ(15,"div",24),i.TgZ(16,"div",25),i.YNc(17,le,1,0,"i",26),i.qZA(),i.qZA(),i.qZA()),2&o){const e=l.$implicit;i.Q6J("appEstados",null==e?null:e.estado),i.xp6(3),i.Oqu(null==e?null:e.fecha),i.xp6(2),i.Oqu(null==e?null:e.hora),i.xp6(2),i.Oqu(null==e?null:e.especialidad),i.xp6(2),i.lnq("",null==e||null==e.especialistaCompleto?null:e.especialistaCompleto.nombre," ",null==e||null==e.especialistaCompleto?null:e.especialistaCompleto.apellido," - ",null==e.especialistaCompleto?null:e.especialistaCompleto.dni,""),i.xp6(2),i.lnq("",null==e||null==e.pacienteCompleto?null:e.pacienteCompleto.nombre," ",null==e||null==e.pacienteCompleto?null:e.pacienteCompleto.apellido," - ",null==e||null==e.pacienteCompleto?null:e.pacienteCompleto.dni,""),i.xp6(2),i.Oqu(i.lcZ(14,12,null==e?null:e.estado)),i.xp6(4),i.Q6J("ngIf","pendiente"===e.estado)}}function ce(o,l){if(1&o&&(i.TgZ(0,"div"),i.TgZ(1,"span",28),i._uU(2),i.qZA(),i.qZA()),2&o){const e=i.oxw(4);i.xp6(2),i.Oqu(e.mensaje)}}function de(o,l){if(1&o&&(i.TgZ(0,"div",10),i.TgZ(1,"div",11),i.YNc(2,ne,2,1,"span",12),i.qZA(),i.TgZ(3,"div",13),i.YNc(4,se,4,2,"span",14),i.qZA(),i.TgZ(5,"div",15),i.YNc(6,re,18,14,"div",16),i.qZA(),i.YNc(7,ce,3,1,"div",17),i.qZA()),2&o){const e=i.oxw(3);i.xp6(2),i.Q6J("ngForOf",e.especialistas),i.xp6(2),i.Q6J("ngForOf",e.array),i.xp6(2),i.Q6J("ngForOf",e.turnosMostrar),i.xp6(1),i.Q6J("ngIf",""!==e.mensaje)}}function ue(o,l){if(1&o&&(i.TgZ(0,"div"),i.YNc(1,de,8,4,"div",9),i.qZA()),2&o){const e=i.oxw(2),t=i.MAs(6);i.xp6(1),i.Q6J("ngIf",e.turnos[0].especialistaCompleto)("ngIfElse",t)}}function pe(o,l){if(1&o&&(i.TgZ(0,"div"),i.YNc(1,ue,2,2,"div",3),i.qZA()),2&o){const e=i.oxw(),t=i.MAs(6);i.xp6(1),i.Q6J("ngIf",e.turnosMostrar.length)("ngIfElse",t)}}function me(o,l){1&o&&i._UZ(0,"app-spinner")}const ve=[{path:"mis-turnos/especialista",component:(()=>{class o{constructor(e){var t=this;this.firestore=e,this.turnos=[],this.turnosMostrar=[],this.pacientes=[],this.especialidades=[],this.array=[],this.searchParam="",this.mensaje="",this.especialista=JSON.parse(localStorage.getItem("usuario")),this.firestore.especialidadesObs.subscribe(a=>{this.firestore.turnosObs.subscribe(function(){var s=(0,Z.Z)(function*(c){var d;t.especialidades=a,t.turnos=[];let p=0;for(let u of c)if(u.especialista===(null===(d=t.especialista)||void 0===d?void 0:d.dni)){t.turnos.push(u);for(let m of t.especialidades)if(m.especialidad===u.especialidad)for(let v of t.especialista.especialidad)v===m.especialidad&&(p=t.array.indexOf(m),-1===p&&t.array.push(m))}yield t.getPacientes(),t.turnos.sort((u,m)=>m.time-u.time),t.turnosMostrar=t.turnos});return function(c){return s.apply(this,arguments)}}())})}ngOnInit(){}limpiarFiltros(){this.mensaje="",this.turnosMostrar=this.turnos}getPacientes(){var e=this;return(0,Z.Z)(function*(){let a;for(let s of e.turnos)a=yield e.firestore.getPaciente(s.paciente),s.pacienteCompleto=a,e.pacientes.push(a);e.pacientes=e.eliminarObjetosDuplicados(e.pacientes,"dni")})()}eliminarObjetosDuplicados(e,t){var a=[],s={};for(let c in e)s[e[c][t]]=e[c];for(let c in s)a.push(s[c]);return a}seleccionarPaciente(e){this.turnosMostrar=[],this.paciente=e;for(let t of this.turnos)t.paciente===e.dni&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con el paciente seleccionado")}seleccionarEspecialidad(e){this.mensaje="",this.turnosMostrar=[],this.especialidad=e.especialidad;for(let t of this.turnos)t.especialidad===this.especialidad&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con la especialidad seleccionada")}aceptarTurno(e){e.estado="aceptado",this.firestore.modificarEstadoTurno(e)}rechazarTurno(e){var t=this;return(0,Z.Z)(function*(){const{value:a}=yield f().fire({title:"Finalizar turno",input:"text",inputLabel:"Ingrese un la razon por la que rechaza el turno: ",inputAttributes:{autocomplete:"off"}});a&&(e.estado="rechazado",e.razon=a,t.firestore.modificarEstadoTurno(e))})()}cancelarTurno(e){var t=this;return(0,Z.Z)(function*(){let a=0;const{value:s}=yield f().fire({title:"Finalizar turno",input:"text",inputLabel:"Ingrese la razon por la que cancela el turno: ",inputAttributes:{autocomplete:"off"}});if(s){e.estado="cancelado",e.razon=s,t.firestore.modificarEstadoTurno(e);for(let[c,d]of e.pacienteCompleto.turno.entries())if(e.fecha===d.fecha&&e.hora===d.hora){a=c;break}e.pacienteCompleto.turno.splice(a,1),t.firestore.finalizarTurnoPaciente(e.pacienteCompleto);for(let[c,d]of t.especialista.turno.entries())if(e.fecha===d.fecha&&e.hora===d.hora){a=c;break}t.especialista.turno.splice(a,1),t.firestore.finalizarTurnoEspecialista(t.especialista)}})()}finalizarTurno(){var e=this;return(0,Z.Z)(function*(){let t=0,a=document.getElementById("altura").value,s=document.getElementById("peso").value,c=document.getElementById("temperatura").value,d=document.getElementById("presion").value,p={clave:document.getElementById("dinamicoClave1").value,valor:document.getElementById("dinamicoValor1").value},u={clave:document.getElementById("dinamicoClave2").value,valor:document.getElementById("dinamicoValor2").value},m={clave:document.getElementById("dinamicoClave3").value,valor:document.getElementById("dinamicoValor3").value};if(a&&s&&d&&c&&p.clave&&p.valor&&u.valor&&u.clave&&m.valor&&m.clave){const{value:v}=yield f().fire({title:"Finalizar turno",input:"text",inputLabel:"Ingrese un comentario sobre el turno: ",inputAttributes:{autocomplete:"off"}});if(v){let T={especialista:e.especialista.dni,altura:a,peso:s,presion:d,temperatura:c,dinamico1:p,dinamico2:u,dinamico3:m,comentario:v,dia:e.turnoActual.fecha,hora:e.turnoActual.hora};if(e.turnoActual.pacienteCompleto.historiaClinica||(e.turnoActual.pacienteCompleto.historiaClinica=[]),e.turnoActual.pacienteCompleto.historiaClinica.push(T),e.turnoActual.pacienteCompleto.historiaClinica){e.firestore.addHistoriaClinica(e.turnoActual.pacienteCompleto),e.turnoActual.estado="realizado",e.turnoActual.comentario=v,e.firestore.modificarEstadoTurno(e.turnoActual);for(let[x,h]of e.turnoActual.pacienteCompleto.turno.entries())if(e.turnoActual.fecha===h.fecha&&e.turnoActual.hora===h.hora){t=x;break}e.turnoActual.historiaClinica=T,e.firestore.addHistoriaTurno(e.turnoActual),e.turnoActual.pacienteCompleto.turno.splice(t,1),e.firestore.finalizarTurnoPaciente(e.turnoActual.pacienteCompleto);for(let[x,h]of e.especialista.turno.entries())if(e.turnoActual.fecha===h.fecha&&e.turnoActual.hora===h.hora){t=x;break}e.especialista.turno.splice(t,1),e.firestore.finalizarTurnoEspecialista(e.especialista)}}else f().fire({title:"Error",text:"Debe agregar un comentario al finalizar el turno",toast:!0,timer:1500,icon:"error",timerProgressBar:!0,position:"bottom"})}else f().fire({title:"Error",text:"Asegurese de completar todos los campos",toast:!0,timer:1500,icon:"error",timerProgressBar:!0,position:"bottom"})})()}verComentario(e){(null==e?void 0:e.satisfaccion)?f().fire({title:"Comentario sobre el turno",text:`Satisfaccion del paciente: ${e.satisfaccion}, comentario del paciente: ${e.atencion}`}):(null==e?void 0:e.razon)&&f().fire({title:"Motivo de cancelacion/rechazo del turno",text:e.razon})}filtrar(){var e,t,a,s,c,d,p,u,m,v,T,x,h,b,A,q,w,M,E,P,y,k,L,F,J,I,O,U,N,S,z,Q,Y,j,H,D,$,B,V,G,R,X,W,K;this.searchParam=this.searchParam.trim().toLowerCase().trim(),this.turnosMostrar=[];for(let n of this.turnos)(null===(e=null==n?void 0:n.comentario)||void 0===e?void 0:e.toLowerCase().trim().includes(this.searchParam))||(null===(t=null==n?void 0:n.especialidad)||void 0===t?void 0:t.toLowerCase().trim().includes(this.searchParam))||(null===(a=null==n?void 0:n.estado)||void 0===a?void 0:a.toLowerCase().trim().includes(this.searchParam))||(null===(s=null==n?void 0:n.fecha)||void 0===s?void 0:s.toLowerCase().trim().includes(this.searchParam))||(null===(c=null==n?void 0:n.hora)||void 0===c?void 0:c.toLowerCase().trim().includes(this.searchParam))?this.turnosMostrar.push(n):(((null===(p=null===(d=n.pacienteCompleto)||void 0===d?void 0:d.dni)||void 0===p?void 0:p.toString().toLowerCase().trim().includes(this.searchParam))||(null===(m=null===(u=n.pacienteCompleto)||void 0===u?void 0:u.apellido)||void 0===m?void 0:m.toLowerCase().trim().includes(this.searchParam))||(null===(T=null===(v=n.pacienteCompleto)||void 0===v?void 0:v.edad)||void 0===T?void 0:T.toString().toLowerCase().trim().includes(this.searchParam))||(null===(h=null===(x=n.pacienteCompleto)||void 0===x?void 0:x.email)||void 0===h?void 0:h.toLowerCase().trim().includes(this.searchParam))||(null===(A=null===(b=n.pacienteCompleto)||void 0===b?void 0:b.nombre)||void 0===A?void 0:A.toLowerCase().trim().includes(this.searchParam))||(null===(w=null===(q=n.pacienteCompleto)||void 0===q?void 0:q.obraSocial)||void 0===w?void 0:w.includes(this.searchParam))||(null===(E=null===(M=n.pacienteCompleto)||void 0===M?void 0:M.perfil)||void 0===E?void 0:E.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(n),(null==n?void 0:n.historiaClinica)&&((null===(P=null==n?void 0:n.historiaClinica.dinamico1.clave)||void 0===P?void 0:P.toLowerCase().trim().includes(this.searchParam))||(null===(y=null==n?void 0:n.historiaClinica.dinamico1.valor)||void 0===y?void 0:y.toLowerCase().trim().includes(this.searchParam))||(null===(k=null==n?void 0:n.historiaClinica.dinamico1.clave)||void 0===k?void 0:k.toLowerCase().trim().includes(this.searchParam))||(null===(L=null==n?void 0:n.historiaClinica.dinamico2.valor)||void 0===L?void 0:L.toLowerCase().trim().includes(this.searchParam))||(null===(F=null==n?void 0:n.historiaClinica.dinamico2.clave)||void 0===F?void 0:F.toLowerCase().trim().includes(this.searchParam))||(null===(J=null==n?void 0:n.historiaClinica.dinamico3.valor)||void 0===J?void 0:J.toLowerCase().trim().includes(this.searchParam))||(null===(I=null==n?void 0:n.historiaClinica.dinamico3.clave)||void 0===I?void 0:I.toLowerCase().trim().includes(this.searchParam))||(null===(U=null===(O=null==n?void 0:n.historiaClinica)||void 0===O?void 0:O.altura)||void 0===U?void 0:U.toLowerCase().includes(this.searchParam))||(null===(S=null===(N=null==n?void 0:n.historiaClinica)||void 0===N?void 0:N.peso)||void 0===S?void 0:S.toLowerCase().includes(this.searchParam))||(null===(Q=null===(z=null==n?void 0:n.historiaClinica)||void 0===z?void 0:z.presion)||void 0===Q?void 0:Q.toLowerCase().includes(this.searchParam))||(null===(j=null===(Y=null==n?void 0:n.historiaClinica)||void 0===Y?void 0:Y.temperatura)||void 0===j?void 0:j.toLowerCase().includes(this.searchParam)))&&this.turnosMostrar.push(n),((null===(D=null===(H=this.especialista)||void 0===H?void 0:H.dni)||void 0===D?void 0:D.toString().trim().toLowerCase().includes(this.searchParam))||(null===(B=null===($=this.especialista)||void 0===$?void 0:$.apellido)||void 0===B?void 0:B.toLowerCase().trim().includes(this.searchParam))||(null===(G=null===(V=this.especialista)||void 0===V?void 0:V.edad)||void 0===G?void 0:G.toString().toLowerCase().trim().includes(this.searchParam))||(null===(X=null===(R=this.especialista)||void 0===R?void 0:R.email)||void 0===X?void 0:X.toLowerCase().trim().includes(this.searchParam))||(null===(K=null===(W=this.especialista)||void 0===W?void 0:W.nombre)||void 0===K?void 0:K.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(n))}}return o.\u0275fac=function(e){return new(e||o)(i.Y36(ei.C))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-mis-turnos-especialista"]],decls:55,vars:3,consts:[[1,"container"],[1,"text-center","text-light"],["class","d-flex justify-content-between flex-wrap",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],["id","modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","altura",1,"col-form-label"],["type","number","id","altura",1,"form-control"],["for","peso",1,"col-form-label"],["type","number","id","peso",1,"form-control"],["for","temperatura",1,"col-form-label"],["type","number","id","temperatura",1,"form-control"],["for","presion",1,"col-form-label"],["type","number","id","presion",1,"form-control"],["for","dinamico1Clave",1,"col-form-label"],["type","text","id","dinamicoClave1",1,"form-control","mb-2"],["type","text","id","dinamicoValor1",1,"form-control"],["for","dinamico2Clave",1,"col-form-label"],["type","text","id","dinamicoClave2",1,"form-control","mb-2"],["type","text","id","dinamicoValor2",1,"form-control"],["for","dinamico3Clave",1,"col-form-label"],["type","text","id","dinamicoClave3",1,"form-control","mb-2"],["type","text","id","dinamicoValor3",1,"form-control"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"bi","bi-funnel-fill","text-info","noselect",3,"click"],[1,"d-flex"],["type","text",1,"mt-1","form-control","d-inline",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6"],["class","badge rounded-pill bg-dark text-light m-1 mt-2 p-2 noselect",3,"click",4,"ngFor","ngForOf"],[1,"col-12","d-flex","flex-wrap","text-light"],["class","d-inline-flex flex-column me-2",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-around",2,"column-gap","40px","row-gap","15px"],["class","col-12 col-md-4 row rounded","style","background-color: rgba(0,0,0,.5);",3,"appEstados",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge","rounded-pill","bg-dark","text-light","m-1","mt-2","p-2","noselect",3,"click"],["alt","","width","80px","height","80px",2,"border-radius","50%",3,"src"],[1,"d-inline-flex","flex-column","me-2",3,"click"],[1,"col-12","col-md-4","row","rounded",2,"background-color","rgba(0,0,0,.5)",3,"appEstados"],[1,"col-6"],[1,"text-break"],[1,"col-6","d-flex","h-100","justify-content-end"],[1,"d-flex","flex-column"],["class","bi bi-x-square-fill ms-2","title","Cancelar turno",3,"click",4,"ngIf"],["class","bi bi-x-lg ms-2","title","Rechazar turno",3,"click",4,"ngIf"],["class","bi bi-check-circle ms-2","title","Aceptar turno",3,"click",4,"ngIf"],["class","bi bi-check-square-fill ms-2","title","Finalizar turno","data-bs-toggle","modal","data-bs-target","#modal",3,"click",4,"ngIf"],["class","bi bi-layout-text-sidebar-reverse ms-2","title","Ver rese\xf1a",3,"click",4,"ngIf"],["title","Cancelar turno",1,"bi","bi-x-square-fill","ms-2",3,"click"],["title","Rechazar turno",1,"bi","bi-x-lg","ms-2",3,"click"],["title","Aceptar turno",1,"bi","bi-check-circle","ms-2",3,"click"],["title","Finalizar turno","data-bs-toggle","modal","data-bs-target","#modal",1,"bi","bi-check-square-fill","ms-2",3,"click"],["title","Ver rese\xf1a",1,"bi","bi-layout-text-sidebar-reverse","ms-2",3,"click"],[1,"text-danger"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h2",1),i._uU(2,"Listado de mis turnos"),i.qZA(),i.YNc(3,Ti,5,1,"div",2),i.YNc(4,ki,8,4,"div",3),i.YNc(5,Li,1,0,"ng-template",null,4,i.W1O),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"div",6),i.TgZ(9,"div",7),i.TgZ(10,"div",8),i.TgZ(11,"h5",9),i._uU(12,"Carga de historia clinica"),i.qZA(),i._UZ(13,"button",10),i.qZA(),i.TgZ(14,"div",11),i.TgZ(15,"form"),i.TgZ(16,"div",12),i.TgZ(17,"label",13),i._uU(18,"Altura"),i.qZA(),i._UZ(19,"input",14),i.qZA(),i.TgZ(20,"div",12),i.TgZ(21,"label",15),i._uU(22,"Peso"),i.qZA(),i._UZ(23,"input",16),i.qZA(),i.TgZ(24,"div",12),i.TgZ(25,"label",17),i._uU(26,"temperatura"),i.qZA(),i._UZ(27,"input",18),i.qZA(),i.TgZ(28,"div",12),i.TgZ(29,"label",19),i._uU(30,"Presi\xf3n"),i.qZA(),i._UZ(31,"input",20),i.qZA(),i.TgZ(32,"div",12),i.TgZ(33,"label",13),i._uU(34,"A continuacion ingrese los datos que crea conveniente. Teniendo en cuenta que primero debe cargar que dato es, y luego la informacion sobre el mismo"),i.qZA(),i.qZA(),i.TgZ(35,"div",12),i.TgZ(36,"label",21),i._uU(37,"Dato 1"),i.qZA(),i._UZ(38,"input",22),i._UZ(39,"input",23),i.qZA(),i.TgZ(40,"div",12),i.TgZ(41,"label",24),i._uU(42,"Dato 2"),i.qZA(),i._UZ(43,"input",25),i._UZ(44,"input",26),i.qZA(),i.TgZ(45,"div",12),i.TgZ(46,"label",27),i._uU(47,"Dato 3"),i.qZA(),i._UZ(48,"input",28),i._UZ(49,"input",29),i.qZA(),i.qZA(),i.qZA(),i.TgZ(50,"div",30),i.TgZ(51,"button",31),i._uU(52,"Close"),i.qZA(),i.TgZ(53,"button",32),i.NdJ("click",function(){return t.finalizarTurno()}),i._uU(54,"Enviar encuesta"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const a=i.MAs(6);i.xp6(3),i.Q6J("ngIf",null==t.turnos?null:t.turnos.length),i.xp6(1),i.Q6J("ngIf",t.turnosMostrar.length)("ngIfElse",a)}},directives:[C.O5,_._Y,_.JL,_.F,_.Fj,_.JJ,_.On,C.sg,oi,ti.O],pipes:[C.gd],styles:[""]}),o})(),canActivate:[gi.g],data:{animation:""}},{path:"mis-turnos/paciente",component:(()=>{class o{constructor(e){var t=this;this.firestore=e,this.turnos=[],this.turnosMostrar=[],this.pacientes=[],this.especialistas=[],this.especialidades=[],this.array=[],this.mensaje="",this.searchParam="",this.paciente=JSON.parse(localStorage.getItem("usuario")),this.firestore.especialidadesObs.subscribe(a=>{this.especialidades=a,this.firestore.turnosObs.subscribe(function(){var s=(0,Z.Z)(function*(c){var d;t.turnos=[];let p=0;for(let u of c)if(u.paciente===(null===(d=null==t?void 0:t.paciente)||void 0===d?void 0:d.dni)){t.turnos.push(u);for(let m of t.especialidades)u.especialidad===m.especialidad&&(p=t.array.indexOf(m),-1===p&&t.array.push(m))}yield t.getEspecialista(),t.turnos.sort((u,m)=>m.time-u.time),t.turnosMostrar=t.turnos});return function(c){return s.apply(this,arguments)}}())})}ngOnInit(){}limpiarFiltros(){this.mensaje="",this.turnosMostrar=this.turnos}getEspecialista(){var e=this;return(0,Z.Z)(function*(){let a;for(let s of e.turnos)a=yield e.firestore.getEspecialista(s.especialista),s.especialistaCompleto=a,e.especialistas.push(a);e.especialistas=e.eliminarObjetosDuplicados(e.especialistas,"dni")})()}eliminarObjetosDuplicados(e,t){var a=[],s={};for(let c in e)s[e[c][t]]=e[c];for(let c in s)a.push(s[c]);return a}seleccionarEspecialista(e){this.turnosMostrar=[],this.especialista=e;for(let t of this.turnos)t.especialista===e.dni&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con el especialista seleccionado")}seleccionarEspecialidad(e){this.mensaje="",this.turnosMostrar=[],this.especialidad=e.especialidad;for(let t of this.turnos)t.especialidad===this.especialidad&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con la especialidad seleccionada")}cancelarTurno(e){var t=this;return(0,Z.Z)(function*(){const{value:a}=yield f().fire({title:"Cancelaci\xf3n de turno",input:"text",inputLabel:"Motivo de cancelaci\xf3n",inputValue:"",showCancelButton:!0,inputValidator:s=>s?"":"Debe especificar el motivo de la cancelaci\xf3n",inputAttributes:{required:"true",autocomplete:"off"}});a?(e.estado="cancelado",e.razon=a,t.firestore.modificarEstadoTurno(e)):f().fire({text:"El turno no ha podido ser cancelado. Motivo: Debe especificar una razon",timer:2500,timerProgressBar:!0,icon:"error",position:"bottom",toast:!0})})()}verComentario(e){(null==e?void 0:e.comentario)?f().fire({title:"Comentario sobre el turno",text:e.comentario}):(null==e?void 0:e.razon)&&f().fire({title:"Motivo de cancelacion/rechazo del turno",text:e.razon})}satisfaccion(){var e=this;return(0,Z.Z)(function*(){let a,t=document.getElementById("satisfaccion").value;document.getElementById("satisfaccion").value="",t&&(a=document.getElementById("atencion").value,document.getElementById("atencion").value="",e.turnoEncuesta.satisfaccion=t,a&&(e.turnoEncuesta.atencion=a,e.firestore.addSatisfaccionAtencion(e.turnoEncuesta)))})()}enviarEncuesta(){let t,e=document.getElementById("tiempo").value;if(document.getElementById("tiempo").value="",e){t=document.getElementById("preguntas").checked;let s={tiempoEspera:e,consultas:t};this.firestore.addEncuesta({paciente:this.paciente.dni,especialidad:this.turnoEncuesta.especialidad,especialista:this.turnoEncuesta.especialista,datos:{tiempoEspera:e,consultas:t}}),this.firestore.addEncuestaTurno(this.turnoEncuesta,s)}}filtrar(){var e,t,a,s,c,d,p,u,m,v,T,x,h,b,A,q,w,M,E,P,y,k,L,F,J,I,O,U,N,S,z,Q,Y,j,H,D,$,B,V,G,R,X,W,K;this.searchParam=this.searchParam.trim().toLowerCase().trim(),this.turnosMostrar=[];for(let n of this.turnos)(null===(e=null==n?void 0:n.comentario)||void 0===e?void 0:e.toLowerCase().trim().includes(this.searchParam))||(null===(t=null==n?void 0:n.especialidad)||void 0===t?void 0:t.toLowerCase().trim().includes(this.searchParam))||(null===(a=null==n?void 0:n.estado)||void 0===a?void 0:a.toLowerCase().trim().includes(this.searchParam))||(null===(s=null==n?void 0:n.fecha)||void 0===s?void 0:s.toLowerCase().trim().includes(this.searchParam))||(null===(c=null==n?void 0:n.hora)||void 0===c?void 0:c.toLowerCase().trim().includes(this.searchParam))?this.turnosMostrar.push(n):(((null===(p=null===(d=n.especialistaCompleto)||void 0===d?void 0:d.dni)||void 0===p?void 0:p.toString().toLowerCase().trim().includes(this.searchParam))||(null===(m=null===(u=n.especialistaCompleto)||void 0===u?void 0:u.apellido)||void 0===m?void 0:m.toLowerCase().trim().includes(this.searchParam))||(null===(T=null===(v=n.especialistaCompleto)||void 0===v?void 0:v.edad)||void 0===T?void 0:T.toString().toLowerCase().trim().includes(this.searchParam))||(null===(h=null===(x=n.especialistaCompleto)||void 0===x?void 0:x.email)||void 0===h?void 0:h.toLowerCase().trim().includes(this.searchParam))||(null===(A=null===(b=n.especialistaCompleto)||void 0===b?void 0:b.nombre)||void 0===A?void 0:A.toLowerCase().trim().includes(this.searchParam))||(null===(w=null===(q=n.especialistaCompleto)||void 0===q?void 0:q.obraSocial)||void 0===w?void 0:w.includes(this.searchParam))||(null===(E=null===(M=n.especialistaCompleto)||void 0===M?void 0:M.perfil)||void 0===E?void 0:E.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(n),(null==n?void 0:n.historiaClinica)&&((null===(P=null==n?void 0:n.historiaClinica.dinamico1.clave)||void 0===P?void 0:P.toLowerCase().trim().includes(this.searchParam))||(null===(y=null==n?void 0:n.historiaClinica.dinamico1.valor)||void 0===y?void 0:y.toLowerCase().trim().includes(this.searchParam))||(null===(k=null==n?void 0:n.historiaClinica.dinamico1.clave)||void 0===k?void 0:k.toLowerCase().trim().includes(this.searchParam))||(null===(L=null==n?void 0:n.historiaClinica.dinamico2.valor)||void 0===L?void 0:L.toLowerCase().trim().includes(this.searchParam))||(null===(F=null==n?void 0:n.historiaClinica.dinamico2.clave)||void 0===F?void 0:F.toLowerCase().trim().includes(this.searchParam))||(null===(J=null==n?void 0:n.historiaClinica.dinamico3.valor)||void 0===J?void 0:J.toLowerCase().trim().includes(this.searchParam))||(null===(I=null==n?void 0:n.historiaClinica.dinamico3.clave)||void 0===I?void 0:I.toLowerCase().trim().includes(this.searchParam))||(null===(U=null===(O=null==n?void 0:n.historiaClinica)||void 0===O?void 0:O.altura)||void 0===U?void 0:U.toLowerCase().includes(this.searchParam))||(null===(S=null===(N=null==n?void 0:n.historiaClinica)||void 0===N?void 0:N.peso)||void 0===S?void 0:S.toLowerCase().includes(this.searchParam))||(null===(Q=null===(z=null==n?void 0:n.historiaClinica)||void 0===z?void 0:z.presion)||void 0===Q?void 0:Q.toLowerCase().includes(this.searchParam))||(null===(j=null===(Y=null==n?void 0:n.historiaClinica)||void 0===Y?void 0:Y.temperatura)||void 0===j?void 0:j.toLowerCase().includes(this.searchParam)))&&this.turnosMostrar.push(n),((null===(D=null===(H=this.paciente)||void 0===H?void 0:H.dni)||void 0===D?void 0:D.toString().trim().toLowerCase().includes(this.searchParam))||(null===(B=null===($=this.paciente)||void 0===$?void 0:$.apellido)||void 0===B?void 0:B.toLowerCase().trim().includes(this.searchParam))||(null===(G=null===(V=this.paciente)||void 0===V?void 0:V.edad)||void 0===G?void 0:G.toString().toLowerCase().trim().includes(this.searchParam))||(null===(X=null===(R=this.paciente)||void 0===R?void 0:R.email)||void 0===X?void 0:X.toLowerCase().trim().includes(this.searchParam))||(null===(K=null===(W=this.paciente)||void 0===W?void 0:W.nombre)||void 0===K?void 0:K.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(n))}}return o.\u0275fac=function(e){return new(e||o)(i.Y36(ei.C))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-mis-turnos-paciente"]],decls:53,vars:3,consts:[[1,"container"],[1,"text-center","text-light"],["class","d-flex justify-content-between flex-wrap",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],["id","modal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body"],[1,"mb-3"],["for","tiempo",1,"col-form-label"],["type","number","id","tiempo",1,"form-control"],["for","preguntas",1,"col-form-label"],["type","checkbox","value","","id","preguntas",1,"form-check-input"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-primary",3,"click"],["id","modalSatisfaccion","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],["type","range","min","1","max","10","step","1","id","satisfaccion",1,"form-range"],["for","atencion",1,"col-form-label"],["type","text","autocomplete","off","id","atencion",1,"form-control"],[1,"d-flex","justify-content-between","flex-wrap"],[1,"bi","bi-funnel-fill","text-info","noselect",3,"click"],[1,"d-flex"],["type","text",1,"mt-1","form-control","d-inline",3,"ngModel","ngModelChange"],[1,"col-12","col-sm-6"],["class","badge rounded-pill bg-dark text-light m-1 mt-2 p-2 noselect",3,"click",4,"ngFor","ngForOf"],[1,"col-12","d-flex","flex-wrap","text-light"],["class","d-inline-flex flex-column me-2",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-around",2,"column-gap","40px","row-gap","15px"],["class","col-12 col-md-4 row rounded","style","background-color: rgba(0,0,0,.5);",3,"appEstados",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-dark","text-light","m-1","mt-2","p-2","noselect",3,"click"],["alt","","width","80px","height","80px",2,"border-radius","50%",3,"src"],[1,"d-inline-flex","flex-column","me-2",3,"click"],[1,"col-12","col-md-4","row","rounded",2,"background-color","rgba(0,0,0,.5)",3,"appEstados"],[1,"col-6"],[1,"text-break"],[1,"col-6","d-flex","h-100","justify-content-end"],[1,"d-flex","flex-column"],["class","bi bi-x-square-fill ms-2","title","Cancelar turno",3,"click",4,"ngIf"],["class","bi bi-layout-text-sidebar-reverse ms-2","title","Ver rese\xf1a",3,"click",4,"ngIf"],["class","bi bi-ui-checks ms-2","data-bs-toggle","modal","data-bs-target","#modal",3,"click",4,"ngIf"],["class","bi bi-emoji-smile ms-2","title","Calificar atenci\xf3n","data-bs-toggle","modal","data-bs-target","#modalSatisfaccion",3,"click",4,"ngIf"],["title","Cancelar turno",1,"bi","bi-x-square-fill","ms-2",3,"click"],["title","Ver rese\xf1a",1,"bi","bi-layout-text-sidebar-reverse","ms-2",3,"click"],["data-bs-toggle","modal","data-bs-target","#modal",1,"bi","bi-ui-checks","ms-2",3,"click"],["title","Calificar atenci\xf3n","data-bs-toggle","modal","data-bs-target","#modalSatisfaccion",1,"bi","bi-emoji-smile","ms-2",3,"click"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h2",1),i._uU(2,"Listado de mis turnos"),i.qZA(),i.YNc(3,Ji,5,1,"div",2),i.YNc(4,Yi,7,3,"div",3),i.YNc(5,ji,1,0,"ng-template",null,4,i.W1O),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"div",6),i.TgZ(9,"div",7),i.TgZ(10,"div",8),i.TgZ(11,"h5",9),i._uU(12,"Encuesta de atenci\xf3n"),i.qZA(),i._UZ(13,"button",10),i.qZA(),i.TgZ(14,"div",11),i.TgZ(15,"form"),i.TgZ(16,"div",12),i.TgZ(17,"label",13),i._uU(18,"Desde su llegada a la clinica hasta que le atendi\xf3 el m\xe9dico, \xbfcu\xe1nto tiempo pas\xf3? "),i._UZ(19,"br"),i._uU(20," Nota: Ingrese el tiempo en minutos"),i.qZA(),i._UZ(21,"input",14),i.qZA(),i.TgZ(22,"div",12),i.TgZ(23,"label",15),i._uU(24," Mientras estuvo en la consulta, \xbfpudo comentar al m\xe9dico todas las cosas que le preocupaban por su salud? "),i.qZA(),i._UZ(25,"input",16),i.qZA(),i.qZA(),i.qZA(),i.TgZ(26,"div",17),i.TgZ(27,"button",18),i._uU(28,"Close"),i.qZA(),i.TgZ(29,"button",19),i.NdJ("click",function(){return t.enviarEncuesta()}),i._uU(30,"Enviar encuesta"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(31,"div",20),i.TgZ(32,"div",6),i.TgZ(33,"div",7),i.TgZ(34,"div",8),i.TgZ(35,"h5",9),i._uU(36,"Encuesta de atenci\xf3n"),i.qZA(),i._UZ(37,"button",10),i.qZA(),i.TgZ(38,"div",11),i.TgZ(39,"form"),i.TgZ(40,"div",12),i.TgZ(41,"label",13),i._uU(42,"Satisfaccion con el turno"),i.qZA(),i._UZ(43,"input",21),i.qZA(),i.TgZ(44,"div",12),i.TgZ(45,"label",22),i._uU(46," Atencion del especialista "),i.qZA(),i._UZ(47,"input",23),i.qZA(),i.qZA(),i.qZA(),i.TgZ(48,"div",17),i.TgZ(49,"button",18),i._uU(50,"Close"),i.qZA(),i.TgZ(51,"button",19),i.NdJ("click",function(){return t.satisfaccion()}),i._uU(52,"Enviar comentario"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&e){const a=i.MAs(6);i.xp6(3),i.Q6J("ngIf",null==t.turnos?null:t.turnos.length),i.xp6(1),i.Q6J("ngIf",t.turnosMostrar.length)("ngIfElse",a)}},directives:[C.O5,_._Y,_.JL,_.F,_.Fj,_.JJ,_.On,C.sg,oi,ti.O],pipes:[C.gd],styles:[""]}),o})(),canActivate:[xi],data:{animation:""}},{path:"solicitar-turno",component:(()=>{class o{constructor(e,t){this.firestore=e,this.datePipe=t,this.especialidadActual="",this.paciente=null,this.array=[],this.turnos=[],this.turnosM=[],this.turnosT=[],this.fechas=[],this.fechasEspecialistaActual=[],this.fecha="",this.hora="",this.mensaje="",this.recibido=!1,this.shortcutHorario=!1,this.turnosM=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30"],this.turnosT=["13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"],this.turnos=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"],this.getEspecialidades(),this.getEspecialistas(),this.getPacientes(),this.obtenerProximosDias(new Date,15)}ngOnInit(){}cambiarEspecialista(e){var t;if(this.shortcutHorario=!1,"paciente"===(null===(t=this.firestore.usuarioActual)||void 0===t?void 0:t.perfil)&&!this.paciente&&(this.paciente=this.firestore.usuarioActual),this.especialista!==e){if(this.mensaje="",this.especialista=e,this.fechasEspecialistaActual=[],1===e.especialidad.length)return this.shortcutHorario=!0,this.fechaSeleccionada=null,this.especialidadActual=this.especialista.especialidad[0],this.cargarHorarios(),!0;this.array=[];for(let a of this.especialidades)for(let s of this.especialista.especialidad)a.especialidad===s&&this.array.push(a)}return!0}seleccionarFecha(e){this.fechaSeleccionada=e}cargarHorarios(){var e,t,a,s;if(null===(e=this.especialista)||void 0===e?void 0:e.horarios)for(let c of this.fechas)for(let d of null===(t=this.especialista)||void 0===t?void 0:t.horarios){let p;if(c.getDay()===d.dia){if(p=6!==c.getDay()?"T-M"===d.turno?{dia:this.datePipe.transform(c,"dd/MM/yyyy"),turnosDelDia:this.turnos.map(u=>u)}:"M"===d.turno?{dia:this.datePipe.transform(c,"dd/MM/yyyy"),turnosDelDia:this.turnosM.map(u=>u)}:{dia:this.datePipe.transform(c,"dd/MM/yyyy"),turnosDelDia:this.turnosT.map(u=>u)}:{dia:this.datePipe.transform(c,"dd/MM/yyyy"),turnosDelDia:this.turnosM.map((u,m)=>{if(m<13)return u})},null===(s=null===(a=this.especialista)||void 0===a?void 0:a.turno)||void 0===s?void 0:s.length)for(let u of this.especialista.turno)if(u.fecha===p.dia){let m=p.turnosDelDia.indexOf(u.hora);-1!==m&&p.turnosDelDia.splice(m,1)}this.fechasEspecialistaActual.push(p)}}else this.mensaje="El especialista no tiene disponibilidad horaria"}seleccionarHora(e,t){this.fechaSeleccionada={dia:e,hora:t};for(let a of this.fechasEspecialistaActual)if(a.dia===e)for(let s of a.turnosDelDia)if(s===t){a.turnosDelDia.splice(a.turnosDelDia.indexOf(t),1);break}this.solicitarTurno()}getEspecialidades(){this.firestore.especialidadesObs.subscribe(e=>{this.especialidades=e})}getEspecialistas(){this.firestore.especialistasObs.subscribe(e=>{this.especialistas=e;for(let t of this.especialistas)!1===t.habilitado&&this.especialistas.splice(this.especialistas.indexOf(t),1)})}getPacientes(){this.firestore.pacientesObs.subscribe(e=>{this.pacientes=e})}cambioEspecialidad(e){this.hora="",this.fechaSeleccionada=null,this.especialidadActual=e.especialidad,this.fechasEspecialistaActual=[],this.cargarHorarios()}solicitarTurno(){var e,t,a;let s=Date.now(),c={time:s,fecha:this.fechaSeleccionada.dia,hora:this.fechaSeleccionada.hora,dniPaciente:this.paciente.dni,especialidad:this.especialidadActual};(null===(e=this.especialista)||void 0===e?void 0:e.turno)||(this.especialista.turno=[]),(null===(t=this.paciente)||void 0===t?void 0:t.turno)||(this.paciente.turno=[]),this.especialista.turno.push(c);let d={especialidad:this.especialidadActual,especialista:null===(a=this.especialista)||void 0===a?void 0:a.dni,fecha:this.fechaSeleccionada.dia,hora:this.fechaSeleccionada.hora,time:s};this.paciente.turno.push(d),this.firestore.addTurnoPaciente(this.paciente.turno,this.paciente.id),this.firestore.addTurnoEspecialista(this.especialista),d.especialista=this.especialista.dni,d.paciente=this.paciente.dni,d.estado="pendiente",this.firestore.addTurno(d),f().fire({text:`Turno sacado con exito el dia: ${this.fechaSeleccionada.dia} a la hora: ${this.fechaSeleccionada.hora}`,timer:2500,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"})}obtenerProximosDias(e,t){for(let a=0;a<t;a++)e.setDate(e.getDate()+1),this.fechas.push(new Date(e))}seleccionarPaciente(e){this.recibido=!0,this.paciente=e}}return o.\u0275fac=function(e){return new(e||o)(i.Y36(ei.C),i.Y36(C.uU))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-solicitar-turno"]],decls:16,vars:7,consts:[[1,"container"],["class","mt-2",4,"ngIf"],[1,"col-12","col-md-8"],["class","badge rounded-pill bg-dark text-light m-1 mt-2 p-2 noselect",3,"click",4,"ngFor","ngForOf"],[1,"col-12","col-sm-6","text-light"],[4,"ngIf"],["class","col-12 col-md-6 d-flex flex-wrap text-light",4,"ngIf"],[1,"badge","rounded-pill","bg-warning","text-dark","m-1","mt-2","p-2","noselect"],[1,"col-12","mt-1"],["class","row",4,"ngIf"],["class","col-4",4,"ngIf"],["spinner",""],[1,"mt-2"],["class","col-12 text-light",4,"ngIf","ngIfElse"],[1,"col-12","text-light"],["class","d-inline-flex flex-column me-2",3,"click",4,"ngFor","ngForOf"],[1,"d-inline-flex","flex-column","me-2",3,"click"],["alt","","width","80px","height","80px",1,"m-auto",2,"border-radius","50%",3,"src"],[1,"badge","rounded-pill","bg-dark","text-light","m-1","mt-2","p-2","noselect",3,"click"],["alt","","width","80px","height","80px",2,"border-radius","50%",3,"src"],[1,"col-12","col-md-6","d-flex","flex-wrap","text-light"],[1,"row"],["class","col-12 col-md-4 border border-warning",4,"ngFor","ngForOf"],[1,"col-12","col-md-4","border","border-warning"],[3,"click"],[1,"badge","rounded-pill","bg-warning","text-dark","text-light","mb-1","mt-1","p-2","noselect"],["class","col-4 col-md-3",4,"ngFor","ngForOf"],[1,"col-4","col-md-3"],[1,"badge","rounded-pill","bg-dark","text-light","p-2","noselect","mt-2","mb-1",3,"click"],[1,"col-4"],[1,"text-danger"]],template:function(e,t){1&e&&(i.TgZ(0,"div",0),i.YNc(1,Bi,2,2,"div",1),i.TgZ(2,"div"),i.TgZ(3,"form"),i.TgZ(4,"div",2),i.YNc(5,Vi,2,1,"span",3),i.qZA(),i.TgZ(6,"div",4),i.YNc(7,Gi,2,3,"span",5),i.qZA(),i.YNc(8,Xi,2,1,"div",6),i.TgZ(9,"span",7),i._uU(10),i.qZA(),i.TgZ(11,"div",8),i.YNc(12,ie,2,1,"div",9),i.YNc(13,ee,3,1,"div",10),i.qZA(),i.qZA(),i.qZA(),i.YNc(14,te,1,0,"ng-template",null,11,i.W1O),i.qZA()),2&e&&(i.xp6(1),i.Q6J("ngIf","admin"===(null==t.firestore||null==t.firestore.usuarioActual?null:t.firestore.usuarioActual.perfil)),i.xp6(4),i.Q6J("ngForOf",t.especialistas),i.xp6(2),i.Q6J("ngIf","admin"===(null==t.firestore.usuarioActual?null:t.firestore.usuarioActual.perfil)),i.xp6(1),i.Q6J("ngIf",!t.shortcutHorario&&t.paciente),i.xp6(2),i.Oqu(t.especialidadActual),i.xp6(2),i.Q6J("ngIf",""===t.mensaje&&t.especialista),i.xp6(1),i.Q6J("ngIf",""!==t.mensaje))},directives:[C.O5,_._Y,_.JL,_.F,C.sg,ti.O],styles:[""]}),o})(),canActivate:[hi],data:{animation:""}},{path:"",component:(()=>{class o{constructor(e){var t=this;this.firestore=e,this.array=[],this.searchParam="",this.mensaje="",this.firestore.especialidadesObs.subscribe(a=>{this.especialidades=a,this.firestore.turnosObs.subscribe(function(){var s=(0,Z.Z)(function*(c){let d;t.turnos=c;for(let p of t.turnos)for(let u of t.especialidades)u.especialidad===p.especialidad&&(d=t.array.indexOf(u),-1===d&&t.array.push(u));yield t.getPacientes(),yield t.getEspecialistas(),t.turnos.sort((p,u)=>u.time-p.time),t.turnosMostrar=t.turnos});return function(c){return s.apply(this,arguments)}}())})}ngOnInit(){}getPacientes(){var e=this;return(0,Z.Z)(function*(){for(let t of e.turnos)t.pacienteCompleto=yield e.firestore.getPaciente(t.paciente)})()}getEspecialistas(){var e=this;return(0,Z.Z)(function*(){let a;e.especialistas=[];for(let s of e.turnos)a=yield e.firestore.getEspecialista(s.especialista),s.especialistaCompleto=a,e.especialistas.push(a);e.especialistas=e.eliminarObjetosDuplicados(e.especialistas,"dni")})()}limpiarFiltros(){this.mensaje="",this.turnosMostrar=this.turnos}seleccionarEspecialista(e){this.turnosMostrar=[],this.especialista=e;for(let t of this.turnos)t.especialista===e.dni&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con el especialista seleccionado")}seleccionarEspecialidad(e){this.mensaje="",this.turnosMostrar=[],this.especialidad=e.especialidad;for(let t of this.turnos)t.especialidad===e.especialidad&&this.turnosMostrar.push(t);0===this.turnosMostrar.length&&(this.mensaje="No hay turnos con la especialidad seleccionada")}eliminarObjetosDuplicados(e,t){var a=[],s={};for(let c in e)s[e[c][t]]=e[c];for(let c in s)a.push(s[c]);return a}cancelarTurno(e){var t=this;return(0,Z.Z)(function*(){let a=0;const{value:s}=yield f().fire({title:"Cancelaci\xf3n de turno",input:"text",inputLabel:"Motivo de cancelaci\xf3n",inputValue:"",showCancelButton:!0,inputValidator:c=>c?"":"Debe especificar el motivo de la cancelaci\xf3n",inputAttributes:{required:"true",autocomplete:"off"}});if(s){e.estado="cancelado",e.razon=s,t.firestore.modificarEstadoTurno(e);for(let[c,d]of e.pacienteCompleto.turno.entries())if(e.fecha===d.fecha&&e.hora===d.hora){a=c;break}e.pacienteCompleto.turno.splice(a,1),t.firestore.finalizarTurnoPaciente(e.pacienteCompleto);for(let[c,d]of e.especialistaCompleto.turno.entries())if(e.fecha===d.fecha&&e.hora===d.hora){a=c;break}e.especialistaCompleto.turno.splice(a,1),t.firestore.finalizarTurnoEspecialista(e.especialistaCompleto)}else f().fire({text:"El turno no ha podido ser cancelado. Motivo: Debe especificar una razon",timer:2500,timerProgressBar:!0,icon:"error",position:"bottom",toast:!0})})()}verComentario(e){(null==e?void 0:e.comentario)?f().fire({title:"Comentario sobre el turno",text:e.comentario}):(null==e?void 0:e.razon)&&f().fire({title:"Motivo de cancelacion/rechazo del turno",text:e.razon})}filtrar(){var e,t,a,s,c,d,p,u,m,v,T,x,h,b,A,q,w,M,E,P,y,k,L,F,J,I,O,U,N,S,z,Q,Y,j,H,D,$,B,V,G,R,X,W,K,n,ai,ni,si,li,ri,ci,di,ui,pi,mi,_i;this.searchParam=this.searchParam.trim().toLowerCase().trim(),this.turnosMostrar=[];for(let r of this.turnos)(null===(e=null==r?void 0:r.comentario)||void 0===e?void 0:e.toLowerCase().trim().includes(this.searchParam))||(null===(t=null==r?void 0:r.especialidad)||void 0===t?void 0:t.toLowerCase().trim().includes(this.searchParam))||(null===(a=null==r?void 0:r.estado)||void 0===a?void 0:a.toLowerCase().trim().includes(this.searchParam))||(null===(s=null==r?void 0:r.fecha)||void 0===s?void 0:s.toLowerCase().trim().includes(this.searchParam))||(null===(c=null==r?void 0:r.hora)||void 0===c?void 0:c.toLowerCase().trim().includes(this.searchParam))?this.turnosMostrar.push(r):(((null===(p=null===(d=r.pacienteCompleto)||void 0===d?void 0:d.dni)||void 0===p?void 0:p.toString().toLowerCase().trim().includes(this.searchParam))||(null===(m=null===(u=r.pacienteCompleto)||void 0===u?void 0:u.apellido)||void 0===m?void 0:m.toLowerCase().trim().includes(this.searchParam))||(null===(T=null===(v=r.pacienteCompleto)||void 0===v?void 0:v.edad)||void 0===T?void 0:T.toString().toLowerCase().trim().includes(this.searchParam))||(null===(h=null===(x=r.pacienteCompleto)||void 0===x?void 0:x.email)||void 0===h?void 0:h.toLowerCase().trim().includes(this.searchParam))||(null===(A=null===(b=r.pacienteCompleto)||void 0===b?void 0:b.nombre)||void 0===A?void 0:A.toLowerCase().trim().includes(this.searchParam))||(null===(w=null===(q=r.pacienteCompleto)||void 0===q?void 0:q.obraSocial)||void 0===w?void 0:w.includes(this.searchParam))||(null===(E=null===(M=r.pacienteCompleto)||void 0===M?void 0:M.perfil)||void 0===E?void 0:E.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(r),(null==r?void 0:r.historiaClinica)&&((null===(k=null===(y=null===(P=null==r?void 0:r.historiaClinica)||void 0===P?void 0:P.dinamico1)||void 0===y?void 0:y.clave)||void 0===k?void 0:k.toLowerCase().trim().includes(this.searchParam))||(null===(J=null===(F=null===(L=null==r?void 0:r.historiaClinica)||void 0===L?void 0:L.dinamico1)||void 0===F?void 0:F.valor)||void 0===J?void 0:J.toLowerCase().trim().includes(this.searchParam))||(null===(I=null==r?void 0:r.historiaClinica.dinamico1.clave)||void 0===I?void 0:I.toLowerCase().trim().includes(this.searchParam))||(null===(N=null===(U=null===(O=null==r?void 0:r.historiaClinica)||void 0===O?void 0:O.dinamico2)||void 0===U?void 0:U.valor)||void 0===N?void 0:N.toLowerCase().trim().includes(this.searchParam))||(null===(Q=null===(z=null===(S=null==r?void 0:r.historiaClinica)||void 0===S?void 0:S.dinamico2)||void 0===z?void 0:z.clave)||void 0===Q?void 0:Q.toLowerCase().trim().includes(this.searchParam))||(null===(H=null===(j=null===(Y=null==r?void 0:r.historiaClinica)||void 0===Y?void 0:Y.dinamico3)||void 0===j?void 0:j.valor)||void 0===H?void 0:H.toLowerCase().trim().includes(this.searchParam))||(null===(B=null===($=null===(D=null==r?void 0:r.historiaClinica)||void 0===D?void 0:D.dinamico3)||void 0===$?void 0:$.clave)||void 0===B?void 0:B.toLowerCase().trim().includes(this.searchParam))||(null===(G=null===(V=null==r?void 0:r.historiaClinica)||void 0===V?void 0:V.altura)||void 0===G?void 0:G.toLowerCase().includes(this.searchParam))||(null===(X=null===(R=null==r?void 0:r.historiaClinica)||void 0===R?void 0:R.peso)||void 0===X?void 0:X.toLowerCase().includes(this.searchParam))||(null===(K=null===(W=null==r?void 0:r.historiaClinica)||void 0===W?void 0:W.presion)||void 0===K?void 0:K.toLowerCase().includes(this.searchParam))||(null===(ai=null===(n=null==r?void 0:r.historiaClinica)||void 0===n?void 0:n.temperatura)||void 0===ai?void 0:ai.toLowerCase().includes(this.searchParam)))&&this.turnosMostrar.push(r),((null===(si=null===(ni=null==r?void 0:r.especialistaCompleto)||void 0===ni?void 0:ni.dni)||void 0===si?void 0:si.toString().trim().toLowerCase().includes(this.searchParam))||(null===(ri=null===(li=null==r?void 0:r.especialistaCompleto)||void 0===li?void 0:li.apellido)||void 0===ri?void 0:ri.toLowerCase().trim().includes(this.searchParam))||(null===(di=null===(ci=null==r?void 0:r.especialistaCompleto)||void 0===ci?void 0:ci.edad)||void 0===di?void 0:di.toString().toLowerCase().trim().includes(this.searchParam))||(null===(pi=null===(ui=null==r?void 0:r.especialistaCompleto)||void 0===ui?void 0:ui.email)||void 0===pi?void 0:pi.toLowerCase().trim().includes(this.searchParam))||(null===(_i=null===(mi=null==r?void 0:r.especialistaCompleto)||void 0===mi?void 0:mi.nombre)||void 0===_i?void 0:_i.toLowerCase().trim().includes(this.searchParam)))&&this.turnosMostrar.push(r))}}return o.\u0275fac=function(e){return new(e||o)(i.Y36(ei.C))},o.\u0275cmp=i.Xpm({type:o,selectors:[["app-turnos"]],decls:7,vars:3,consts:[[1,"container"],[1,"text-center","text-light"],["class","d-flex justify-content-between flex-wrap",4,"ngIf"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"d-flex","justify-content-between","flex-wrap"],[1,"bi","bi-funnel-fill","text-info","noselect",3,"click"],[1,"d-flex"],["type","text",1,"mt-1","form-control","d-inline",3,"ngModel","ngModelChange"],["class","text-light",4,"ngIf","ngIfElse"],[1,"text-light"],[1,"col-12","col-sm-6"],["class","badge rounded-pill bg-dark text-light m-1 mt-2 p-2 noselect",3,"click",4,"ngFor","ngForOf"],[1,"col-12","d-flex","flex-wrap","text-light"],["class","d-inline-flex flex-column me-2",3,"click",4,"ngFor","ngForOf"],[1,"row","justify-content-around",2,"column-gap","40px","row-gap","15px"],["class","col-12 col-md-4 row rounded","style","background-color: rgba(0,0,0,.5);",3,"appEstados",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge","rounded-pill","bg-dark","text-light","m-1","mt-2","p-2","noselect",3,"click"],["alt","","width","80px","height","80px",2,"border-radius","50%",3,"src"],[1,"d-inline-flex","flex-column","me-2",3,"click"],[1,"col-12","col-md-4","row","rounded",2,"background-color","rgba(0,0,0,.5)",3,"appEstados"],[1,"col-6"],[1,"text-break"],[1,"col-6","d-flex","h-100","justify-content-end"],[1,"d-flex","flex-column"],["class","bi bi-x-square-fill ms-2","title","Cancelar turno",3,"click",4,"ngIf"],["title","Cancelar turno",1,"bi","bi-x-square-fill","ms-2",3,"click"],[1,"text-danger"]],template:function(e,t){if(1&e&&(i.TgZ(0,"div",0),i.TgZ(1,"h2",1),i._uU(2,"Listado de turnos"),i.qZA(),i.YNc(3,ae,5,1,"div",2),i.YNc(4,pe,2,2,"div",3),i.YNc(5,me,1,0,"ng-template",null,4,i.W1O),i.qZA()),2&e){const a=i.MAs(6);i.xp6(3),i.Q6J("ngIf",null==t.turnos?null:t.turnos.length),i.xp6(1),i.Q6J("ngIf",t.turnosMostrar)("ngIfElse",a)}},directives:[C.O5,_.Fj,_.JJ,_.On,C.sg,oi,ti.O],pipes:[C.gd],styles:[""]}),o})(),canActivate:[fi.u],data:{animation:""}}];let he=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({imports:[[ii.Bz.forChild(ve)],ii.Bz]}),o})();var fe=g(2271),ge=g(1004);let xe=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=i.oAB({type:o}),o.\u0275inj=i.cJS({providers:[C.uU],imports:[[C.ez,he,_.u5,_.UX,fe.m,ge.UsuariosModule]]}),o})()}}]);