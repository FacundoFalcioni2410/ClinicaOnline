(self.webpackChunkclinica_online=self.webpackChunkclinica_online||[]).push([[179],{8255:$t=>{function et(Z){return Promise.resolve().then(()=>{var _=new Error("Cannot find module '"+Z+"'");throw _.code="MODULE_NOT_FOUND",_})}et.keys=()=>[],et.resolve=et,et.id=8255,$t.exports=et},7238:($t,et,Z)=>{"use strict";Z.d(et,{l3:()=>te,_j:()=>_,LC:()=>f,ZN:()=>me,jt:()=>Me,vP:()=>He,SB:()=>_e,oB:()=>pe,eR:()=>de,X$:()=>Ve,ZE:()=>ft,k1:()=>wt});class _{}class f{}const te="*";function Ve(ct,Se){return{type:7,name:ct,definitions:Se,options:{}}}function Me(ct,Se=null){return{type:4,styles:Se,timings:ct}}function He(ct,Se=null){return{type:2,steps:ct,options:Se}}function pe(ct){return{type:6,styles:ct,offset:null}}function _e(ct,Se,St){return{type:0,name:ct,styles:Se,options:St}}function de(ct,Se,St=null){return{type:1,expr:ct,animation:Se,options:St}}function yt(ct){Promise.resolve(null).then(ct)}class me{constructor(Se=0,St=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Se+St}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}onStart(Se){this._onStartFns.push(Se)}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){yt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Se=>Se()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(Se){this._position=this.totalTime?Se*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Se){const St="start"==Se?this._onStartFns:this._onDoneFns;St.forEach(jt=>jt()),St.length=0}}class ft{constructor(Se){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Se;let St=0,jt=0,Jt=0;const st=this.players.length;0==st?yt(()=>this._onFinish()):this.players.forEach(Le=>{Le.onDone(()=>{++St==st&&this._onFinish()}),Le.onDestroy(()=>{++jt==st&&this._onDestroy()}),Le.onStart(()=>{++Jt==st&&this._onStart()})}),this.totalTime=this.players.reduce((Le,tt)=>Math.max(Le,tt.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Se=>Se()),this._onDoneFns=[])}init(){this.players.forEach(Se=>Se.init())}onStart(Se){this._onStartFns.push(Se)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Se=>Se()),this._onStartFns=[])}onDone(Se){this._onDoneFns.push(Se)}onDestroy(Se){this._onDestroyFns.push(Se)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Se=>Se.play())}pause(){this.players.forEach(Se=>Se.pause())}restart(){this.players.forEach(Se=>Se.restart())}finish(){this._onFinish(),this.players.forEach(Se=>Se.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Se=>Se.destroy()),this._onDestroyFns.forEach(Se=>Se()),this._onDestroyFns=[])}reset(){this.players.forEach(Se=>Se.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Se){const St=Se*this.totalTime;this.players.forEach(jt=>{const Jt=jt.totalTime?Math.min(1,St/jt.totalTime):1;jt.setPosition(Jt)})}getPosition(){const Se=this.players.reduce((St,jt)=>null===St||jt.totalTime>St.totalTime?jt:St,null);return null!=Se?Se.getPosition():0}beforeDestroy(){this.players.forEach(Se=>{Se.beforeDestroy&&Se.beforeDestroy()})}triggerCallback(Se){const St="start"==Se?this._onStartFns:this._onDoneFns;St.forEach(jt=>jt()),St.length=0}}const wt="!"},8583:($t,et,Z)=>{"use strict";Z.d(et,{mr:()=>ft,ez:()=>Rs,K0:()=>He,uU:()=>ki,Do:()=>ct,V_:()=>ne,Ye:()=>Se,S$:()=>yt,mk:()=>an,sg:()=>In,O5:()=>Ur,b0:()=>wt,lw:()=>pe,gd:()=>Ss,EM:()=>Zi,JF:()=>Os,PM:()=>Ti,w_:()=>ve,bD:()=>Fi,q:()=>te,Mx:()=>mt,HT:()=>Me});var _=Z(7716);let f=null;function te(){return f}function Me(U){f||(f=U)}class ve{}const He=new _.OlP("DocumentToken");let pe=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=(0,_.Yz7)({factory:_e,token:U,providedIn:"platform"}),U})();function _e(){return(0,_.LFG)(de)}const ne=new _.OlP("Location Initialized");let de=(()=>{class U extends pe{constructor(H){super(),this._doc=H,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(H){const re=te().getGlobalEventTarget(this._doc,"window");return re.addEventListener("popstate",H,!1),()=>re.removeEventListener("popstate",H)}onHashChange(H){const re=te().getGlobalEventTarget(this._doc,"window");return re.addEventListener("hashchange",H,!1),()=>re.removeEventListener("hashchange",H)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(H){this.location.pathname=H}pushState(H,re,be){he()?this._history.pushState(H,re,be):this.location.hash=be}replaceState(H,re,be){he()?this._history.replaceState(H,re,be):this.location.hash=be}forward(){this._history.forward()}back(){this._history.back()}historyGo(H=0){this._history.go(H)}getState(){return this._history.state}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(He))},U.\u0275prov=(0,_.Yz7)({factory:De,token:U,providedIn:"platform"}),U})();function he(){return!!window.history.pushState}function De(){return new de((0,_.LFG)(He))}function Fe(U,ee){if(0==U.length)return ee;if(0==ee.length)return U;let H=0;return U.endsWith("/")&&H++,ee.startsWith("/")&&H++,2==H?U+ee.substring(1):1==H?U+ee:U+"/"+ee}function Ye(U){const ee=U.match(/#|\?|$/),H=ee&&ee.index||U.length;return U.slice(0,H-("/"===U[H-1]?1:0))+U.slice(H)}function qe(U){return U&&"?"!==U[0]?"?"+U:U}let yt=(()=>{class U{historyGo(H){throw new Error("Not implemented")}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275prov=(0,_.Yz7)({factory:me,token:U,providedIn:"root"}),U})();function me(U){const ee=(0,_.LFG)(He).location;return new wt((0,_.LFG)(pe),ee&&ee.origin||"")}const ft=new _.OlP("appBaseHref");let wt=(()=>{class U extends yt{constructor(H,re){if(super(),this._platformLocation=H,this._removeListenerFns=[],null==re&&(re=this._platformLocation.getBaseHrefFromDOM()),null==re)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=re}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}prepareExternalUrl(H){return Fe(this._baseHref,H)}path(H=!1){const re=this._platformLocation.pathname+qe(this._platformLocation.search),be=this._platformLocation.hash;return be&&H?`${re}${be}`:re}pushState(H,re,be,it){const It=this.prepareExternalUrl(be+qe(it));this._platformLocation.pushState(H,re,It)}replaceState(H,re,be,it){const It=this.prepareExternalUrl(be+qe(it));this._platformLocation.replaceState(H,re,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var re,be;null===(be=(re=this._platformLocation).historyGo)||void 0===be||be.call(re,H)}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(pe),_.LFG(ft,8))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})(),ct=(()=>{class U extends yt{constructor(H,re){super(),this._platformLocation=H,this._baseHref="",this._removeListenerFns=[],null!=re&&(this._baseHref=re)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(H){this._removeListenerFns.push(this._platformLocation.onPopState(H),this._platformLocation.onHashChange(H))}getBaseHref(){return this._baseHref}path(H=!1){let re=this._platformLocation.hash;return null==re&&(re="#"),re.length>0?re.substring(1):re}prepareExternalUrl(H){const re=Fe(this._baseHref,H);return re.length>0?"#"+re:re}pushState(H,re,be,it){let It=this.prepareExternalUrl(be+qe(it));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.pushState(H,re,It)}replaceState(H,re,be,it){let It=this.prepareExternalUrl(be+qe(it));0==It.length&&(It=this._platformLocation.pathname),this._platformLocation.replaceState(H,re,It)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(H=0){var re,be;null===(be=(re=this._platformLocation).historyGo)||void 0===be||be.call(re,H)}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(pe),_.LFG(ft,8))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})(),Se=(()=>{class U{constructor(H,re){this._subject=new _.vpe,this._urlChangeListeners=[],this._platformStrategy=H;const be=this._platformStrategy.getBaseHref();this._platformLocation=re,this._baseHref=Ye(Jt(be)),this._platformStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}path(H=!1){return this.normalize(this._platformStrategy.path(H))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(H,re=""){return this.path()==this.normalize(H+qe(re))}normalize(H){return U.stripTrailingSlash(function(U,ee){return U&&ee.startsWith(U)?ee.substring(U.length):ee}(this._baseHref,Jt(H)))}prepareExternalUrl(H){return H&&"/"!==H[0]&&(H="/"+H),this._platformStrategy.prepareExternalUrl(H)}go(H,re="",be=null){this._platformStrategy.pushState(be,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(re)),be)}replaceState(H,re="",be=null){this._platformStrategy.replaceState(be,"",H,re),this._notifyUrlChangeListeners(this.prepareExternalUrl(H+qe(re)),be)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(H=0){var re,be;null===(be=(re=this._platformStrategy).historyGo)||void 0===be||be.call(re,H)}onUrlChange(H){this._urlChangeListeners.push(H),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(re=>{this._notifyUrlChangeListeners(re.url,re.state)}))}_notifyUrlChangeListeners(H="",re){this._urlChangeListeners.forEach(be=>be(H,re))}subscribe(H,re,be){return this._subject.subscribe({next:H,error:re,complete:be})}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(yt),_.LFG(pe))},U.normalizeQueryParams=qe,U.joinWithSlash=Fe,U.stripTrailingSlash=Ye,U.\u0275prov=(0,_.Yz7)({factory:St,token:U,providedIn:"root"}),U})();function St(){return new Se((0,_.LFG)(yt),(0,_.LFG)(pe))}function Jt(U){return U.replace(/\/index.html$/,"")}var tt=(()=>((tt=tt||{})[tt.Zero=0]="Zero",tt[tt.One=1]="One",tt[tt.Two=2]="Two",tt[tt.Few=3]="Few",tt[tt.Many=4]="Many",tt[tt.Other=5]="Other",tt))(),Qe=(()=>((Qe=Qe||{})[Qe.Format=0]="Format",Qe[Qe.Standalone=1]="Standalone",Qe))(),Te=(()=>((Te=Te||{})[Te.Narrow=0]="Narrow",Te[Te.Abbreviated=1]="Abbreviated",Te[Te.Wide=2]="Wide",Te[Te.Short=3]="Short",Te))(),We=(()=>((We=We||{})[We.Short=0]="Short",We[We.Medium=1]="Medium",We[We.Long=2]="Long",We[We.Full=3]="Full",We))(),Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Group=1]="Group",Ce[Ce.List=2]="List",Ce[Ce.PercentSign=3]="PercentSign",Ce[Ce.PlusSign=4]="PlusSign",Ce[Ce.MinusSign=5]="MinusSign",Ce[Ce.Exponential=6]="Exponential",Ce[Ce.SuperscriptingExponent=7]="SuperscriptingExponent",Ce[Ce.PerMille=8]="PerMille",Ce[Ce.Infinity=9]="Infinity",Ce[Ce.NaN=10]="NaN",Ce[Ce.TimeSeparator=11]="TimeSeparator",Ce[Ce.CurrencyDecimal=12]="CurrencyDecimal",Ce[Ce.CurrencyGroup=13]="CurrencyGroup",Ce))();function ut(U,ee){return Xt((0,_.cg1)(U)[_.wAp.DateFormat],ee)}function Re(U,ee){return Xt((0,_.cg1)(U)[_.wAp.TimeFormat],ee)}function Ge(U,ee){return Xt((0,_.cg1)(U)[_.wAp.DateTimeFormat],ee)}function Ct(U,ee){const H=(0,_.cg1)(U),re=H[_.wAp.NumberSymbols][ee];if(void 0===re){if(ee===Ce.CurrencyDecimal)return H[_.wAp.NumberSymbols][Ce.Decimal];if(ee===Ce.CurrencyGroup)return H[_.wAp.NumberSymbols][Ce.Group]}return re}const kn=_.kL8;function Rt(U){if(!U[_.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${U[_.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Xt(U,ee){for(let H=ee;H>-1;H--)if(void 0!==U[H])return U[H];throw new Error("Locale data API: locale data undefined")}function nn(U){const[ee,H]=U.split(":");return{hours:+ee,minutes:+H}}const vn=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Wn={},Dr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qn=(()=>((Qn=Qn||{})[Qn.Short=0]="Short",Qn[Qn.ShortGMT=1]="ShortGMT",Qn[Qn.Long=2]="Long",Qn[Qn.Extended=3]="Extended",Qn))(),kt=(()=>((kt=kt||{})[kt.FullYear=0]="FullYear",kt[kt.Month=1]="Month",kt[kt.Date=2]="Date",kt[kt.Hours=3]="Hours",kt[kt.Minutes=4]="Minutes",kt[kt.Seconds=5]="Seconds",kt[kt.FractionalSeconds=6]="FractionalSeconds",kt[kt.Day=7]="Day",kt))(),wn=(()=>((wn=wn||{})[wn.DayPeriods=0]="DayPeriods",wn[wn.Days=1]="Days",wn[wn.Months=2]="Months",wn[wn.Eras=3]="Eras",wn))();function jr(U,ee,H,re){let be=function(U){if(ei(U))return U;if("number"==typeof U&&!isNaN(U))return new Date(U);if("string"==typeof U){if(U=U.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(U)){const[be,it=1,It=1]=U.split("-").map(V=>+V);return di(be,it-1,It)}const H=parseFloat(U);if(!isNaN(U-H))return new Date(H);let re;if(re=U.match(vn))return function(U){const ee=new Date(0);let H=0,re=0;const be=U[8]?ee.setUTCFullYear:ee.setFullYear,it=U[8]?ee.setUTCHours:ee.setHours;U[9]&&(H=Number(U[9]+U[10]),re=Number(U[9]+U[11])),be.call(ee,Number(U[1]),Number(U[2])-1,Number(U[3]));const It=Number(U[4]||0)-H,V=Number(U[5]||0)-re,k=Number(U[6]||0),M=Math.floor(1e3*parseFloat("0."+(U[7]||0)));return it.call(ee,It,V,k,M),ee}(re)}const ee=new Date(U);if(!ei(ee))throw new Error(`Unable to convert "${U}" into a date`);return ee}(U);ee=Sn(H,ee)||ee;let V,It=[];for(;ee;){if(V=Dr.exec(ee),!V){It.push(ee);break}{It=It.concat(V.slice(1));const X=It.pop();if(!X)break;ee=X}}let k=be.getTimezoneOffset();re&&(k=$r(re,k),be=function(U,ee,H){const be=U.getTimezoneOffset();return function(U,ee){return(U=new Date(U.getTime())).setMinutes(U.getMinutes()+ee),U}(U,-1*($r(ee,be)-be))}(be,re));let M="";return It.forEach(X=>{const Ke=function(U){if(jn[U])return jn[U];let ee;switch(U){case"G":case"GG":case"GGG":ee=Pe(wn.Eras,Te.Abbreviated);break;case"GGGG":ee=Pe(wn.Eras,Te.Wide);break;case"GGGGG":ee=Pe(wn.Eras,Te.Narrow);break;case"y":ee=we(kt.FullYear,1,0,!1,!0);break;case"yy":ee=we(kt.FullYear,2,0,!0,!0);break;case"yyy":ee=we(kt.FullYear,3,0,!1,!0);break;case"yyyy":ee=we(kt.FullYear,4,0,!1,!0);break;case"Y":ee=On(1);break;case"YY":ee=On(2,!0);break;case"YYY":ee=On(3);break;case"YYYY":ee=On(4);break;case"M":case"L":ee=we(kt.Month,1,1);break;case"MM":case"LL":ee=we(kt.Month,2,1);break;case"MMM":ee=Pe(wn.Months,Te.Abbreviated);break;case"MMMM":ee=Pe(wn.Months,Te.Wide);break;case"MMMMM":ee=Pe(wn.Months,Te.Narrow);break;case"LLL":ee=Pe(wn.Months,Te.Abbreviated,Qe.Standalone);break;case"LLLL":ee=Pe(wn.Months,Te.Wide,Qe.Standalone);break;case"LLLLL":ee=Pe(wn.Months,Te.Narrow,Qe.Standalone);break;case"w":ee=Un(1);break;case"ww":ee=Un(2);break;case"W":ee=Un(1,!0);break;case"d":ee=we(kt.Date,1);break;case"dd":ee=we(kt.Date,2);break;case"c":case"cc":ee=we(kt.Day,1);break;case"ccc":ee=Pe(wn.Days,Te.Abbreviated,Qe.Standalone);break;case"cccc":ee=Pe(wn.Days,Te.Wide,Qe.Standalone);break;case"ccccc":ee=Pe(wn.Days,Te.Narrow,Qe.Standalone);break;case"cccccc":ee=Pe(wn.Days,Te.Short,Qe.Standalone);break;case"E":case"EE":case"EEE":ee=Pe(wn.Days,Te.Abbreviated);break;case"EEEE":ee=Pe(wn.Days,Te.Wide);break;case"EEEEE":ee=Pe(wn.Days,Te.Narrow);break;case"EEEEEE":ee=Pe(wn.Days,Te.Short);break;case"a":case"aa":case"aaa":ee=Pe(wn.DayPeriods,Te.Abbreviated);break;case"aaaa":ee=Pe(wn.DayPeriods,Te.Wide);break;case"aaaaa":ee=Pe(wn.DayPeriods,Te.Narrow);break;case"b":case"bb":case"bbb":ee=Pe(wn.DayPeriods,Te.Abbreviated,Qe.Standalone,!0);break;case"bbbb":ee=Pe(wn.DayPeriods,Te.Wide,Qe.Standalone,!0);break;case"bbbbb":ee=Pe(wn.DayPeriods,Te.Narrow,Qe.Standalone,!0);break;case"B":case"BB":case"BBB":ee=Pe(wn.DayPeriods,Te.Abbreviated,Qe.Format,!0);break;case"BBBB":ee=Pe(wn.DayPeriods,Te.Wide,Qe.Format,!0);break;case"BBBBB":ee=Pe(wn.DayPeriods,Te.Narrow,Qe.Format,!0);break;case"h":ee=we(kt.Hours,1,-12);break;case"hh":ee=we(kt.Hours,2,-12);break;case"H":ee=we(kt.Hours,1);break;case"HH":ee=we(kt.Hours,2);break;case"m":ee=we(kt.Minutes,1);break;case"mm":ee=we(kt.Minutes,2);break;case"s":ee=we(kt.Seconds,1);break;case"ss":ee=we(kt.Seconds,2);break;case"S":ee=we(kt.FractionalSeconds,1);break;case"SS":ee=we(kt.FractionalSeconds,2);break;case"SSS":ee=we(kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ee=Xe(Qn.Short);break;case"ZZZZZ":ee=Xe(Qn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ee=Xe(Qn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ee=Xe(Qn.Long);break;default:return null}return jn[U]=ee,ee}(X);M+=Ke?Ke(be,H,k):"''"===X?"'":X.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),M}function di(U,ee,H){const re=new Date(0);return re.setFullYear(U,ee,H),re.setHours(0,0,0),re}function Sn(U,ee){const H=function(U){return(0,_.cg1)(U)[_.wAp.LocaleId]}(U);if(Wn[H]=Wn[H]||{},Wn[H][ee])return Wn[H][ee];let re="";switch(ee){case"shortDate":re=ut(U,We.Short);break;case"mediumDate":re=ut(U,We.Medium);break;case"longDate":re=ut(U,We.Long);break;case"fullDate":re=ut(U,We.Full);break;case"shortTime":re=Re(U,We.Short);break;case"mediumTime":re=Re(U,We.Medium);break;case"longTime":re=Re(U,We.Long);break;case"fullTime":re=Re(U,We.Full);break;case"short":const be=Sn(U,"shortTime"),it=Sn(U,"shortDate");re=ur(Ge(U,We.Short),[be,it]);break;case"medium":const It=Sn(U,"mediumTime"),V=Sn(U,"mediumDate");re=ur(Ge(U,We.Medium),[It,V]);break;case"long":const k=Sn(U,"longTime"),M=Sn(U,"longDate");re=ur(Ge(U,We.Long),[k,M]);break;case"full":const X=Sn(U,"fullTime"),Ke=Sn(U,"fullDate");re=ur(Ge(U,We.Full),[X,Ke])}return re&&(Wn[H][ee]=re),re}function ur(U,ee){return ee&&(U=U.replace(/\{([^}]+)}/g,function(H,re){return null!=ee&&re in ee?ee[re]:H})),U}function Hr(U,ee,H="-",re,be){let it="";(U<0||be&&U<=0)&&(be?U=1-U:(U=-U,it=H));let It=String(U);for(;It.length<ee;)It="0"+It;return re&&(It=It.substr(It.length-ee)),it+It}function we(U,ee,H=0,re=!1,be=!1){return function(it,It){let V=function(U,ee){switch(U){case kt.FullYear:return ee.getFullYear();case kt.Month:return ee.getMonth();case kt.Date:return ee.getDate();case kt.Hours:return ee.getHours();case kt.Minutes:return ee.getMinutes();case kt.Seconds:return ee.getSeconds();case kt.FractionalSeconds:return ee.getMilliseconds();case kt.Day:return ee.getDay();default:throw new Error(`Unknown DateType value "${U}".`)}}(U,it);if((H>0||V>-H)&&(V+=H),U===kt.Hours)0===V&&-12===H&&(V=12);else if(U===kt.FractionalSeconds)return function(U,ee){return Hr(U,3).substr(0,ee)}(V,ee);const k=Ct(It,Ce.MinusSign);return Hr(V,ee,k,re,be)}}function Pe(U,ee,H=Qe.Format,re=!1){return function(be,it){return function(U,ee,H,re,be,it){switch(H){case wn.Months:return function(U,ee,H){const re=(0,_.cg1)(U),it=Xt([re[_.wAp.MonthsFormat],re[_.wAp.MonthsStandalone]],ee);return Xt(it,H)}(ee,be,re)[U.getMonth()];case wn.Days:return function(U,ee,H){const re=(0,_.cg1)(U),it=Xt([re[_.wAp.DaysFormat],re[_.wAp.DaysStandalone]],ee);return Xt(it,H)}(ee,be,re)[U.getDay()];case wn.DayPeriods:const It=U.getHours(),V=U.getMinutes();if(it){const M=function(U){const ee=(0,_.cg1)(U);return Rt(ee),(ee[_.wAp.ExtraData][2]||[]).map(re=>"string"==typeof re?nn(re):[nn(re[0]),nn(re[1])])}(ee),X=function(U,ee,H){const re=(0,_.cg1)(U);Rt(re);const it=Xt([re[_.wAp.ExtraData][0],re[_.wAp.ExtraData][1]],ee)||[];return Xt(it,H)||[]}(ee,be,re),Ke=M.findIndex(Ot=>{if(Array.isArray(Ot)){const[Cn,Jn]=Ot,gi=It>=Cn.hours&&V>=Cn.minutes,Mr=It<Jn.hours||It===Jn.hours&&V<Jn.minutes;if(Cn.hours<Jn.hours){if(gi&&Mr)return!0}else if(gi||Mr)return!0}else if(Ot.hours===It&&Ot.minutes===V)return!0;return!1});if(-1!==Ke)return X[Ke]}return function(U,ee,H){const re=(0,_.cg1)(U),it=Xt([re[_.wAp.DayPeriodsFormat],re[_.wAp.DayPeriodsStandalone]],ee);return Xt(it,H)}(ee,be,re)[It<12?0:1];case wn.Eras:return function(U,ee){return Xt((0,_.cg1)(U)[_.wAp.Eras],ee)}(ee,re)[U.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${H}`)}}(be,it,U,ee,H,re)}}function Xe(U){return function(ee,H,re){const be=-1*re,it=Ct(H,Ce.MinusSign),It=be>0?Math.floor(be/60):Math.ceil(be/60);switch(U){case Qn.Short:return(be>=0?"+":"")+Hr(It,2,it)+Hr(Math.abs(be%60),2,it);case Qn.ShortGMT:return"GMT"+(be>=0?"+":"")+Hr(It,1,it);case Qn.Long:return"GMT"+(be>=0?"+":"")+Hr(It,2,it)+":"+Hr(Math.abs(be%60),2,it);case Qn.Extended:return 0===re?"Z":(be>=0?"+":"")+Hr(It,2,it)+":"+Hr(Math.abs(be%60),2,it);default:throw new Error(`Unknown zone width "${U}"`)}}}function Zn(U){return di(U.getFullYear(),U.getMonth(),U.getDate()+(4-U.getDay()))}function Un(U,ee=!1){return function(H,re){let be;if(ee){const it=new Date(H.getFullYear(),H.getMonth(),1).getDay()-1,It=H.getDate();be=1+Math.floor((It+it)/7)}else{const it=Zn(H),It=function(U){const ee=di(U,0,1).getDay();return di(U,0,1+(ee<=4?4:11)-ee)}(it.getFullYear()),V=it.getTime()-It.getTime();be=1+Math.round(V/6048e5)}return Hr(be,U,Ct(re,Ce.MinusSign))}}function On(U,ee=!1){return function(H,re){return Hr(Zn(H).getFullYear(),U,Ct(re,Ce.MinusSign),ee)}}const jn={};function $r(U,ee){U=U.replace(/:/g,"");const H=Date.parse("Jan 01, 1970 00:00:00 "+U)/6e4;return isNaN(H)?ee:H}function ei(U){return U instanceof Date&&!isNaN(U.valueOf())}class Ze{}let ye=(()=>{class U extends Ze{constructor(H){super(),this.locale=H}getPluralCategory(H,re){switch(kn(re||this.locale)(H)){case tt.Zero:return"zero";case tt.One:return"one";case tt.Two:return"two";case tt.Few:return"few";case tt.Many:return"many";default:return"other"}}}return U.\u0275fac=function(H){return new(H||U)(_.LFG(_.soG))},U.\u0275prov=_.Yz7({token:U,factory:U.\u0275fac}),U})();function mt(U,ee){ee=encodeURIComponent(ee);for(const H of U.split(";")){const re=H.indexOf("="),[be,it]=-1==re?[H,""]:[H.slice(0,re),H.slice(re+1)];if(be.trim()===ee)return decodeURIComponent(it)}return null}let an=(()=>{class U{constructor(H,re,be,it){this._iterableDiffers=H,this._keyValueDiffers=re,this._ngEl=be,this._renderer=it,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(H){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof H?H.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(H){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof H?H.split(/\s+/):H,this._rawClass&&((0,_.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const H=this._iterableDiffer.diff(this._rawClass);H&&this._applyIterableChanges(H)}else if(this._keyValueDiffer){const H=this._keyValueDiffer.diff(this._rawClass);H&&this._applyKeyValueChanges(H)}}_applyKeyValueChanges(H){H.forEachAddedItem(re=>this._toggleClass(re.key,re.currentValue)),H.forEachChangedItem(re=>this._toggleClass(re.key,re.currentValue)),H.forEachRemovedItem(re=>{re.previousValue&&this._toggleClass(re.key,!1)})}_applyIterableChanges(H){H.forEachAddedItem(re=>{if("string"!=typeof re.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,_.AaK)(re.item)}`);this._toggleClass(re.item,!0)}),H.forEachRemovedItem(re=>this._toggleClass(re.item,!1))}_applyClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(re=>this._toggleClass(re,!0)):Object.keys(H).forEach(re=>this._toggleClass(re,!!H[re])))}_removeClasses(H){H&&(Array.isArray(H)||H instanceof Set?H.forEach(re=>this._toggleClass(re,!1)):Object.keys(H).forEach(re=>this._toggleClass(re,!1)))}_toggleClass(H,re){(H=H.trim())&&H.split(/\s+/g).forEach(be=>{re?this._renderer.addClass(this._ngEl.nativeElement,be):this._renderer.removeClass(this._ngEl.nativeElement,be)})}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.ZZ4),_.Y36(_.aQg),_.Y36(_.SBq),_.Y36(_.Qsj))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),U})();class ar{constructor(ee,H,re,be){this.$implicit=ee,this.ngForOf=H,this.index=re,this.count=be}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let In=(()=>{class U{constructor(H,re,be){this._viewContainer=H,this._template=re,this._differs=be,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(H){this._ngForOf=H,this._ngForOfDirty=!0}set ngForTrackBy(H){this._trackByFn=H}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(H){H&&(this._template=H)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const H=this._ngForOf;if(!this._differ&&H)try{this._differ=this._differs.find(H).create(this.ngForTrackBy)}catch(re){throw new Error(`Cannot find a differ supporting object '${H}' of type '${function(U){return U.name||typeof U}(H)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const H=this._differ.diff(this._ngForOf);H&&this._applyChanges(H)}}_applyChanges(H){const re=[];H.forEachOperation((be,it,It)=>{if(null==be.previousIndex){const V=this._viewContainer.createEmbeddedView(this._template,new ar(null,this._ngForOf,-1,-1),null===It?void 0:It),k=new rs(be,V);re.push(k)}else if(null==It)this._viewContainer.remove(null===it?void 0:it);else if(null!==it){const V=this._viewContainer.get(it);this._viewContainer.move(V,It);const k=new rs(be,V);re.push(k)}});for(let be=0;be<re.length;be++)this._perViewChange(re[be].view,re[be].record);for(let be=0,it=this._viewContainer.length;be<it;be++){const It=this._viewContainer.get(be);It.context.index=be,It.context.count=it,It.context.ngForOf=this._ngForOf}H.forEachIdentityChange(be=>{this._viewContainer.get(be.currentIndex).context.$implicit=be.item})}_perViewChange(H,re){H.context.$implicit=re.item}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.s_b),_.Y36(_.Rgc),_.Y36(_.ZZ4))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),U})();class rs{constructor(ee,H){this.record=ee,this.view=H}}let Ur=(()=>{class U{constructor(H,re){this._viewContainer=H,this._context=new Ar,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=re}set ngIf(H){this._context.$implicit=this._context.ngIf=H,this._updateView()}set ngIfThen(H){oi("ngIfThen",H),this._thenTemplateRef=H,this._thenViewRef=null,this._updateView()}set ngIfElse(H){oi("ngIfElse",H),this._elseTemplateRef=H,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(H,re){return!0}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.s_b),_.Y36(_.Rgc))},U.\u0275dir=_.lG2({type:U,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),U})();class Ar{constructor(){this.$implicit=null,this.ngIf=null}}function oi(U,ee){if(ee&&!ee.createEmbeddedView)throw new Error(`${U} must be a TemplateRef, but received '${(0,_.AaK)(ee)}'.`)}function Hn(U,ee){return Error(`InvalidPipeArgument: '${ee}' for pipe '${(0,_.AaK)(U)}'`)}let Ss=(()=>{class U{transform(H){if(null==H)return null;if("string"!=typeof H)throw Hn(U,H);return H.toUpperCase()}}return U.\u0275fac=function(H){return new(H||U)},U.\u0275pipe=_.Yjl({name:"uppercase",type:U,pure:!0}),U})(),ki=(()=>{class U{constructor(H){this.locale=H}transform(H,re="mediumDate",be,it){if(null==H||""===H||H!=H)return null;try{return jr(H,re,it||this.locale,be)}catch(It){throw Hn(U,It.message)}}}return U.\u0275fac=function(H){return new(H||U)(_.Y36(_.soG,16))},U.\u0275pipe=_.Yjl({name:"date",type:U,pure:!0}),U})(),Rs=(()=>{class U{}return U.\u0275fac=function(H){return new(H||U)},U.\u0275mod=_.oAB({type:U}),U.\u0275inj=_.cJS({providers:[{provide:Ze,useClass:ye}]}),U})();const Fi="browser";function Ti(U){return"server"===U}let Zi=(()=>{class U{}return U.\u0275prov=(0,_.Yz7)({token:U,providedIn:"root",factory:()=>new gs((0,_.LFG)(He),window)}),U})();class gs{constructor(ee,H){this.document=ee,this.window=H,this.offset=()=>[0,0]}setOffset(ee){this.offset=Array.isArray(ee)?()=>ee:ee}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ee){this.supportsScrolling()&&this.window.scrollTo(ee[0],ee[1])}scrollToAnchor(ee){if(!this.supportsScrolling())return;const H=function(U,ee){const H=U.getElementById(ee)||U.getElementsByName(ee)[0];if(H)return H;if("function"==typeof U.createTreeWalker&&U.body&&(U.body.createShadowRoot||U.body.attachShadow)){const re=U.createTreeWalker(U.body,NodeFilter.SHOW_ELEMENT);let be=re.currentNode;for(;be;){const it=be.shadowRoot;if(it){const It=it.getElementById(ee)||it.querySelector(`[name="${ee}"]`);if(It)return It}be=re.nextNode()}}return null}(this.document,ee);H&&(this.scrollToElement(H),this.attemptFocus(H))}setHistoryScrollRestoration(ee){if(this.supportScrollRestoration()){const H=this.window.history;H&&H.scrollRestoration&&(H.scrollRestoration=ee)}}scrollToElement(ee){const H=ee.getBoundingClientRect(),re=H.left+this.window.pageXOffset,be=H.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(re-it[0],be-it[1])}attemptFocus(ee){return ee.focus(),this.document.activeElement===ee}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ee=Us(this.window.history)||Us(Object.getPrototypeOf(this.window.history));return!(!ee||!ee.writable&&!ee.set)}catch(ee){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ee){return!1}}}function Us(U){return Object.getOwnPropertyDescriptor(U,"scrollRestoration")}class Os{}},7716:($t,et,Z)=>{"use strict";Z.d(et,{deG:()=>un,tb:()=>aE,AFp:()=>iE,ip1:()=>ow,CZH:()=>jf,hGG:()=>VD,z2F:()=>Jg,sBO:()=>SA,Sil:()=>Qg,_Vd:()=>Of,EJc:()=>uE,SBq:()=>_u,qLn:()=>m,vpe:()=>vu,gxx:()=>Oc,tBr:()=>ml,XFs:()=>lt,OlP:()=>qt,zs3:()=>zi,ZZ4:()=>Wy,aQg:()=>Ky,soG:()=>o_,YKP:()=>W0,v3s:()=>yD,h0i:()=>nh,PXZ:()=>dD,R0b:()=>Za,FiY:()=>vo,Lbi:()=>oE,g9A:()=>sE,Qsj:()=>fA,FYo:()=>zy,JOm:()=>Mi,Tiy:()=>Ov,q3G:()=>vi,tp0:()=>Da,EAV:()=>bD,Rgc:()=>Ug,dDg:()=>fE,DyG:()=>gn,q4F:()=>Pv,GfV:()=>j0,s_b:()=>Jy,ifc:()=>kt,eFA:()=>_E,G48:()=>iD,Gpc:()=>de,X6Q:()=>fw,_c5:()=>MD,VLi:()=>rD,c2e:()=>lE,zSh:()=>wa,wAp:()=>er,vHH:()=>Ye,EiD:()=>Ps,mCW:()=>wl,qzn:()=>vl,JVY:()=>As,pB0:()=>ls,eBb:()=>pc,L6k:()=>Pr,LAX:()=>yh,cg1:()=>Av,Tjo:()=>xD,kL8:()=>u0,yhl:()=>Xa,dqk:()=>ur,sIi:()=>gf,CqO:()=>Ag,QGY:()=>Cg,F4k:()=>Ay,RDi:()=>Ns,AaK:()=>pe,z3N:()=>Vo,qOj:()=>Ni,TTD:()=>Rs,_Bn:()=>F0,xp6:()=>Ed,uIk:()=>lg,Tol:()=>Ly,ekj:()=>Sf,Suo:()=>kb,Xpm:()=>On,lG2:()=>ei,Yz7:()=>Re,cJS:()=>Ct,oAB:()=>bn,Yjl:()=>Hi,Y36:()=>Wd,_UZ:()=>bg,BQk:()=>Eg,ynx:()=>Kd,qZA:()=>wg,TgZ:()=>vg,EpF:()=>Cy,n5z:()=>dt,Ikx:()=>Ev,LFG:()=>as,$8M:()=>Mn,NdJ:()=>Ig,CRH:()=>Fb,O4$:()=>Vi,oxw:()=>Tg,ALo:()=>Rb,lcZ:()=>Mb,Q6J:()=>_g,DdM:()=>Eb,VKq:()=>Cb,WLB:()=>Ab,iGM:()=>Pb,MAs:()=>sy,CHM:()=>lo,oJD:()=>ya,LSH:()=>Pu,kYT:()=>Ci,Udp:()=>Wc,d8E:()=>Cv,YNc:()=>_f,W1O:()=>Bb,_uU:()=>B,Oqu:()=>J,hij:()=>le,AsE:()=>Ee,lnq:()=>ze});var _=Z(9765),f=Z(5319),te=Z(7574),Ve=Z(6682),Me=Z(8819);function ve(r){for(let i in r)if(r[i]===ve)return i;throw Error("Could not find renamed property on target object.")}function He(r,i){for(const s in i)i.hasOwnProperty(s)&&!r.hasOwnProperty(s)&&(r[s]=i[s])}function pe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(pe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const s=i.indexOf("\n");return-1===s?i:i.substring(0,s)}function _e(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const ne=ve({__forward_ref__:ve});function de(r){return r.__forward_ref__=de,r.toString=function(){return pe(this())},r}function he(r){return De(r)?r():r}function De(r){return"function"==typeof r&&r.hasOwnProperty(ne)&&r.__forward_ref__===de}class Ye extends Error{constructor(i,s){super(function(r,i){return`${r?`NG0${r}: `:""}${i}`}(i,s)),this.code=i}}function me(r){return"string"==typeof r?r:null==r?"":String(r)}function ft(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():me(r)}function St(r,i){const s=i?` in ${i}`:"";throw new Ye("201",`No provider for ${ft(r)} found${s}`)}function Ft(r,i){null==r&&function(r,i,s,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${s} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Re(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ct(r){return{providers:r.providers||[],imports:r.imports||[]}}function Ut(r){return Dn(r,kn)||Dn(r,$e)}function Dn(r,i){return r.hasOwnProperty(i)?r[i]:null}function Yn(r){return r&&(r.hasOwnProperty(Rt)||r.hasOwnProperty(at))?r[Rt]:null}const kn=ve({\u0275prov:ve}),Rt=ve({\u0275inj:ve}),$e=ve({ngInjectableDef:ve}),at=ve({ngInjectorDef:ve});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Xt;function _n(r){const i=Xt;return Xt=r,i}function on(r,i,s){const l=Ut(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:s&lt.Optional?null:void 0!==i?i:void St(pe(r),"Injector")}function vn(r){return{toString:r}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),kt=(()=>((kt=kt||{})[kt.Emulated=0]="Emulated",kt[kt.None=2]="None",kt[kt.ShadowDom=3]="ShadowDom",kt))();const wn="undefined"!=typeof globalThis&&globalThis,jr="undefined"!=typeof window&&window,di="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,ur=wn||"undefined"!=typeof global&&global||jr||di,we={},Ae=[],Pe=ve({\u0275cmp:ve}),gt=ve({\u0275dir:ve}),Xe=ve({\u0275pipe:ve}),Lt=ve({\u0275mod:ve}),cn=ve({\u0275loc:ve}),Ln=ve({\u0275fac:ve}),Zn=ve({__NG_ELEMENT_ID__:ve});let Un=0;function On(r){return vn(()=>{const s={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||Ae,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||kt.Emulated,id:"c",styles:r.styles||Ae,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,h=r.features,y=r.pipes;return l.id+=Un++,l.inputs=Wi(r.inputs,s),l.outputs=Wi(r.outputs),h&&h.forEach(E=>E(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(kr):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map($r):null,l})}function kr(r){return gr(r)||function(r){return r[gt]||null}(r)}function $r(r){return function(r){return r[Xe]||null}(r)}const ji={};function bn(r){return vn(()=>{const i={type:r.type,bootstrap:r.bootstrap||Ae,declarations:r.declarations||Ae,imports:r.imports||Ae,exports:r.exports||Ae,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ji[r.id]=r.type),i})}function Ci(r,i){return vn(()=>{const s=_r(r,!0);s.declarations=i.declarations||Ae,s.imports=i.imports||Ae,s.exports=i.exports||Ae})}function Wi(r,i){if(null==r)return we;const s={};for(const l in r)if(r.hasOwnProperty(l)){let c=r[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),s[c]=l,i&&(i[c]=h)}return s}const ei=On;function Hi(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function gr(r){return r[Pe]||null}function _r(r,i){const s=r[Lt]||null;if(!s&&!0===i)throw new Error(`Type ${pe(r)} does not have '\u0275mod' property.`);return s}function ui(r){return Array.isArray(r)&&"object"==typeof r[1]}function lr(r){return Array.isArray(r)&&!0===r[1]}function hi(r){return 0!=(8&r.flags)}function Ks(r){return 2==(2&r.flags)}function ti(r){return 1==(1&r.flags)}function xr(r){return null!==r.template}function Hn(r){return 0!=(512&r[2])}function Ii(r,i){return r.hasOwnProperty(Ln)?r[Ln]:null}class xs{constructor(i,s,l){this.previousValue=i,this.currentValue=s,this.firstChange=l}isFirstChange(){return this.firstChange}}function Rs(){return Fi}function Fi(r){return r.type.prototype.ngOnChanges&&(r.setInput=go),po}function po(){const r=Ms(this),i=null==r?void 0:r.current;if(i){const s=r.previous;if(s===we)r.previous=i;else for(let l in i)s[l]=i[l];r.current=null,this.ngOnChanges(i)}}function go(r,i,s,l){const c=Ms(r)||function(r,i){return r[Qi]=i}(r,{previous:we,current:null}),h=c.current||(c.current={}),y=c.previous,E=this.declaredInputs[s],x=y[E];h[E]=new xs(x&&x.currentValue,i,y===we),r[l]=i}Rs.ngInherit=!0;const Qi="__ngSimpleChanges__";function Ms(r){return r[Qi]||null}const Zi="http://www.w3.org/2000/svg";let Us;function Ns(r){Us=r}function ms(){return void 0!==Us?Us:"undefined"!=typeof document?document:void 0}function U(r){return!!r.listen}const H={createRenderer:(r,i)=>ms()};function be(r){for(;Array.isArray(r);)r=r[0];return r}function V(r,i){return be(i[r])}function k(r,i){return be(i[r.index])}function X(r,i){return r.data[i]}function Ke(r,i){return r[i]}function Ot(r,i){const s=i[r];return ui(s)?s:s[0]}function Cn(r){return 4==(4&r[2])}function Jn(r){return 128==(128&r[2])}function Mr(r,i){return null==i?null:r[i]}function ri(r){r[18]=0}function Li(r,i){r[5]+=i;let s=r,l=r[3];for(;null!==l&&(1===i&&1===s[5]||-1===i&&0===s[5]);)l[5]+=i,s=l,l=l[3]}const An={lFrame:rn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _s(){return An.bindingsEnabled}function Tt(){return An.lFrame.lView}function nr(){return An.lFrame.tView}function lo(r){return An.lFrame.contextLView=r,r[8]}function ii(){let r=na();for(;null!==r&&64===r.type;)r=r.parent;return r}function na(){return An.lFrame.currentTNode}function ws(r,i){const s=An.lFrame;s.currentTNode=r,s.isParent=i}function Bs(){return An.lFrame.isParent}function yo(){An.lFrame.isParent=!1}function Oo(){return An.isInCheckNoChangesMode}function Di(r){An.isInCheckNoChangesMode=r}function qr(){const r=An.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function is(){return An.lFrame.bindingIndex}function Hs(){return An.lFrame.bindingIndex++}function es(r){const i=An.lFrame,s=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,s}function co(r,i){const s=An.lFrame;s.bindingIndex=s.bindingRootIndex=r,Nr(i)}function Nr(r){An.lFrame.currentDirectiveIndex=r}function q(r){const i=An.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}function j(){return An.lFrame.currentQueryIndex}function K(r){An.lFrame.currentQueryIndex=r}function ae(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Oe(r,i,s){if(s&lt.SkipSelf){let c=i,h=r;for(;!(c=c.parent,null!==c||s&lt.Host||(c=ae(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;i=c,r=h}const l=An.lFrame=_t();return l.currentTNode=i,l.lView=r,!0}function ot(r){const i=_t(),s=r[1];An.lFrame=i,i.currentTNode=s.firstChild,i.lView=r,i.tView=s,i.contextLView=r,i.bindingIndex=s.bindingStartIndex,i.inI18n=!1}function _t(){const r=An.lFrame,i=null===r?null:r.child;return null===i?rn(r):i}function rn(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function Zt(){const r=An.lFrame;return An.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const fn=Zt;function pn(){const r=Zt();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function ir(){return An.lFrame.selectedIndex}function Xn(r){An.lFrame.selectedIndex=r}function cr(){const r=An.lFrame;return X(r.tView,r.selectedIndex)}function Vi(){An.lFrame.currentNamespace=Zi}function bs(r,i){for(let s=i.directiveStart,l=i.directiveEnd;s<l;s++){const h=r.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:x,ngAfterViewChecked:L,ngOnDestroy:z}=h;y&&(r.contentHooks||(r.contentHooks=[])).push(-s,y),E&&((r.contentHooks||(r.contentHooks=[])).push(s,E),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(s,E)),x&&(r.viewHooks||(r.viewHooks=[])).push(-s,x),L&&((r.viewHooks||(r.viewHooks=[])).push(s,L),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(s,L)),null!=z&&(r.destroyHooks||(r.destroyHooks=[])).push(s,z)}}function $s(r,i,s){ia(r,i,3,s)}function Js(r,i,s,l){(3&r[2])===s&&ia(r,i,s,l)}function _o(r,i){let s=r[2];(3&s)===i&&(s&=2047,s+=1,r[2]=s)}function ia(r,i,s,l){const h=null!=l?l:-1,y=i.length-1;let E=0;for(let x=void 0!==l?65535&r[18]:0;x<y;x++)if("number"==typeof i[x+1]){if(E=i[x],null!=l&&E>=l)break}else i[x]<0&&(r[18]+=65536),(E<h||-1==h)&&(Ao(r,s,i,x),r[18]=(4294901760&r[18])+x+2),x++}function Ao(r,i,s,l){const c=s[l]<0,h=s[l+1],E=r[c?-s[l]:s[l]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{h.call(E)}finally{}}}else try{h.call(E)}finally{}}class Yr{constructor(i,s,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=l}}function Kn(r,i,s){const l=U(r);let c=0;for(;c<s.length;){const h=s[c];if("number"==typeof h){if(0!==h)break;c++;const y=s[c++],E=s[c++],x=s[c++];l?r.setAttribute(i,E,x,y):i.setAttributeNS(y,E,x)}else{const y=h,E=s[++c];Ui(y)?l&&r.setProperty(i,y,E):l?r.setAttribute(i,y,E):i.setAttribute(y,E),c++}}return c}function ns(r){return 3===r||4===r||6===r}function Ui(r){return 64===r.charCodeAt(0)}function xi(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let s=-1;for(let l=0;l<i.length;l++){const c=i[l];"number"==typeof c?s=c:0===s||sa(r,s,c,null,-1===s||2===s?i[++l]:null)}}return r}function sa(r,i,s,l,c){let h=0,y=r.length;if(-1===i)y=-1;else for(;h<r.length;){const E=r[h++];if("number"==typeof E){if(E===i){y=-1;break}if(E>i){y=h-1;break}}}for(;h<r.length;){const E=r[h];if("number"==typeof E)break;if(E===s){if(null===l)return void(null!==c&&(r[h+1]=c));if(l===r[h+1])return void(r[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(r.splice(y,0,i),h=y+1),r.splice(h++,0,s),null!==l&&r.splice(h++,0,l),null!==c&&r.splice(h++,0,c)}function yi(r){return-1!==r}function oa(r){return 32767&r}function Qo(r,i){let s=function(r){return r>>16}(r),l=i;for(;s>0;)l=l[15],s--;return l}let aa=!0;function ka(r){const i=aa;return aa=r,i}let ko=0;function F(r,i){const s=v(r,i);if(-1!==s)return s;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,b(l.data,r),b(i,null),b(l.blueprint,null));const c=R(r,i),h=r.injectorIndex;if(yi(c)){const y=oa(c),E=Qo(c,i),x=E[1].data;for(let L=0;L<8;L++)i[h+L]=E[y+L]|x[y+L]}return i[h+8]=c,h}function b(r,i){r.push(0,0,0,0,0,0,0,0,i)}function v(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function R(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let s=0,l=null,c=i;for(;null!==c;){const h=c[1],y=h.type;if(l=2===y?h.declTNode:1===y?c[6]:null,null===l)return-1;if(s++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|s<<16}return-1}function W(r,i,s){!function(r,i,s){let l;"string"==typeof s?l=s.charCodeAt(0)||0:s.hasOwnProperty(Zn)&&(l=s[Zn]),null==l&&(l=s[Zn]=ko++);const c=255&l;i.data[r+(c>>5)]|=1<<c}(r,i,s)}function ue(r,i,s){if(s&lt.Optional)return r;St(i,"NodeInjector")}function ge(r,i,s,l){if(s&lt.Optional&&void 0===l&&(l=null),0==(s&(lt.Self|lt.Host))){const c=r[9],h=_n(void 0);try{return c?c.get(i,l,s&lt.Optional):on(i,l,s&lt.Optional)}finally{_n(h)}}return ue(l,i,s)}function nt(r,i,s,l=lt.Default,c){if(null!==r){const h=function(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(Zn)?r[Zn]:void 0;return"number"==typeof i?i>=0?255&i:T:i}(s);if("function"==typeof h){if(!Oe(i,r,l))return l&lt.Host?ue(c,s,l):ge(i,s,l,c);try{const y=h(l);if(null!=y||l&lt.Optional)return y;St(s)}finally{fn()}}else if("number"==typeof h){let y=null,E=v(r,i),x=-1,L=l&lt.Host?i[16][6]:null;for((-1===E||l&lt.SkipSelf)&&(x=-1===E?R(r,i):i[E+8],-1!==x&&fe(l,!1)?(y=i[1],E=oa(x),i=Qo(x,i)):E=-1);-1!==E;){const z=i[1];if(Q(h,E,z.data)){const se=C(E,i,s,y,l,L);if(se!==Ue)return se}x=i[E+8],-1!==x&&fe(l,i[1].data[E+8]===L)&&Q(h,E,i)?(y=z,E=oa(x),i=Qo(x,i)):E=-1}}}return ge(i,s,l,c)}const Ue={};function T(){return new Ie(ii(),Tt())}function C(r,i,s,l,c,h){const y=i[1],E=y.data[r+8],z=A(E,y,s,null==l?Ks(E)&&aa:l!=y&&0!=(3&E.type),c&lt.Host&&h===E);return null!==z?P(i,y,z,E):Ue}function A(r,i,s,l,c){const h=r.providerIndexes,y=i.data,E=1048575&h,x=r.directiveStart,z=h>>20,ce=c?E+z:r.directiveEnd;for(let xe=l?E:E+z;xe<ce;xe++){const je=y[xe];if(xe<x&&s===je||xe>=x&&je.type===s)return xe}if(c){const xe=y[x];if(xe&&xr(xe)&&xe.type===s)return x}return null}function P(r,i,s,l){let c=r[s];const h=i.data;if(function(r){return r instanceof Yr}(c)){const y=c;y.resolving&&function(r,i){throw new Ye("200",`Circular dependency in DI detected for ${r}`)}(ft(h[s]));const E=ka(y.canSeeViewProviders);y.resolving=!0;const x=y.injectImpl?_n(y.injectImpl):null;Oe(r,l,lt.Default);try{c=r[s]=y.factory(void 0,h,r,l),i.firstCreatePass&&s>=l.directiveStart&&function(r,i,s){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=i.type.prototype;if(l){const y=Fi(i);(s.preOrderHooks||(s.preOrderHooks=[])).push(r,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,y)}c&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-r,c),h&&((s.preOrderHooks||(s.preOrderHooks=[])).push(r,h),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(r,h))}(s,h[s],i)}finally{null!==x&&_n(x),ka(E),y.resolving=!1,fn()}}return c}function Q(r,i,s){return!!(s[i+(r>>5)]&1<<r)}function fe(r,i){return!(r&lt.Self||r&lt.Host&&i)}class Ie{constructor(i,s){this._tNode=i,this._lView=s}get(i,s){return nt(this._tNode,this._lView,i,void 0,s)}}function dt(r){return vn(()=>{const i=r.prototype.constructor,s=i[Ln]||Nt(i),l=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==l;){const h=c[Ln]||Nt(c);if(h&&h!==s)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function Nt(r){return De(r)?()=>{const i=Nt(he(r));return i&&i()}:Ii(r)}function Mn(r){return function(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const s=r.attrs;if(s){const l=s.length;let c=0;for(;c<l;){const h=s[c];if(ns(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof s[c];)c++;else{if(h===i)return s[c+1];c+=2}}}return null}(ii(),r)}const zt="__parameters__";function sn(r,i,s){return vn(()=>{const l=function(r){return function(...s){if(r){const l=r(...s);for(const c in l)this[c]=l[c]}}}(i);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return E.annotation=y,E;function E(x,L,z){const se=x.hasOwnProperty(zt)?x[zt]:Object.defineProperty(x,zt,{value:[]})[zt];for(;se.length<=z;)se.push(null);return(se[z]=se[z]||[]).push(y),x}}return s&&(c.prototype=Object.create(s.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class qt{constructor(i,s){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Re({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const un=new qt("AnalyzeForEntryComponents"),gn=Function;function eo(r,i){void 0===i&&(i=r);for(let s=0;s<r.length;s++){let l=r[s];Array.isArray(l)?(i===r&&(i=r.slice(0,s)),eo(l,i)):i!==r&&i.push(l)}return i}function da(r,i){r.forEach(s=>Array.isArray(s)?da(s,i):i(s))}function Ga(r,i,s){i>=r.length?r.push(s):r.splice(i,0,s)}function Ta(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function Jr(r,i,s){let l=Gr(r,i);return l>=0?r[1|l]=s:(l=~l,function(r,i,s,l){let c=r.length;if(c==i)r.push(s,l);else if(1===c)r.push(l,r[0]),r[0]=s;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=s,r[i+1]=l}}(r,l,i,s)),l}function ac(r,i){const s=Gr(r,i);if(s>=0)return r[1|s]}function Gr(r,i){return function(r,i,s){let l=0,c=r.length>>s;for(;c!==l;){const h=l+(c-l>>1),y=r[h<<s];if(i===y)return h<<s;y>i?c=h:l=h+1}return~(c<<s)}(r,i,1)}const Hl={},nd="__NG_DI_FLAG__",Wa="ngTempTokenPath",Wf=/\n/gm,$l="__source",Zl=ve({provide:String,useValue:ve});let Ka;function Ya(r){const i=Ka;return Ka=r,i}function fa(r,i=lt.Default){if(void 0===Ka)throw new Error("inject() must be called from an injection context");return null===Ka?on(r,void 0,i):Ka.get(r,i&lt.Optional?null:void 0,i)}function as(r,i=lt.Default){return(Xt||fa)(he(r),i)}function pa(r){const i=[];for(let s=0;s<r.length;s++){const l=he(r[s]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let c,h=lt.Default;for(let y=0;y<l.length;y++){const E=l[y],x=dc(E);"number"==typeof x?-1===x?c=E.token:h|=x:c=E}i.push(as(c,h))}else i.push(as(l))}return i}function pl(r,i){return r[nd]=i,r.prototype[nd]=i,r}function dc(r){return r[nd]}function ql(r,i,s,l){const c=r[Wa];throw i[$l]&&c.unshift(i[$l]),r.message=function(r,i,s,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=pe(i);if(Array.isArray(i))c=i.map(pe).join(" -> ");else if("object"==typeof i){let h=[];for(let y in i)if(i.hasOwnProperty(y)){let E=i[y];h.push(y+":"+("string"==typeof E?JSON.stringify(E):pe(E)))}c=`{${h.join(", ")}}`}return`${s}${l?"("+l+")":""}[${c}]: ${r.replace(Wf,"\n  ")}`}("\n"+r.message,c,s,l),r.ngTokenPath=c,r[Wa]=null,r}const ml=pl(sn("Inject",r=>({token:r})),-1),vo=pl(sn("Optional"),8),Da=pl(sn("SkipSelf"),4);let Ql,_l;function Jl(r){var i;return(null===(i=function(){if(void 0===Ql&&(Ql=null,ur.trustedTypes))try{Ql=ur.trustedTypes.createPolicy("angular",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return Ql}())||void 0===i?void 0:i.createHTML(r))||r}function fc(r){var i;return(null===(i=function(){if(void 0===_l&&(_l=null,ur.trustedTypes))try{_l=ur.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch(r){}return _l}())||void 0===i?void 0:i.createHTML(r))||r}class xa{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Su extends xa{getTypeName(){return"HTML"}}class Ja extends xa{getTypeName(){return"Style"}}class ph extends xa{getTypeName(){return"Script"}}class gh extends xa{getTypeName(){return"URL"}}class mh extends xa{getTypeName(){return"ResourceURL"}}function Vo(r){return r instanceof xa?r.changingThisBreaksApplicationSecurity:r}function vl(r,i){const s=Xa(r);if(null!=s&&s!==i){if("ResourceURL"===s&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===i}function Xa(r){return r instanceof xa&&r.getTypeName()||null}function As(r){return new Su(r)}function Pr(r){return new Ja(r)}function pc(r){return new ph(r)}function yh(r){return new gh(r)}function ls(r){return new mh(r)}class no{constructor(i){this.inertDocumentHelper=i}getInertBodyElement(i){i="<body><remove></remove>"+i;try{const s=(new window.DOMParser).parseFromString(Jl(i),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(i):(s.removeChild(s.firstChild),s)}catch(s){return null}}}class Bi{constructor(i){if(this.defaultDoc=i,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const l=this.inertDocument.createElement("body");s.appendChild(l)}}getInertBodyElement(i){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Jl(i),s;const l=this.inertDocument.createElement("body");return l.innerHTML=Jl(i),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(i){const s=i.attributes;for(let c=s.length-1;0<c;c--){const y=s.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&i.removeAttribute(y)}let l=i.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Yf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Qf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wl(r){return(r=String(r)).match(Yf)||r.match(Qf)?r:"unsafe:"+r}function ma(r){const i={};for(const s of r.split(","))i[s]=!0;return i}function Ru(...r){const i={};for(const s of r)for(const l in s)s.hasOwnProperty(l)&&(i[l]=!0);return i}const zr=ma("area,br,col,hr,img,wbr"),gc=ma("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mu=ma("rp,rt"),yc=Ru(zr,Ru(gc,ma("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ru(Mu,ma("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ru(Mu,gc)),_c=ma("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bl=ma("srcset"),ad=Ru(_c,bl,ma("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ma("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wh=ma("script,style,template");class Xf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(i){let s=i.firstChild,l=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?l=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,l&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let c=this.checkClobberedElement(s,s.nextSibling);if(c){s=c;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(i){const s=i.nodeName.toLowerCase();if(!yc.hasOwnProperty(s))return this.sanitizedSomething=!0,!wh.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const l=i.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),y=h.name,E=y.toLowerCase();if(!ad.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let x=h.value;_c[E]&&(x=wl(x)),bl[E]&&(r=x,x=(r=String(r)).split(",").map(i=>wl(i.trim())).join(", ")),this.buf.push(" ",y,'="',ld(x),'"')}var r;return this.buf.push(">"),!0}endElement(i){const s=i.nodeName.toLowerCase();yc.hasOwnProperty(s)&&!zr.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(i){this.buf.push(ld(i))}checkClobberedElement(i,s){if(s&&(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`);return s}}const ep=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ou=/([^\#-~ |!])/g;function ld(r){return r.replace(/&/g,"&amp;").replace(ep,function(i){return"&#"+(1024*(i.charCodeAt(0)-55296)+(i.charCodeAt(1)-56320)+65536)+";"}).replace(Ou,function(i){return"&#"+i.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let El;function Ps(r,i){let s=null;try{El=El||function(r){const i=new Bi(r);return function(){try{return!!(new window.DOMParser).parseFromString(Jl(""),"text/html")}catch(r){return!1}}()?new no(i):i}(r);let l=i?String(i):"";s=El.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=s.innerHTML,s=El.getInertBodyElement(l)}while(l!==h);return Jl((new Xf).sanitizeChildren(eu(s)||s))}finally{if(s){const l=eu(s)||s;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function eu(r){return"content"in r&&function(r){return r.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===r.nodeName}(r)?r.content:null}var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function ya(r){const i=ku();return i?fc(i.sanitize(vi.HTML,r)||""):vl(r,"HTML")?fc(Vo(r)):Ps(ms(),me(r))}function Pu(r){const i=ku();return i?i.sanitize(vi.URL,r)||"":vl(r,"URL")?Vo(r):wl(me(r))}function ku(){const r=Tt();return r&&r[12]}const fd="__ngContext__";function ro(r,i){r[fd]=i}function Fu(r){const i=function(r){return r[fd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function Fs(r){return r.ngOriginalError}function g(r,...i){r.error(...i)}class m{constructor(){this._console=console}handleError(i){const s=this._findOriginalError(i),l=this._findContext(i),c=(r=i)&&r.ngErrorLogger||g;var r;c(this._console,"ERROR",i),s&&c(this._console,"ORIGINAL ERROR",s),l&&c(this._console,"ERROR CONTEXT",l)}_findContext(i){return i?i.ngDebugContext||this._findContext(Fs(i)):null}_findOriginalError(i){let s=i&&Fs(i);for(;s&&Fs(s);)s=Fs(s);return s||null}}const nu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ur))();function _a(r){return r instanceof Function?r():r}var Mi=(()=>((Mi=Mi||{})[Mi.Important=1]="Important",Mi[Mi.DashCase=2]="DashCase",Mi))();function md(r,i){return undefined(r,i)}function Bu(r){const i=r[3];return lr(i)?i[3]:i}function Dh(r){return ju(r[13])}function su(r){return ju(r[4])}function ju(r){for(;null!==r&&!lr(r);)r=r[4];return r}function tl(r,i,s,l,c){if(null!=l){let h,y=!1;lr(l)?h=l:ui(l)&&(y=!0,l=l[0]);const E=be(l);0===r&&null!==s?null==c?cm(i,s,E):va(i,s,E,c||null,!0):1===r&&null!==s?va(i,s,E,c||null,!0):2===r?function(r,i,s){const l=Fa(r,i);l&&function(r,i,s,l){U(r)?r.removeChild(i,s,l):i.removeChild(s)}(r,l,i,s)}(i,E,y):3===r&&i.destroyNode(E),null!=h&&function(r,i,s,l,c){const h=s[7];h!==be(s)&&tl(i,r,l,h,c);for(let E=10;E<s.length;E++){const x=s[E];Cc(x[1],x,r,i,l,h)}}(i,r,h,s,c)}}function Rh(r,i,s){return U(r)?r.createElement(i,s):null===s?r.createElement(i):r.createElementNS(s,i)}function qo(r,i){const s=r[9],l=s.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,Li(c,-1)),s.splice(l,1)}function Mh(r,i){if(r.length<=10)return;const s=10+i,l=r[s];if(l){const c=l[17];null!==c&&c!==r&&qo(c,l),i>0&&(r[s-1][4]=l[4]);const h=Ta(r,10+i);!function(r,i){Cc(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const y=h[19];null!==y&&y.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function _d(r,i){if(!(256&i[2])){const s=i[11];U(s)&&s.destroyNode&&Cc(r,i,s,3,null,null),function(r){let i=r[13];if(!i)return vd(r[1],r);for(;i;){let s=null;if(ui(i))s=i[13];else{const l=i[10];l&&(s=l)}if(!s){for(;i&&!i[4]&&i!==r;)ui(i)&&vd(i[1],i),i=i[3];null===i&&(i=r),ui(i)&&vd(i[1],i),s=i&&i[4]}i=s}}(i)}}function vd(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function(r,i){let s;if(null!=r&&null!=(s=r.destroyHooks))for(let l=0;l<s.length;l+=2){const c=i[s[l]];if(!(c instanceof Yr)){const h=s[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const E=c[h[y]],x=h[y+1];try{x.call(E)}finally{}}else try{h.call(c)}finally{}}}}(r,i),function(r,i){const s=r.cleanup,l=i[7];let c=-1;if(null!==s)for(let h=0;h<s.length-1;h+=2)if("string"==typeof s[h]){const y=s[h+1],E="function"==typeof y?y(i):be(i[y]),x=l[c=s[h+2]],L=s[h+3];"boolean"==typeof L?E.removeEventListener(s[h],x,L):L>=0?l[c=L]():l[c=-L].unsubscribe(),h+=2}else{const y=l[c=s[h+1]];s[h].call(y)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();i[7]=null}}(r,i),1===i[1].type&&U(i[11])&&i[11].destroy();const s=i[17];if(null!==s&&lr(i[3])){s!==i[3]&&qo(s,i);const l=i[19];null!==l&&l.detachView(r)}}}function Hu(r,i,s){return function(r,i,s){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return s[0];if(2&l.flags){const c=r.data[l.directiveStart].encapsulation;if(c===kt.None||c===kt.Emulated)return null}return k(l,s)}(r,i.parent,s)}function va(r,i,s,l,c){U(r)?r.insertBefore(i,s,l,c):i.insertBefore(s,l,c)}function cm(r,i,s){U(r)?r.appendChild(i,s):i.appendChild(s)}function $u(r,i,s,l,c){null!==l?va(r,i,s,l,c):cm(r,i,s)}function Fa(r,i){return U(r)?r.parentNode(i):i.parentNode}let hm=function(r,i,s){return 40&r.type?k(r,s):null};function Oh(r,i,s,l){const c=Hu(r,l,i),h=i[11],E=function(r,i,s){return hm(r,i,s)}(l.parent||i[6],l,i);if(null!=c)if(Array.isArray(s))for(let x=0;x<s.length;x++)$u(h,c,s[x],E,!1);else $u(h,c,s,E,!1)}function qu(r,i){if(null!==i){const s=i.type;if(3&s)return k(i,r);if(4&s)return Ph(-1,r[i.index]);if(8&s){const l=i.child;if(null!==l)return qu(r,l);{const c=r[i.index];return lr(c)?Ph(-1,c):be(c)}}if(32&s)return md(i,r)()||be(r[i.index]);{const l=Gu(r,i);return null!==l?Array.isArray(l)?l[0]:qu(Bu(r[16]),l):qu(r,i.next)}}return null}function Gu(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Ph(r,i){const s=10+r+1;if(s<i.length){const l=i[s],c=l[1].firstChild;if(null!==c)return qu(l,c)}return i[7]}function cp(r,i,s,l,c,h,y){for(;null!=s;){const E=l[s.index],x=s.type;if(y&&0===i&&(E&&ro(be(E),l),s.flags|=4),64!=(64&s.flags))if(8&x)cp(r,i,s.child,l,c,h,!1),tl(i,r,c,E,h);else if(32&x){const L=md(s,l);let z;for(;z=L();)tl(i,r,c,z,h);tl(i,r,c,E,h)}else 16&x?wd(r,i,l,s,c,h):tl(i,r,c,E,h);s=y?s.projectionNext:s.next}}function Cc(r,i,s,l,c,h){cp(s,l,r.firstChild,i,c,h,!1)}function wd(r,i,s,l,c,h){const y=s[16],x=y[6].projection[l.projection];if(Array.isArray(x))for(let L=0;L<x.length;L++)tl(i,r,c,x[L],h);else cp(r,i,x,y[3],c,h,!0)}function kh(r,i,s){U(r)?r.setAttribute(i,"style",s):i.style.cssText=s}function bd(r,i,s){U(r)?""===s?r.removeAttribute(i,"class"):r.setAttribute(i,"class",s):i.className=s}function Ac(r,i,s){let l=r.length;for(;;){const c=r.indexOf(i,s);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const h=i.length;if(c+h===l||r.charCodeAt(c+h)<=32)return c}s=c+1}}const Fh="ng-template";function b_(r,i,s){let l=0;for(;l<r.length;){let c=r[l++];if(s&&"class"===c){if(c=r[l],-1!==Ac(c.toLowerCase(),i,0))return!0}else if(1===c){for(;l<r.length&&"string"==typeof(c=r[l++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function hp(r){return 4===r.type&&r.value!==Fh}function fp(r,i,s){return i===(4!==r.type||s?r.value:Fh)}function mm(r,i,s){let l=4;const c=r.attrs||[],h=function(r){for(let i=0;i<r.length;i++)if(ns(r[i]))return i;return r.length}(c);let y=!1;for(let E=0;E<i.length;E++){const x=i[E];if("number"!=typeof x){if(!y)if(4&l){if(l=2|1&l,""!==x&&!fp(r,x,s)||""===x&&1===i.length){if(La(l))return!1;y=!0}}else{const L=8&l?x:i[++E];if(8&l&&null!==r.attrs){if(!b_(r.attrs,L,s)){if(La(l))return!1;y=!0}continue}const se=ym(8&l?"class":x,c,hp(r),s);if(-1===se){if(La(l))return!1;y=!0;continue}if(""!==L){let ce;ce=se>h?"":c[se+1].toLowerCase();const xe=8&l?ce:null;if(xe&&-1!==Ac(xe,L,0)||2&l&&L!==ce){if(La(l))return!1;y=!0}}}}else{if(!y&&!La(l)&&!La(x))return!1;if(y&&La(x))continue;y=!1,l=x|1&l}}return La(l)||y}function La(r){return 0==(1&r)}function ym(r,i,s,l){if(null===i)return-1;let c=0;if(l||!s){let h=!1;for(;c<i.length;){const y=i[c];if(y===r)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let E=i[++c];for(;"string"==typeof E;)E=i[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function(r,i){let s=r.indexOf(4);if(s>-1)for(s++;s<r.length;){const l=r[s];if("number"==typeof l)return-1;if(l===i)return s;s++}return-1}(i,r)}function pp(r,i,s=!1){for(let l=0;l<i.length;l++)if(mm(r,i[l],s))return!0;return!1}function mp(r,i){return r?":not("+i.trim()+")":i}function A_(r){let i=r[0],s=1,l=2,c="",h=!1;for(;s<r.length;){let y=r[s];if("string"==typeof y)if(2&l){const E=r[++s];c+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!La(y)&&(i+=mp(h,c),c=""),l=y,h=h||!La(l);s++}return""!==c&&(i+=mp(h,c)),i}const dr={};function Ed(r){yp(nr(),Tt(),ir()+r,Oo())}function yp(r,i,s,l){if(!l)if(3==(3&i[2])){const h=r.preOrderCheckHooks;null!==h&&$s(i,h,s)}else{const h=r.preOrderHooks;null!==h&&Js(i,h,0,s)}Xn(s)}function Cd(r,i){return r<<17|i<<2}function Va(r){return r>>17&32767}function Ad(r){return 2|r}function Sl(r){return(131068&r)>>2}function Id(r,i){return-131069&r|i<<2}function Td(r){return 1|r}function qh(r,i){const s=r.contentQueries;if(null!==s)for(let l=0;l<s.length;l+=2){const c=s[l],h=s[l+1];if(-1!==h){const y=r.data[h];K(c),y.contentQueries(2,i[h],h)}}}function Nd(r,i,s,l,c,h,y,E,x,L){const z=i.blueprint.slice();return z[0]=c,z[2]=140|l,ri(z),z[3]=z[15]=r,z[8]=s,z[10]=y||r&&r[10],z[11]=E||r&&r[11],z[12]=x||r&&r[12]||null,z[9]=L||r&&r[9]||null,z[6]=h,z[16]=2==i.type?r[16]:z,z}function cu(r,i,s,l,c){let h=r.data[i];if(null===h)h=function(r,i,s,l,c){const h=na(),y=Bs(),x=r.data[i]=function(r,i,s,l,c,h){return{type:s,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,s,i,l,c);return null===r.firstChild&&(r.firstChild=x),null!==h&&(y?null==h.child&&null!==x.parent&&(h.child=x):null===h.next&&(h.next=x)),x}(r,i,s,l,c),An.lFrame.inI18n&&(h.flags|=64);else if(64&h.type){h.type=s,h.value=l,h.attrs=c;const y=function(){const r=An.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return ws(h,!0),h}function du(r,i,s,l){if(0===s)return-1;const c=i.length;for(let h=0;h<s;h++)i.push(l),r.blueprint.push(l),r.data.push(null);return c}function Od(r,i,s){ot(i);try{const l=r.viewQuery;null!==l&&Zp(1,l,s);const c=r.template;null!==c&&zh(r,i,c,1,s),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&qh(r,i),r.staticViewQueries&&Zp(2,r.viewQuery,s);const h=r.components;null!==h&&function(r,i){for(let s=0;s<i.length;s++)Lp(r,i[s])}(i,h)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,pn()}}function hu(r,i,s,l){const c=i[2];if(256==(256&c))return;ot(i);const h=Oo();try{ri(i),function(r){An.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==s&&zh(r,i,s,2,l);const y=3==(3&c);if(!h)if(y){const L=r.preOrderCheckHooks;null!==L&&$s(i,L,null)}else{const L=r.preOrderHooks;null!==L&&Js(i,L,0,null),_o(i,0)}if(function(r){for(let i=Dh(r);null!==i;i=su(i)){if(!i[2])continue;const s=i[9];for(let l=0;l<s.length;l++){const c=s[l],h=c[3];0==(1024&c[2])&&Li(h,1),c[2]|=1024}}}(i),function(r){for(let i=Dh(r);null!==i;i=su(i))for(let s=10;s<i.length;s++){const l=i[s],c=l[1];Jn(l)&&hu(c,l,c.template,l[8])}}(i),null!==r.contentQueries&&qh(r,i),!h)if(y){const L=r.contentCheckHooks;null!==L&&$s(i,L)}else{const L=r.contentHooks;null!==L&&Js(i,L,1),_o(i,1)}!function(r,i){const s=r.hostBindingOpCodes;if(null!==s)try{for(let l=0;l<s.length;l++){const c=s[l];if(c<0)Xn(~c);else{const h=c,y=s[++l],E=s[++l];co(y,h),E(2,i[h])}}}finally{Xn(-1)}}(r,i);const E=r.components;null!==E&&function(r,i){for(let s=0;s<i.length;s++)B_(r,i[s])}(i,E);const x=r.viewQuery;if(null!==x&&Zp(2,x,l),!h)if(y){const L=r.viewCheckHooks;null!==L&&$s(i,L)}else{const L=r.viewHooks;null!==L&&Js(i,L,2),_o(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),h||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Li(i[3],-1))}finally{pn()}}function Gh(r,i,s,l){const c=i[10],h=!Oo(),y=Cn(i);try{h&&!y&&c.begin&&c.begin(),y&&Od(r,i,l),hu(r,i,s,l)}finally{h&&!y&&c.end&&c.end()}}function zh(r,i,s,l,c){const h=ir(),y=2&l;try{Xn(-1),y&&i.length>20&&yp(r,i,20,Oo()),s(l,c)}finally{Xn(h)}}function Tp(r,i,s){if(hi(i)){const c=i.directiveEnd;for(let h=i.directiveStart;h<c;h++){const y=r.data[h];y.contentQueries&&y.contentQueries(1,s[h],h)}}}function fu(r,i,s){!_s()||(function(r,i,s,l){const c=s.directiveStart,h=s.directiveEnd;r.firstCreatePass||F(s,i),ro(l,i);const y=s.initialInputs;for(let E=c;E<h;E++){const x=r.data[E],L=xr(x);L&&F_(i,s,x);const z=P(i,r,E,s);ro(z,i),null!==y&&Nm(0,E-c,z,x,0,y),L&&(Ot(s.index,i)[8]=z)}}(r,i,s,k(s,i)),128==(128&s.flags)&&function(r,i,s){const l=s.directiveStart,c=s.directiveEnd,y=s.index,E=An.lFrame.currentDirectiveIndex;try{Xn(y);for(let x=l;x<c;x++){const L=r.data[x],z=i[x];Nr(x),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Jh(L,z)}}finally{Xn(-1),Nr(E)}}(r,i,s))}function Pd(r,i,s=k){const l=i.localNames;if(null!==l){let c=i.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],E=-1===y?s(i,r):r[y];r[c++]=E}}}function Sm(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Wh(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Wh(r,i,s,l,c,h,y,E,x,L){const z=20+l,se=z+c,ce=function(r,i){const s=[];for(let l=0;l<i;l++)s.push(l<r?null:dr);return s}(z,se),xe="function"==typeof L?L():L;return ce[1]={type:r,blueprint:ce,template:s,queries:null,viewQuery:E,declTNode:i,data:ce.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:x,consts:xe,incompleteFirstPass:!1}}function Rm(r,i,s,l){const c=nf(i);null===s?c.push(l):(c.push(s),r.firstCreatePass&&Fm(r).push(l,c.length-1))}function Mm(r,i,s){for(let l in r)if(r.hasOwnProperty(l)){const c=r[l];(s=null===s?{}:s).hasOwnProperty(l)?s[l].push(i,c):s[l]=[i,c]}return s}function Go(r,i,s,l,c,h,y,E){const x=k(i,s);let z,L=i.inputs;!E&&null!=L&&(z=L[l])?(sf(r,s,z,l,c),Ks(i)&&function(r,i){const s=Ot(i,r);16&s[2]||(s[2]|=64)}(s,i.index)):3&i.type&&(l=function(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),c=null!=y?y(c,i.value||"",l):c,U(h)?h.setProperty(x,l,c):Ui(l)||(x.setProperty?x.setProperty(l,c):x[l]=c))}function Qh(r,i,s,l){let c=!1;if(_s()){const h=function(r,i,s){const l=r.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const y=l[h];pp(s,y.selectors,!1)&&(c||(c=[]),W(F(s,i),r,y.type),xr(y)?(Xh(r,s),c.unshift(y)):c.push(y))}return c}(r,i,s),y=null===l?null:{"":-1};if(null!==h){c=!0,ef(s,r.data.length,h.length);for(let z=0;z<h.length;z++){const se=h[z];se.providersResolver&&se.providersResolver(se)}let E=!1,x=!1,L=du(r,i,h.length,null);for(let z=0;z<h.length;z++){const se=h[z];s.mergedAttrs=xi(s.mergedAttrs,se.hostAttrs),tf(r,s,i,L,se),k_(L,se,y),null!==se.contentQueries&&(s.flags|=8),(null!==se.hostBindings||null!==se.hostAttrs||0!==se.hostVars)&&(s.flags|=128);const ce=se.type.prototype;!E&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(s.index),E=!0),!x&&(ce.ngOnChanges||ce.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(s.index),x=!0),L++}!function(r,i){const l=i.directiveEnd,c=r.data,h=i.attrs,y=[];let E=null,x=null;for(let L=i.directiveStart;L<l;L++){const z=c[L],se=z.inputs,ce=null===h||hp(i)?null:Om(se,h);y.push(ce),E=Mm(se,L,E),x=Mm(z.outputs,L,x)}null!==E&&(E.hasOwnProperty("class")&&(i.flags|=16),E.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=y,i.inputs=E,i.outputs=x}(r,s)}y&&function(r,i,s){if(i){const l=r.localNames=[];for(let c=0;c<i.length;c+=2){const h=s[i[c+1]];if(null==h)throw new Ye("301",`Export of name '${i[c+1]}' not found!`);l.push(i[c],h)}}}(s,l,y)}return s.mergedAttrs=xi(s.mergedAttrs,s.attrs),c}function Wu(r,i,s,l,c,h){const y=h.hostBindings;if(y){let E=r.hostBindingOpCodes;null===E&&(E=r.hostBindingOpCodes=[]);const x=~i.index;(function(r){let i=r.length;for(;i>0;){const s=r[--i];if("number"==typeof s&&s<0)return s}return 0})(E)!=x&&E.push(x),E.push(l,c,y)}}function Jh(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Xh(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function k_(r,i,s){if(s){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)s[i.exportAs[l]]=r;xr(i)&&(s[""]=r)}}function ef(r,i,s){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+s,r.providerIndexes=i}function tf(r,i,s,l,c){r.data[l]=c;const h=c.factory||(c.factory=Ii(c.type)),y=new Yr(h,xr(c),null);r.blueprint[l]=y,s[l]=y,Wu(r,i,0,l,du(r,s,c.hostVars,dr),c)}function F_(r,i,s){const l=k(i,r),c=Sm(s),h=r[10],y=Rc(r,Nd(r,c,null,s.onPush?64:16,l,i,h,h.createRenderer(l,s),null,null));r[i.index]=y}function Ua(r,i,s,l,c,h){const y=k(r,i);!function(r,i,s,l,c,h,y){if(null==h)U(r)?r.removeAttribute(i,c,s):i.removeAttribute(c);else{const E=null==y?me(h):y(h,l||"",c);U(r)?r.setAttribute(i,c,E,s):s?i.setAttributeNS(s,c,E):i.setAttribute(c,E)}}(i[11],y,h,r.value,s,l,c)}function Nm(r,i,s,l,c,h){const y=h[i];if(null!==y){const E=l.setInput;for(let x=0;x<y.length;){const L=y[x++],z=y[x++],se=y[x++];null!==E?l.setInput(s,se,L,z):s[z]=se}}}function Om(r,i){let s=null,l=0;for(;l<i.length;){const c=i[l];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===s&&(s=[]),s.push(c,r[c],i[l+1])),l+=2}else l+=2;else l+=4}return s}function kp(r,i,s,l){return new Array(r,!0,!1,i,null,0,l,s,null,null)}function B_(r,i){const s=Ot(i,r);if(Jn(s)){const l=s[1];80&s[2]?hu(l,s,l.template,s[8]):s[5]>0&&Fp(s)}}function Fp(r){for(let l=Dh(r);null!==l;l=su(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const y=h[1];hu(y,h,y.template,h[8])}else h[5]>0&&Fp(h)}const s=r[1].components;if(null!==s)for(let l=0;l<s.length;l++){const c=Ot(s[l],r);Jn(c)&&c[5]>0&&Fp(c)}}function Lp(r,i){const s=Ot(i,r),l=s[1];(function(r,i){for(let s=i.length;s<r.blueprint.length;s++)i.push(r.blueprint[s])})(l,s),Od(l,s,s[8])}function Rc(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Up(r){for(;r;){r[2]|=64;const i=Bu(r);if(Hn(r)&&!i)return r;r=i}return null}function Ld(r,i,s){const l=i[10];l.begin&&l.begin();try{hu(r,i,r.template,s)}catch(c){throw Lm(i,c),c}finally{l.end&&l.end()}}function Hp(r){!function(r){for(let i=0;i<r.components.length;i++){const s=r.components[i],l=Fu(s),c=l[1];Gh(c,l,c.template,s)}}(r[8])}function Zp(r,i,s){K(0),i(r,s)}const j_=(()=>Promise.resolve(null))();function nf(r){return r[7]||(r[7]=[])}function Fm(r){return r.cleanup||(r.cleanup=[])}function Lm(r,i){const s=r[9],l=s?s.get(m,null):null;l&&l.handleError(i)}function sf(r,i,s,l,c){for(let h=0;h<s.length;){const y=s[h++],E=s[h++],x=i[y],L=r.data[y];null!==L.setInput?L.setInput(x,c,l,E):x[E]=c}}function Ba(r,i,s){const l=V(i,r);!function(r,i,s){U(r)?r.setValue(i,s):i.textContent=s}(r[11],l,s)}function Mc(r,i,s){let l=s?r.styles:null,c=s?r.classes:null,h=0;if(null!==i)for(let y=0;y<i.length;y++){const E=i[y];"number"==typeof E?h=E:1==h?c=_e(c,E):2==h&&(l=_e(l,E+": "+i[++y]+";"))}s?r.styles=l:r.stylesWithoutHost=l,s?r.classes=c:r.classesWithoutHost=c}const Oc=new qt("INJECTOR",-1);class of{get(i,s=Hl){if(s===Hl){const l=new Error(`NullInjectorError: No provider for ${pe(i)}!`);throw l.name="NullInjectorError",l}return s}}const wa=new qt("Set Injector scope."),Ku={},H_={};let Vd;function Bm(){return void 0===Vd&&(Vd=new of),Vd}function af(r,i=null,s=null,l){return new Z_(r,s,i||Bm(),l)}class Z_{constructor(i,s,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];s&&da(s,E=>this.processProvider(E,i,s)),da([i],E=>this.processInjectorType(E,[],h)),this.records.set(Oc,pu(void 0,this));const y=this.records.get(wa);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof i?null:pe(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,s=Hl,l=lt.Default){this.assertNotDestroyed();const c=Ya(this),h=_n(void 0);try{if(!(l&lt.SkipSelf)){let E=this.records.get(i);if(void 0===E){const x=("function"==typeof(r=i)||"object"==typeof r&&r instanceof qt)&&Ut(i);E=x&&this.injectableDefInScope(x)?pu(Ud(i),Ku):null,this.records.set(i,E)}if(null!=E)return this.hydrate(i,E)}return(l&lt.Self?Bm():this.parent).get(i,s=l&lt.Optional&&s===Hl?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Wa]=y[Wa]||[]).unshift(pe(i)),c)throw y;return ql(y,i,"R3InjectorError",this.source)}throw y}finally{_n(h),Ya(c)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,c)=>i.push(pe(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(i,s,l){if(!(i=he(i)))return!1;let c=Yn(i);const h=null==c&&i.ngModule||void 0,y=void 0===h?i:h,E=-1!==l.indexOf(y);if(void 0!==h&&(c=Yn(h)),null==c)return!1;if(null!=c.imports&&!E){let z;l.push(y);try{da(c.imports,se=>{this.processInjectorType(se,s,l)&&(void 0===z&&(z=[]),z.push(se))})}finally{}if(void 0!==z)for(let se=0;se<z.length;se++){const{ngModule:ce,providers:xe}=z[se];da(xe,je=>this.processProvider(je,ce,xe||Ae))}}this.injectorDefTypes.add(y);const x=Ii(y)||(()=>new y);this.records.set(y,pu(x,Ku));const L=c.providers;if(null!=L&&!E){const z=i;da(L,se=>this.processProvider(se,z,L))}return void 0!==h&&void 0!==i.providers}processProvider(i,s,l){let c=Pc(i=he(i))?i:he(i&&i.provide);const h=Gp(r=i)?pu(void 0,r.useValue):pu(jm(r),Ku);var r;if(Pc(i)||!0!==i.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=pu(void 0,Ku,!0),y.factory=()=>pa(y.multi),this.records.set(c,y)),c=i,y.multi.push(i)}this.records.set(c,h)}hydrate(i,s){return s.value===Ku&&(s.value=H_,s.value=s.factory()),"object"==typeof s.value&&s.value&&null!==(r=s.value)&&"object"==typeof r&&"function"==typeof r.ngOnDestroy&&this.onDestroy.add(s.value),s.value;var r}injectableDefInScope(i){if(!i.providedIn)return!1;const s=he(i.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Ud(r){const i=Ut(r),s=null!==i?i.factory:Ii(r);if(null!==s)return s;if(r instanceof qt)throw new Error(`Token ${pe(r)} is missing a \u0275prov definition.`);if(r instanceof Function)return function(r){const i=r.length;if(i>0){const l=function(r,i){const s=[];for(let l=0;l<r;l++)s.push(i);return s}(i,"?");throw new Error(`Can't resolve all parameters for ${pe(r)}: (${l.join(", ")}).`)}const s=function(r){const i=r&&(r[kn]||r[$e]);if(i){const s=function(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),i}return null}(r);return null!==s?()=>s.factory(r):()=>new r}(r);throw new Error("unreachable")}function jm(r,i,s){let l;if(Pc(r)){const c=he(r);return Ii(c)||Ud(c)}if(Gp(r))l=()=>he(r.useValue);else if(function(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...pa(r.deps||[]));else if(function(r){return!(!r||!r.useExisting)}(r))l=()=>as(he(r.useExisting));else{const c=he(r&&(r.useClass||r.provide));if(!function(r){return!!r.deps}(r))return Ii(c)||Ud(c);l=()=>new c(...pa(r.deps))}return l}function pu(r,i,s=!1){return{factory:r,value:i,multi:s?[]:void 0}}function Gp(r){return null!==r&&"object"==typeof r&&Zl in r}function Pc(r){return"function"==typeof r}const Zm=function(r,i,s){return function(r,i=null,s=null,l){const c=af(r,i,s,l);return c._resolveInjectorDefTypes(),c}({name:s},i,r,s)};let zi=(()=>{class r{static create(s,l){return Array.isArray(s)?Zm(s,l,""):Zm(s.providers,s.parent,s.name||"")}}return r.THROW_IF_NOT_FOUND=Hl,r.NULL=new of,r.\u0275prov=Re({token:r,providedIn:"any",factory:()=>as(Oc)}),r.__NG_ELEMENT_ID__=-1,r})();function Km(r,i){bs(Fu(r)[1],ii())}function Ni(r){let i=function(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),s=!0;const l=[r];for(;i;){let c;if(xr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Error("Directives cannot inherit Components");c=i.\u0275dir}if(c){if(s){l.push(c);const y=r;y.inputs=Ra(r.inputs),y.declaredInputs=Ra(r.declaredInputs),y.outputs=Ra(r.outputs);const E=c.hostBindings;E&&pf(r,E);const x=c.viewQuery,L=c.contentQueries;if(x&&Qm(r,x),L&&rv(r,L),He(r.inputs,c.inputs),He(r.declaredInputs,c.declaredInputs),He(r.outputs,c.outputs),xr(c)&&c.data.animation){const z=r.data;z.animation=(z.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const E=h[y];E&&E.ngInherit&&E(r),E===Ni&&(s=!1)}}i=Object.getPrototypeOf(i)}!function(r){let i=0,s=null;for(let l=r.length-1;l>=0;l--){const c=r[l];c.hostVars=i+=c.hostVars,c.hostAttrs=xi(c.hostAttrs,s=xi(s,c.hostAttrs))}}(l)}function Ra(r){return r===we?{}:r===Ae?[]:r}function Qm(r,i){const s=r.viewQuery;r.viewQuery=s?(l,c)=>{i(l,c),s(l,c)}:i}function rv(r,i){const s=r.contentQueries;r.contentQueries=s?(l,c,h)=>{i(l,c,h),s(l,c,h)}:i}function pf(r,i){const s=r.hostBindings;r.hostBindings=s?(l,c)=>{i(l,c),s(l,c)}:i}let Vc=null;function Uc(){if(!Vc){const r=ur.Symbol;if(r&&r.iterator)Vc=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<i.length;++s){const l=i[s];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Vc=l)}}}return Vc}class Xr{constructor(i){this.wrapped=i}static wrap(i){return new Xr(i)}static unwrap(i){return Xr.isWrapped(i)?i.wrapped:i}static isWrapped(i){return i instanceof Xr}}function gf(r){return!!mf(r)&&(Array.isArray(r)||!(r instanceof Map)&&Uc()in r)}function mf(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function rl(r,i,s){return r[i]=s}function Eo(r,i,s){return!Object.is(r[i],s)&&(r[i]=s,!0)}function Ju(r,i,s,l){const c=Eo(r,i,s);return Eo(r,i+1,l)||c}function lg(r,i,s,l){const c=Tt();return Eo(c,Hs(),i)&&(nr(),Ua(cr(),c,r,i,s,l)),lg}function Xu(r,i,s,l,c,h,y,E){const L=function(r,i,s,l,c){const h=Ju(r,i,s,l);return Eo(r,i+2,c)||h}(r,is(),s,c,y);return es(3),L?i+me(s)+l+me(c)+h+me(y)+E:dr}function _f(r,i,s,l,c,h,y,E){const x=Tt(),L=nr(),z=r+20,se=L.firstCreatePass?function(r,i,s,l,c,h,y,E,x){const L=i.consts,z=cu(i,r,4,y||null,Mr(L,E));Qh(i,s,z,Mr(L,x)),bs(i,z);const se=z.tViews=Wh(2,z,l,c,h,i.directiveRegistry,i.pipeRegistry,null,i.schemas,L);return null!==i.queries&&(i.queries.template(i,z),se.queries=i.queries.embeddedTView(z)),z}(z,L,x,i,s,l,c,h,y):L.data[z];ws(se,!1);const ce=x[11].createComment("");Oh(L,x,ce,se),ro(ce,x),Rc(x,x[z]=kp(ce,x,ce,se)),ti(se)&&fu(L,x,se),null!=y&&Pd(x,se,E)}function sy(r){return Ke(An.lFrame.contextLView,20+r)}function Wd(r,i=lt.Default){const s=Tt();return null===s?as(r,i):nt(ii(),s,he(r),i)}function _g(r,i,s){const l=Tt();return Eo(l,Hs(),i)&&Go(nr(),cr(),l,r,i,l[11],s,!1),_g}function If(r,i,s,l,c){const y=c?"class":"style";sf(r,s,i.inputs[y],y,l)}function vg(r,i,s,l){const c=Tt(),h=nr(),y=20+r,E=c[11],x=c[y]=Rh(E,i,An.lFrame.currentNamespace),L=h.firstCreatePass?function(r,i,s,l,c,h,y){const E=i.consts,L=cu(i,r,2,c,Mr(E,h));return Qh(i,s,L,Mr(E,y)),null!==L.attrs&&Mc(L,L.attrs,!1),null!==L.mergedAttrs&&Mc(L,L.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,L),L}(y,h,c,0,i,s,l):h.data[y];ws(L,!0);const z=L.mergedAttrs;null!==z&&Kn(E,x,z);const se=L.classes;null!==se&&bd(E,x,se);const ce=L.styles;null!==ce&&kh(E,x,ce),64!=(64&L.flags)&&Oh(h,c,x,L),0===An.lFrame.elementDepthCount&&ro(x,c),An.lFrame.elementDepthCount++,ti(L)&&(fu(h,c,L),Tp(h,L,c)),null!==l&&Pd(c,L)}function wg(){let r=ii();Bs()?yo():(r=r.parent,ws(r,!1));const i=r;An.lFrame.elementDepthCount--;const s=nr();s.firstCreatePass&&(bs(s,r),hi(r)&&s.queries.elementEnd(r)),null!=i.classesWithoutHost&&function(r){return 0!=(16&r.flags)}(i)&&If(s,i,Tt(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function(r){return 0!=(32&r.flags)}(i)&&If(s,i,Tt(),i.stylesWithoutHost,!1)}function bg(r,i,s,l){vg(r,i,s,l),wg()}function Kd(r,i,s){const l=Tt(),c=nr(),h=r+20,y=c.firstCreatePass?function(r,i,s,l,c){const h=i.consts,y=Mr(h,l),E=cu(i,r,8,"ng-container",y);return null!==y&&Mc(E,y,!0),Qh(i,s,E,Mr(h,c)),null!==i.queries&&i.queries.elementStart(i,E),E}(h,c,l,i,s):c.data[h];ws(y,!0);const E=l[h]=l[11].createComment("");Oh(c,l,E,y),ro(E,l),ti(y)&&(fu(c,l,y),Tp(c,y,l)),null!=s&&Pd(l,y)}function Eg(){let r=ii();const i=nr();Bs()?yo():(r=r.parent,ws(r,!1)),i.firstCreatePass&&(bs(i,r),hi(r)&&i.queries.elementEnd(r))}function Cy(){return Tt()}function Cg(r){return!!r&&"function"==typeof r.then}function Ay(r){return!!r&&"function"==typeof r.subscribe}const Ag=Ay;function Ig(r,i,s,l){const c=Tt(),h=nr(),y=ii();return function(r,i,s,l,c,h,y,E){const x=ti(l),z=r.firstCreatePass&&Fm(r),se=i[8],ce=nf(i);let xe=!0;if(3&l.type||E){const rt=k(l,i),Vt=E?E(rt):rt,At=ce.length,Vn=E?hr=>E(be(hr[l.index])):l.index;if(U(s)){let hr=null;if(!E&&x&&(hr=function(r,i,s,l){const c=r.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===s&&c[h+1]===l){const E=i[7],x=c[h+2];return E.length>x?E[x]:null}"string"==typeof y&&(h+=2)}return null}(r,i,c,l.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=h,hr.__ngLastListenerFn__=h,xe=!1;else{h=Yd(l,i,se,h,!1);const Lr=s.listen(Vt,c,h);ce.push(h,Lr),z&&z.push(c,Vn,At,At+1)}}else h=Yd(l,i,se,h,!0),Vt.addEventListener(c,h,y),ce.push(h),z&&z.push(c,Vn,At,y)}else h=Yd(l,i,se,h,!1);const je=l.outputs;let pt;if(xe&&null!==je&&(pt=je[c])){const rt=pt.length;if(rt)for(let Vt=0;Vt<rt;Vt+=2){const Co=i[pt[Vt]][pt[Vt+1]].subscribe(h),ul=ce.length;ce.push(h,Co),z&&z.push(c,l.index,ul,-(ul+1))}}}(h,c,c[11],y,r,i,!!s,l),Ig}function Ty(r,i,s,l){try{return!1!==s(l)}catch(c){return Lm(r,c),!1}}function Yd(r,i,s,l,c){return function h(y){if(y===Function)return l;const E=2&r.flags?Ot(r.index,i):i;0==(32&i[2])&&Up(E);let x=Ty(i,0,l,y),L=h.__ngNextListenerFn__;for(;L;)x=Ty(i,0,L,y)&&x,L=L.__ngNextListenerFn__;return c&&!1===x&&(y.preventDefault(),y.returnValue=!1),x}}function Tg(r=1){return function(r){return(An.lFrame.contextLView=function(r,i){for(;r>0;)i=i[15],r--;return i}(r,An.lFrame.contextLView))[8]}(r)}function qc(r,i,s,l,c){const h=r[s+1],y=null===i;let E=l?Va(h):Sl(h),x=!1;for(;0!==E&&(!1===x||y);){const z=r[E+1];Wo(r[E],i)&&(x=!0,r[E+1]=l?Td(z):Ad(z)),E=l?Va(z):Sl(z)}x&&(r[s+1]=l?Ad(h):Td(h))}function Wo(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&Gr(r,i)>=0}const so={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Tf(r){return r.substring(so.key,so.keyEnd)}function Df(r,i){const s=so.textEnd;return s===i?-1:(i=so.keyEnd=function(r,i,s){for(;i<s&&r.charCodeAt(i)>32;)i++;return i}(r,so.key=i,s),zc(r,i,s))}function zc(r,i,s){for(;i<s&&r.charCodeAt(i)<=32;)i++;return i}function Wc(r,i,s){return Oa(r,i,s,!1),Wc}function Sf(r,i){return Oa(r,i,null,!0),Sf}function Ly(r){!function(r,i,s,l){const c=nr(),h=es(2);c.firstUpdatePass&&Uy(c,null,h,l);const y=Tt();if(s!==dr&&Eo(y,h,s)){const E=c.data[ir()];if(D(E,l)&&!Vy(c,h)){let x=l?E.classesWithoutHost:E.stylesWithoutHost;null!==x&&(s=_e(x,s||"")),If(c,E,y,s,l)}else!function(r,i,s,l,c,h,y,E){c===dr&&(c=Ae);let x=0,L=0,z=0<c.length?c[0]:null,se=0<h.length?h[0]:null;for(;null!==z||null!==se;){const ce=x<c.length?c[x+1]:void 0,xe=L<h.length?h[L+1]:void 0;let pt,je=null;z===se?(x+=2,L+=2,ce!==xe&&(je=se,pt=xe)):null===se||null!==z&&z<se?(x+=2,je=z):(L+=2,je=se,pt=xe),null!==je&&o(r,i,s,l,je,pt,y,E),z=x<c.length?c[x]:null,se=L<h.length?h[L]:null}}(c,E,y,y[11],y[h+1],y[h+1]=function(r,i,s){if(null==s||""===s)return Ae;const l=[],c=Vo(s);if(Array.isArray(c))for(let h=0;h<c.length;h++)r(l,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&r(l,h,c[h]);else"string"==typeof c&&i(l,c);return l}(r,i,s),l,h)}}(Jr,Ha,r,!0)}function Ha(r,i){for(let s=function(r){return function(r){so.key=0,so.keyEnd=0,so.value=0,so.valueEnd=0,so.textEnd=r.length}(r),Df(r,zc(r,0,so.textEnd))}(i);s>=0;s=Df(i,s))Jr(r,Tf(i),!0)}function Oa(r,i,s,l){const c=Tt(),h=nr(),y=es(2);h.firstUpdatePass&&Uy(h,r,y,l),i!==dr&&Eo(c,y,i)&&o(h,h.data[ir()],c,c[11],r,c[y+1]=function(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=pe(Vo(r)))),r}(i,s),l,y)}function Vy(r,i){return i>=r.expandoStartIndex}function Uy(r,i,s,l){const c=r.data;if(null===c[s+1]){const h=c[ir()],y=Vy(r,s);D(h,l)&&null===i&&!y&&(i=!1),i=function(r,i,s,l){const c=q(r);let h=l?i.residualClasses:i.residualStyles;if(null===c)0===(l?i.classBindings:i.styleBindings)&&(s=xf(s=Og(null,r,i,s,l),i.attrs,l),h=null);else{const y=i.directiveStylingLast;if(-1===y||r[y]!==c)if(s=Og(c,r,i,s,l),null===h){let x=function(r,i,s){const l=s?i.classBindings:i.styleBindings;if(0!==Sl(l))return r[Va(l)]}(r,i,l);void 0!==x&&Array.isArray(x)&&(x=Og(null,r,i,x[1],l),x=xf(x,i.attrs,l),function(r,i,s,l){r[Va(s?i.classBindings:i.styleBindings)]=l}(r,i,l,x))}else h=function(r,i,s){let l;const c=i.directiveEnd;for(let h=1+i.directiveStylingLast;h<c;h++)l=xf(l,r[h].hostAttrs,s);return xf(l,i.attrs,s)}(r,i,l)}return void 0!==h&&(l?i.residualClasses=h:i.residualStyles=h),s}(c,h,i,l),function(r,i,s,l,c,h){let y=h?i.classBindings:i.styleBindings,E=Va(y),x=Sl(y);r[l]=s;let z,L=!1;if(Array.isArray(s)){const se=s;z=se[1],(null===z||Gr(se,z)>0)&&(L=!0)}else z=s;if(c)if(0!==x){const ce=Va(r[E+1]);r[l+1]=Cd(ce,E),0!==ce&&(r[ce+1]=Id(r[ce+1],l)),r[E+1]=function(r,i){return 131071&r|i<<17}(r[E+1],l)}else r[l+1]=Cd(E,0),0!==E&&(r[E+1]=Id(r[E+1],l)),E=l;else r[l+1]=Cd(x,0),0===E?E=l:r[x+1]=Id(r[x+1],l),x=l;L&&(r[l+1]=Ad(r[l+1])),qc(r,z,l,!0),qc(r,z,l,!1),function(r,i,s,l,c){const h=c?r.residualClasses:r.residualStyles;null!=h&&"string"==typeof i&&Gr(h,i)>=0&&(s[l+1]=Td(s[l+1]))}(i,z,r,l,h),y=Cd(E,x),h?i.classBindings=y:i.styleBindings=y}(c,h,i,s,y,l)}}function Og(r,i,s,l,c){let h=null;const y=s.directiveEnd;let E=s.directiveStylingLast;for(-1===E?E=s.directiveStart:E++;E<y&&(h=i[E],l=xf(l,h.hostAttrs,c),h!==r);)E++;return null!==r&&(s.directiveStylingLast=E),l}function xf(r,i,s){const l=s?1:2;let c=-1;if(null!==i)for(let h=0;h<i.length;h++){const y=i[h];"number"==typeof y?c=y:c===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Jr(r,y,!!s||i[++h]))}return void 0===r?null:r}function o(r,i,s,l,c,h,y,E){if(!(3&i.type))return;const x=r.data,L=x[E+1];d(function(r){return 1==(1&r)}(L)?u(x,i,s,c,Sl(L),y):void 0)||(d(h)||function(r){return 2==(2&r)}(L)&&(h=u(x,null,s,c,E,y)),function(r,i,s,l,c){const h=U(r);if(i)c?h?r.addClass(s,l):s.classList.add(l):h?r.removeClass(s,l):s.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Mi.DashCase;if(null==c)h?r.removeStyle(s,l,y):s.style.removeProperty(l);else{const E="string"==typeof c&&c.endsWith("!important");E&&(c=c.slice(0,-10),y|=Mi.Important),h?r.setStyle(s,l,c,y):s.style.setProperty(l,c,E?"important":"")}}}(l,y,V(ir(),s),c,h))}function u(r,i,s,l,c,h){const y=null===i;let E;for(;c>0;){const x=r[c],L=Array.isArray(x),z=L?x[1]:x,se=null===z;let ce=s[c+1];ce===dr&&(ce=se?Ae:void 0);let xe=se?ac(ce,l):z===l?ce:void 0;if(L&&!d(xe)&&(xe=ac(x,l)),d(xe)&&(E=xe,y))return E;const je=r[c+1];c=y?Va(je):Sl(je)}if(null!==i){let x=h?i.residualClasses:i.residualStyles;null!=x&&(E=ac(x,l))}return E}function d(r){return void 0!==r}function D(r,i){return 0!=(r.flags&(i?16:32))}function B(r,i=""){const s=Tt(),l=nr(),c=r+20,h=l.firstCreatePass?cu(l,c,1,i,null):l.data[c],y=s[c]=function(r,i){return U(r)?r.createText(i):r.createTextNode(i)}(s[11],i);Oh(l,s,y,h),ws(h,!1)}function J(r){return le("",r,""),J}function le(r,i,s){const l=Tt(),c=function(r,i,s,l){return Eo(r,Hs(),s)?i+me(s)+l:dr}(l,r,i,s);return c!==dr&&Ba(l,ir(),c),le}function Ee(r,i,s,l,c){const h=Tt(),y=function(r,i,s,l,c,h){const E=Ju(r,is(),s,c);return es(2),E?i+me(s)+l+me(c)+h:dr}(h,r,i,s,l,c);return y!==dr&&Ba(h,ir(),y),Ee}function ze(r,i,s,l,c,h,y){const E=Tt(),x=Xu(E,r,i,s,l,c,h,y);return x!==dr&&Ba(E,ir(),x),ze}function Ev(r,i,s){const l=Tt();return Eo(l,Hs(),i)&&Go(nr(),cr(),l,r,i,l[11],s,!0),Ev}function Cv(r,i,s){const l=Tt();if(Eo(l,Hs(),i)){const h=nr(),y=cr();Go(h,y,l,r,i,function(r,i,s){return(null===r||xr(r))&&(s=function(r){for(;Array.isArray(r);){if("object"==typeof r[1])return r;r=r[0]}return null}(s[i.index])),s[11]}(q(h.data),y,l),s,!0)}return Cv}const th=void 0;var uC=["en",[["a","p"],["AM","PM"],th],[["AM","PM"],th,th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",th,"{1} 'at' {0}",th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(r){const i=Math.floor(Math.abs(r)),s=r.toString().replace(/^[^.]*\.?/,"").length;return 1===i&&0===s?1:5}];let Mf={};function Av(r){const i=function(r){return r.toLowerCase().replace(/_/g,"-")}(r);let s=c0(i);if(s)return s;const l=i.split("-")[0];if(s=c0(l),s)return s;if("en"===l)return uC;throw new Error(`Missing locale data for the locale "${r}".`)}function u0(r){return Av(r)[er.PluralCase]}function c0(r){return r in Mf||(Mf[r]=ur.ng&&ur.ng.common&&ur.ng.common.locales&&ur.ng.common.locales[r]),Mf[r]}var er=(()=>((er=er||{})[er.LocaleId=0]="LocaleId",er[er.DayPeriodsFormat=1]="DayPeriodsFormat",er[er.DayPeriodsStandalone=2]="DayPeriodsStandalone",er[er.DaysFormat=3]="DaysFormat",er[er.DaysStandalone=4]="DaysStandalone",er[er.MonthsFormat=5]="MonthsFormat",er[er.MonthsStandalone=6]="MonthsStandalone",er[er.Eras=7]="Eras",er[er.FirstDayOfWeek=8]="FirstDayOfWeek",er[er.WeekendRange=9]="WeekendRange",er[er.DateFormat=10]="DateFormat",er[er.TimeFormat=11]="TimeFormat",er[er.DateTimeFormat=12]="DateTimeFormat",er[er.NumberSymbols=13]="NumberSymbols",er[er.NumberFormats=14]="NumberFormats",er[er.CurrencyCode=15]="CurrencyCode",er[er.CurrencySymbol=16]="CurrencySymbol",er[er.CurrencyName=17]="CurrencyName",er[er.Currencies=18]="Currencies",er[er.Directionality=19]="Directionality",er[er.PluralCase=20]="PluralCase",er[er.ExtraData=21]="ExtraData",er))();const jy="en-US";let d0=jy;function Iv(r){Ft(r,"Expected localeId to be defined"),"string"==typeof r&&(d0=r.toLowerCase().replace(/_/g,"-"))}function Sv(r,i,s,l,c){if(r=he(r),Array.isArray(r))for(let h=0;h<r.length;h++)Sv(r[h],i,s,l,c);else{const h=nr(),y=Tt();let E=Pc(r)?r:he(r.provide),x=jm(r);const L=ii(),z=1048575&L.providerIndexes,se=L.directiveStart,ce=L.providerIndexes>>20;if(Pc(r)||!r.multi){const xe=new Yr(x,c,Wd),je=Rv(E,i,c?z:z+ce,se);-1===je?(W(F(L,y),h,E),xv(h,r,i.length),i.push(E),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),s.push(xe),y.push(xe)):(s[je]=xe,y[je]=xe)}else{const xe=Rv(E,i,z+ce,se),je=Rv(E,i,z,z+ce),pt=xe>=0&&s[xe],rt=je>=0&&s[je];if(c&&!rt||!c&&!pt){W(F(L,y),h,E);const Vt=function(r,i,s,l,c){const h=new Yr(r,s,Wd);return h.multi=[],h.index=i,h.componentProviders=0,k0(h,c,l&&!s),h}(c?oA:sA,s.length,c,l,x);!c&&rt&&(s[je].providerFactory=Vt),xv(h,r,i.length,0),i.push(E),L.directiveStart++,L.directiveEnd++,c&&(L.providerIndexes+=1048576),s.push(Vt),y.push(Vt)}else xv(h,r,xe>-1?xe:je,k0(s[c?je:xe],x,!c&&l));!c&&l&&rt&&s[je].componentProviders++}}}function xv(r,i,s,l){const c=Pc(i);if(c||function(r){return!!r.useClass}(i)){const y=(i.useClass||i).prototype.ngOnDestroy;if(y){const E=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const x=E.indexOf(s);-1===x?E.push(s,[l,y]):E[x+1].push(l,y)}else E.push(s,y)}}}function k0(r,i,s){return s&&r.componentProviders++,r.multi.push(i)-1}function Rv(r,i,s,l){for(let c=s;c<l;c++)if(i[c]===r)return c;return-1}function sA(r,i,s,l){return Mv(this.multi,[])}function oA(r,i,s,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=P(s,s[1],this.providerFactory.index,l);h=E.slice(0,y),Mv(c,h);for(let x=y;x<E.length;x++)h.push(E[x])}else h=[],Mv(c,h);return h}function Mv(r,i){for(let s=0;s<r.length;s++)i.push((0,r[s])());return i}function F0(r,i=[]){return s=>{s.providersResolver=(l,c)=>function(r,i,s){const l=nr();if(l.firstCreatePass){const c=xr(r);Sv(s,l.data,l.blueprint,c,!0),Sv(i,l.data,l.blueprint,c,!1)}}(l,c?c(r):r,i)}}class L0{}const U0="ngComponent";class uA{resolveComponentFactory(i){throw function(r){const i=Error(`No component factory found for ${pe(r)}. Did you add it to @NgModule.entryComponents?`);return i[U0]=r,i}(i)}}let Of=(()=>{class r{}return r.NULL=new uA,r})();function Gy(...r){}function Pf(r,i){return new _u(k(r,i))}const hA=function(){return Pf(ii(),Tt())};let _u=(()=>{class r{constructor(s){this.nativeElement=s}}return r.__NG_ELEMENT_ID__=hA,r})();function B0(r){return r instanceof _u?r.nativeElement:r}class zy{}let fA=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>gA(),r})();const gA=function(){const r=Tt(),s=Ot(ii().index,r);return function(r){return r[11]}(ui(s)?s:r)};let Ov=(()=>{class r{}return r.\u0275prov=Re({token:r,providedIn:"root",factory:()=>null}),r})();class j0{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const Pv=new j0("12.2.10");class H0{constructor(){}supports(i){return gf(i)}create(i){return new vA(i)}}const _A=(r,i)=>i;class vA{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||_A}forEachItem(i){let s;for(s=this._itHead;null!==s;s=s._next)i(s)}forEachOperation(i){let s=this._itHead,l=this._removalsHead,c=0,h=null;for(;s||l;){const y=!l||s&&s.currentIndex<Z0(l,c,h)?s:l,E=Z0(y,c,h),x=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(s=s._next,null==y.previousIndex)c++;else{h||(h=[]);const L=E-c,z=x-c;if(L!=z){for(let ce=0;ce<L;ce++){const xe=ce<h.length?h[ce]:h[ce]=0,je=xe+ce;z<=je&&je<L&&(h[ce]=xe+1)}h[y.previousIndex]=z-L}}E!==x&&i(y,E,x)}}forEachPreviousItem(i){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachMovedItem(i){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}forEachIdentityChange(i){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)i(s)}diff(i){if(null==i&&(i=[]),!gf(i))throw new Error(`Error trying to diff '${pe(i)}'. Only arrays and iterables are allowed`);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,h,y,s=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let E=0;E<this.length;E++)h=i[E],y=this._trackByFn(E,h),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,h,y,E)),Object.is(s.item,h)||this._addIdentityChange(s,h)):(s=this._mismatch(s,h,y,E),l=!0),s=s._next}else c=0,function(r,i){if(Array.isArray(r))for(let s=0;s<r.length;s++)i(r[s]);else{const s=r[Uc()]();let l;for(;!(l=s.next()).done;)i(l.value)}}(i,E=>{y=this._trackByFn(c,E),null!==s&&Object.is(s.trackById,y)?(l&&(s=this._verifyReinsertion(s,E,y,c)),Object.is(s.item,E)||this._addIdentityChange(s,E)):(s=this._mismatch(s,E,y,c),l=!0),s=s._next,c++}),this.length=c;return this._truncate(s),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,s,l,c){let h;return null===i?h=this._itTail:(h=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._reinsertAfter(i,h,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(i.item,s)||this._addIdentityChange(i,s),this._moveAfter(i,h,c)):i=this._addAfter(new wA(s,l),h,c),i}_verifyReinsertion(i,s,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?i=this._reinsertAfter(h,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const s=i._next;this._addToRemovals(this._unlink(i)),i=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,s,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,h=i._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(i,s,l),this._addToMoves(i,l),i}_moveAfter(i,s,l){return this._unlink(i),this._insertAfter(i,s,l),this._addToMoves(i,l),i}_addAfter(i,s,l){return this._insertAfter(i,s,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,s,l){const c=null===s?this._itHead:s._next;return i._next=c,i._prev=s,null===c?this._itTail=i:c._prev=i,null===s?this._itHead=i:s._next=i,null===this._linkedRecords&&(this._linkedRecords=new $0),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const s=i._prev,l=i._next;return null===s?this._itHead=l:s._next=l,null===l?this._itTail=s:l._prev=s,i}_addToMoves(i,s){return i.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $0),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,s){return i.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class wA{constructor(i,s){this.item=i,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bA{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,s){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===s||s<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const s=i._prevDup,l=i._nextDup;return null===s?this._head=l:s._nextDup=l,null===l?this._tail=s:l._prevDup=s,null===this._head}}class $0{constructor(){this.map=new Map}put(i){const s=i.trackById;let l=this.map.get(s);l||(l=new bA,this.map.set(s,l)),l.add(i)}get(i,s){const c=this.map.get(i);return c?c.get(i,s):null}remove(i){const s=i.trackById;return this.map.get(s).remove(i)&&this.map.delete(s),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Z0(r,i,s){const l=r.previousIndex;if(null===l)return l;let c=0;return s&&l<s.length&&(c=s[l]),l+i+c}class q0{constructor(){}supports(i){return i instanceof Map||mf(i)}create(){return new EA}}class EA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let s;for(s=this._mapHead;null!==s;s=s._next)i(s)}forEachPreviousItem(i){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)i(s)}forEachChangedItem(i){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)i(s)}forEachAddedItem(i){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)i(s)}forEachRemovedItem(i){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)i(s)}diff(i){if(i){if(!(i instanceof Map||mf(i)))throw new Error(`Error trying to diff '${pe(i)}'. Only maps and objects are allowed`)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,c)=>{if(s&&s.key===c)this._maybeAddToChanges(s,l),this._appendAfter=s,s=s._next;else{const h=this._getOrCreateRecordForKey(c,l);s=this._insertBeforeOrAppend(s,h)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let l=s;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,s){if(i){const l=i._prev;return s._next=i,s._prev=l,i._prev=s,l&&(l._next=s),i===this._mapHead&&(this._mapHead=s),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(i,s){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,s);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new CA(i);return this._records.set(i,l),l.currentValue=s,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,s){Object.is(s,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=s,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,s){i instanceof Map?i.forEach(s):Object.keys(i).forEach(l=>s(i[l],l))}}class CA{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function G0(){return new Wy([new H0])}let Wy=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(null!=l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||G0()),deps:[[r,new Da,new vo]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${s}' of type '${function(r){return r.name||typeof r}(s)}'`)}}return r.\u0275prov=Re({token:r,providedIn:"root",factory:G0}),r})();function z0(){return new Ky([new q0])}let Ky=(()=>{class r{constructor(s){this.factories=s}static create(s,l){if(l){const c=l.factories.slice();s=s.concat(c)}return new r(s)}static extend(s){return{provide:r,useFactory:l=>r.create(s,l||z0()),deps:[[r,new Da,new vo]]}}find(s){const l=this.factories.find(c=>c.supports(s));if(l)return l;throw new Error(`Cannot find a differ supporting object '${s}'`)}}return r.\u0275prov=Re({token:r,providedIn:"root",factory:z0}),r})();function Yy(r,i,s,l,c=!1){for(;null!==s;){const h=i[s.index];if(null!==h&&l.push(be(h)),lr(h))for(let E=10;E<h.length;E++){const x=h[E],L=x[1].firstChild;null!==L&&Yy(x[1],x,L,l)}const y=s.type;if(8&y)Yy(r,i,s.child,l);else if(32&y){const E=md(s,i);let x;for(;x=E();)l.push(x)}else if(16&y){const E=Gu(i,s);if(Array.isArray(E))l.push(...E);else{const x=Bu(i[16]);Yy(x[1],x,E,l,!0)}}s=c?s.projectionNext:s.next}return l}class Vg{constructor(i,s){this._lView=i,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,s=i[1];return Yy(s,i,s.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(lr(i)){const s=i[8],l=s?s.indexOf(this):-1;l>-1&&(Mh(i,l),Ta(s,l))}this._attachedToViewContainer=!1}_d(this._lView[1],this._lView)}onDestroy(i){Rm(this._lView[1],this._lView,null,i)}markForCheck(){Up(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ld(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(r,i,s){Di(!0);try{Ld(r,i,s)}finally{Di(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var i;this._appRef=null,Cc(this._lView[1],i=this._lView,i[11],2,null,null)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=i}}class IA extends Vg{constructor(i){super(i),this._view=i}detectChanges(){Hp(this._view)}checkNoChanges(){!function(r){Di(!0);try{Hp(r)}finally{Di(!1)}}(this._view)}get context(){return null}}const DA=function(r){return function(r,i,s){if(Ks(r)&&!s){const l=Ot(r.index,i);return new Vg(l,l)}return 47&r.type?new Vg(i[16],i):null}(ii(),Tt(),16==(16&r))};let SA=(()=>{class r{}return r.__NG_ELEMENT_ID__=DA,r})();const MA=[new q0],OA=new Wy([new H0]),PA=new Ky(MA),FA=function(){return Qy(ii(),Tt())};let Ug=(()=>{class r{}return r.__NG_ELEMENT_ID__=FA,r})();const LA=Ug,VA=class extends LA{constructor(i,s,l){super(),this._declarationLView=i,this._declarationTContainer=s,this.elementRef=l}createEmbeddedView(i){const s=this._declarationTContainer.tViews,l=Nd(this._declarationLView,s,i,16,null,s.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(s)),Od(s,l,i),new Vg(l)}};function Qy(r,i){return 4&r.type?new VA(i,r,Pf(r,i)):null}class nh{}class W0{}const jA=function(){return Q0(ii(),Tt())};let Jy=(()=>{class r{}return r.__NG_ELEMENT_ID__=jA,r})();const $A=Jy,K0=class extends $A{constructor(i,s,l){super(),this._lContainer=i,this._hostTNode=s,this._hostLView=l}get element(){return Pf(this._hostTNode,this._hostLView)}get injector(){return new Ie(this._hostTNode,this._hostLView)}get parentInjector(){const i=R(this._hostTNode,this._hostLView);if(yi(i)){const s=Qo(i,this._hostLView),l=oa(i);return new Ie(s[1].data[l+8],s)}return new Ie(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const s=Y0(this._lContainer);return null!==s&&s[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,s,l){const c=i.createEmbeddedView(s||{});return this.insert(c,l),c}createComponent(i,s,l,c,h){const y=l||this.parentInjector;if(!h&&null==i.ngModule&&y){const x=y.get(nh,null);x&&(h=x)}const E=i.create(y,c,void 0,h);return this.insert(E.hostView,s),E}insert(i,s){const l=i._lView,c=l[1];if(lr(l[3])){const z=this.indexOf(i);if(-1!==z)this.detach(z);else{const se=l[3],ce=new K0(se,se[6],se[3]);ce.detach(ce.indexOf(i))}}const h=this._adjustIndex(s),y=this._lContainer;!function(r,i,s,l){const c=10+l,h=s.length;l>0&&(s[c-1][4]=i),l<h-10?(i[4]=s[c],Ga(s,10+l,i)):(s.push(i),i[4]=null),i[3]=s;const y=i[17];null!==y&&s!==y&&function(r,i){const s=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===s?r[9]=[i]:s.push(i)}(y,i);const E=i[19];null!==E&&E.insertView(r),i[2]|=128}(c,l,y,h);const E=Ph(h,y),x=l[11],L=Fa(x,y[7]);return null!==L&&function(r,i,s,l,c,h){l[0]=c,l[6]=i,Cc(r,l,s,1,c,h)}(c,y[6],x,l,L,E),i.attachToViewContainerRef(),Ga(kv(y),h,i),i}move(i,s){return this.insert(i,s)}indexOf(i){const s=Y0(this._lContainer);return null!==s?s.indexOf(i):-1}remove(i){const s=this._adjustIndex(i,-1),l=Mh(this._lContainer,s);l&&(Ta(kv(this._lContainer),s),_d(l[1],l))}detach(i){const s=this._adjustIndex(i,-1),l=Mh(this._lContainer,s);return l&&null!=Ta(kv(this._lContainer),s)?new Vg(l):null}_adjustIndex(i,s=0){return null==i?this.length+s:i}};function Y0(r){return r[8]}function kv(r){return r[8]||(r[8]=[])}function Q0(r,i){let s;const l=i[r.index];if(lr(l))s=l;else{let c;if(8&r.type)c=be(l);else{const h=i[11];c=h.createComment("");const y=k(r,i);va(h,Fa(h,y),c,function(r,i){return U(r)?r.nextSibling(i):i.nextSibling}(h,y),!1)}i[r.index]=s=kp(l,i,c,r),Rc(i,s)}return new K0(s,r,i)}const Vf={};class yb extends Of{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const s=gr(i);return new vb(s,this.ngModule)}}function _b(r){const i=[];for(let s in r)r.hasOwnProperty(s)&&i.push({propName:r[s],templateName:s});return i}const UI=new qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>nu});class vb extends L0{constructor(i,s){super(),this.componentDef=i,this.ngModule=s,this.componentType=i.type,this.selector=i.selectors.map(A_).join(","),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return _b(this.componentDef.inputs)}get outputs(){return _b(this.componentDef.outputs)}create(i,s,l,c){const h=(c=c||this.ngModule)?function(r,i){return{get:(s,l,c)=>{const h=r.get(s,Vf,c);return h!==Vf||l===Vf?h:i.get(s,l,c)}}}(i,c.injector):i,y=h.get(zy,H),E=h.get(Ov,null),x=y.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",z=l?function(r,i,s){if(U(r))return r.selectRootElement(i,s===kt.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(x,l,this.componentDef.encapsulation):Rh(y.createRenderer(null,this.componentDef),L,function(r){const i=r.toLowerCase();return"svg"===i?Zi:"math"===i?"http://www.w3.org/1998/MathML/":null}(L)),se=this.componentDef.onPush?576:528,ce=function(r,i){return{components:[],scheduler:r||nu,clean:j_,playerHandler:i||null,flags:0}}(),xe=Wh(0,null,null,1,0,null,null,null,null,null),je=Nd(null,xe,ce,se,null,null,y,x,E,h);let pt,rt;ot(je);try{const Vt=function(r,i,s,l,c,h){const y=s[1];s[20]=r;const x=cu(y,20,2,"#host",null),L=x.mergedAttrs=i.hostAttrs;null!==L&&(Mc(x,L,!0),null!==r&&(Kn(c,r,L),null!==x.classes&&bd(c,r,x.classes),null!==x.styles&&kh(c,r,x.styles)));const z=l.createRenderer(r,i),se=Nd(s,Sm(i),null,i.onPush?64:16,s[20],x,l,z,h||null,null);return y.firstCreatePass&&(W(F(x,s),y,i.type),Xh(y,x),ef(x,s.length,1)),Rc(s,se),s[20]=se}(z,this.componentDef,je,y,x);if(z)if(l)Kn(x,z,["ng-version",Pv.full]);else{const{attrs:At,classes:Vn}=function(r){const i=[],s=[];let l=1,c=2;for(;l<r.length;){let h=r[l];if("string"==typeof h)2===c?""!==h&&i.push(h,r[++l]):8===c&&s.push(h);else{if(!La(c))break;c=h}l++}return{attrs:i,classes:s}}(this.componentDef.selectors[0]);At&&Kn(x,z,At),Vn&&Vn.length>0&&bd(x,z,Vn.join(" "))}if(rt=X(xe,20),void 0!==s){const At=rt.projection=[];for(let Vn=0;Vn<this.ngContentSelectors.length;Vn++){const hr=s[Vn];At.push(null!=hr?Array.from(hr):null)}}pt=function(r,i,s,l,c){const h=s[1],y=function(r,i,s){const l=ii();r.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),tf(r,l,i,du(r,i,1,null),s));const c=P(i,r,l.directiveStart,l);ro(c,i);const h=k(l,i);return h&&ro(h,i),c}(h,s,i);if(l.components.push(y),r[8]=y,c&&c.forEach(x=>x(y,i)),i.contentQueries){const x=ii();i.contentQueries(1,y,x.directiveStart)}const E=ii();return!h.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(Xn(E.index),Wu(s[1],E,0,E.directiveStart,E.directiveEnd,i),Jh(i,y)),y}(Vt,this.componentDef,je,ce,[Km]),Od(xe,je,null)}finally{pn()}return new HI(this.componentType,pt,Pf(rt,je),je,rt)}}class HI extends class{}{constructor(i,s,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=s,this.hostView=this.changeDetectorRef=new IA(c),this.componentType=i}get injector(){return new Ie(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}const Uf=new Map;class qI extends nh{constructor(i,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yb(this);const l=_r(i),c=i[cn]||null;c&&Iv(c),this._bootstrapComponents=_a(l.bootstrap),this._r3Injector=af(i,s,[{provide:nh,useValue:this},{provide:Of,useValue:this.componentFactoryResolver}],pe(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,s=zi.THROW_IF_NOT_FOUND,l=lt.Default){return i===zi||i===nh||i===Oc?this:this._r3Injector.get(i,s,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Wv extends W0{constructor(i){super(),this.moduleType=i,null!==_r(i)&&function(r){const i=new Set;!function s(l){const c=_r(l,!0),h=c.id;null!==h&&(function(r,i,s){if(i&&i!==s)throw new Error(`Duplicate module registered for ${r} - ${pe(i)} vs ${pe(i.name)}`)}(h,Uf.get(h),l),Uf.set(h,l));const y=_a(c.imports);for(const E of y)i.has(E)||(i.add(E),s(E))}(r)}(i)}create(i){return new qI(this.moduleType,i)}}function Eb(r,i,s){const l=qr()+r,c=Tt();return c[l]===dr?rl(c,l,s?i.call(s):i()):function(r,i){return r[i]}(c,l)}function Cb(r,i,s,l){return Ib(Tt(),qr(),r,i,s,l)}function Ab(r,i,s,l,c){return function(r,i,s,l,c,h,y){const E=i+s;return Ju(r,E,c,h)?rl(r,E+2,y?l.call(y,c,h):l(c,h)):zg(r,E+2)}(Tt(),qr(),r,i,s,l,c)}function zg(r,i){const s=r[i];return s===dr?void 0:s}function Ib(r,i,s,l,c,h){const y=i+s;return Eo(r,y,c)?rl(r,y+1,h?l.call(h,c):l(c)):zg(r,y+1)}function Rb(r,i){const s=nr();let l;const c=r+20;s.firstCreatePass?(l=function(r,i){if(i)for(let s=i.length-1;s>=0;s--){const l=i[s];if(r===l.name)return l}throw new Ye("302",`The pipe '${r}' could not be found!`)}(i,s.pipeRegistry),s.data[c]=l,l.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(c,l.onDestroy)):l=s.data[c];const h=l.factory||(l.factory=Ii(l.type)),y=_n(Wd);try{const E=ka(!1),x=h();return ka(E),function(r,i,s,l){s>=r.data.length&&(r.data[s]=null,r.blueprint[s]=null),i[s]=l}(s,Tt(),c,x),x}finally{_n(y)}}function Mb(r,i,s){const l=r+20,c=Tt(),h=Ke(c,l);return function(r,i){Xr.isWrapped(i)&&(i=Xr.unwrap(i),r[is()]=dr);return i}(c,function(r,i){return r[1].data[i].pure}(c,l)?Ib(c,qr(),i,h.transform,s,h):h.transform(s))}function Kv(r){return i=>{setTimeout(r,void 0,i)}}const vu=class extends _.xQ{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,s,l){var c,h,y;let E=i,x=s||(()=>null),L=l;if(i&&"object"==typeof i){const se=i;E=null===(c=se.next)||void 0===c?void 0:c.bind(se),x=null===(h=se.error)||void 0===h?void 0:h.bind(se),L=null===(y=se.complete)||void 0===y?void 0:y.bind(se)}this.__isAsync&&(x=Kv(x),E&&(E=Kv(E)),L&&(L=Kv(L)));const z=super.subscribe({next:E,error:x,complete:L});return i instanceof f.w&&i.add(z),z}};function sT(){return this._results[Uc()]()}class r_{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Uc(),l=r_.prototype;l[s]||(l[s]=sT)}get changes(){return this._changes||(this._changes=new vu)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,s){return this._results.reduce(i,s)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,s){const l=this;l.dirty=!1;const c=eo(i);(this._changesDetected=!function(r,i,s){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let c=r[l],h=i[l];if(s&&(c=s(c),h=s(h)),h!==c)return!1}return!0}(l._results,c,s))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Yv{constructor(i){this.queryList=i,this.matches=null}clone(){return new Yv(this.queryList)}setDirty(){this.queryList.setDirty()}}class Qv{constructor(i=[]){this.queries=i}createEmbeddedView(i){const s=i.queries;if(null!==s){const l=null!==i.contentQueries?i.contentQueries[0]:s.length,c=[];for(let h=0;h<l;h++){const y=s.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new Qv(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let s=0;s<this.queries.length;s++)null!==Ub(i,s).matches&&this.queries[s].setDirty()}}class Nb{constructor(i,s,l=null){this.predicate=i,this.flags=s,this.read=l}}class Jv{constructor(i=[]){this.queries=i}elementStart(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,s)}elementEnd(i){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(i)}embeddedTView(i){let s=null;for(let l=0;l<this.length;l++){const c=null!==s?s.length:0,h=this.getByIndex(l).embeddedTView(i,c);h&&(h.indexInDeclarationView=l,null!==s?s.push(h):s=[h])}return null!==s?new Jv(s):null}template(i,s){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,s)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Xv{constructor(i,s=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(i,s){this.isApplyingToNode(s)&&this.matchTNode(i,s)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,s){this.elementStart(i,s)}embeddedTView(i,s){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,s),new Xv(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==s;)l=l.parent;return s===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,s){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(i,s,lT(s,h)),this.matchTNodeWithReadOption(i,s,A(s,i,h,!1,!1))}else l===Ug?4&s.type&&this.matchTNodeWithReadOption(i,s,-1):this.matchTNodeWithReadOption(i,s,A(s,i,l,!1,!1))}matchTNodeWithReadOption(i,s,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===_u||c===Jy||c===Ug&&4&s.type)this.addMatch(s.index,-2);else{const h=A(s,i,c,!1,!1);null!==h&&this.addMatch(s.index,h)}else this.addMatch(s.index,l)}}addMatch(i,s){null===this.matches?this.matches=[i,s]:this.matches.push(i,s)}}function lT(r,i){const s=r.localNames;if(null!==s)for(let l=0;l<s.length;l+=2)if(s[l]===i)return s[l+1];return null}function cT(r,i,s,l){return-1===s?function(r,i){return 11&r.type?Pf(r,i):4&r.type?Qy(r,i):null}(i,r):-2===s?function(r,i,s){return s===_u?Pf(i,r):s===Ug?Qy(i,r):s===Jy?Q0(i,r):void 0}(r,i,l):P(r,r[1],s,i)}function Ob(r,i,s,l){const c=i[19].queries[l];if(null===c.matches){const h=r.data,y=s.matches,E=[];for(let x=0;x<y.length;x+=2){const L=y[x];E.push(L<0?null:cT(i,h[L],y[x+1],s.metadata.read))}c.matches=E}return c.matches}function ew(r,i,s,l){const c=r.queries.getByIndex(s),h=c.matches;if(null!==h){const y=Ob(r,i,c,s);for(let E=0;E<h.length;E+=2){const x=h[E];if(x>0)l.push(y[E/2]);else{const L=h[E+1],z=i[-x];for(let se=10;se<z.length;se++){const ce=z[se];ce[17]===ce[3]&&ew(ce[1],ce,L,l)}if(null!==z[9]){const se=z[9];for(let ce=0;ce<se.length;ce++){const xe=se[ce];ew(xe[1],xe,L,l)}}}}}return l}function Pb(r){const i=Tt(),s=nr(),l=j();K(l+1);const c=Ub(s,l);if(r.dirty&&Cn(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const h=c.crossesNgTemplate?ew(s,i,l,[]):Ob(s,i,c,l);r.reset(h,B0),r.notifyOnChanges()}return!0}return!1}function kb(r,i,s,l){const c=nr();if(c.firstCreatePass){const h=ii();(function(r,i,s){null===r.queries&&(r.queries=new Jv),r.queries.track(new Xv(i,s))})(c,new Nb(i,s,l),h.index),function(r,i){const s=r.contentQueries||(r.contentQueries=[]);i!==(s.length?s[s.length-1]:-1)&&s.push(r.queries.length-1,i)}(c,r),2==(2&s)&&(c.staticContentQueries=!0)}!function(r,i,s){const l=new r_(4==(4&s));Rm(r,i,l,l.destroy),null===i[19]&&(i[19]=new Qv),i[19].queries.push(new Yv(l))}(c,Tt(),s)}function Fb(){return r=Tt(),i=j(),r[19].queries[i].queryList;var r,i}function Ub(r,i){return r.queries.getByIndex(i)}function Bb(r,i){return Qy(r,i)}const ow=new qt("Application Initializer");let jf=(()=>{class r{constructor(s){this.appInits=s,this.resolve=Gy,this.reject=Gy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const s=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(Cg(h))s.push(h);else if(Ag(h)){const y=new Promise((E,x)=>{h.subscribe({complete:E,error:x})});s.push(y)}}Promise.all(s).then(()=>{l()}).catch(c=>{this.reject(c)}),0===s.length&&l(),this.initialized=!0}}return r.\u0275fac=function(s){return new(s||r)(as(ow,8))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();const iE=new qt("AppId"),jT={provide:iE,useFactory:function(){return`${aw()}${aw()}${aw()}`},deps:[]};function aw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const sE=new qt("Platform Initializer"),oE=new qt("Platform ID"),aE=new qt("appBootstrapListener");let lE=(()=>{class r{log(s){console.log(s)}warn(s){console.warn(s)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();const o_=new qt("LocaleId"),uE=new qt("DefaultCurrencyCode");class $T{constructor(i,s){this.ngModuleFactory=i,this.componentFactories=s}}const lw=function(r){return new Wv(r)},ZT=lw,qT=function(r){return Promise.resolve(lw(r))},cE=function(r){const i=lw(r),l=_a(_r(r).declarations).reduce((c,h)=>{const y=gr(h);return y&&c.push(new vb(y)),c},[]);return new $T(i,l)},GT=cE,zT=function(r){return Promise.resolve(cE(r))};let Qg=(()=>{class r{constructor(){this.compileModuleSync=ZT,this.compileModuleAsync=qT,this.compileModuleAndAllComponentsSync=GT,this.compileModuleAndAllComponentsAsync=zT}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();const YT=(()=>Promise.resolve(0))();function uw(r){"undefined"==typeof Zone?YT.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Za{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new vu(!1),this.onMicrotaskEmpty=new vu(!1),this.onStable=new vu(!1),this.onError=new vu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&s,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let r=ur.requestAnimationFrame,i=ur.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const s=r[Zone.__symbol__("OriginalDelegate")];s&&(r=s);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function(r){const i=()=>{!function(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(ur,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,dw(r),r.isCheckStableRunning=!0,cw(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),dw(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,l,c,h,y,E)=>{try{return dE(r),s.invokeTask(c,h,y,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||r.shouldCoalesceRunChangeDetection)&&i(),hE(r)}},onInvoke:(s,l,c,h,y,E,x)=>{try{return dE(r),s.invoke(c,h,y,E,x)}finally{r.shouldCoalesceRunChangeDetection&&i(),hE(r)}},onHasTask:(s,l,c,h)=>{s.hasTask(c,h),l===c&&("microTask"==h.change?(r._hasPendingMicrotasks=h.microTask,dw(r),cw(r)):"macroTask"==h.change&&(r.hasPendingMacrotasks=h.macroTask))},onHandleError:(s,l,c,h)=>(s.handleError(c,h),r.runOutsideAngular(()=>r.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Za.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Za.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,s,l){return this._inner.run(i,s,l)}runTask(i,s,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,i,JT,Gy,Gy);try{return h.runTask(y,s,l)}finally{h.cancelTask(y)}}runGuarded(i,s,l){return this._inner.runGuarded(i,s,l)}runOutsideAngular(i){return this._outer.run(i)}}const JT={};function cw(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function dw(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function dE(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function hE(r){r._nesting--,cw(r)}class tD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new vu,this.onMicrotaskEmpty=new vu,this.onStable=new vu,this.onError=new vu}run(i,s,l){return i.apply(s,l)}runGuarded(i,s,l){return i.apply(s,l)}runOutsideAngular(i){return i()}runTask(i,s,l,c){return i.apply(s,l)}}let fE=(()=>{class r{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Za.assertNotInAngularZone(),uw(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())uw(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(s)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),s(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:s,timeoutId:h,updateCb:c})}whenStable(s,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,l,c){return[]}}return r.\u0275fac=function(s){return new(s||r)(as(Za))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})(),pE=(()=>{class r{constructor(){this._applications=new Map,hw.addToWindow(this)}registerApplication(s,l){this._applications.set(s,l)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,l=!0){return hw.findTestabilityInTree(this,s,l)}}return r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();class nD{addToWindow(i){}findTestabilityInTree(i,s,l){return null}}function rD(r){hw=r}let hw=new nD,gE=!0,mE=!1;function fw(){return mE=!0,gE}function iD(){if(mE)throw new Error("Cannot enable prod mode after platform setup.");gE=!1}let Ll;const yE=new qt("AllowMultipleToken");class dD{constructor(i,s){this.name=i,this.token=s}}function _E(r,i,s=[]){const l=`Platform: ${i}`,c=new qt(l);return(h=[])=>{let y=vE();if(!y||y.injector.get(yE,!1))if(r)r(s.concat(h).concat({provide:c,useValue:!0}));else{const E=s.concat(h).concat({provide:c,useValue:!0},{provide:wa,useValue:"platform"});!function(r){if(Ll&&!Ll.destroyed&&!Ll.injector.get(yE,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ll=r.get(wE);const i=r.get(sE,null);i&&i.forEach(s=>s())}(zi.create({providers:E,name:l}))}return function(r){const i=vE();if(!i)throw new Error("No platform exists!");if(!i.injector.get(r,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return i}(c)}}function vE(){return Ll&&!Ll.destroyed?Ll:null}let wE=(()=>{class r{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,l){const E=function(r,i){let s;return s="noop"===r?new tD:("zone.js"===r?void 0:r)||new Za({enableLongStackTrace:fw(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),s}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),x=[{provide:Za,useValue:E}];return E.run(()=>{const L=zi.create({providers:x,parent:this.injector,name:s.moduleType.name}),z=s.create(L),se=z.injector.get(m,null);if(!se)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const ce=E.onError.subscribe({next:xe=>{se.handleError(xe)}});z.onDestroy(()=>{pw(this._modules,z),ce.unsubscribe()})}),function(r,i,s){try{const l=s();return Cg(l)?l.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(se,E,()=>{const ce=z.injector.get(jf);return ce.runInitializers(),ce.donePromise.then(()=>(Iv(z.injector.get(o_,jy)||jy),this._moduleDoBootstrap(z),z))})})}bootstrapModule(s,l=[]){const c=bE({},l);return function(r,i,s){const l=new Wv(s);return Promise.resolve(l)}(0,0,s).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(s){const l=s.injector.get(Jg);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!s.instance.ngDoBootstrap)throw new Error(`The module ${pe(s.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);s.instance.ngDoBootstrap(l)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(s){return new(s||r)(as(zi))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();function bE(r,i){return Array.isArray(i)?i.reduce(bE,r):Object.assign(Object.assign({},r),i)}let Jg=(()=>{class r{constructor(s,l,c,h,y){this._zone=s,this._injector=l,this._exceptionHandler=c,this._componentFactoryResolver=h,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new te.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),x=new te.y(L=>{let z;this._zone.runOutsideAngular(()=>{z=this._zone.onStable.subscribe(()=>{Za.assertNotInAngularZone(),uw(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const se=this._zone.onUnstable.subscribe(()=>{Za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{z.unsubscribe(),se.unsubscribe()}});this.isStable=(0,Ve.T)(E,x.pipe((0,Me.B)()))}bootstrap(s,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=s instanceof L0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(c.componentType);const h=function(r){return r.isBoundToModule}(c)?void 0:this._injector.get(nh),E=c.create(zi.NULL,[],l||c.selector,h),x=E.location.nativeElement,L=E.injector.get(fE,null),z=L&&E.injector.get(pE);return L&&z&&z.registerApplication(x,L),E.onDestroy(()=>{this.detachView(E.hostView),pw(this.components,E),z&&z.unregisterApplication(x)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const l=s;this._views.push(l),l.attachToAppRef(this)}detachView(s){const l=s;pw(this._views,l),l.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(aE,[]).concat(this._bootstrapListeners).forEach(c=>c(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(s){return new(s||r)(as(Za),as(zi),as(m),as(Of),as(jf))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();function pw(r,i){const s=r.indexOf(i);s>-1&&r.splice(s,1)}class yD{}class vD{}const wD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let bD=(()=>{class r{constructor(s,l){this._compiler=s,this._config=l||wD}load(s){return this.loadAndCompile(s)}loadAndCompile(s){let[l,c]=s.split("#");return void 0===c&&(c="default"),Z(8255)(l).then(h=>h[c]).then(h=>IE(h,l,c)).then(h=>this._compiler.compileModuleAsync(h))}loadFactory(s){let[l,c]=s.split("#"),h="NgFactory";return void 0===c&&(c="default",h=""),Z(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(y=>y[c+h]).then(y=>IE(y,l,c))}}return r.\u0275fac=function(s){return new(s||r)(as(Qg),as(vD,8))},r.\u0275prov=Re({token:r,factory:r.\u0275fac}),r})();function IE(r,i,s){if(!r)throw new Error(`Cannot find '${s}' in '${i}'`);return r}const xD=function(r){return null},MD=_E(null,"core",[{provide:oE,useValue:"unknown"},{provide:wE,deps:[zi]},{provide:pE,deps:[]},{provide:lE,deps:[]}]),FD=[{provide:Jg,useClass:Jg,deps:[Za,zi,m,Of,jf]},{provide:UI,deps:[Za],useFactory:function(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(s){i.push(s)}}},{provide:jf,useClass:jf,deps:[[new vo,ow]]},{provide:Qg,useClass:Qg,deps:[]},jT,{provide:Wy,useFactory:function(){return OA},deps:[]},{provide:Ky,useFactory:function(){return PA},deps:[]},{provide:o_,useFactory:function(r){return Iv(r=r||"undefined"!=typeof $localize&&$localize.locale||jy),r},deps:[[new ml(o_),new vo,new Da]]},{provide:uE,useValue:"USD"}];let VD=(()=>{class r{constructor(s){}}return r.\u0275fac=function(s){return new(s||r)(as(Jg))},r.\u0275mod=bn({type:r}),r.\u0275inj=Ct({providers:FD}),r})()},7057:($t,et,Z)=>{"use strict";Z.d(et,{zQ:()=>Qe,rT:()=>Jt,f7:()=>Le,L6:()=>St,_Q:()=>jt,lh:()=>st,Qv:()=>Se,nw:()=>tt});var _=Z(7716),f=Z(9765),te=Z(5917),Ve=Z(7574),Me=Z(4402),ve=Z(6682),He=Z(8229);function pe(We,Ce,Et){let Pt;return Pt=We&&"object"==typeof We?We:{bufferSize:We,windowTime:Ce,refCount:!1,scheduler:Et},Wt=>Wt.lift(function({bufferSize:We=Number.POSITIVE_INFINITY,windowTime:Ce=Number.POSITIVE_INFINITY,refCount:Et,scheduler:Pt}){let Wt,Ft,Gt=0,Yt=!1,Rn=!1;return function(ut){let Re;Gt++,!Wt||Yt?(Yt=!1,Wt=new He.t(We,Ce,Pt),Re=Wt.subscribe(this),Ft=ut.subscribe({next(Ge){Wt.next(Ge)},error(Ge){Yt=!0,Wt.error(Ge)},complete(){Rn=!0,Ft=void 0,Wt.complete()}}),Rn&&(Ft=void 0)):Re=Wt.subscribe(this),this.add(()=>{Gt--,Re.unsubscribe(),Re=void 0,Ft&&!Rn&&Et&&0===Gt&&(Ft.unsubscribe(),Ft=void 0,Wt=void 0)})}}(Pt))}var ne=Z(3190);function de(We,Ce){return Ce?(0,ne.w)(()=>We,Ce):(0,ne.w)(()=>We)}var he=Z(309),De=Z(8002),Fe=Z(8049),Ye=Z(3101),qe=Z(5435),yt=Z(9126),me=Z(8939),ft=Z(8583);Z(7841);const Se=new _.OlP("angularfire2.auth.use-emulator"),St=new _.OlP("angularfire2.auth.settings"),jt=new _.OlP("angularfire2.auth.tenant-id"),Jt=new _.OlP("angularfire2.auth.langugage-code"),st=new _.OlP("angularfire2.auth.use-device-language"),Le=new _.OlP("angularfire.auth.persistence"),tt=(We,Ce,Et,Pt,Wt,Gt,Ft,Yt)=>(0,yt.cc)(`${We.name}.auth`,"AngularFireAuth",We.name,()=>{const Rn=Ce.runOutsideAngular(()=>We.auth());if(Et&&Rn.useEmulator(...Et),Pt&&(Rn.tenantId=Pt),Rn.languageCode=Wt,Gt&&Rn.useDeviceLanguage(),Ft)for(const[ht,ut]of Object.entries(Ft))Rn.settings[ht]=ut;return Yt&&Rn.setPersistence(Yt),Rn},[Et,Pt,Wt,Gt,Ft,Yt]);let Qe=(()=>{class We{constructor(Et,Pt,Wt,Gt,Ft,Yt,Rn,ht,ut,Re,Ge){const Ct=new f.xQ,Ut=(0,te.of)(void 0).pipe((0,he.QV)(Ft.outsideAngular),(0,ne.w)(()=>Gt.runOutsideAngular(()=>Promise.resolve().then(Z.bind(Z,5841)))),(0,De.U)(()=>(0,me.on)(Et,Gt,Pt)),(0,De.U)(Dn=>tt(Dn,Gt,Yt,ht,ut,Re,Rn,Ge)),pe({bufferSize:1,refCount:!1}));if((0,ft.PM)(Wt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,te.of)(null);else{Ut.pipe((0,Fe.P)()).subscribe();const sr=Ut.pipe((0,ne.w)(kn=>kn.getRedirectResult().then(Rt=>Rt,()=>null)),yt.iC,pe({bufferSize:1,refCount:!1})),mn=Ut.pipe((0,ne.w)(kn=>new Ve.y(Rt=>({unsubscribe:Gt.runOutsideAngular(()=>kn.onAuthStateChanged($e=>Rt.next($e),$e=>Rt.error($e),()=>Rt.complete()))})))),Yn=Ut.pipe((0,ne.w)(kn=>new Ve.y(Rt=>({unsubscribe:Gt.runOutsideAngular(()=>kn.onIdTokenChanged($e=>Rt.next($e),$e=>Rt.error($e),()=>Rt.complete()))}))));this.authState=sr.pipe(de(mn),(0,Ye.R)(Ft.outsideAngular),(0,he.QV)(Ft.insideAngular)),this.user=sr.pipe(de(Yn),(0,Ye.R)(Ft.outsideAngular),(0,he.QV)(Ft.insideAngular)),this.idToken=this.user.pipe((0,ne.w)(kn=>kn?(0,Me.D)(kn.getIdToken()):(0,te.of)(null))),this.idTokenResult=this.user.pipe((0,ne.w)(kn=>kn?(0,Me.D)(kn.getIdTokenResult()):(0,te.of)(null))),this.credential=(0,ve.T)(sr,Ct,this.authState.pipe((0,qe.h)(kn=>!kn))).pipe((0,De.U)(kn=>(null==kn?void 0:kn.user)?kn:null),(0,Ye.R)(Ft.outsideAngular),(0,he.QV)(Ft.insideAngular))}return(0,me.pX)(this,Ut,Gt,{spy:{apply:(Dn,sr,mn)=>{(Dn.startsWith("signIn")||Dn.startsWith("createUser"))&&mn.then(Yn=>Ct.next(Yn))}}})}}return We.\u0275fac=function(Et){return new(Et||We)(_.LFG(me.Dh),_.LFG(me.xv,8),_.LFG(_.Lbi),_.LFG(_.R0b),_.LFG(yt.HU),_.LFG(Se,8),_.LFG(St,8),_.LFG(jt,8),_.LFG(Jt,8),_.LFG(st,8),_.LFG(Le,8))},We.\u0275prov=_.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"}),We})()},8939:($t,et,Z)=>{"use strict";Z.d(et,{hO:()=>De,xv:()=>_e,Dh:()=>pe,GT:()=>ve,on:()=>ne,pX:()=>Me});var _=Z(7716),f=Z(7841),te=Z(9126);$t=Z.hmd($t);const Ve=["ngOnDestroy"],Me=(Fe,Ye,qe,yt={})=>new Proxy(Fe,{get:(me,ft)=>qe.runOutsideAngular(()=>{var wt;if(Fe[ft])return(null===(wt=null==yt?void 0:yt.spy)||void 0===wt?void 0:wt.get)&&yt.spy.get(ft,Fe[ft]),Fe[ft];if(Ve.indexOf(ft)>-1)return()=>{};const ct=Ye.toPromise().then(Se=>{const St=Se&&Se[ft];return"function"==typeof St?St.bind(Se):St&&St.then?St.then(jt=>qe.run(()=>jt)):qe.run(()=>St)});return new Proxy(()=>{},{get:(Se,St)=>ct[St],apply:(Se,St,jt)=>ct.then(Jt=>{var st;const Le=Jt&&Jt(...jt);return(null===(st=null==yt?void 0:yt.spy)||void 0===st?void 0:st.apply)&&yt.spy.apply(ft,jt,Le),Le})})})}),ve=(Fe,Ye)=>{Ye.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(yt=>{Object.defineProperty(Fe.prototype,yt,Object.getOwnPropertyDescriptor(qe.prototype||qe,yt))})})};class He{constructor(Ye){return Ye}}const pe=new _.OlP("angularfire2.app.options"),_e=new _.OlP("angularfire2.app.name");function ne(Fe,Ye,qe){const me="object"==typeof qe&&qe||{};me.name=me.name||"string"==typeof qe&&qe||"[DEFAULT]";const wt=f.Z.apps.filter(ct=>ct&&ct.name===me.name)[0]||Ye.runOutsideAngular(()=>f.Z.initializeApp(Fe,me));try{JSON.stringify(Fe)!==JSON.stringify(wt.options)&&de("error",`${wt.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ct){}return new He(wt)}const de=(Fe,...Ye)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[Fe](...Ye)},he={provide:He,useFactory:ne,deps:[pe,_.R0b,[new _.FiY,_e]]};let De=(()=>{class Fe{constructor(qe){f.Z.registerVersion("angularfire",te.q4.full,"core"),f.Z.registerVersion("angularfire",te.q4.full,"app-compat"),f.Z.registerVersion("angular",_.q4F.full,qe.toString())}static initializeApp(qe,yt){return{ngModule:Fe,providers:[{provide:pe,useValue:qe},{provide:_e,useValue:yt}]}}}return Fe.\u0275fac=function(qe){return new(qe||Fe)(_.LFG(_.Lbi))},Fe.\u0275mod=_.oAB({type:Fe}),Fe.\u0275inj=_.cJS({providers:[he]}),Fe})()},9126:($t,et,Z)=>{"use strict";Z.d(et,{q4:()=>ne,iC:()=>Le,fc:()=>Jt,HU:()=>ct,cc:()=>De});var _=Z(7716);(0,Z(5452).registerVersion)("firebase","9.1.2","app");var Me=Z(7771),ve=Z(3637),He=Z(8307),pe=Z(309),_e=Z(3101);$t=Z.hmd($t);const ne=new _.GfV("7.0.4"),de=!!$t.hot,he=(We,...Ce)=>{(0,_.X6Q)()&&"undefined"!=typeof console&&console[We](...Ce)};function De(We,Ce,Et,Pt,Wt){const[,Gt,Ft]=globalThis.\u0275AngularfireInstanceCache.find(Yt=>Yt[0]===We)||[];if(Gt)return function(We,Ce){try{return We.toString()===Ce.toString()}catch(Et){return We===Ce}}(Wt,Ft)||(he("error",`${Ce} was already initialized on the ${Et} Firebase App with different settings.${de?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Wt,was:Ft})),Gt;{const Yt=Pt();return globalThis.\u0275AngularfireInstanceCache.push([We,Yt,Wt]),Yt}}function me(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ft{constructor(Ce,Et=Me.N){this.zone=Ce,this.delegate=Et}now(){return this.delegate.now()}schedule(Ce,Et,Pt){const Wt=this.zone;return this.delegate.schedule(function(Ft){Wt.runGuarded(()=>{Ce.apply(this,[Ft])})},Et,Pt)}}class wt{constructor(Ce){this.zone=Ce,this.task=null}call(Ce,Et){const Pt=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",me,{},me,me)),Et.pipe((0,He.b)({next:Pt,complete:Pt,error:Pt})).subscribe(Ce).add(Pt)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ct=(()=>{class We{constructor(Et){this.ngZone=Et,this.outsideAngular=Et.runOutsideAngular(()=>new ft(Zone.current)),this.insideAngular=Et.run(()=>new ft(Zone.current,ve.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return We.\u0275fac=function(Et){return new(Et||We)(_.LFG(_.R0b))},We.\u0275prov=_.Yz7({token:We,factory:We.\u0275fac,providedIn:"root"}),We})();function Se(){const We=globalThis.\u0275AngularFireScheduler;if(!We)throw new Error("AngularFireModule has not been provided");return We}function Jt(We){return We.pipe((0,pe.QV)(Se().outsideAngular))}function Le(We){return Se(),function(We){return function(Et){return(Et=Et.lift(new wt(We.ngZone))).pipe((0,_e.R)(We.outsideAngular),(0,pe.QV)(We.insideAngular))}}(Se())(We)}},665:($t,et,Z)=>{"use strict";Z.d(et,{Wl:()=>Fe,Fj:()=>me,qu:()=>it,u:()=>Ss,sg:()=>ci,u5:()=>H,JJ:()=>_n,JL:()=>on,F:()=>Ze,wV:()=>Zr,UX:()=>re,Q7:()=>Qi,kI:()=>jt,_Y:()=>Ar});var _=Z(7716),f=Z(8583),te=Z(7574),Ve=Z(9796),Me=Z(8002),ve=Z(1555),He=Z(4402);function _e(V,k){return new te.y(M=>{const X=V.length;if(0===X)return void M.complete();const Ke=new Array(X);let Ot=0,Cn=0;for(let Jn=0;Jn<X;Jn++){const gi=(0,He.D)(V[Jn]);let Mr=!1;M.add(gi.subscribe({next:ri=>{Mr||(Mr=!0,Cn++),Ke[Jn]=ri},error:ri=>M.error(ri),complete:()=>{Ot++,(Ot===X||!Mr)&&(Cn===X&&M.next(k?k.reduce((ri,Li,An)=>(ri[Li]=Ke[An],ri),{}):Ke),M.complete())}}))}})}let ne=(()=>{class V{constructor(M,X){this._renderer=M,this._elementRef=X,this.onChange=Ke=>{},this.onTouched=()=>{}}setProperty(M,X){this._renderer.setProperty(this._elementRef.nativeElement,M,X)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return V.\u0275fac=function(M){return new(M||V)(_.Y36(_.Qsj),_.Y36(_.SBq))},V.\u0275dir=_.lG2({type:V}),V})(),de=(()=>{class V extends ne{}return V.\u0275fac=function(){let k;return function(X){return(k||(k=_.n5z(V)))(X||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();const he=new _.OlP("NgValueAccessor"),De={provide:he,useExisting:(0,_.Gpc)(()=>Fe),multi:!0};let Fe=(()=>{class V extends de{writeValue(M){this.setProperty("checked",M)}}return V.\u0275fac=function(){let k;return function(X){return(k||(k=_.n5z(V)))(X||V)}}(),V.\u0275dir=_.lG2({type:V,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(M,X){1&M&&_.NdJ("change",function(Ot){return X.onChange(Ot.target.checked)})("blur",function(){return X.onTouched()})},features:[_._Bn([De]),_.qOj]}),V})();const Ye={provide:he,useExisting:(0,_.Gpc)(()=>me),multi:!0},yt=new _.OlP("CompositionEventMode");let me=(()=>{class V extends ne{constructor(M,X,Ke){super(M,X),this._compositionMode=Ke,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const V=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(V.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return V.\u0275fac=function(M){return new(M||V)(_.Y36(_.Qsj),_.Y36(_.SBq),_.Y36(yt,8))},V.\u0275dir=_.lG2({type:V,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,X){1&M&&_.NdJ("input",function(Ot){return X._handleInput(Ot.target.value)})("blur",function(){return X.onTouched()})("compositionstart",function(){return X._compositionStart()})("compositionend",function(Ot){return X._compositionEnd(Ot.target.value)})},features:[_._Bn([Ye]),_.qOj]}),V})();function ft(V){return null==V||0===V.length}function wt(V){return null!=V&&"number"==typeof V.length}const ct=new _.OlP("NgValidators"),Se=new _.OlP("NgAsyncValidators"),St=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jt{static min(k){return V=k,k=>{if(ft(k.value)||ft(V))return null;const M=parseFloat(k.value);return!isNaN(M)&&M<V?{min:{min:V,actual:k.value}}:null};var V}static max(k){return V=k,k=>{if(ft(k.value)||ft(V))return null;const M=parseFloat(k.value);return!isNaN(M)&&M>V?{max:{max:V,actual:k.value}}:null};var V}static required(k){return Le(k)}static requiredTrue(k){return!0===k.value?null:{required:!0}}static email(k){return ft((V=k).value)||St.test(V.value)?null:{email:!0};var V}static minLength(k){return V=k,k=>ft(k.value)||!wt(k.value)?null:k.value.length<V?{minlength:{requiredLength:V,actualLength:k.value.length}}:null;var V}static maxLength(k){return V=k,k=>wt(k.value)&&k.value.length>V?{maxlength:{requiredLength:V,actualLength:k.value.length}}:null;var V}static pattern(k){return function(V){if(!V)return Et;let k,M;return"string"==typeof V?(M="","^"!==V.charAt(0)&&(M+="^"),M+=V,"$"!==V.charAt(V.length-1)&&(M+="$"),k=new RegExp(M)):(M=V.toString(),k=V),X=>{if(ft(X.value))return null;const Ke=X.value;return k.test(Ke)?null:{pattern:{requiredPattern:M,actualValue:Ke}}}}(k)}static nullValidator(k){return null}static compose(k){return ht(k)}static composeAsync(k){return Re(k)}}function Le(V){return ft(V.value)?{required:!0}:null}function Et(V){return null}function Pt(V){return null!=V}function Wt(V){const k=(0,_.QGY)(V)?(0,He.D)(V):V;return(0,_.CqO)(k),k}function Gt(V){let k={};return V.forEach(M=>{k=null!=M?Object.assign(Object.assign({},k),M):k}),0===Object.keys(k).length?null:k}function Ft(V,k){return k.map(M=>M(V))}function Rn(V){return V.map(k=>function(V){return!V.validate}(k)?k:M=>k.validate(M))}function ht(V){if(!V)return null;const k=V.filter(Pt);return 0==k.length?null:function(M){return Gt(Ft(M,k))}}function ut(V){return null!=V?ht(Rn(V)):null}function Re(V){if(!V)return null;const k=V.filter(Pt);return 0==k.length?null:function(M){return function(...V){if(1===V.length){const k=V[0];if((0,Ve.k)(k))return _e(k,null);if((0,ve.K)(k)&&Object.getPrototypeOf(k)===Object.prototype){const M=Object.keys(k);return _e(M.map(X=>k[X]),M)}}if("function"==typeof V[V.length-1]){const k=V.pop();return _e(V=1===V.length&&(0,Ve.k)(V[0])?V[0]:V,null).pipe((0,Me.U)(M=>k(...M)))}return _e(V,null)}(Ft(M,k).map(Wt)).pipe((0,Me.U)(Gt))}}function Ge(V){return null!=V?Re(Rn(V)):null}function Ct(V,k){return null===V?[k]:Array.isArray(V)?[...V,k]:[V,k]}function Ut(V){return V._rawValidators}function Dn(V){return V._rawAsyncValidators}function sr(V){return V?Array.isArray(V)?V:[V]:[]}function mn(V,k){return Array.isArray(V)?V.includes(k):V===k}function Yn(V,k){const M=sr(k);return sr(V).forEach(Ke=>{mn(M,Ke)||M.push(Ke)}),M}function kn(V,k){return sr(k).filter(M=>!mn(V,M))}let Rt=(()=>{class V{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=ut(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=Ge(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M){this.control&&this.control.reset(M)}hasError(M,X){return!!this.control&&this.control.hasError(M,X)}getError(M,X){return this.control?this.control.getError(M,X):null}}return V.\u0275fac=function(M){return new(M||V)},V.\u0275dir=_.lG2({type:V}),V})(),$e=(()=>{class V extends Rt{get formDirective(){return null}get path(){return null}}return V.\u0275fac=function(){let k;return function(X){return(k||(k=_.n5z(V)))(X||V)}}(),V.\u0275dir=_.lG2({type:V,features:[_.qOj]}),V})();class at extends Rt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class lt{constructor(k){this._cd=k}is(k){var M,X,Ke;return"submitted"===k?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(Ke=null===(X=this._cd)||void 0===X?void 0:X.control)||void 0===Ke?void 0:Ke[k])}}let _n=(()=>{class V extends lt{constructor(M){super(M)}}return V.\u0275fac=function(M){return new(M||V)(_.Y36(at,2))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,X){2&M&&_.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))},features:[_.qOj]}),V})(),on=(()=>{class V extends lt{constructor(M){super(M)}}return V.\u0275fac=function(M){return new(M||V)(_.Y36($e,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,X){2&M&&_.ekj("ng-untouched",X.is("untouched"))("ng-touched",X.is("touched"))("ng-pristine",X.is("pristine"))("ng-dirty",X.is("dirty"))("ng-valid",X.is("valid"))("ng-invalid",X.is("invalid"))("ng-pending",X.is("pending"))("ng-submitted",X.is("submitted"))},features:[_.qOj]}),V})();function we(V,k){Xe(V,k),k.valueAccessor.writeValue(V.value),function(V,k){k.valueAccessor.registerOnChange(M=>{V._pendingValue=M,V._pendingChange=!0,V._pendingDirty=!0,"change"===V.updateOn&&Zn(V,k)})}(V,k),function(V,k){const M=(X,Ke)=>{k.valueAccessor.writeValue(X),Ke&&k.viewToModelUpdate(X)};V.registerOnChange(M),k._registerOnDestroy(()=>{V._unregisterOnChange(M)})}(V,k),function(V,k){k.valueAccessor.registerOnTouched(()=>{V._pendingTouched=!0,"blur"===V.updateOn&&V._pendingChange&&Zn(V,k),"submit"!==V.updateOn&&V.markAsTouched()})}(V,k),function(V,k){if(k.valueAccessor.setDisabledState){const M=X=>{k.valueAccessor.setDisabledState(X)};V.registerOnDisabledChange(M),k._registerOnDestroy(()=>{V._unregisterOnDisabledChange(M)})}}(V,k)}function Ae(V,k,M=!0){const X=()=>{};k.valueAccessor&&(k.valueAccessor.registerOnChange(X),k.valueAccessor.registerOnTouched(X)),Lt(V,k),V&&(k._invokeOnDestroyCallbacks(),V._registerOnCollectionChange(()=>{}))}function Pe(V,k){V.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(k)})}function Xe(V,k){const M=Ut(V);null!==k.validator?V.setValidators(Ct(M,k.validator)):"function"==typeof M&&V.setValidators([M]);const X=Dn(V);null!==k.asyncValidator?V.setAsyncValidators(Ct(X,k.asyncValidator)):"function"==typeof X&&V.setAsyncValidators([X]);const Ke=()=>V.updateValueAndValidity();Pe(k._rawValidators,Ke),Pe(k._rawAsyncValidators,Ke)}function Lt(V,k){let M=!1;if(null!==V){if(null!==k.validator){const Ke=Ut(V);if(Array.isArray(Ke)&&Ke.length>0){const Ot=Ke.filter(Cn=>Cn!==k.validator);Ot.length!==Ke.length&&(M=!0,V.setValidators(Ot))}}if(null!==k.asyncValidator){const Ke=Dn(V);if(Array.isArray(Ke)&&Ke.length>0){const Ot=Ke.filter(Cn=>Cn!==k.asyncValidator);Ot.length!==Ke.length&&(M=!0,V.setAsyncValidators(Ot))}}}const X=()=>{};return Pe(k._rawValidators,X),Pe(k._rawAsyncValidators,X),M}function Zn(V,k){V._pendingDirty&&V.markAsDirty(),V.setValue(V._pendingValue,{emitModelToViewChange:!1}),k.viewToModelUpdate(V._pendingValue),V._pendingChange=!1}function On(V,k){Xe(V,k)}function Ci(V,k){V._syncPendingControls(),k.forEach(M=>{const X=M.control;"submit"===X.updateOn&&X._pendingChange&&(M.viewToModelUpdate(X._pendingValue),X._pendingChange=!1)})}function ei(V,k){const M=V.indexOf(k);M>-1&&V.splice(M,1)}const gr="VALID",Nn="INVALID",en="PENDING",_r="DISABLED";function qn(V){return(Vr(V)?V.validators:V)||null}function Bt(V){return Array.isArray(V)?ut(V):V||null}function xn(V,k){return(Vr(k)?k.asyncValidators:V)||null}function pr(V){return Array.isArray(V)?Ge(V):V||null}function Vr(V){return null!=V&&!Array.isArray(V)&&"object"==typeof V}class or{constructor(k,M){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=k,this._rawAsyncValidators=M,this._composedValidatorFn=Bt(this._rawValidators),this._composedAsyncValidatorFn=pr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(k){this._rawValidators=this._composedValidatorFn=k}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(k){this._rawAsyncValidators=this._composedAsyncValidatorFn=k}get parent(){return this._parent}get valid(){return this.status===gr}get invalid(){return this.status===Nn}get pending(){return this.status==en}get disabled(){return this.status===_r}get enabled(){return this.status!==_r}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(k){this._rawValidators=k,this._composedValidatorFn=Bt(k)}setAsyncValidators(k){this._rawAsyncValidators=k,this._composedAsyncValidatorFn=pr(k)}addValidators(k){this.setValidators(Yn(k,this._rawValidators))}addAsyncValidators(k){this.setAsyncValidators(Yn(k,this._rawAsyncValidators))}removeValidators(k){this.setValidators(kn(k,this._rawValidators))}removeAsyncValidators(k){this.setAsyncValidators(kn(k,this._rawAsyncValidators))}hasValidator(k){return mn(this._rawValidators,k)}hasAsyncValidator(k){return mn(this._rawAsyncValidators,k)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(k={}){this.touched=!0,this._parent&&!k.onlySelf&&this._parent.markAsTouched(k)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(k=>k.markAllAsTouched())}markAsUntouched(k={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}markAsDirty(k={}){this.pristine=!1,this._parent&&!k.onlySelf&&this._parent.markAsDirty(k)}markAsPristine(k={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}markAsPending(k={}){this.status=en,!1!==k.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!k.onlySelf&&this._parent.markAsPending(k)}disable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=_r,this.errors=null,this._forEachChild(X=>{X.disable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this._updateValue(),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:M})),this._onDisabledChange.forEach(X=>X(!0))}enable(k={}){const M=this._parentMarkedDirty(k.onlySelf);this.status=gr,this._forEachChild(X=>{X.enable(Object.assign(Object.assign({},k),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},k),{skipPristineCheck:M})),this._onDisabledChange.forEach(X=>X(!1))}_updateAncestors(k){this._parent&&!k.onlySelf&&(this._parent.updateValueAndValidity(k),k.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(k){this._parent=k}updateValueAndValidity(k={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gr||this.status===en)&&this._runAsyncValidator(k.emitEvent)),!1!==k.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!k.onlySelf&&this._parent.updateValueAndValidity(k)}_updateTreeValidity(k={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(k)),this.updateValueAndValidity({onlySelf:!0,emitEvent:k.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_r:gr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(k){if(this.asyncValidator){this.status=en,this._hasOwnPendingAsyncValidator=!0;const M=Wt(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(X=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(X,{emitEvent:k})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(k,M={}){this.errors=k,this._updateControlsErrors(!1!==M.emitEvent)}get(k){return function(V,k,M){if(null==k||(Array.isArray(k)||(k=k.split(".")),Array.isArray(k)&&0===k.length))return null;let X=V;return k.forEach(Ke=>{X=X instanceof Fr?X.controls.hasOwnProperty(Ke)?X.controls[Ke]:null:X instanceof Fn&&X.at(Ke)||null}),X}(this,k)}getError(k,M){const X=M?this.get(M):this;return X&&X.errors?X.errors[k]:null}hasError(k,M){return!!this.getError(k,M)}get root(){let k=this;for(;k._parent;)k=k._parent;return k}_updateControlsErrors(k){this.status=this._calculateStatus(),k&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(k)}_initObservables(){this.valueChanges=new _.vpe,this.statusChanges=new _.vpe}_calculateStatus(){return this._allControlsDisabled()?_r:this.errors?Nn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(en)?en:this._anyControlsHaveStatus(Nn)?Nn:gr}_anyControlsHaveStatus(k){return this._anyControls(M=>M.status===k)}_anyControlsDirty(){return this._anyControls(k=>k.dirty)}_anyControlsTouched(){return this._anyControls(k=>k.touched)}_updatePristine(k={}){this.pristine=!this._anyControlsDirty(),this._parent&&!k.onlySelf&&this._parent._updatePristine(k)}_updateTouched(k={}){this.touched=this._anyControlsTouched(),this._parent&&!k.onlySelf&&this._parent._updateTouched(k)}_isBoxedValue(k){return"object"==typeof k&&null!==k&&2===Object.keys(k).length&&"value"in k&&"disabled"in k}_registerOnCollectionChange(k){this._onCollectionChange=k}_setUpdateStrategy(k){Vr(k)&&null!=k.updateOn&&(this._updateOn=k.updateOn)}_parentMarkedDirty(k){return!k&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tr extends or{constructor(k=null,M,X){super(qn(M),xn(X,M)),this._onChange=[],this._applyFormState(k),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(k,M={}){this.value=this._pendingValue=k,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(X=>X(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(k,M={}){this.setValue(k,M)}reset(k=null,M={}){this._applyFormState(k),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(k){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(k){this._onChange.push(k)}_unregisterOnChange(k){ei(this._onChange,k)}registerOnDisabledChange(k){this._onDisabledChange.push(k)}_unregisterOnDisabledChange(k){ei(this._onDisabledChange,k)}_forEachChild(k){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(k){this._isBoxedValue(k)?(this.value=this._pendingValue=k.value,k.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=k}}class Fr extends or{constructor(k,M,X){super(qn(M),xn(X,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(k,M){return this.controls[k]?this.controls[k]:(this.controls[k]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(k,M,X={}){this.registerControl(k,M),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}removeControl(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(k,M,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),delete this.controls[k],M&&this.registerControl(k,M),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}contains(k){return this.controls.hasOwnProperty(k)&&this.controls[k].enabled}setValue(k,M={}){this._checkAllValuesPresent(k),Object.keys(k).forEach(X=>{this._throwIfControlMissing(X),this.controls[X].setValue(k[X],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(Object.keys(k).forEach(X=>{this.controls[X]&&this.controls[X].patchValue(k[X],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k={},M={}){this._forEachChild((X,Ke)=>{X.reset(k[Ke],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(k,M,X)=>(k[X]=M instanceof tr?M.value:M.getRawValue(),k))}_syncPendingControls(){let k=this._reduceChildren(!1,(M,X)=>!!X._syncPendingControls()||M);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_throwIfControlMissing(k){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[k])throw new Error(`Cannot find form control with name: ${k}.`)}_forEachChild(k){Object.keys(this.controls).forEach(M=>{const X=this.controls[M];X&&k(X,M)})}_setUpControls(){this._forEachChild(k=>{k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(k){for(const M of Object.keys(this.controls)){const X=this.controls[M];if(this.contains(M)&&k(X))return!0}return!1}_reduceValue(){return this._reduceChildren({},(k,M,X)=>((M.enabled||this.disabled)&&(k[X]=M.value),k))}_reduceChildren(k,M){let X=k;return this._forEachChild((Ke,Ot)=>{X=M(X,Ke,Ot)}),X}_allControlsDisabled(){for(const k of Object.keys(this.controls))if(this.controls[k].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(k){this._forEachChild((M,X)=>{if(void 0===k[X])throw new Error(`Must supply a value for form control with name: '${X}'.`)})}}class Fn extends or{constructor(k,M,X){super(qn(M),xn(X,M)),this.controls=k,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(k){return this.controls[k]}push(k,M={}){this.controls.push(k),this._registerControl(k),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(k,M,X={}){this.controls.splice(k,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:X.emitEvent})}removeAt(k,M={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(k,M,X={}){this.controls[k]&&this.controls[k]._registerOnCollectionChange(()=>{}),this.controls.splice(k,1),M&&(this.controls.splice(k,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:X.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(k,M={}){this._checkAllValuesPresent(k),k.forEach((X,Ke)=>{this._throwIfControlMissing(Ke),this.at(Ke).setValue(X,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(k,M={}){null!=k&&(k.forEach((X,Ke)=>{this.at(Ke)&&this.at(Ke).patchValue(X,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(k=[],M={}){this._forEachChild((X,Ke)=>{X.reset(k[Ke],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(k=>k instanceof tr?k.value:k.getRawValue())}clear(k={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:k.emitEvent}))}_syncPendingControls(){let k=this.controls.reduce((M,X)=>!!X._syncPendingControls()||M,!1);return k&&this.updateValueAndValidity({onlySelf:!0}),k}_throwIfControlMissing(k){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(k))throw new Error(`Cannot find form control at index ${k}`)}_forEachChild(k){this.controls.forEach((M,X)=>{k(M,X)})}_updateValue(){this.value=this.controls.filter(k=>k.enabled||this.disabled).map(k=>k.value)}_anyControls(k){return this.controls.some(M=>M.enabled&&k(M))}_setUpControls(){this._forEachChild(k=>this._registerControl(k))}_checkAllValuesPresent(k){this._forEachChild((M,X)=>{if(void 0===k[X])throw new Error(`Must supply a value for form control at index: ${X}.`)})}_allControlsDisabled(){for(const k of this.controls)if(k.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(k){k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange)}}const mr={provide:$e,useExisting:(0,_.Gpc)(()=>Ze)},ln=(()=>Promise.resolve(null))();let Ze=(()=>{class V extends $e{constructor(M,X){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new _.vpe,this.form=new Fr({},ut(M),Ge(X))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){ln.then(()=>{const X=this._findContainer(M.path);M.control=X.registerControl(M.name,M.control),we(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){ln.then(()=>{const X=this._findContainer(M.path);X&&X.removeControl(M.name),ei(this._directives,M)})}addFormGroup(M){ln.then(()=>{const X=this._findContainer(M.path),Ke=new Fr({});On(Ke,M),X.registerControl(M.name,Ke),Ke.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){ln.then(()=>{const X=this._findContainer(M.path);X&&X.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,X){ln.then(()=>{this.form.get(M.path).setValue(X)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,Ci(this.form,this._directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return V.\u0275fac=function(M){return new(M||V)(_.Y36(ct,10),_.Y36(Se,10))},V.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,X){1&M&&_.NdJ("submit",function(Ot){return X.onSubmit(Ot)})("reset",function(){return X.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([mr]),_.qOj]}),V})(),Ar=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275dir=_.lG2({type:V,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),V})();const oi={provide:he,useExisting:(0,_.Gpc)(()=>Zr),multi:!0};let Zr=(()=>{class V extends de{writeValue(M){this.setProperty("value",null==M?"":M)}registerOnChange(M){this.onChange=X=>{M(""==X?null:parseFloat(X))}}}return V.\u0275fac=function(){let k;return function(X){return(k||(k=_.n5z(V)))(X||V)}}(),V.\u0275dir=_.lG2({type:V,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,X){1&M&&_.NdJ("input",function(Ot){return X.onChange(Ot.target.value)})("blur",function(){return X.onTouched()})},features:[_._Bn([oi]),_.qOj]}),V})(),Ts=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({}),V})();const ti=new _.OlP("NgModelWithFormControlWarning"),cs={provide:$e,useExisting:(0,_.Gpc)(()=>ci)};let ci=(()=>{class V extends $e{constructor(M,X){super(),this.validators=M,this.asyncValidators=X,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new _.vpe,this._setValidators(M),this._setAsyncValidators(X)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const X=this.form.get(M.path);return we(X,M),X.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),X}getControl(M){return this.form.get(M.path)}removeControl(M){Ae(M.control||null,M,!1),ei(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,X){this.form.get(M.path).setValue(X)}onSubmit(M){return this.submitted=!0,Ci(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const X=M.control,Ke=this.form.get(M.path);X!==Ke&&(Ae(X||null,M),Ke instanceof tr&&(we(Ke,M),M.control=Ke))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const X=this.form.get(M.path);On(X,M),X.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const X=this.form.get(M.path);X&&function(V,k){return Lt(V,k)}(X,M)&&X.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xe(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return V.\u0275fac=function(M){return new(M||V)(_.Y36(ct,10),_.Y36(Se,10))},V.\u0275dir=_.lG2({type:V,selectors:[["","formGroup",""]],hostBindings:function(M,X){1&M&&_.NdJ("submit",function(Ot){return X.onSubmit(Ot)})("reset",function(){return X.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_._Bn([cs]),_.qOj,_.TTD]}),V})();const Wr={provide:at,useExisting:(0,_.Gpc)(()=>Ss)};let Ss=(()=>{class V extends at{constructor(M,X,Ke,Ot,Cn){super(),this._ngModelWarningConfig=Cn,this._added=!1,this.update=new _.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(X),this._setAsyncValidators(Ke),this.valueAccessor=function(V,k){if(!k)return null;let M,X,Ke;return Array.isArray(k),k.forEach(Ot=>{Ot.constructor===me?M=Ot:function(V){return Object.getPrototypeOf(V.constructor)===de}(Ot)?X=Ot:Ke=Ot}),Ke||X||M||null}(0,Ot)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),function(V,k){if(!V.hasOwnProperty("model"))return!1;const M=V.model;return!!M.isFirstChange()||!Object.is(k,M.currentValue)}(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return function(V,k){return[...k.path,V]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return V.\u0275fac=function(M){return new(M||V)(_.Y36($e,13),_.Y36(ct,10),_.Y36(Se,10),_.Y36(he,10),_.Y36(ti,8))},V.\u0275dir=_.lG2({type:V,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_._Bn([Wr]),_.qOj,_.TTD]}),V._ngModelWarningSentOnce=!1,V})();const po={provide:ct,useExisting:(0,_.Gpc)(()=>Qi),multi:!0};let Qi=(()=>{class V{constructor(){this._required=!1}get required(){return this._required}set required(M){this._required=null!=M&&!1!==M&&"false"!=`${M}`,this._onChange&&this._onChange()}validate(M){return this.required?Le(M):null}registerOnValidatorChange(M){this._onChange=M}}return V.\u0275fac=function(M){return new(M||V)},V.\u0275dir=_.lG2({type:V,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,X){2&M&&_.uIk("required",X.required?"":null)},inputs:{required:"required"},features:[_._Bn([po])]}),V})(),ee=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[[Ts]]}),V})(),H=(()=>{class V{}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[ee]}),V})(),re=(()=>{class V{static withConfig(M){return{ngModule:V,providers:[{provide:ti,useValue:M.warnOnNgModelWithFormControl}]}}}return V.\u0275fac=function(M){return new(M||V)},V.\u0275mod=_.oAB({type:V}),V.\u0275inj=_.cJS({imports:[ee]}),V})(),it=(()=>{class V{group(M,X=null){const Ke=this._reduceControls(M);let Jn,Ot=null,Cn=null;return null!=X&&(function(V){return void 0!==V.asyncValidators||void 0!==V.validators||void 0!==V.updateOn}(X)?(Ot=null!=X.validators?X.validators:null,Cn=null!=X.asyncValidators?X.asyncValidators:null,Jn=null!=X.updateOn?X.updateOn:void 0):(Ot=null!=X.validator?X.validator:null,Cn=null!=X.asyncValidator?X.asyncValidator:null)),new Fr(Ke,{asyncValidators:Cn,updateOn:Jn,validators:Ot})}control(M,X,Ke){return new tr(M,X,Ke)}array(M,X,Ke){const Ot=M.map(Cn=>this._createControl(Cn));return new Fn(Ot,X,Ke)}_reduceControls(M){const X={};return Object.keys(M).forEach(Ke=>{X[Ke]=this._createControl(M[Ke])}),X}_createControl(M){return M instanceof tr||M instanceof Fr||M instanceof Fn?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return V.\u0275fac=function(M){return new(M||V)},V.\u0275prov=(0,_.Yz7)({factory:function(){return new V},token:V,providedIn:re}),V})()},9075:($t,et,Z)=>{"use strict";Z.d(et,{b2:()=>bn,H7:()=>Pe,q6:()=>$r,se:()=>Dn});var _=Z(8583),f=Z(7716);class te extends _.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends te{static makeCurrent(){(0,_.HT)(new Ve)}onAndCancel(ke,ye,Je){return ke.addEventListener(ye,Je,!1),()=>{ke.removeEventListener(ye,Je,!1)}}dispatchEvent(ke,ye){ke.dispatchEvent(ye)}remove(ke){ke.parentNode&&ke.parentNode.removeChild(ke)}createElement(ke,ye){return(ye=ye||this.getDefaultDocument()).createElement(ke)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ke){return ke.nodeType===Node.ELEMENT_NODE}isShadowRoot(ke){return ke instanceof DocumentFragment}getGlobalEventTarget(ke,ye){return"window"===ye?window:"document"===ye?ke:"body"===ye?ke.body:null}getBaseHref(ke){const ye=(Me=Me||document.querySelector("base"),Me?Me.getAttribute("href"):null);return null==ye?null:function(Ze){He=He||document.createElement("a"),He.setAttribute("href",Ze);const ke=He.pathname;return"/"===ke.charAt(0)?ke:`/${ke}`}(ye)}resetBaseElement(){Me=null}getUserAgent(){return window.navigator.userAgent}getCookie(ke){return(0,_.Mx)(document.cookie,ke)}}let He,Me=null;const _e=new f.OlP("TRANSITION_ID"),de=[{provide:f.ip1,useFactory:function(Ze,ke,ye){return()=>{ye.get(f.CZH).donePromise.then(()=>{const Je=(0,_.q)(),mt=ke.querySelectorAll(`style[ng-transition="${Ze}"]`);for(let an=0;an<mt.length;an++)Je.remove(mt[an])})}},deps:[_e,_.K0,f.zs3],multi:!0}];class he{static init(){(0,f.VLi)(new he)}addToWindow(ke){f.dqk.getAngularTestability=(Je,mt=!0)=>{const an=ke.findTestabilityInTree(Je,mt);if(null==an)throw new Error("Could not find testability for element.");return an},f.dqk.getAllAngularTestabilities=()=>ke.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>ke.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(Je=>{const mt=f.dqk.getAllAngularTestabilities();let an=mt.length,En=!1;const ar=function(In){En=En||In,an--,0==an&&Je(En)};mt.forEach(function(In){In.whenStable(ar)})})}findTestabilityInTree(ke,ye,Je){if(null==ye)return null;const mt=ke.getTestability(ye);return null!=mt?mt:Je?(0,_.q)().isShadowRoot(ye)?this.findTestabilityInTree(ke,ye.host,!0):this.findTestabilityInTree(ke,ye.parentElement,!0):null}}let De=(()=>{class Ze{build(){return new XMLHttpRequest}}return Ze.\u0275fac=function(ye){return new(ye||Ze)},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Qe=new f.OlP("EventManagerPlugins");let Te=(()=>{class Ze{constructor(ye,Je){this._zone=Je,this._eventNameToPlugin=new Map,ye.forEach(mt=>mt.manager=this),this._plugins=ye.slice().reverse()}addEventListener(ye,Je,mt){return this._findPluginFor(Je).addEventListener(ye,Je,mt)}addGlobalEventListener(ye,Je,mt){return this._findPluginFor(Je).addGlobalEventListener(ye,Je,mt)}getZone(){return this._zone}_findPluginFor(ye){const Je=this._eventNameToPlugin.get(ye);if(Je)return Je;const mt=this._plugins;for(let an=0;an<mt.length;an++){const En=mt[an];if(En.supports(ye))return this._eventNameToPlugin.set(ye,En),En}throw new Error(`No event manager plugin found for event ${ye}`)}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(Qe),f.LFG(f.R0b))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class We{constructor(ke){this._doc=ke}addGlobalEventListener(ke,ye,Je){const mt=(0,_.q)().getGlobalEventTarget(this._doc,ke);if(!mt)throw new Error(`Unsupported event target ${mt} for event ${ye}`);return this.addEventListener(mt,ye,Je)}}let Ce=(()=>{class Ze{constructor(){this._stylesSet=new Set}addStyles(ye){const Je=new Set;ye.forEach(mt=>{this._stylesSet.has(mt)||(this._stylesSet.add(mt),Je.add(mt))}),this.onStylesAdded(Je)}onStylesAdded(ye){}getAllStyles(){return Array.from(this._stylesSet)}}return Ze.\u0275fac=function(ye){return new(ye||Ze)},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Et=(()=>{class Ze extends Ce{constructor(ye){super(),this._doc=ye,this._hostNodes=new Map,this._hostNodes.set(ye.head,[])}_addStylesToHost(ye,Je,mt){ye.forEach(an=>{const En=this._doc.createElement("style");En.textContent=an,mt.push(Je.appendChild(En))})}addHost(ye){const Je=[];this._addStylesToHost(this._stylesSet,ye,Je),this._hostNodes.set(ye,Je)}removeHost(ye){const Je=this._hostNodes.get(ye);Je&&Je.forEach(Pt),this._hostNodes.delete(ye)}onStylesAdded(ye){this._hostNodes.forEach((Je,mt)=>{this._addStylesToHost(ye,mt,Je)})}ngOnDestroy(){this._hostNodes.forEach(ye=>ye.forEach(Pt))}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(_.K0))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();function Pt(Ze){(0,_.q)().remove(Ze)}const Wt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Gt=/%COMP%/g;function Ge(Ze,ke,ye){for(let Je=0;Je<ke.length;Je++){let mt=ke[Je];Array.isArray(mt)?Ge(Ze,mt,ye):(mt=mt.replace(Gt,Ze),ye.push(mt))}return ye}function Ct(Ze){return ke=>{if("__ngUnwrap__"===ke)return Ze;!1===Ze(ke)&&(ke.preventDefault(),ke.returnValue=!1)}}let Dn=(()=>{class Ze{constructor(ye,Je,mt){this.eventManager=ye,this.sharedStylesHost=Je,this.appId=mt,this.rendererByCompId=new Map,this.defaultRenderer=new sr(ye)}createRenderer(ye,Je){if(!ye||!Je)return this.defaultRenderer;switch(Je.encapsulation){case f.ifc.Emulated:{let mt=this.rendererByCompId.get(Je.id);return mt||(mt=new Rt(this.eventManager,this.sharedStylesHost,Je,this.appId),this.rendererByCompId.set(Je.id,mt)),mt.applyToHost(ye),mt}case 1:case f.ifc.ShadowDom:return new $e(this.eventManager,this.sharedStylesHost,ye,Je);default:if(!this.rendererByCompId.has(Je.id)){const mt=Ge(Je.id,Je.styles,[]);this.sharedStylesHost.addStyles(mt),this.rendererByCompId.set(Je.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(Te),f.LFG(Et),f.LFG(f.AFp))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();class sr{constructor(ke){this.eventManager=ke,this.data=Object.create(null)}destroy(){}createElement(ke,ye){return ye?document.createElementNS(Wt[ye]||ye,ke):document.createElement(ke)}createComment(ke){return document.createComment(ke)}createText(ke){return document.createTextNode(ke)}appendChild(ke,ye){ke.appendChild(ye)}insertBefore(ke,ye,Je){ke&&ke.insertBefore(ye,Je)}removeChild(ke,ye){ke&&ke.removeChild(ye)}selectRootElement(ke,ye){let Je="string"==typeof ke?document.querySelector(ke):ke;if(!Je)throw new Error(`The selector "${ke}" did not match any elements`);return ye||(Je.textContent=""),Je}parentNode(ke){return ke.parentNode}nextSibling(ke){return ke.nextSibling}setAttribute(ke,ye,Je,mt){if(mt){ye=mt+":"+ye;const an=Wt[mt];an?ke.setAttributeNS(an,ye,Je):ke.setAttribute(ye,Je)}else ke.setAttribute(ye,Je)}removeAttribute(ke,ye,Je){if(Je){const mt=Wt[Je];mt?ke.removeAttributeNS(mt,ye):ke.removeAttribute(`${Je}:${ye}`)}else ke.removeAttribute(ye)}addClass(ke,ye){ke.classList.add(ye)}removeClass(ke,ye){ke.classList.remove(ye)}setStyle(ke,ye,Je,mt){mt&(f.JOm.DashCase|f.JOm.Important)?ke.style.setProperty(ye,Je,mt&f.JOm.Important?"important":""):ke.style[ye]=Je}removeStyle(ke,ye,Je){Je&f.JOm.DashCase?ke.style.removeProperty(ye):ke.style[ye]=""}setProperty(ke,ye,Je){ke[ye]=Je}setValue(ke,ye){ke.nodeValue=ye}listen(ke,ye,Je){return"string"==typeof ke?this.eventManager.addGlobalEventListener(ke,ye,Ct(Je)):this.eventManager.addEventListener(ke,ye,Ct(Je))}}class Rt extends sr{constructor(ke,ye,Je,mt){super(ke),this.component=Je;const an=Ge(mt+"-"+Je.id,Je.styles,[]);ye.addStyles(an),this.contentAttr="_ngcontent-%COMP%".replace(Gt,mt+"-"+Je.id),this.hostAttr="_nghost-%COMP%".replace(Gt,mt+"-"+Je.id)}applyToHost(ke){super.setAttribute(ke,this.hostAttr,"")}createElement(ke,ye){const Je=super.createElement(ke,ye);return super.setAttribute(Je,this.contentAttr,""),Je}}class $e extends sr{constructor(ke,ye,Je,mt){super(ke),this.sharedStylesHost=ye,this.hostEl=Je,this.shadowRoot=Je.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const an=Ge(mt.id,mt.styles,[]);for(let En=0;En<an.length;En++){const ar=document.createElement("style");ar.textContent=an[En],this.shadowRoot.appendChild(ar)}}nodeOrShadowRoot(ke){return ke===this.hostEl?this.shadowRoot:ke}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ke,ye){return super.appendChild(this.nodeOrShadowRoot(ke),ye)}insertBefore(ke,ye,Je){return super.insertBefore(this.nodeOrShadowRoot(ke),ye,Je)}removeChild(ke,ye){return super.removeChild(this.nodeOrShadowRoot(ke),ye)}parentNode(ke){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ke)))}}let at=(()=>{class Ze extends We{constructor(ye){super(ye)}supports(ye){return!0}addEventListener(ye,Je,mt){return ye.addEventListener(Je,mt,!1),()=>this.removeEventListener(ye,Je,mt)}removeEventListener(ye,Je,mt){return ye.removeEventListener(Je,mt)}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(_.K0))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})();const Qn=["alt","control","meta","shift"],wn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},jr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ei={alt:Ze=>Ze.altKey,control:Ze=>Ze.ctrlKey,meta:Ze=>Ze.metaKey,shift:Ze=>Ze.shiftKey};let we=(()=>{class Ze extends We{constructor(ye){super(ye)}supports(ye){return null!=Ze.parseEventName(ye)}addEventListener(ye,Je,mt){const an=Ze.parseEventName(Je),En=Ze.eventCallback(an.fullKey,mt,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,_.q)().onAndCancel(ye,an.domEventName,En))}static parseEventName(ye){const Je=ye.toLowerCase().split("."),mt=Je.shift();if(0===Je.length||"keydown"!==mt&&"keyup"!==mt)return null;const an=Ze._normalizeKey(Je.pop());let En="";if(Qn.forEach(In=>{const rs=Je.indexOf(In);rs>-1&&(Je.splice(rs,1),En+=In+".")}),En+=an,0!=Je.length||0===an.length)return null;const ar={};return ar.domEventName=mt,ar.fullKey=En,ar}static getEventFullKey(ye){let Je="",mt=function(Ze){let ke=Ze.key;if(null==ke){if(ke=Ze.keyIdentifier,null==ke)return"Unidentified";ke.startsWith("U+")&&(ke=String.fromCharCode(parseInt(ke.substring(2),16)),3===Ze.location&&jr.hasOwnProperty(ke)&&(ke=jr[ke]))}return wn[ke]||ke}(ye);return mt=mt.toLowerCase()," "===mt?mt="space":"."===mt&&(mt="dot"),Qn.forEach(an=>{an!=mt&&Ei[an](ye)&&(Je+=an+".")}),Je+=mt,Je}static eventCallback(ye,Je,mt){return an=>{Ze.getEventFullKey(an)===ye&&mt.runGuarded(()=>Je(an))}}static _normalizeKey(ye){switch(ye){case"esc":return"escape";default:return ye}}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(_.K0))},Ze.\u0275prov=f.Yz7({token:Ze,factory:Ze.\u0275fac}),Ze})(),Pe=(()=>{class Ze{}return Ze.\u0275fac=function(ye){return new(ye||Ze)},Ze.\u0275prov=(0,f.Yz7)({factory:function(){return(0,f.LFG)(Xe)},token:Ze,providedIn:"root"}),Ze})(),Xe=(()=>{class Ze extends Pe{constructor(ye){super(),this._doc=ye}sanitize(ye,Je){if(null==Je)return null;switch(ye){case f.q3G.NONE:return Je;case f.q3G.HTML:return(0,f.qzn)(Je,"HTML")?(0,f.z3N)(Je):(0,f.EiD)(this._doc,String(Je)).toString();case f.q3G.STYLE:return(0,f.qzn)(Je,"Style")?(0,f.z3N)(Je):Je;case f.q3G.SCRIPT:if((0,f.qzn)(Je,"Script"))return(0,f.z3N)(Je);throw new Error("unsafe value used in a script context");case f.q3G.URL:return(0,f.yhl)(Je),(0,f.qzn)(Je,"URL")?(0,f.z3N)(Je):(0,f.mCW)(String(Je));case f.q3G.RESOURCE_URL:if((0,f.qzn)(Je,"ResourceURL"))return(0,f.z3N)(Je);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ye} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ye){return(0,f.JVY)(ye)}bypassSecurityTrustStyle(ye){return(0,f.L6k)(ye)}bypassSecurityTrustScript(ye){return(0,f.eBb)(ye)}bypassSecurityTrustUrl(ye){return(0,f.LAX)(ye)}bypassSecurityTrustResourceUrl(ye){return(0,f.pB0)(ye)}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(_.K0))},Ze.\u0275prov=(0,f.Yz7)({factory:function(){return function(Ze){return new Xe(Ze.get(_.K0))}((0,f.LFG)(f.gxx))},token:Ze,providedIn:"root"}),Ze})();const $r=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:_.bD},{provide:f.g9A,useValue:function(){Ve.makeCurrent(),he.init()},multi:!0},{provide:_.K0,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),ji=[[],{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Qe,useClass:at,multi:!0,deps:[_.K0,f.R0b,f.Lbi]},{provide:Qe,useClass:we,multi:!0,deps:[_.K0]},[],{provide:Dn,useClass:Dn,deps:[Te,Et,f.AFp]},{provide:f.FYo,useExisting:Dn},{provide:Ce,useExisting:Et},{provide:Et,useClass:Et,deps:[_.K0]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Te,useClass:Te,deps:[Qe,f.R0b]},{provide:_.JF,useClass:De,deps:[]},[]];let bn=(()=>{class Ze{constructor(ye){if(ye)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(ye){return{ngModule:Ze,providers:[{provide:f.AFp,useValue:ye.appId},{provide:_e,useExisting:f.AFp},de]}}}return Ze.\u0275fac=function(ye){return new(ye||Ze)(f.LFG(Ze,12))},Ze.\u0275mod=f.oAB({type:Ze}),Ze.\u0275inj=f.cJS({providers:ji,imports:[_.ez,f.hGG]}),Ze})();"undefined"!=typeof window&&window},611:($t,et,Z)=>{"use strict";Z.d(et,{F0:()=>Yr,rH:()=>N,yS:()=>O,Bz:()=>cl,lC:()=>Tn});var _=Z(8583),f=Z(7716),te=Z(9765),Ve=Z(7971);class Me extends te.xQ{constructor(C){super(),this._value=C}get value(){return this.getValue()}_subscribe(C){const A=super._subscribe(C);return A&&!A.closed&&C.next(this._value),A}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ve.N;return this._value}next(C){super.next(this._value=C)}}var ve=Z(4869),He=Z(9796),pe=Z(7393);class _e extends pe.L{notifyNext(C,A,P,$,Q){this.destination.next(A)}notifyError(C,A){this.destination.error(C)}notifyComplete(C){this.destination.complete()}}class ne extends pe.L{constructor(C,A,P){super(),this.parent=C,this.outerValue=A,this.outerIndex=P,this.index=0}_next(C){this.parent.notifyNext(this.outerValue,C,this.outerIndex,this.index++,this)}_error(C){this.parent.notifyError(C,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var de=Z(7444),he=Z(7574);function De(T,C,A,P,$=new ne(T,A,P)){if(!$.closed)return C instanceof he.y?C.subscribe($):(0,de.s)(C)($)}var Fe=Z(6693);const Ye={};class yt{constructor(C){this.resultSelector=C}call(C,A){return A.subscribe(new me(C,this.resultSelector))}}class me extends _e{constructor(C,A){super(C),this.resultSelector=A,this.active=0,this.values=[],this.observables=[]}_next(C){this.values.push(Ye),this.observables.push(C)}_complete(){const C=this.observables,A=C.length;if(0===A)this.destination.complete();else{this.active=A,this.toRespond=A;for(let P=0;P<A;P++)this.add(De(this,C[P],void 0,P))}}notifyComplete(C){0==(this.active-=1)&&this.destination.complete()}notifyNext(C,A,P){const $=this.values,fe=this.toRespond?$[P]===Ye?--this.toRespond:this.toRespond:0;$[P]=A,0===fe&&(this.resultSelector?this._tryResultSelector($):this.destination.next($.slice()))}_tryResultSelector(C){let A;try{A=this.resultSelector.apply(this,C)}catch(P){return void this.destination.error(P)}this.destination.next(A)}}var ft=Z(4402),wt=Z(9193);function ct(T){return new he.y(C=>{let A;try{A=T()}catch($){return void C.error($)}return(A?(0,ft.D)(A):(0,wt.c)()).subscribe(C)})}var Se=Z(5917),St=Z(3410),jt=Z(8071),Jt=Z(2441),st=Z(9773);function Le(T,C){return(0,st.zg)(T,C,1)}var tt=Z(5435),Qe=Z(7108);function Te(T){return function(A){return 0===T?(0,wt.c)():A.lift(new We(T))}}class We{constructor(C){if(this.total=C,this.total<0)throw new Qe.W}call(C,A){return A.subscribe(new Ce(C,this.total))}}class Ce extends pe.L{constructor(C,A){super(C),this.total=A,this.ring=new Array,this.count=0}_next(C){const A=this.ring,P=this.total,$=this.count++;A.length<P?A.push(C):A[$%P]=C}_complete(){const C=this.destination;let A=this.count;if(A>0){const P=this.count>=this.total?this.total:this.count,$=this.ring;for(let Q=0;Q<P;Q++){const fe=A++%P;C.next($[fe])}}C.complete()}}var Et=Z(4635),Pt=Z(5242),Wt=Z(4487),Ft=Z(5319);class Rn{constructor(C){this.callback=C}call(C,A){return A.subscribe(new ht(C,this.callback))}}class ht extends pe.L{constructor(C,A){super(C),this.add(new Ft.w(A))}}var ut=Z(8002),Re=Z(3190),Ge=Z(5257),Ct=Z(9761),Ut=Z(2145),Dn=Z(5304),sr=Z(8049),mn=Z(8307),Yn=Z(1307),kn=Z(3282);class Rt{constructor(C,A){this.id=C,this.url=A}}class $e extends Rt{constructor(C,A,P="imperative",$=null){super(C,A),this.navigationTrigger=P,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class at extends Rt{constructor(C,A,P){super(C,A),this.urlAfterRedirects=P}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class lt extends Rt{constructor(C,A,P){super(C,A),this.reason=P}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xt extends Rt{constructor(C,A,P){super(C,A),this.error=P}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nn extends Rt{constructor(C,A,P,$){super(C,A),this.urlAfterRedirects=P,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _n extends Rt{constructor(C,A,P,$){super(C,A),this.urlAfterRedirects=P,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class on extends Rt{constructor(C,A,P,$,Q){super(C,A),this.urlAfterRedirects=P,this.state=$,this.shouldActivate=Q}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qt extends Rt{constructor(C,A,P,$){super(C,A),this.urlAfterRedirects=P,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends Rt{constructor(C,A,P,$){super(C,A),this.urlAfterRedirects=P,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dr{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qn{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kt{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wn{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jr{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class di{constructor(C,A,P){this.routerEvent=C,this.position=A,this.anchor=P}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Sn="primary";class ur{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const A=this.params[C];return Array.isArray(A)?A[0]:A}return null}getAll(C){if(this.has(C)){const A=this.params[C];return Array.isArray(A)?A:[A]}return[]}get keys(){return Object.keys(this.params)}}function Hr(T){return new ur(T)}const Ei="ngNavigationCancelingError";function we(T){const C=Error("NavigationCancelingError: "+T);return C[Ei]=!0,C}function Pe(T,C,A){const P=A.path.split("/");if(P.length>T.length||"full"===A.pathMatch&&(C.hasChildren()||P.length<T.length))return null;const $={};for(let Q=0;Q<P.length;Q++){const fe=P[Q],Ie=T[Q];if(fe.startsWith(":"))$[fe.substring(1)]=Ie;else if(fe!==Ie.path)return null}return{consumed:T.slice(0,P.length),posParams:$}}function Xe(T,C){const A=T?Object.keys(T):void 0,P=C?Object.keys(C):void 0;if(!A||!P||A.length!=P.length)return!1;let $;for(let Q=0;Q<A.length;Q++)if($=A[Q],!Lt(T[$],C[$]))return!1;return!0}function Lt(T,C){if(Array.isArray(T)&&Array.isArray(C)){if(T.length!==C.length)return!1;const A=[...T].sort(),P=[...C].sort();return A.every(($,Q)=>P[Q]===$)}return T===C}function cn(T){return Array.prototype.concat.apply([],T)}function Ln(T){return T.length>0?T[T.length-1]:null}function Un(T,C){for(const A in T)T.hasOwnProperty(A)&&C(T[A],A)}function On(T){return(0,f.CqO)(T)?T:(0,f.QGY)(T)?(0,ft.D)(Promise.resolve(T)):(0,Se.of)(T)}const kr={exact:function Ci(T,C,A){if(!qn(T.segments,C.segments)||!gr(T.segments,C.segments,A)||T.numberOfChildren!==C.numberOfChildren)return!1;for(const P in C.children)if(!T.children[P]||!Ci(T.children[P],C.children[P],A))return!1;return!0},subset:ei},$r={exact:function(T,C){return Xe(T,C)},subset:function(T,C){return Object.keys(C).length<=Object.keys(T).length&&Object.keys(C).every(A=>Lt(T[A],C[A]))},ignored:()=>!0};function ji(T,C,A){return kr[A.paths](T.root,C.root,A.matrixParams)&&$r[A.queryParams](T.queryParams,C.queryParams)&&!("exact"===A.fragment&&T.fragment!==C.fragment)}function ei(T,C,A){return Hi(T,C,C.segments,A)}function Hi(T,C,A,P){if(T.segments.length>A.length){const $=T.segments.slice(0,A.length);return!(!qn($,A)||C.hasChildren()||!gr($,A,P))}if(T.segments.length===A.length){if(!qn(T.segments,A)||!gr(T.segments,A,P))return!1;for(const $ in C.children)if(!T.children[$]||!ei(T.children[$],C.children[$],P))return!1;return!0}{const $=A.slice(0,T.segments.length),Q=A.slice(T.segments.length);return!!(qn(T.segments,$)&&gr(T.segments,$,P)&&T.children[Sn])&&Hi(T.children[Sn],C,Q,P)}}function gr(T,C,A){return C.every((P,$)=>$r[A](T[$].parameters,P.parameters))}class Nn{constructor(C,A,P){this.root=C,this.queryParams=A,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return Vr.serialize(this)}}class en{constructor(C,A){this.segments=C,this.children=A,this.parent=null,Un(A,(P,$)=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return or(this)}}class _r{constructor(C,A){this.path=C,this.parameters=A}get parameterMap(){return this._parameterMap||(this._parameterMap=Hr(this.parameters)),this._parameterMap}toString(){return ke(this)}}function qn(T,C){return T.length===C.length&&T.every((A,P)=>A.path===C[P].path)}class xn{}class pr{parse(C){const A=new Vs(C);return new Nn(A.parseRootSegment(),A.parseQueryParams(),A.parseFragment())}serialize(C){var T;return`${`/${tr(C.root,!0)}`}${function(T){const C=Object.keys(T).map(A=>{const P=T[A];return Array.isArray(P)?P.map($=>`${Fn(A)}=${Fn($)}`).join("&"):`${Fn(A)}=${Fn(P)}`}).filter(A=>!!A);return C.length?`?${C.join("&")}`:""}(C.queryParams)}${"string"==typeof C.fragment?`#${T=C.fragment,encodeURI(T)}`:""}`}}const Vr=new pr;function or(T){return T.segments.map(C=>ke(C)).join("/")}function tr(T,C){if(!T.hasChildren())return or(T);if(C){const A=T.children[Sn]?tr(T.children[Sn],!1):"",P=[];return Un(T.children,($,Q)=>{Q!==Sn&&P.push(`${Q}:${tr($,!1)}`)}),P.length>0?`${A}(${P.join("//")})`:A}{const A=function(T,C){let A=[];return Un(T.children,(P,$)=>{$===Sn&&(A=A.concat(C(P,$)))}),Un(T.children,(P,$)=>{$!==Sn&&(A=A.concat(C(P,$)))}),A}(T,(P,$)=>$===Sn?[tr(T.children[Sn],!1)]:[`${$}:${tr(P,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Sn]?`${or(T)}/${A[0]}`:`${or(T)}/(${A.join("//")})`}}function Fr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fn(T){return Fr(T).replace(/%3B/gi,";")}function Er(T){return Fr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(T){return decodeURIComponent(T)}function Ze(T){return ln(T.replace(/\+/g,"%20"))}function ke(T){return`${Er(T.path)}${function(T){return Object.keys(T).map(C=>`;${Er(C)}=${Er(T[C])}`).join("")}(T.parameters)}`}const mt=/^[^\/()?;=#]+/;function an(T){const C=T.match(mt);return C?C[0]:""}const En=/^[^=?&#]+/,In=/^[^?&#]+/;class Vs{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let A={};this.peekStartsWith("/(")&&(this.capture("/"),A=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(C.length>0||Object.keys(A).length>0)&&(P[Sn]=new en(C,A)),P}parseSegment(){const C=an(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new _r(ln(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const A=an(this.remaining);if(!A)return;this.capture(A);let P="";if(this.consumeOptional("=")){const $=an(this.remaining);$&&(P=$,this.capture(P))}C[ln(A)]=ln(P)}parseQueryParam(C){const A=function(T){const C=T.match(En);return C?C[0]:""}(this.remaining);if(!A)return;this.capture(A);let P="";if(this.consumeOptional("=")){const fe=function(T){const C=T.match(In);return C?C[0]:""}(this.remaining);fe&&(P=fe,this.capture(P))}const $=Ze(A),Q=Ze(P);if(C.hasOwnProperty($)){let fe=C[$];Array.isArray(fe)||(fe=[fe],C[$]=fe),fe.push(Q)}else C[$]=Q}parseParens(C){const A={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=an(this.remaining),$=this.remaining[P.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let Q;P.indexOf(":")>-1?(Q=P.substr(0,P.indexOf(":")),this.capture(Q),this.capture(":")):C&&(Q=Sn);const fe=this.parseChildren();A[Q]=1===Object.keys(fe).length?fe[Sn]:new en([],fe),this.consumeOptional("//")}return A}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class Ur{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const A=this.pathFromRoot(C);return A.length>1?A[A.length-2]:null}children(C){const A=Ar(C,this._root);return A?A.children.map(P=>P.value):[]}firstChild(C){const A=Ar(C,this._root);return A&&A.children.length>0?A.children[0].value:null}siblings(C){const A=oi(C,this._root);return A.length<2?[]:A[A.length-2].children.map($=>$.value).filter($=>$!==C)}pathFromRoot(C){return oi(C,this._root).map(A=>A.value)}}function Ar(T,C){if(T===C.value)return C;for(const A of C.children){const P=Ar(T,A);if(P)return P}return null}function oi(T,C){if(T===C.value)return[C];for(const A of C.children){const P=oi(T,A);if(P.length)return P.unshift(C),P}return[]}class Zr{constructor(C,A){this.value=C,this.children=A}toString(){return`TreeNode(${this.value})`}}function hn(T){const C={};return T&&T.children.forEach(A=>C[A.value.outlet]=A),C}class Ir extends Ur{constructor(C,A){super(C),this.snapshot=A,Hn(this,C)}toString(){return this.snapshot.toString()}}function Ts(T,C){const A=function(T,C){const fe=new ti([],{},{},"",{},Sn,C,null,T.root,-1,{});return new xr("",new Zr(fe,[]))}(T,C),P=new Me([new _r("",{})]),$=new Me({}),Q=new Me({}),fe=new Me({}),Ie=new Me(""),dt=new lr(P,$,fe,Ie,Q,Sn,C,A.root);return dt.snapshot=A.root,new Ir(new Zr(dt,[]),A)}class lr{constructor(C,A,P,$,Q,fe,Ie,dt){this.url=C,this.params=A,this.queryParams=P,this.fragment=$,this.data=Q,this.outlet=fe,this.component=Ie,this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ut.U)(C=>Hr(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ut.U)(C=>Hr(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hi(T,C="emptyOnly"){const A=T.pathFromRoot;let P=0;if("always"!==C)for(P=A.length-1;P>=1;){const $=A[P],Q=A[P-1];if($.routeConfig&&""===$.routeConfig.path)P--;else{if(Q.component)break;P--}}return function(T){return T.reduce((C,A)=>({params:Object.assign(Object.assign({},C.params),A.params),data:Object.assign(Object.assign({},C.data),A.data),resolve:Object.assign(Object.assign({},C.resolve),A._resolvedData)}),{params:{},data:{},resolve:{}})}(A.slice(P))}class ti{constructor(C,A,P,$,Q,fe,Ie,dt,Nt,Mn,dn){this.url=C,this.params=A,this.queryParams=P,this.fragment=$,this.data=Q,this.outlet=fe,this.component=Ie,this.routeConfig=dt,this._urlSegment=Nt,this._lastPathIndex=Mn,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class xr extends Ur{constructor(C,A){super(A),this.url=C,Hn(this,A)}toString(){return cs(this._root)}}function Hn(T,C){C.value._routerState=T,C.children.forEach(A=>Hn(T,A))}function cs(T){const C=T.children.length>0?` { ${T.children.map(cs).join(", ")} } `:"";return`${T.value}${C}`}function ci(T){if(T.snapshot){const C=T.snapshot,A=T._futureSnapshot;T.snapshot=A,Xe(C.queryParams,A.queryParams)||T.queryParams.next(A.queryParams),C.fragment!==A.fragment&&T.fragment.next(A.fragment),Xe(C.params,A.params)||T.params.next(A.params),function(T,C){if(T.length!==C.length)return!1;for(let A=0;A<T.length;++A)if(!Xe(T[A],C[A]))return!1;return!0}(C.url,A.url)||T.url.next(A.url),Xe(C.data,A.data)||T.data.next(A.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function Ai(T,C){return Xe(T.params,C.params)&&function(T,C){return qn(T,C)&&T.every((A,P)=>Xe(A.parameters,C[P].parameters))}(T.url,C.url)&&!(!T.parent!=!C.parent)&&(!T.parent||Ai(T.parent,C.parent))}function Ds(T,C,A){if(A&&T.shouldReuseRoute(C.value,A.value.snapshot)){const P=A.value;P._futureSnapshot=C.value;const $=function(T,C,A){return C.children.map(P=>{for(const $ of A.children)if(T.shouldReuseRoute(P.value,$.value.snapshot))return Ds(T,P,$);return Ds(T,P)})}(T,C,A);return new Zr(P,$)}{if(T.shouldAttach(C.value)){const Q=T.retrieve(C.value);if(null!==Q){const fe=Q.route;return Pi(C,fe),fe}}const P=function(T){return new lr(new Me(T.url),new Me(T.params),new Me(T.queryParams),new Me(T.fragment),new Me(T.data),T.outlet,T.component,T)}(C.value),$=C.children.map(Q=>Ds(T,Q));return new Zr(P,$)}}function Pi(T,C){if(T.value.routeConfig!==C.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(T.children.length!==C.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");C.value._futureSnapshot=T.value;for(let A=0;A<T.children.length;++A)Pi(T.children[A],C.children[A])}function ki(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Yi(T){return"object"==typeof T&&null!=T&&T.outlets}function hs(T,C,A,P,$){let Q={};return P&&Un(P,(fe,Ie)=>{Q[Ie]=Array.isArray(fe)?fe.map(dt=>`${dt}`):`${fe}`}),new Nn(A.root===T?C:$i(A.root,T,C),Q,$)}function $i(T,C,A){const P={};return Un(T.children,($,Q)=>{P[Q]=$===C?A:$i($,C,A)}),new en(T.segments,P)}class oo{constructor(C,A,P){if(this.isAbsolute=C,this.numberOfDoubleDots=A,this.commands=P,C&&P.length>0&&ki(P[0]))throw new Error("Root segment cannot have matrix parameters");const $=P.find(Yi);if($&&$!==Ln(P))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fi{constructor(C,A,P){this.segmentGroup=C,this.processChildren=A,this.index=P}}function ai(T,C,A){if(T||(T=new en([],{})),0===T.segments.length&&T.hasChildren())return ni(T,C,A);const P=function(T,C,A){let P=0,$=C;const Q={match:!1,pathIndex:0,commandIndex:0};for(;$<T.segments.length;){if(P>=A.length)return Q;const fe=T.segments[$],Ie=A[P];if(Yi(Ie))break;const dt=`${Ie}`,Nt=P<A.length-1?A[P+1]:null;if($>0&&void 0===dt)break;if(dt&&Nt&&"object"==typeof Nt&&void 0===Nt.outlets){if(!Fi(dt,Nt,fe))return Q;P+=2}else{if(!Fi(dt,{},fe))return Q;P++}$++}return{match:!0,pathIndex:$,commandIndex:P}}(T,C,A),$=A.slice(P.commandIndex);if(P.match&&P.pathIndex<T.segments.length){const Q=new en(T.segments.slice(0,P.pathIndex),{});return Q.children[Sn]=new en(T.segments.slice(P.pathIndex),T.children),ni(Q,0,$)}return P.match&&0===$.length?new en(T.segments,{}):P.match&&!T.hasChildren()?Ii(T,C,A):P.match?ni(T,0,$):Ii(T,C,A)}function ni(T,C,A){if(0===A.length)return new en(T.segments,{});{const P=function(T){return Yi(T[0])?T[0].outlets:{[Sn]:T}}(A),$={};return Un(P,(Q,fe)=>{"string"==typeof Q&&(Q=[Q]),null!==Q&&($[fe]=ai(T.children[fe],C,Q))}),Un(T.children,(Q,fe)=>{void 0===P[fe]&&($[fe]=Q)}),new en(T.segments,$)}}function Ii(T,C,A){const P=T.segments.slice(0,C);let $=0;for(;$<A.length;){const Q=A[$];if(Yi(Q)){const dt=xs(Q.outlets);return new en(P,dt)}if(0===$&&ki(A[0])){P.push(new _r(T.segments[C].path,Rs(A[0]))),$++;continue}const fe=Yi(Q)?Q.outlets[Sn]:`${Q}`,Ie=$<A.length-1?A[$+1]:null;fe&&Ie&&ki(Ie)?(P.push(new _r(fe,Rs(Ie))),$+=2):(P.push(new _r(fe,{})),$++)}return new en(P,{})}function xs(T){const C={};return Un(T,(A,P)=>{"string"==typeof A&&(A=[A]),null!==A&&(C[P]=Ii(new en([],{}),0,A))}),C}function Rs(T){const C={};return Un(T,(A,P)=>C[P]=`${A}`),C}function Fi(T,C,A){return T==A.path&&Xe(C,A.parameters)}class go{constructor(C,A,P,$){this.routeReuseStrategy=C,this.futureState=A,this.currState=P,this.forwardEvent=$}activate(C){const A=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(A,P,C),ci(this.futureState.root),this.activateChildRoutes(A,P,C)}deactivateChildRoutes(C,A,P){const $=hn(A);C.children.forEach(Q=>{const fe=Q.value.outlet;this.deactivateRoutes(Q,$[fe],P),delete $[fe]}),Un($,(Q,fe)=>{this.deactivateRouteAndItsChildren(Q,P)})}deactivateRoutes(C,A,P){const $=C.value,Q=A?A.value:null;if($===Q)if($.component){const fe=P.getContext($.outlet);fe&&this.deactivateChildRoutes(C,A,fe.children)}else this.deactivateChildRoutes(C,A,P);else Q&&this.deactivateRouteAndItsChildren(A,P)}deactivateRouteAndItsChildren(C,A){this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,A):this.deactivateRouteAndOutlet(C,A)}detachAndStoreRouteSubtree(C,A){const P=A.getContext(C.value.outlet);if(P&&P.outlet){const $=P.outlet.detach(),Q=P.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:$,route:C,contexts:Q})}}deactivateRouteAndOutlet(C,A){const P=A.getContext(C.value.outlet),$=P&&C.value.component?P.children:A,Q=hn(C);for(const fe of Object.keys(Q))this.deactivateRouteAndItsChildren(Q[fe],$);P&&P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated(),P.attachRef=null,P.resolver=null,P.route=null)}activateChildRoutes(C,A,P){const $=hn(A);C.children.forEach(Q=>{this.activateRoutes(Q,$[Q.value.outlet],P),this.forwardEvent(new jr(Q.value.snapshot))}),C.children.length&&this.forwardEvent(new kt(C.value.snapshot))}activateRoutes(C,A,P){const $=C.value,Q=A?A.value:null;if(ci($),$===Q)if($.component){const fe=P.getOrCreateContext($.outlet);this.activateChildRoutes(C,A,fe.children)}else this.activateChildRoutes(C,A,P);else if($.component){const fe=P.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Ie=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),fe.children.onOutletReAttached(Ie.contexts),fe.attachRef=Ie.componentRef,fe.route=Ie.route.value,fe.outlet&&fe.outlet.attach(Ie.componentRef,Ie.route.value),Qi(Ie.route)}else{const Ie=function(T){for(let C=T.parent;C;C=C.parent){const A=C.routeConfig;if(A&&A._loadedConfig)return A._loadedConfig;if(A&&A.component)return null}return null}($.snapshot),dt=Ie?Ie.module.componentFactoryResolver:null;fe.attachRef=null,fe.route=$,fe.resolver=dt,fe.outlet&&fe.outlet.activateWith($,dt),this.activateChildRoutes(C,null,fe.children)}}else this.activateChildRoutes(C,null,P)}}function Qi(T){ci(T.value),T.children.forEach(Qi)}class Ti{constructor(C,A){this.routes=C,this.module=A}}function Tr(T){return"function"==typeof T}function Rr(T){return T instanceof Nn}const ms=Symbol("INITIAL_VALUE");function Os(){return(0,Re.w)(T=>function(...T){let C,A;return(0,ve.K)(T[T.length-1])&&(A=T.pop()),"function"==typeof T[T.length-1]&&(C=T.pop()),1===T.length&&(0,He.k)(T[0])&&(T=T[0]),(0,Fe.n)(T,A).lift(new yt(C))}(T.map(C=>C.pipe((0,Ge.q)(1),(0,Ct.O)(ms)))).pipe((0,Ut.R)((C,A)=>{let P=!1;return A.reduce(($,Q,fe)=>$!==ms?$:(Q===ms&&(P=!0),P||!1!==Q&&fe!==A.length-1&&!Rr(Q)?$:Q),C)},ms),(0,tt.h)(C=>C!==ms),(0,ut.U)(C=>Rr(C)?C:!0===C),(0,Ge.q)(1)))}let U=(()=>{class T{}return T.\u0275fac=function(A){return new(A||T)},T.\u0275cmp=f.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(A,P){1&A&&f._UZ(0,"router-outlet")},directives:function(){return[Tn]},encapsulation:2}),T})();function ee(T,C=""){for(let A=0;A<T.length;A++){const P=T[A];H(P,re(C,P))}}function H(T,C){T.children&&ee(T.children,C)}function re(T,C){return C?T||C.path?T&&!C.path?`${T}/`:!T&&C.path?C.path:`${T}/${C.path}`:"":T}function be(T){const C=T.children&&T.children.map(be),A=C?Object.assign(Object.assign({},T),{children:C}):Object.assign({},T);return!A.component&&(C||A.loadChildren)&&A.outlet&&A.outlet!==Sn&&(A.component=U),A}function it(T){return T.outlet||Sn}function It(T,C){const A=T.filter(P=>it(P)===C);return A.push(...T.filter(P=>it(P)!==C)),A}const V={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function k(T,C,A){var P;if(""===C.path)return"full"===C.pathMatch&&(T.hasChildren()||A.length>0)?Object.assign({},V):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const Q=(C.matcher||Pe)(A,T,C);if(!Q)return Object.assign({},V);const fe={};Un(Q.posParams,(dt,Nt)=>{fe[Nt]=dt.path});const Ie=Q.consumed.length>0?Object.assign(Object.assign({},fe),Q.consumed[Q.consumed.length-1].parameters):fe;return{matched:!0,consumedSegments:Q.consumed,lastChild:Q.consumed.length,parameters:Ie,positionalParamSegments:null!==(P=Q.posParams)&&void 0!==P?P:{}}}function M(T,C,A,P,$="corrected"){if(A.length>0&&function(T,C,A){return A.some(P=>Jn(T,C,P)&&it(P)!==Sn)}(T,A,P)){const fe=new en(C,function(T,C,A,P){const $={};$[Sn]=P,P._sourceSegment=T,P._segmentIndexShift=C.length;for(const Q of A)if(""===Q.path&&it(Q)!==Sn){const fe=new en([],{});fe._sourceSegment=T,fe._segmentIndexShift=C.length,$[it(Q)]=fe}return $}(T,C,P,new en(A,T.children)));return fe._sourceSegment=T,fe._segmentIndexShift=C.length,{segmentGroup:fe,slicedSegments:[]}}if(0===A.length&&function(T,C,A){return A.some(P=>Jn(T,C,P))}(T,A,P)){const fe=new en(T.segments,function(T,C,A,P,$,Q){const fe={};for(const Ie of P)if(Jn(T,A,Ie)&&!$[it(Ie)]){const dt=new en([],{});dt._sourceSegment=T,dt._segmentIndexShift="legacy"===Q?T.segments.length:C.length,fe[it(Ie)]=dt}return Object.assign(Object.assign({},$),fe)}(T,C,A,P,T.children,$));return fe._sourceSegment=T,fe._segmentIndexShift=C.length,{segmentGroup:fe,slicedSegments:A}}const Q=new en(T.segments,T.children);return Q._sourceSegment=T,Q._segmentIndexShift=C.length,{segmentGroup:Q,slicedSegments:A}}function Jn(T,C,A){return(!(T.hasChildren()||C.length>0)||"full"!==A.pathMatch)&&""===A.path}function gi(T,C,A,P){return!!(it(T)===P||P!==Sn&&Jn(C,A,T))&&("**"===T.path||k(C,T,A).matched)}function Mr(T,C,A){return 0===C.length&&!T.children[A]}class ri{constructor(C){this.segmentGroup=C||null}}class Li{constructor(C){this.urlTree=C}}function An(T){return new he.y(C=>C.error(new ri(T)))}function ao(T){return new he.y(C=>C.error(new Li(T)))}function Ys(T){return new he.y(C=>C.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${T}'`)))}class _s{constructor(C,A,P,$,Q){this.configLoader=A,this.urlSerializer=P,this.urlTree=$,this.config=Q,this.allowRedirects=!0,this.ngModule=C.get(f.h0i)}apply(){const C=M(this.urlTree.root,[],[],this.config).segmentGroup,A=new en(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,A,Sn).pipe((0,ut.U)(Q=>this.createUrlTree(vs(Q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Dn.K)(Q=>{if(Q instanceof Li)return this.allowRedirects=!1,this.match(Q.urlTree);throw Q instanceof ri?this.noMatchError(Q):Q}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,Sn).pipe((0,ut.U)($=>this.createUrlTree(vs($),C.queryParams,C.fragment))).pipe((0,Dn.K)($=>{throw $ instanceof ri?this.noMatchError($):$}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,A,P){const $=C.segments.length>0?new en([],{[Sn]:C}):C;return new Nn($,A,P)}expandSegmentGroup(C,A,P,$){return 0===P.segments.length&&P.hasChildren()?this.expandChildren(C,A,P).pipe((0,ut.U)(Q=>new en([],Q))):this.expandSegment(C,P,A,P.segments,$,!0)}expandChildren(C,A,P){const $=[];for(const Q of Object.keys(P.children))"primary"===Q?$.unshift(Q):$.push(Q);return(0,ft.D)($).pipe(Le(Q=>{const fe=P.children[Q],Ie=It(A,Q);return this.expandSegmentGroup(C,Ie,fe,Q).pipe((0,ut.U)(dt=>({segment:dt,outlet:Q})))}),(0,Ut.R)((Q,fe)=>(Q[fe.outlet]=fe.segment,Q),{}),function(T,C){const A=arguments.length>=2;return P=>P.pipe(T?(0,tt.h)(($,Q)=>T($,Q,P)):Wt.y,Te(1),A?(0,Pt.d)(C):(0,Et.T)(()=>new St.K))}())}expandSegment(C,A,P,$,Q,fe){return(0,ft.D)(P).pipe(Le(Ie=>this.expandSegmentAgainstRoute(C,A,P,Ie,$,Q,fe).pipe((0,Dn.K)(Nt=>{if(Nt instanceof ri)return(0,Se.of)(null);throw Nt}))),(0,sr.P)(Ie=>!!Ie),(0,Dn.K)((Ie,dt)=>{if(Ie instanceof St.K||"EmptyError"===Ie.name){if(Mr(A,$,Q))return(0,Se.of)(new en([],{}));throw new ri(A)}throw Ie}))}expandSegmentAgainstRoute(C,A,P,$,Q,fe,Ie){return gi($,A,Q,fe)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(C,A,$,Q,fe):Ie&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,A,P,$,Q,fe):An(A):An(A)}expandSegmentAgainstRouteUsingRedirect(C,A,P,$,Q,fe){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,P,$,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(C,A,P,$,Q,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,A,P,$){const Q=this.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?ao(Q):this.lineralizeSegments(P,Q).pipe((0,st.zg)(fe=>{const Ie=new en(fe,{});return this.expandSegment(C,Ie,A,fe,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,A,P,$,Q,fe){const{matched:Ie,consumedSegments:dt,lastChild:Nt,positionalParamSegments:Mn}=k(A,$,Q);if(!Ie)return An(A);const dn=this.applyRedirectCommands(dt,$.redirectTo,Mn);return $.redirectTo.startsWith("/")?ao(dn):this.lineralizeSegments($,dn).pipe((0,st.zg)(zt=>this.expandSegment(C,A,P,zt.concat(Q.slice(Nt)),fe,!1)))}matchSegmentAgainstRoute(C,A,P,$,Q){if("**"===P.path)return P.loadChildren?(P._loadedConfig?(0,Se.of)(P._loadedConfig):this.configLoader.load(C.injector,P)).pipe((0,ut.U)(zt=>(P._loadedConfig=zt,new en($,{})))):(0,Se.of)(new en($,{}));const{matched:fe,consumedSegments:Ie,lastChild:dt}=k(A,P,$);if(!fe)return An(A);const Nt=$.slice(dt);return this.getChildConfig(C,P,$).pipe((0,st.zg)(dn=>{const zt=dn.module,yn=dn.routes,{segmentGroup:si,slicedSegments:fr}=M(A,Ie,Nt,yn),sn=new en(si.segments,si.children);if(0===fr.length&&sn.hasChildren())return this.expandChildren(zt,yn,sn).pipe((0,ut.U)(Es=>new en(Ie,Es)));if(0===yn.length&&0===fr.length)return(0,Se.of)(new en(Ie,{}));const Io=it(P)===Q;return this.expandSegment(zt,sn,yn,fr,Io?Sn:Q,!0).pipe((0,ut.U)(qi=>new en(Ie.concat(qi.segments),qi.children)))}))}getChildConfig(C,A,P){return A.children?(0,Se.of)(new Ti(A.children,C)):A.loadChildren?void 0!==A._loadedConfig?(0,Se.of)(A._loadedConfig):this.runCanLoadGuards(C.injector,A,P).pipe((0,st.zg)($=>{return $?this.configLoader.load(C.injector,A).pipe((0,ut.U)(Q=>(A._loadedConfig=Q,Q))):(T=A,new he.y(C=>C.error(we(`Cannot load children because the guard of the route "path: '${T.path}'" returned false`))));var T})):(0,Se.of)(new Ti([],C))}runCanLoadGuards(C,A,P){const $=A.canLoad;if(!$||0===$.length)return(0,Se.of)(!0);const Q=$.map(fe=>{const Ie=C.get(fe);let dt;if((T=Ie)&&Tr(T.canLoad))dt=Ie.canLoad(A,P);else{if(!Tr(Ie))throw new Error("Invalid CanLoad guard");dt=Ie(A,P)}var T;return On(dt)});return(0,Se.of)(Q).pipe(Os(),(0,mn.b)(fe=>{if(!Rr(fe))return;const Ie=we(`Redirecting to "${this.urlSerializer.serialize(fe)}"`);throw Ie.url=fe,Ie}),(0,ut.U)(fe=>!0===fe))}lineralizeSegments(C,A){let P=[],$=A.root;for(;;){if(P=P.concat($.segments),0===$.numberOfChildren)return(0,Se.of)(P);if($.numberOfChildren>1||!$.children[Sn])return Ys(C.redirectTo);$=$.children[Sn]}}applyRedirectCommands(C,A,P){return this.applyRedirectCreatreUrlTree(A,this.urlSerializer.parse(A),C,P)}applyRedirectCreatreUrlTree(C,A,P,$){const Q=this.createSegmentGroup(C,A.root,P,$);return new Nn(Q,this.createQueryParams(A.queryParams,this.urlTree.queryParams),A.fragment)}createQueryParams(C,A){const P={};return Un(C,($,Q)=>{if("string"==typeof $&&$.startsWith(":")){const Ie=$.substring(1);P[Q]=A[Ie]}else P[Q]=$}),P}createSegmentGroup(C,A,P,$){const Q=this.createSegments(C,A.segments,P,$);let fe={};return Un(A.children,(Ie,dt)=>{fe[dt]=this.createSegmentGroup(C,Ie,P,$)}),new en(Q,fe)}createSegments(C,A,P,$){return A.map(Q=>Q.path.startsWith(":")?this.findPosParam(C,Q,$):this.findOrReturn(Q,P))}findPosParam(C,A,P){const $=P[A.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${C}'. Cannot find '${A.path}'.`);return $}findOrReturn(C,A){let P=0;for(const $ of A){if($.path===C.path)return A.splice(P),$;P++}return C}}function vs(T){const C={};for(const P of Object.keys(T.children)){const Q=vs(T.children[P]);(Q.segments.length>0||Q.hasChildren())&&(C[P]=Q)}return function(T){if(1===T.numberOfChildren&&T.children[Sn]){const C=T.children[Sn];return new en(T.segments.concat(C.segments),C.children)}return T}(new en(T.segments,C))}class nr{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class lo{constructor(C,A){this.component=C,this.route=A}}function ii(T,C,A){const P=T._root;return Bs(P,C?C._root:null,A,[P.value])}function Xi(T,C,A){const P=function(T){if(!T)return null;for(let C=T.parent;C;C=C.parent){const A=C.routeConfig;if(A&&A._loadedConfig)return A._loadedConfig}return null}(C);return(P?P.module.injector:A).get(T)}function Bs(T,C,A,P,$={canDeactivateChecks:[],canActivateChecks:[]}){const Q=hn(C);return T.children.forEach(fe=>{(function(T,C,A,P,$={canDeactivateChecks:[],canActivateChecks:[]}){const Q=T.value,fe=C?C.value:null,Ie=A?A.getContext(T.value.outlet):null;if(fe&&Q.routeConfig===fe.routeConfig){const dt=function(T,C,A){if("function"==typeof A)return A(T,C);switch(A){case"pathParamsChange":return!qn(T.url,C.url);case"pathParamsOrQueryParamsChange":return!qn(T.url,C.url)||!Xe(T.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ai(T,C)||!Xe(T.queryParams,C.queryParams);case"paramsChange":default:return!Ai(T,C)}}(fe,Q,Q.routeConfig.runGuardsAndResolvers);dt?$.canActivateChecks.push(new nr(P)):(Q.data=fe.data,Q._resolvedData=fe._resolvedData),Bs(T,C,Q.component?Ie?Ie.children:null:A,P,$),dt&&Ie&&Ie.outlet&&Ie.outlet.isActivated&&$.canDeactivateChecks.push(new lo(Ie.outlet.component,fe))}else fe&&js(C,Ie,$),$.canActivateChecks.push(new nr(P)),Bs(T,null,Q.component?Ie?Ie.children:null:A,P,$)})(fe,Q[fe.value.outlet],A,P.concat([fe.value]),$),delete Q[fe.value.outlet]}),Un(Q,(fe,Ie)=>js(fe,A.getContext(Ie),$)),$}function js(T,C,A){const P=hn(T),$=T.value;Un(P,(Q,fe)=>{js(Q,$.component?C?C.children.getContext(fe):null:C,A)}),A.canDeactivateChecks.push(new lo($.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,$))}class ss{}function co(T){return new he.y(C=>C.error(T))}class Nr{constructor(C,A,P,$,Q,fe){this.rootComponentType=C,this.config=A,this.urlTree=P,this.url=$,this.paramsInheritanceStrategy=Q,this.relativeLinkResolution=fe}recognize(){const C=M(this.urlTree.root,[],[],this.config.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution).segmentGroup,A=this.processSegmentGroup(this.config,C,Sn);if(null===A)return null;const P=new ti([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Sn,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Zr(P,A),Q=new xr(this.url,$);return this.inheritParamsAndData(Q._root),Q}inheritParamsAndData(C){const A=C.value,P=hi(A,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data),C.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(C,A,P){return 0===A.segments.length&&A.hasChildren()?this.processChildren(C,A):this.processSegment(C,A,A.segments,P)}processChildren(C,A){const P=[];for(const Q of Object.keys(A.children)){const fe=A.children[Q],Ie=It(C,Q),dt=this.processSegmentGroup(Ie,fe,Q);if(null===dt)return null;P.push(...dt)}const $=ae(P);return $.sort((C,A)=>C.value.outlet===Sn?-1:A.value.outlet===Sn?1:C.value.outlet.localeCompare(A.value.outlet)),$}processSegment(C,A,P,$){for(const Q of C){const fe=this.processSegmentAgainstRoute(Q,A,P,$);if(null!==fe)return fe}return Mr(A,P,$)?[]:null}processSegmentAgainstRoute(C,A,P,$){if(C.redirectTo||!gi(C,A,P,$))return null;let Q,fe=[],Ie=[];if("**"===C.path){const yn=P.length>0?Ln(P).parameters:{};Q=new ti(P,yn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(C),it(C),C.component,C,ot(A),_t(A)+P.length,Zt(C))}else{const yn=k(A,C,P);if(!yn.matched)return null;fe=yn.consumedSegments,Ie=P.slice(yn.lastChild),Q=new ti(fe,yn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(C),it(C),C.component,C,ot(A),_t(A)+fe.length,Zt(C))}const dt=(T=C).children?T.children:T.loadChildren?T._loadedConfig.routes:[],{segmentGroup:Nt,slicedSegments:Mn}=M(A,fe,Ie,dt.filter(yn=>void 0===yn.redirectTo),this.relativeLinkResolution);var T;if(0===Mn.length&&Nt.hasChildren()){const yn=this.processChildren(dt,Nt);return null===yn?null:[new Zr(Q,yn)]}if(0===dt.length&&0===Mn.length)return[new Zr(Q,[])];const dn=it(C)===$,zt=this.processSegment(dt,Nt,Mn,dn?Sn:$);return null===zt?null:[new Zr(Q,zt)]}}function K(T){const C=T.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function ae(T){const C=[],A=new Set;for(const P of T){if(!K(P)){C.push(P);continue}const $=C.find(Q=>P.value.routeConfig===Q.value.routeConfig);void 0!==$?($.children.push(...P.children),A.add($)):C.push(P)}for(const P of A){const $=ae(P.children);C.push(new Zr(P.value,$))}return C.filter(P=>!A.has(P))}function ot(T){let C=T;for(;C._sourceSegment;)C=C._sourceSegment;return C}function _t(T){let C=T,A=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,A+=C._segmentIndexShift?C._segmentIndexShift:0;return A-1}function rn(T){return T.data||{}}function Zt(T){return T.resolve||{}}function Xn(T){return(0,Re.w)(C=>{const A=T(C);return A?(0,ft.D)(A).pipe((0,ut.U)(()=>C)):(0,Se.of)(C)})}class Si extends class{shouldDetach(C){return!1}store(C,A){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,A){return C.routeConfig===A.routeConfig}}{}const ts=new f.OlP("ROUTES");class mi{constructor(C,A,P,$){this.loader=C,this.compiler=A,this.onLoadStartListener=P,this.onLoadEndListener=$}load(C,A){if(A._loader$)return A._loader$;this.onLoadStartListener&&this.onLoadStartListener(A);const $=this.loadModuleFactory(A.loadChildren).pipe((0,ut.U)(Q=>{this.onLoadEndListener&&this.onLoadEndListener(A);const fe=Q.create(C);return new Ti(cn(fe.injector.get(ts,void 0,f.XFs.Self|f.XFs.Optional)).map(be),fe)}),(0,Dn.K)(Q=>{throw A._loader$=void 0,Q}));return A._loader$=new Jt.c($,()=>new te.xQ).pipe((0,Yn.x)()),A._loader$}loadModuleFactory(C){return"string"==typeof C?(0,ft.D)(this.loader.load(C)):On(C()).pipe((0,st.zg)(A=>A instanceof f.YKP?(0,Se.of)(A):(0,ft.D)(this.compiler.compileModuleAsync(A))))}}class Sr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Kr,this.attachRef=null}}class Kr{constructor(){this.contexts=new Map}onChildOutletCreated(C,A){const P=this.getOrCreateContext(C);P.outlet=A,this.contexts.set(C,P)}onChildOutletDestroyed(C){const A=this.getContext(C);A&&(A.outlet=null,A.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let A=this.getContext(C);return A||(A=new Sr,this.contexts.set(C,A)),A}getContext(C){return this.contexts.get(C)||null}}class $s{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,A){return C}}function Js(T){throw T}function _o(T,C,A){return C.parse("/")}function ia(T,C){return(0,Se.of)(null)}const Ao={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yr=(()=>{class T{constructor(A,P,$,Q,fe,Ie,dt,Nt){this.rootComponentType=A,this.urlSerializer=P,this.rootContexts=$,this.location=Q,this.config=Nt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new te.xQ,this.errorHandler=Js,this.malformedUriErrorHandler=_o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ia,afterPreactivation:ia},this.urlHandlingStrategy=new $s,this.routeReuseStrategy=new Si,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=fe.get(f.h0i),this.console=fe.get(f.c2e);const zt=fe.get(f.R0b);this.isNgZoneEnabled=zt instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(Nt),this.currentUrlTree=new Nn(new en([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new mi(Ie,dt,yn=>this.triggerEvent(new Wn(yn)),yn=>this.triggerEvent(new Dr(yn))),this.routerState=Ts(this.currentUrlTree,this.rootComponentType),this.transitions=new Me({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var A;return null===(A=this.location.getState())||void 0===A?void 0:A.\u0275routerPageId}setupNavigations(A){const P=this.events;return A.pipe((0,tt.h)($=>0!==$.id),(0,ut.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Re.w)($=>{let Q=!1,fe=!1;return(0,Se.of)($).pipe((0,mn.b)(Ie=>{this.currentNavigation={id:Ie.id,initialUrl:Ie.currentRawUrl,extractedUrl:Ie.extractedUrl,trigger:Ie.source,extras:Ie.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Re.w)(Ie=>{const dt=this.browserUrlTree.toString(),Nt=!this.navigated||Ie.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Nt)&&this.urlHandlingStrategy.shouldProcessUrl(Ie.rawUrl))return qs(Ie.source)&&(this.browserUrlTree=Ie.extractedUrl),(0,Se.of)(Ie).pipe((0,Re.w)(dn=>{const zt=this.transitions.getValue();return P.next(new $e(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),zt!==this.transitions.getValue()?wt.E:Promise.resolve(dn)}),function(T,C,A,P){return(0,Re.w)($=>function(T,C,A,P,$){return new _s(T,C,A,P,$).apply()}(T,C,A,$.extractedUrl,P).pipe((0,ut.U)(Q=>Object.assign(Object.assign({},$),{urlAfterRedirects:Q}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,mn.b)(dn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:dn.urlAfterRedirects})}),function(T,C,A,P,$){return(0,st.zg)(Q=>function(T,C,A,P,$="emptyOnly",Q="legacy"){try{const fe=new Nr(T,C,A,P,$,Q).recognize();return null===fe?co(new ss):(0,Se.of)(fe)}catch(fe){return co(fe)}}(T,C,Q.urlAfterRedirects,A(Q.urlAfterRedirects),P,$).pipe((0,ut.U)(fe=>Object.assign(Object.assign({},Q),{targetSnapshot:fe}))))}(this.rootComponentType,this.config,dn=>this.serializeUrl(dn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,mn.b)(dn=>{"eager"===this.urlUpdateStrategy&&(dn.extras.skipLocationChange||this.setBrowserUrl(dn.urlAfterRedirects,dn),this.browserUrlTree=dn.urlAfterRedirects);const zt=new nn(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);P.next(zt)}));if(Nt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zt,extractedUrl:yn,source:si,restoredState:fr,extras:sn}=Ie,Io=new $e(zt,this.serializeUrl(yn),si,fr);P.next(Io);const Ri=Ts(yn,this.rootComponentType).snapshot;return(0,Se.of)(Object.assign(Object.assign({},Ie),{targetSnapshot:Ri,urlAfterRedirects:yn,extras:Object.assign(Object.assign({},sn),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ie.rawUrl,this.browserUrlTree=Ie.urlAfterRedirects,Ie.resolve(null),wt.E}),Xn(Ie=>{const{targetSnapshot:dt,id:Nt,extractedUrl:Mn,rawUrl:dn,extras:{skipLocationChange:zt,replaceUrl:yn}}=Ie;return this.hooks.beforePreactivation(dt,{navigationId:Nt,appliedUrlTree:Mn,rawUrlTree:dn,skipLocationChange:!!zt,replaceUrl:!!yn})}),(0,mn.b)(Ie=>{const dt=new _n(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot);this.triggerEvent(dt)}),(0,ut.U)(Ie=>Object.assign(Object.assign({},Ie),{guards:ii(Ie.targetSnapshot,Ie.currentSnapshot,this.rootContexts)})),function(T,C){return(0,st.zg)(A=>{const{targetSnapshot:P,currentSnapshot:$,guards:{canActivateChecks:Q,canDeactivateChecks:fe}}=A;return 0===fe.length&&0===Q.length?(0,Se.of)(Object.assign(Object.assign({},A),{guardsResult:!0})):function(T,C,A,P){return(0,ft.D)(T).pipe((0,st.zg)($=>function(T,C,A,P,$){const Q=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!Q||0===Q.length)return(0,Se.of)(!0);const fe=Q.map(Ie=>{const dt=Xi(Ie,C,$);let Nt;if(function(T){return T&&Tr(T.canDeactivate)}(dt))Nt=On(dt.canDeactivate(T,C,A,P));else{if(!Tr(dt))throw new Error("Invalid CanDeactivate guard");Nt=On(dt(T,C,A,P))}return Nt.pipe((0,sr.P)())});return(0,Se.of)(fe).pipe(Os())}($.component,$.route,A,C,P)),(0,sr.P)($=>!0!==$,!0))}(fe,P,$,T).pipe((0,st.zg)(Ie=>Ie&&function(T){return"boolean"==typeof T}(Ie)?function(T,C,A,P){return(0,ft.D)(C).pipe(Le($=>(0,jt.z)(function(T,C){return null!==T&&C&&C(new Qn(T)),(0,Se.of)(!0)}($.route.parent,P),function(T,C){return null!==T&&C&&C(new wn(T)),(0,Se.of)(!0)}($.route,P),function(T,C,A){const P=C[C.length-1],Q=C.slice(0,C.length-1).reverse().map(fe=>function(T){const C=T.routeConfig?T.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:T,guards:C}:null}(fe)).filter(fe=>null!==fe).map(fe=>ct(()=>{const Ie=fe.guards.map(dt=>{const Nt=Xi(dt,fe.node,A);let Mn;if(function(T){return T&&Tr(T.canActivateChild)}(Nt))Mn=On(Nt.canActivateChild(P,T));else{if(!Tr(Nt))throw new Error("Invalid CanActivateChild guard");Mn=On(Nt(P,T))}return Mn.pipe((0,sr.P)())});return(0,Se.of)(Ie).pipe(Os())}));return(0,Se.of)(Q).pipe(Os())}(T,$.path,A),function(T,C,A){const P=C.routeConfig?C.routeConfig.canActivate:null;if(!P||0===P.length)return(0,Se.of)(!0);const $=P.map(Q=>ct(()=>{const fe=Xi(Q,C,A);let Ie;if(function(T){return T&&Tr(T.canActivate)}(fe))Ie=On(fe.canActivate(C,T));else{if(!Tr(fe))throw new Error("Invalid CanActivate guard");Ie=On(fe(C,T))}return Ie.pipe((0,sr.P)())}));return(0,Se.of)($).pipe(Os())}(T,$.route,A))),(0,sr.P)($=>!0!==$,!0))}(P,Q,T,C):(0,Se.of)(Ie)),(0,ut.U)(Ie=>Object.assign(Object.assign({},A),{guardsResult:Ie})))})}(this.ngModule.injector,Ie=>this.triggerEvent(Ie)),(0,mn.b)(Ie=>{if(Rr(Ie.guardsResult)){const Nt=we(`Redirecting to "${this.serializeUrl(Ie.guardsResult)}"`);throw Nt.url=Ie.guardsResult,Nt}const dt=new on(Ie.id,this.serializeUrl(Ie.extractedUrl),this.serializeUrl(Ie.urlAfterRedirects),Ie.targetSnapshot,!!Ie.guardsResult);this.triggerEvent(dt)}),(0,tt.h)(Ie=>!!Ie.guardsResult||(this.restoreHistory(Ie),this.cancelNavigationTransition(Ie,""),!1)),Xn(Ie=>{if(Ie.guards.canActivateChecks.length)return(0,Se.of)(Ie).pipe((0,mn.b)(dt=>{const Nt=new Qt(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Nt)}),(0,Re.w)(dt=>{let Nt=!1;return(0,Se.of)(dt).pipe(function(T,C){return(0,st.zg)(A=>{const{targetSnapshot:P,guards:{canActivateChecks:$}}=A;if(!$.length)return(0,Se.of)(A);let Q=0;return(0,ft.D)($).pipe(Le(fe=>function(T,C,A,P){return function(T,C,A,P){const $=Object.keys(T);if(0===$.length)return(0,Se.of)({});const Q={};return(0,ft.D)($).pipe((0,st.zg)(fe=>function(T,C,A,P){const $=Xi(T,C,P);return On($.resolve?$.resolve(C,A):$(C,A))}(T[fe],C,A,P).pipe((0,mn.b)(Ie=>{Q[fe]=Ie}))),Te(1),(0,st.zg)(()=>Object.keys(Q).length===$.length?(0,Se.of)(Q):wt.E))}(T._resolve,T,C,P).pipe((0,ut.U)(Q=>(T._resolvedData=Q,T.data=Object.assign(Object.assign({},T.data),hi(T,A).resolve),null)))}(fe.route,P,T,C)),(0,mn.b)(()=>Q++),Te(1),(0,st.zg)(fe=>Q===$.length?(0,Se.of)(A):wt.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,mn.b)({next:()=>Nt=!0,complete:()=>{Nt||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"At least one route resolver didn't emit any value."))}}))}),(0,mn.b)(dt=>{const Nt=new vn(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(Nt)}))}),Xn(Ie=>{const{targetSnapshot:dt,id:Nt,extractedUrl:Mn,rawUrl:dn,extras:{skipLocationChange:zt,replaceUrl:yn}}=Ie;return this.hooks.afterPreactivation(dt,{navigationId:Nt,appliedUrlTree:Mn,rawUrlTree:dn,skipLocationChange:!!zt,replaceUrl:!!yn})}),(0,ut.U)(Ie=>{const dt=function(T,C,A){const P=Ds(T,C._root,A?A._root:void 0);return new Ir(P,C)}(this.routeReuseStrategy,Ie.targetSnapshot,Ie.currentRouterState);return Object.assign(Object.assign({},Ie),{targetRouterState:dt})}),(0,mn.b)(Ie=>{this.currentUrlTree=Ie.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ie.urlAfterRedirects,Ie.rawUrl),this.routerState=Ie.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ie.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ie),this.browserUrlTree=Ie.urlAfterRedirects)}),((T,C,A)=>(0,ut.U)(P=>(new go(C,P.targetRouterState,P.currentRouterState,A).activate(T),P)))(this.rootContexts,this.routeReuseStrategy,Ie=>this.triggerEvent(Ie)),(0,mn.b)({next(){Q=!0},complete(){Q=!0}}),function(T){return C=>C.lift(new Rn(T))}(()=>{if(!Q&&!fe){const Ie=`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory($),this.cancelNavigationTransition($,Ie)):this.cancelNavigationTransition($,Ie)}this.currentNavigation=null}),(0,Dn.K)(Ie=>{if(fe=!0,function(T){return T&&T[Ei]}(Ie)){const dt=Rr(Ie.url);dt||(this.navigated=!0,this.restoreHistory($,!0));const Nt=new lt($.id,this.serializeUrl($.extractedUrl),Ie.message);P.next(Nt),dt?setTimeout(()=>{const Mn=this.urlHandlingStrategy.merge(Ie.url,this.rawUrlTree),dn={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qs($.source)};this.scheduleNavigation(Mn,"imperative",null,dn,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const dt=new Xt($.id,this.serializeUrl($.extractedUrl),Ie);P.next(dt);try{$.resolve(this.errorHandler(Ie))}catch(Nt){$.reject(Nt)}}return wt.E}))}))}resetRootComponentType(A){this.rootComponentType=A,this.routerState.root.component=this.rootComponentType}getTransition(){const A=this.transitions.value;return A.urlAfterRedirects=this.browserUrlTree,A}setTransition(A){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),A))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(A=>{const P=this.extractLocationChangeInfoFromEvent(A);this.shouldScheduleNavigation(this.lastLocationChangeInfo,P)&&setTimeout(()=>{const{source:$,state:Q,urlTree:fe}=P,Ie={replaceUrl:!0};if(Q){const dt=Object.assign({},Q);delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(Ie.state=dt)}this.scheduleNavigation(fe,$,Q,Ie)},0),this.lastLocationChangeInfo=P}))}extractLocationChangeInfoFromEvent(A){var P;return{source:"popstate"===A.type?"popstate":"hashchange",urlTree:this.parseUrl(A.url),state:(null===(P=A.state)||void 0===P?void 0:P.navigationId)?A.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(A,P){if(!A)return!0;const $=P.urlTree.toString()===A.urlTree.toString();return P.transitionId!==A.transitionId||!$||!("hashchange"===P.source&&"popstate"===A.source||"popstate"===P.source&&"hashchange"===A.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(A){this.events.next(A)}resetConfig(A){ee(A),this.config=A.map(be),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(A,P={}){const{relativeTo:$,queryParams:Q,fragment:fe,queryParamsHandling:Ie,preserveFragment:dt}=P,Nt=$||this.routerState.root,Mn=dt?this.currentUrlTree.fragment:fe;let dn=null;switch(Ie){case"merge":dn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),Q);break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=Q||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),function(T,C,A,P,$){if(0===A.length)return hs(C.root,C.root,C,P,$);const Q=function(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new oo(!0,0,T);let C=0,A=!1;const P=T.reduce(($,Q,fe)=>{if("object"==typeof Q&&null!=Q){if(Q.outlets){const Ie={};return Un(Q.outlets,(dt,Nt)=>{Ie[Nt]="string"==typeof dt?dt.split("/"):dt}),[...$,{outlets:Ie}]}if(Q.segmentPath)return[...$,Q.segmentPath]}return"string"!=typeof Q?[...$,Q]:0===fe?(Q.split("/").forEach((Ie,dt)=>{0==dt&&"."===Ie||(0==dt&&""===Ie?A=!0:".."===Ie?C++:""!=Ie&&$.push(Ie))}),$):[...$,Q]},[]);return new oo(A,C,P)}(A);if(Q.toRoot())return hs(C.root,new en([],{}),C,P,$);const fe=function(T,C,A){if(T.isAbsolute)return new fi(C.root,!0,0);if(-1===A.snapshot._lastPathIndex){const Q=A.snapshot._urlSegment;return new fi(Q,Q===C.root,0)}const P=ki(T.commands[0])?0:1;return function(T,C,A){let P=T,$=C,Q=A;for(;Q>$;){if(Q-=$,P=P.parent,!P)throw new Error("Invalid number of '../'");$=P.segments.length}return new fi(P,!1,$-Q)}(A.snapshot._urlSegment,A.snapshot._lastPathIndex+P,T.numberOfDoubleDots)}(Q,C,T),Ie=fe.processChildren?ni(fe.segmentGroup,fe.index,Q.commands):ai(fe.segmentGroup,fe.index,Q.commands);return hs(fe.segmentGroup,Ie,C,P,$)}(Nt,this.currentUrlTree,A,dn,null!=Mn?Mn:null)}navigateByUrl(A,P={skipLocationChange:!1}){const $=Rr(A)?A:this.parseUrl(A),Q=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(Q,"imperative",null,P)}navigate(A,P={skipLocationChange:!1}){return function(T){for(let C=0;C<T.length;C++){const A=T[C];if(null==A)throw new Error(`The requested path contains ${A} segment at index ${C}`)}}(A),this.navigateByUrl(this.createUrlTree(A,P),P)}serializeUrl(A){return this.urlSerializer.serialize(A)}parseUrl(A){let P;try{P=this.urlSerializer.parse(A)}catch($){P=this.malformedUriErrorHandler($,this.urlSerializer,A)}return P}isActive(A,P){let $;if($=!0===P?Object.assign({},Ao):!1===P?Object.assign({},Zs):P,Rr(A))return ji(this.currentUrlTree,A,$);const Q=this.parseUrl(A);return ji(this.currentUrlTree,Q,$)}removeEmptyProps(A){return Object.keys(A).reduce((P,$)=>{const Q=A[$];return null!=Q&&(P[$]=Q),P},{})}processNavigations(){this.navigations.subscribe(A=>{this.navigated=!0,this.lastSuccessfulId=A.id,this.currentPageId=A.targetPageId,this.events.next(new at(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,A.resolve(!0)},A=>{this.console.warn(`Unhandled Navigation Error: ${A}`)})}scheduleNavigation(A,P,$,Q,fe){var Ie,dt;if(this.disposed)return Promise.resolve(!1);const Nt=this.getTransition(),Mn=qs(P)&&Nt&&!qs(Nt.source),yn=(this.lastSuccessfulId===Nt.id||this.currentNavigation?Nt.rawUrl:Nt.urlAfterRedirects).toString()===A.toString();if(Mn&&yn)return Promise.resolve(!0);let si,fr,sn;fe?(si=fe.resolve,fr=fe.reject,sn=fe.promise):sn=new Promise((qi,Es)=>{si=qi,fr=Es});const Io=++this.navigationId;let Ri;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Ri=$&&$.\u0275routerPageId?$.\u0275routerPageId:Q.replaceUrl||Q.skipLocationChange?null!==(Ie=this.browserPageId)&&void 0!==Ie?Ie:0:(null!==(dt=this.browserPageId)&&void 0!==dt?dt:0)+1):Ri=0,this.setTransition({id:Io,targetPageId:Ri,source:P,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:A,extras:Q,resolve:si,reject:fr,promise:sn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),sn.catch(qi=>Promise.reject(qi))}setBrowserUrl(A,P){const $=this.urlSerializer.serialize(A),Q=Object.assign(Object.assign({},P.extras.state),this.generateNgRouterState(P.id,P.targetPageId));this.location.isCurrentPathEqualTo($)||P.extras.replaceUrl?this.location.replaceState($,"",Q):this.location.go($,"",Q)}restoreHistory(A,P=!1){var $,Q;if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-A.targetPageId;"popstate"!==A.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===fe?this.currentUrlTree===(null===(Q=this.currentNavigation)||void 0===Q?void 0:Q.finalUrl)&&0===fe&&(this.resetState(A),this.browserUrlTree=A.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(fe)}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(A),this.resetUrlToCurrentUrlTree())}resetState(A){this.routerState=A.currentRouterState,this.currentUrlTree=A.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,A.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(A,P){const $=new lt(A.id,this.serializeUrl(A.extractedUrl),P);this.triggerEvent($),A.resolve(!1)}generateNgRouterState(A,P){return"computed"===this.canceledNavigationResolution?{navigationId:A,\u0275routerPageId:P}:{navigationId:A}}}return T.\u0275fac=function(A){return new(A||T)(f.LFG(f.DyG),f.LFG(xn),f.LFG(Kr),f.LFG(_.Ye),f.LFG(f.zs3),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(void 0))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})();function qs(T){return"imperative"!==T}let N=(()=>{class T{constructor(A,P,$,Q,fe){this.router=A,this.route=P,this.commands=[],this.onChanges=new te.xQ,null==$&&Q.setAttribute(fe.nativeElement,"tabindex","0")}ngOnChanges(A){this.onChanges.next(this)}set routerLink(A){this.commands=null!=A?Array.isArray(A)?A:[A]:[]}onClick(){const A={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,A),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return T.\u0275fac=function(A){return new(A||T)(f.Y36(Yr),f.Y36(lr),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},T.\u0275dir=f.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(A,P){1&A&&f.NdJ("click",function(){return P.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),T})(),O=(()=>{class T{constructor(A,P,$){this.router=A,this.route=P,this.locationStrategy=$,this.commands=[],this.onChanges=new te.xQ,this.subscription=A.events.subscribe(Q=>{Q instanceof at&&this.updateTargetUrlAndHref()})}set routerLink(A){this.commands=null!=A?Array.isArray(A)?A:[A]:[]}ngOnChanges(A){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(A,P,$,Q,fe){if(0!==A||P||$||Q||fe||"string"==typeof this.target&&"_self"!=this.target)return!0;const Ie={skipLocationChange:Y(this.skipLocationChange),replaceUrl:Y(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ie),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Y(this.preserveFragment)})}}return T.\u0275fac=function(A){return new(A||T)(f.Y36(Yr),f.Y36(lr),f.Y36(_.S$))},T.\u0275dir=f.lG2({type:T,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(A,P){1&A&&f.NdJ("click",function(Q){return P.onClick(Q.button,Q.ctrlKey,Q.shiftKey,Q.altKey,Q.metaKey)}),2&A&&(f.Ikx("href",P.href,f.LSH),f.uIk("target",P.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[f.TTD]}),T})();function Y(T){return""===T||!!T}let Tn=(()=>{class T{constructor(A,P,$,Q,fe){this.parentContexts=A,this.location=P,this.resolver=$,this.changeDetector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.name=Q||Sn,A.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const A=this.parentContexts.getContext(this.name);A&&A.route&&(A.attachRef?this.attach(A.attachRef,A.route):this.activateWith(A.route,A.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const A=this.activated;return this.activated=null,this._activatedRoute=null,A}attach(A,P){this.activated=A,this._activatedRoute=P,this.location.insert(A.hostView)}deactivate(){if(this.activated){const A=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(A)}}activateWith(A,P){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=A;const fe=(P=P||this.resolver).resolveComponentFactory(A._futureSnapshot.routeConfig.component),Ie=this.parentContexts.getOrCreateContext(this.name).children,dt=new Kn(A,Ie,this.location.injector);this.activated=this.location.createComponent(fe,this.location.length,dt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(A){return new(A||T)(f.Y36(Kr),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},T.\u0275dir=f.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),T})();class Kn{constructor(C,A,P){this.route=C,this.childContexts=A,this.parent=P}get(C,A){return C===lr?this.route:C===Kr?this.childContexts:this.parent.get(C,A)}}class ns{}class xi{preload(C,A){return(0,Se.of)(null)}}let sa=(()=>{class T{constructor(A,P,$,Q,fe){this.router=A,this.injector=Q,this.preloadingStrategy=fe,this.loader=new mi(P,$,Nt=>A.triggerEvent(new Wn(Nt)),Nt=>A.triggerEvent(new Dr(Nt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,tt.h)(A=>A instanceof at),Le(()=>this.preload())).subscribe(()=>{})}preload(){const A=this.injector.get(f.h0i);return this.processRoutes(A,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(A,P){const $=[];for(const Q of P)if(Q.loadChildren&&!Q.canLoad&&Q._loadedConfig){const fe=Q._loadedConfig;$.push(this.processRoutes(fe.module,fe.routes))}else Q.loadChildren&&!Q.canLoad?$.push(this.preloadConfig(A,Q)):Q.children&&$.push(this.processRoutes(A,Q.children));return(0,ft.D)($).pipe((0,kn.J)(),(0,ut.U)(Q=>{}))}preloadConfig(A,P){return this.preloadingStrategy.preload(P,()=>(P._loadedConfig?(0,Se.of)(P._loadedConfig):this.loader.load(A.injector,P)).pipe((0,st.zg)(Q=>(P._loadedConfig=Q,this.processRoutes(Q.module,Q.routes)))))}}return T.\u0275fac=function(A){return new(A||T)(f.LFG(Yr),f.LFG(f.v3s),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(ns))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})(),yi=(()=>{class T{constructor(A,P,$={}){this.router=A,this.viewportScroller=P,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(A=>{A instanceof $e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=A.navigationTrigger,this.restoredId=A.restoredState?A.restoredState.navigationId:0):A instanceof at&&(this.lastId=A.id,this.scheduleScrollEvent(A,this.router.parseUrl(A.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(A=>{A instanceof di&&(A.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(A.position):A.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(A.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(A,P){this.router.triggerEvent(new di(A,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(A){return new(A||T)(f.LFG(Yr),f.LFG(_.EM),f.LFG(void 0))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})();const Po=new f.OlP("ROUTER_CONFIGURATION"),Qo=new f.OlP("ROUTER_FORROOT_GUARD"),ka=[_.Ye,{provide:xn,useClass:pr},{provide:Yr,useFactory:function(T,C,A,P,$,Q,fe,Ie={},dt,Nt){const Mn=new Yr(null,T,C,A,P,$,Q,cn(fe));return dt&&(Mn.urlHandlingStrategy=dt),Nt&&(Mn.routeReuseStrategy=Nt),function(T,C){T.errorHandler&&(C.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(C.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(C.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(C.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(C.urlUpdateStrategy=T.urlUpdateStrategy)}(Ie,Mn),Ie.enableTracing&&Mn.events.subscribe(dn=>{var zt,yn;null===(zt=console.group)||void 0===zt||zt.call(console,`Router Event: ${dn.constructor.name}`),console.log(dn.toString()),console.log(dn),null===(yn=console.groupEnd)||void 0===yn||yn.call(console)}),Mn},deps:[xn,Kr,_.Ye,f.zs3,f.v3s,f.Sil,ts,Po,[class{},new f.FiY],[class{},new f.FiY]]},Kr,{provide:lr,useFactory:function(T){return T.routerState.root},deps:[Yr]},{provide:f.v3s,useClass:f.EAV},sa,xi,class{preload(C,A){return A().pipe((0,Dn.K)(()=>(0,Se.of)(null)))}},{provide:Po,useValue:{enableTracing:!1}}];function qa(){return new f.PXZ("Router",Yr)}let cl=(()=>{class T{constructor(A,P){}static forRoot(A,P){return{ngModule:T,providers:[ka,F(A),{provide:Qo,useFactory:Fo,deps:[[Yr,new f.FiY,new f.tp0]]},{provide:Po,useValue:P||{}},{provide:_.S$,useFactory:ko,deps:[_.lw,[new f.tBr(_.mr),new f.FiY],Po]},{provide:yi,useFactory:os,deps:[Yr,_.EM,Po]},{provide:ns,useExisting:P&&P.preloadingStrategy?P.preloadingStrategy:xi},{provide:f.PXZ,multi:!0,useFactory:qa},[W,{provide:f.ip1,multi:!0,useFactory:oe,deps:[W]},{provide:ge,useFactory:ue,deps:[W]},{provide:f.tb,multi:!0,useExisting:ge}]]}}static forChild(A){return{ngModule:T,providers:[F(A)]}}}return T.\u0275fac=function(A){return new(A||T)(f.LFG(Qo,8),f.LFG(Yr,8))},T.\u0275mod=f.oAB({type:T}),T.\u0275inj=f.cJS({}),T})();function os(T,C,A){return A.scrollOffset&&C.setOffset(A.scrollOffset),new yi(T,C,A)}function ko(T,C,A={}){return A.useHash?new _.Do(T,C):new _.b0(T,C)}function Fo(T){return"guarded"}function F(T){return[{provide:f.deG,multi:!0,useValue:T},{provide:ts,multi:!0,useValue:T}]}let W=(()=>{class T{constructor(A){this.injector=A,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new te.xQ}appInitializer(){return this.injector.get(_.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let P=null;const $=new Promise(Ie=>P=Ie),Q=this.injector.get(Yr),fe=this.injector.get(Po);return"disabled"===fe.initialNavigation?(Q.setUpLocationChangeListener(),P(!0)):"enabled"===fe.initialNavigation||"enabledBlocking"===fe.initialNavigation?(Q.hooks.afterPreactivation=()=>this.initNavigation?(0,Se.of)(null):(this.initNavigation=!0,P(!0),this.resultOfPreactivationDone),Q.initialNavigation()):P(!0),$})}bootstrapListener(A){const P=this.injector.get(Po),$=this.injector.get(sa),Q=this.injector.get(yi),fe=this.injector.get(Yr),Ie=this.injector.get(f.z2F);A===Ie.components[0]&&(("enabledNonBlocking"===P.initialNavigation||void 0===P.initialNavigation)&&fe.initialNavigation(),$.setUpPreloading(),Q.init(),fe.resetRootComponentType(Ie.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return T.\u0275fac=function(A){return new(A||T)(f.LFG(f.zs3))},T.\u0275prov=f.Yz7({token:T,factory:T.\u0275fac}),T})();function oe(T){return T.appInitializer.bind(T)}function ue(T){return T.bootstrapListener.bind(T)}const ge=new f.OlP("Router Initializer")},4486:($t,et,Z)=>{"use strict";Z.d(et,{Z:()=>Ye});var _=Z(3854),f=Z(6034),te=Z(5452),Ve=Z(5601);class Me{constructor(yt,me){this._delegate=yt,this.firebase=me,(0,te._addComponent)(yt,new f.wA("app-compat",()=>this,"PUBLIC")),this.container=yt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(yt){this._delegate.automaticDataCollectionEnabled=yt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(yt=>{this._delegate.checkDestroyed(),yt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(yt,me=te._DEFAULT_ENTRY_NAME){var ft;this._delegate.checkDestroyed();const wt=this._delegate.container.getProvider(yt);return!wt.isInitialized()&&"EXPLICIT"===(null===(ft=wt.getComponent())||void 0===ft?void 0:ft.instantiationMode)&&wt.initialize(),wt.getImmediate({identifier:me})}_removeServiceInstance(yt,me=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(yt).clearInstance(me)}_addComponent(yt){(0,te._addComponent)(this._delegate,yt)}_addOrOverwriteComponent(yt){(0,te._addOrOverwriteComponent)(this._delegate,yt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const He=new _.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function _e(){const qe=function(qe){const yt={},me={__esModule:!0,initializeApp:function(Jt,st={}){const Le=te.initializeApp(Jt,st);if((0,_.r3)(yt,Le.name))return yt[Le.name];const tt=new qe(Le,me);return yt[Le.name]=tt,tt},app:wt,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function(Jt){const st=Jt.name,Le=st.replace("-compat","");if(te._registerComponent(Jt)&&"PUBLIC"===Jt.type){const tt=(Qe=wt())=>{if("function"!=typeof Qe[Le])throw He.create("invalid-app-argument",{appName:st});return Qe[Le]()};void 0!==Jt.serviceProps&&(0,_.ZB)(tt,Jt.serviceProps),me[Le]=tt,qe.prototype[Le]=function(...Qe){return this._getService.bind(this,st).apply(this,Jt.multipleInstances?Qe:[])}}return"PUBLIC"===Jt.type?me[Le]:null},removeApp:function(Jt){delete yt[Jt]},useAsService:function(Jt,st){return"serverAuth"===st?null:st},modularAPIs:te}};function wt(Jt){if(!(0,_.r3)(yt,Jt=Jt||te._DEFAULT_ENTRY_NAME))throw He.create("no-app",{appName:Jt});return yt[Jt]}return me.default=me,Object.defineProperty(me,"apps",{get:function(){return Object.keys(yt).map(Jt=>yt[Jt])}}),wt.App=qe,me}(Me);return qe.INTERNAL=Object.assign(Object.assign({},qe.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function(me){(0,_.ZB)(qe,me)},createSubscribe:_.ne,ErrorFactory:_.LL,deepExtend:_.ZB}),qe}(),de=new Ve.Yd("@firebase/app-compat");if((0,_.jU)()&&void 0!==self.firebase){de.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const qe=self.firebase.SDK_VERSION;qe&&qe.indexOf("LITE")>=0&&de.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=ne;(0,te.registerVersion)("@firebase/app-compat","0.1.4",undefined)},5452:($t,et,Z)=>{"use strict";Z.r(et),Z.d(et,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>mn,_DEFAULT_ENTRY_NAME:()=>Wt,_addComponent:()=>Rn,_addOrOverwriteComponent:()=>ht,_apps:()=>Ft,_clearComponents:()=>Ct,_components:()=>Yt,_getProvider:()=>Re,_registerComponent:()=>ut,_removeServiceInstance:()=>Ge,deleteApp:()=>$e,getApp:()=>kn,getApps:()=>Rt,initializeApp:()=>Yn,onLog:()=>Xt,registerVersion:()=>lt,setLogLevel:()=>nn});var _=Z(8239),f=Z(6034),te=Z(5601),Ve=Z(3854);class Me{constructor(Qt){this.container=Qt}getPlatformInfoString(){return this.container.getProviders().map(vn=>{if(function(on){const Qt=on.getComponent();return"VERSION"===(null==Qt?void 0:Qt.type)}(vn)){const Wn=vn.getImmediate();return`${Wn.library}/${Wn.version}`}return null}).filter(vn=>vn).join(" ")}}const He="@firebase/app",_e=new te.Yd("@firebase/app"),Wt="[DEFAULT]",Gt={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,Yt=new Map;function Rn(on,Qt){try{on.container.addComponent(Qt)}catch(vn){_e.debug(`Component ${Qt.name} failed to register with FirebaseApp ${on.name}`,vn)}}function ht(on,Qt){on.container.addOrOverwriteComponent(Qt)}function ut(on){const Qt=on.name;if(Yt.has(Qt))return _e.debug(`There were multiple attempts to register component ${Qt}.`),!1;Yt.set(Qt,on);for(const vn of Ft.values())Rn(vn,on);return!0}function Re(on,Qt){return on.container.getProvider(Qt)}function Ge(on,Qt,vn=Wt){Re(on,Qt).clearInstance(vn)}function Ct(){Yt.clear()}const Dn=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class sr{constructor(Qt,vn,Wn){this._isDeleted=!1,this._options=Object.assign({},Qt),this._config=Object.assign({},vn),this._name=vn.name,this._automaticDataCollectionEnabled=vn.automaticDataCollectionEnabled,this._container=Wn,this.container.addComponent(new f.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qt){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qt){this._isDeleted=Qt}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}}const mn="9.1.2";function Yn(on,Qt={}){"object"!=typeof Qt&&(Qt={name:Qt});const vn=Object.assign({name:Wt,automaticDataCollectionEnabled:!1},Qt),Wn=vn.name;if("string"!=typeof Wn||!Wn)throw Dn.create("bad-app-name",{appName:String(Wn)});const Dr=Ft.get(Wn);if(Dr){if((0,Ve.vZ)(on,Dr.options)&&(0,Ve.vZ)(vn,Dr.config))return Dr;throw Dn.create("duplicate-app",{appName:Wn})}const Qn=new f.H0(Wn);for(const wn of Yt.values())Qn.addComponent(wn);const kt=new sr(on,vn,Qn);return Ft.set(Wn,kt),kt}function kn(on=Wt){const Qt=Ft.get(on);if(!Qt)throw Dn.create("no-app",{appName:on});return Qt}function Rt(){return Array.from(Ft.values())}function $e(on){return at.apply(this,arguments)}function at(){return(at=(0,_.Z)(function*(on){const Qt=on.name;Ft.has(Qt)&&(Ft.delete(Qt),yield Promise.all(on.container.getProviders().map(vn=>vn.delete())),on.isDeleted=!0)})).apply(this,arguments)}function lt(on,Qt,vn){var Wn;let Dr=null!==(Wn=Gt[on])&&void 0!==Wn?Wn:on;vn&&(Dr+=`-${vn}`);const Qn=Dr.match(/\s|\//),kt=Qt.match(/\s|\//);if(Qn||kt){const wn=[`Unable to register library "${Dr}" with version "${Qt}":`];return Qn&&wn.push(`library name "${Dr}" contains illegal characters (whitespace or "/")`),Qn&&kt&&wn.push("and"),kt&&wn.push(`version name "${Qt}" contains illegal characters (whitespace or "/")`),void _e.warn(wn.join(" "))}ut(new f.wA(`${Dr}-version`,()=>({library:Dr,version:Qt}),"VERSION"))}function Xt(on,Qt){if(null!==on&&"function"!=typeof on)throw Dn.create("invalid-log-argument");(0,te.Am)(on,Qt)}function nn(on){(0,te.Ub)(on)}ut(new f.wA("platform-logger",Qt=>new Me(Qt),"PRIVATE")),lt(He,"0.7.3",undefined),lt("fire-js","")},6034:($t,et,Z)=>{"use strict";Z.d(et,{wA:()=>te,H0:()=>pe});var _=Z(4762),f=Z(3854),te=function(){function _e(ne,de,he){this.name=ne,this.instanceFactory=de,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return _e.prototype.setInstantiationMode=function(ne){return this.instantiationMode=ne,this},_e.prototype.setMultipleInstances=function(ne){return this.multipleInstances=ne,this},_e.prototype.setServiceProps=function(ne){return this.serviceProps=ne,this},_e.prototype.setInstanceCreatedCallback=function(ne){return this.onInstanceCreated=ne,this},_e}(),Ve="[DEFAULT]",Me=function(){function _e(ne,de){this.name=ne,this.container=de,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return _e.prototype.get=function(ne){var de=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(de)){var he=new f.BH;if(this.instancesDeferred.set(de,he),this.isInitialized(de)||this.shouldAutoInitialize())try{var De=this.getOrInitializeService({instanceIdentifier:de});De&&he.resolve(De)}catch(Fe){}}return this.instancesDeferred.get(de).promise},_e.prototype.getImmediate=function(ne){var de,he=this.normalizeInstanceIdentifier(null==ne?void 0:ne.identifier),De=null!==(de=null==ne?void 0:ne.optional)&&void 0!==de&&de;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(De)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Fe){if(De)return null;throw Fe}},_e.prototype.getComponent=function(){return this.component},_e.prototype.setComponent=function(ne){var de,he;if(ne.name!==this.name)throw Error("Mismatching Component "+ne.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=ne,this.shouldAutoInitialize()){if(function(_e){return"EAGER"===_e.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch(wt){}try{for(var De=(0,_.XA)(this.instancesDeferred.entries()),Fe=De.next();!Fe.done;Fe=De.next()){var Ye=(0,_.CR)(Fe.value,2),yt=Ye[1],me=this.normalizeInstanceIdentifier(Ye[0]);try{var ft=this.getOrInitializeService({instanceIdentifier:me});yt.resolve(ft)}catch(wt){}}}catch(wt){de={error:wt}}finally{try{Fe&&!Fe.done&&(he=De.return)&&he.call(De)}finally{if(de)throw de.error}}}},_e.prototype.clearInstance=function(ne){void 0===ne&&(ne=Ve),this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)},_e.prototype.delete=function(){return(0,_.mG)(this,void 0,void 0,function(){var ne;return(0,_.Jh)(this,function(de){switch(de.label){case 0:return ne=Array.from(this.instances.values()),[4,Promise.all((0,_.ev)((0,_.ev)([],(0,_.CR)(ne.filter(function(he){return"INTERNAL"in he}).map(function(he){return he.INTERNAL.delete()}))),(0,_.CR)(ne.filter(function(he){return"_delete"in he}).map(function(he){return he._delete()}))))];case 1:return de.sent(),[2]}})})},_e.prototype.isComponentSet=function(){return null!=this.component},_e.prototype.isInitialized=function(ne){return void 0===ne&&(ne=Ve),this.instances.has(ne)},_e.prototype.getOptions=function(ne){return void 0===ne&&(ne=Ve),this.instancesOptions.get(ne)||{}},_e.prototype.initialize=function(ne){var de,he;void 0===ne&&(ne={});var De=ne.options,Fe=void 0===De?{}:De,Ye=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(Ye))throw Error(this.name+"("+Ye+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var qe=this.getOrInitializeService({instanceIdentifier:Ye,options:Fe});try{for(var yt=(0,_.XA)(this.instancesDeferred.entries()),me=yt.next();!me.done;me=yt.next()){var ft=(0,_.CR)(me.value,2),ct=ft[1];Ye===this.normalizeInstanceIdentifier(ft[0])&&ct.resolve(qe)}}catch(St){de={error:St}}finally{try{me&&!me.done&&(he=yt.return)&&he.call(yt)}finally{if(de)throw de.error}}return qe},_e.prototype.onInit=function(ne,de){var he,De=this.normalizeInstanceIdentifier(de),Fe=null!==(he=this.onInitCallbacks.get(De))&&void 0!==he?he:new Set;Fe.add(ne),this.onInitCallbacks.set(De,Fe);var Ye=this.instances.get(De);return Ye&&ne(Ye,De),function(){Fe.delete(ne)}},_e.prototype.invokeOnInitCallbacks=function(ne,de){var he,De,Fe=this.onInitCallbacks.get(de);if(Fe)try{for(var Ye=(0,_.XA)(Fe),qe=Ye.next();!qe.done;qe=Ye.next()){var yt=qe.value;try{yt(ne,de)}catch(me){}}}catch(me){he={error:me}}finally{try{qe&&!qe.done&&(De=Ye.return)&&De.call(Ye)}finally{if(he)throw he.error}}},_e.prototype.getOrInitializeService=function(ne){var de=ne.instanceIdentifier,he=ne.options,De=void 0===he?{}:he,Fe=this.instances.get(de);if(!Fe&&this.component&&(Fe=this.component.instanceFactory(this.container,{instanceIdentifier:ve(de),options:De}),this.instances.set(de,Fe),this.instancesOptions.set(de,De),this.invokeOnInitCallbacks(Fe,de),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,de,Fe)}catch(Ye){}return Fe||null},_e.prototype.normalizeInstanceIdentifier=function(ne){return void 0===ne&&(ne=Ve),this.component?this.component.multipleInstances?ne:Ve:ne},_e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},_e}();function ve(_e){return _e===Ve?void 0:_e}var pe=function(){function _e(ne){this.name=ne,this.providers=new Map}return _e.prototype.addComponent=function(ne){var de=this.getProvider(ne.name);if(de.isComponentSet())throw new Error("Component "+ne.name+" has already been registered with "+this.name);de.setComponent(ne)},_e.prototype.addOrOverwriteComponent=function(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)},_e.prototype.getProvider=function(ne){if(this.providers.has(ne))return this.providers.get(ne);var de=new Me(ne,this);return this.providers.set(ne,de),de},_e.prototype.getProviders=function(){return Array.from(this.providers.values())},_e}()},5601:($t,et,Z)=>{"use strict";Z.d(et,{in:()=>f,Yd:()=>He,Ub:()=>pe,Am:()=>_e});const _=[];var f=(()=>{return(ne=f||(f={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",f;var ne})();const te={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},Ve=f.INFO,Me={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},ve=(ne,de,...he)=>{if(de<ne.logLevel)return;const De=(new Date).toISOString(),Fe=Me[de];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${de})`);console[Fe](`[${De}]  ${ne.name}:`,...he)};class He{constructor(de){this.name=de,this._logLevel=Ve,this._logHandler=ve,this._userLogHandler=null,_.push(this)}get logLevel(){return this._logLevel}set logLevel(de){if(!(de in f))throw new TypeError(`Invalid value "${de}" assigned to \`logLevel\``);this._logLevel=de}setLogLevel(de){this._logLevel="string"==typeof de?te[de]:de}get logHandler(){return this._logHandler}set logHandler(de){if("function"!=typeof de)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=de}get userLogHandler(){return this._userLogHandler}set userLogHandler(de){this._userLogHandler=de}debug(...de){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...de),this._logHandler(this,f.DEBUG,...de)}log(...de){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...de),this._logHandler(this,f.VERBOSE,...de)}info(...de){this._userLogHandler&&this._userLogHandler(this,f.INFO,...de),this._logHandler(this,f.INFO,...de)}warn(...de){this._userLogHandler&&this._userLogHandler(this,f.WARN,...de),this._logHandler(this,f.WARN,...de)}error(...de){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...de),this._logHandler(this,f.ERROR,...de)}}function pe(ne){_.forEach(de=>{de.setLogLevel(ne)})}function _e(ne,de){for(const he of _){let De=null;de&&de.level&&(De=te[de.level]),he.userLogHandler=null===ne?null:(Fe,Ye,...qe)=>{const yt=qe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch(ft){return null}}).filter(me=>me).join(" ");Ye>=(null!=De?De:Fe.logLevel)&&ne({level:f[Ye].toLowerCase(),message:yt,args:qe,type:Fe.name})}}}},3854:($t,et,Z)=>{"use strict";Z.d(et,{BH:()=>De,LL:()=>Ce,ZR:()=>We,tV:()=>_e,r3:()=>Re,Sg:()=>Fe,ne:()=>$e,vZ:()=>Dn,ZB:()=>de,pd:()=>kn,m9:()=>Ei,z$:()=>Ye,jU:()=>me,ru:()=>ft,d:()=>ct,xb:()=>Ct,w1:()=>Se,hl:()=>st,uI:()=>qe,UG:()=>yt,b$:()=>wt,G6:()=>Jt,Mn:()=>St,xO:()=>mn,zd:()=>Yn});const Ve=function(we){const Ae=[];let Pe=0;for(let gt=0;gt<we.length;gt++){let Xe=we.charCodeAt(gt);Xe<128?Ae[Pe++]=Xe:Xe<2048?(Ae[Pe++]=Xe>>6|192,Ae[Pe++]=63&Xe|128):55296==(64512&Xe)&&gt+1<we.length&&56320==(64512&we.charCodeAt(gt+1))?(Xe=65536+((1023&Xe)<<10)+(1023&we.charCodeAt(++gt)),Ae[Pe++]=Xe>>18|240,Ae[Pe++]=Xe>>12&63|128,Ae[Pe++]=Xe>>6&63|128,Ae[Pe++]=63&Xe|128):(Ae[Pe++]=Xe>>12|224,Ae[Pe++]=Xe>>6&63|128,Ae[Pe++]=63&Xe|128)}return Ae},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,Ae){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Pe=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,gt=[];for(let Xe=0;Xe<we.length;Xe+=3){const Lt=we[Xe],cn=Xe+1<we.length,Ln=cn?we[Xe+1]:0,Zn=Xe+2<we.length,Un=Zn?we[Xe+2]:0;let kr=(15&Ln)<<2|Un>>6,$r=63&Un;Zn||($r=64,cn||(kr=64)),gt.push(Pe[Lt>>2],Pe[(3&Lt)<<4|Ln>>4],Pe[kr],Pe[$r])}return gt.join("")},encodeString(we,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(we):this.encodeByteArray(Ve(we),Ae)},decodeString(we,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(we):function(we){const Ae=[];let Pe=0,gt=0;for(;Pe<we.length;){const Xe=we[Pe++];if(Xe<128)Ae[gt++]=String.fromCharCode(Xe);else if(Xe>191&&Xe<224){const Lt=we[Pe++];Ae[gt++]=String.fromCharCode((31&Xe)<<6|63&Lt)}else if(Xe>239&&Xe<365){const Zn=((7&Xe)<<18|(63&we[Pe++])<<12|(63&we[Pe++])<<6|63&we[Pe++])-65536;Ae[gt++]=String.fromCharCode(55296+(Zn>>10)),Ae[gt++]=String.fromCharCode(56320+(1023&Zn))}else{const Lt=we[Pe++],cn=we[Pe++];Ae[gt++]=String.fromCharCode((15&Xe)<<12|(63&Lt)<<6|63&cn)}}return Ae.join("")}(this.decodeStringToByteArray(we,Ae))},decodeStringToByteArray(we,Ae){this.init_();const Pe=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,gt=[];for(let Xe=0;Xe<we.length;){const Lt=Pe[we.charAt(Xe++)],Ln=Xe<we.length?Pe[we.charAt(Xe)]:0;++Xe;const Un=Xe<we.length?Pe[we.charAt(Xe)]:64;++Xe;const jn=Xe<we.length?Pe[we.charAt(Xe)]:64;if(++Xe,null==Lt||null==Ln||null==Un||null==jn)throw Error();gt.push(Lt<<2|Ln>>4),64!==Un&&(gt.push(Ln<<4&240|Un>>2),64!==jn&&gt.push(Un<<6&192|jn))}return gt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},pe=function(we){return function(we){const Ae=Ve(we);return ve.encodeByteArray(Ae,!0)}(we).replace(/\./g,"")},_e=function(we){try{return ve.decodeString(we,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function de(we,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===we&&(we={});break;case Array:we=[];break;default:return Ae}for(const Pe in Ae)!Ae.hasOwnProperty(Pe)||!he(Pe)||(we[Pe]=de(we[Pe],Ae[Pe]));return we}function he(we){return"__proto__"!==we}class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,Pe)=>{this.resolve=Ae,this.reject=Pe})}wrapCallback(Ae){return(Pe,gt)=>{Pe?this.reject(Pe):this.resolve(gt),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(Pe):Ae(Pe,gt))}}}function Fe(we,Ae){if(we.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const gt=Ae||"demo-project",Xe=we.iat||0,Lt=we.sub||we.user_id;if(!Lt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const cn=Object.assign({iss:`https://securetoken.google.com/${gt}`,aud:gt,iat:Xe,exp:Xe+3600,auth_time:Xe,sub:Lt,user_id:Lt,firebase:{sign_in_provider:"custom",identities:{}}},we);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(cn)),""].join(".")}function Ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function yt(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(we){return!1}}function me(){return"object"==typeof self&&self.self===self}function ft(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function wt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ct(){return Ye().indexOf("Electron/")>=0}function Se(){const we=Ye();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function St(){return Ye().indexOf("MSAppHost/")>=0}function Jt(){return!yt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function st(){return"object"==typeof indexedDB}class We extends Error{constructor(Ae,Pe,gt){super(Pe),this.code=Ae,this.customData=gt,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ce.prototype.create)}}class Ce{constructor(Ae,Pe,gt){this.service=Ae,this.serviceName=Pe,this.errors=gt}create(Ae,...Pe){const gt=Pe[0]||{},Xe=`${this.service}/${Ae}`,Lt=this.errors[Ae],cn=Lt?function(we,Ae){return we.replace(Pt,(Pe,gt)=>{const Xe=Ae[gt];return null!=Xe?String(Xe):`<${gt}?>`})}(Lt,gt):"Error";return new We(Xe,`${this.serviceName}: ${cn} (${Xe}).`,gt)}}const Pt=/\{\$([^}]+)}/g;function Re(we,Ae){return Object.prototype.hasOwnProperty.call(we,Ae)}function Ct(we){for(const Ae in we)if(Object.prototype.hasOwnProperty.call(we,Ae))return!1;return!0}function Dn(we,Ae){if(we===Ae)return!0;const Pe=Object.keys(we),gt=Object.keys(Ae);for(const Xe of Pe){if(!gt.includes(Xe))return!1;const Lt=we[Xe],cn=Ae[Xe];if(sr(Lt)&&sr(cn)){if(!Dn(Lt,cn))return!1}else if(Lt!==cn)return!1}for(const Xe of gt)if(!Pe.includes(Xe))return!1;return!0}function sr(we){return null!==we&&"object"==typeof we}function mn(we){const Ae=[];for(const[Pe,gt]of Object.entries(we))Array.isArray(gt)?gt.forEach(Xe=>{Ae.push(encodeURIComponent(Pe)+"="+encodeURIComponent(Xe))}):Ae.push(encodeURIComponent(Pe)+"="+encodeURIComponent(gt));return Ae.length?"&"+Ae.join("&"):""}function Yn(we){const Ae={};return we.replace(/^\?/,"").split("&").forEach(gt=>{if(gt){const[Xe,Lt]=gt.split("=");Ae[decodeURIComponent(Xe)]=decodeURIComponent(Lt)}}),Ae}function kn(we){const Ae=we.indexOf("?");if(!Ae)return"";const Pe=we.indexOf("#",Ae);return we.substring(Ae,Pe>0?Pe:void 0)}function $e(we,Ae){const Pe=new at(we,Ae);return Pe.subscribe.bind(Pe)}class at{constructor(Ae,Pe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Pe,this.task.then(()=>{Ae(this)}).catch(gt=>{this.error(gt)})}next(Ae){this.forEachObserver(Pe=>{Pe.next(Ae)})}error(Ae){this.forEachObserver(Pe=>{Pe.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,Pe,gt){let Xe;if(void 0===Ae&&void 0===Pe&&void 0===gt)throw new Error("Missing Observer.");Xe=function(we,Ae){if("object"!=typeof we||null===we)return!1;for(const Pe of["next","error","complete"])if(Pe in we&&"function"==typeof we[Pe])return!0;return!1}(Ae)?Ae:{next:Ae,error:Pe,complete:gt},void 0===Xe.next&&(Xe.next=nn),void 0===Xe.error&&(Xe.error=nn),void 0===Xe.complete&&(Xe.complete=nn);const Lt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Xe.error(this.finalError):Xe.complete()}catch(cn){}}),this.observers.push(Xe),Lt}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let Pe=0;Pe<this.observers.length;Pe++)this.sendOne(Pe,Ae)}sendOne(Ae,Pe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{Pe(this.observers[Ae])}catch(gt){"undefined"!=typeof console&&console.error&&console.error(gt)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nn(){}function Ei(we){return we&&we._delegate?we._delegate:we}},7841:($t,et,Z)=>{"use strict";Z.d(et,{Z:()=>_.Z});var _=Z(4486);_.Z.registerVersion("firebase","9.1.2","app-compat")},5841:($t,et,Z)=>{"use strict";Z.r(et);var _=Z(8239),f=Z(4486),te=Z(3854),Ve=Z(5452),Me=Z(4762),ve=Z(5601),He=Z(6034);const Ye=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},qe=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},yt=new te.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ft=new ve.Yd("@firebase/auth");function wt(I,...g){ft.logLevel<=ve.in.ERROR&&ft.error(`Auth (${Ve.SDK_VERSION}): ${I}`,...g)}function ct(I,...g){throw Jt(I,...g)}function Se(I,...g){return Jt(I,...g)}function St(I,g,m){const S=Object.assign(Object.assign({},qe()),{[g]:m});return new te.LL("auth","Firebase",S).create(g,{appName:I.name})}function jt(I,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&ct(I,"argument-error"),St(I,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jt(I,...g){if("string"!=typeof I){const m=g[0],S=[...g.slice(1)];return S[0]&&(S[0].appName=I.name),I._errorFactory.create(m,...S)}return yt.create(I,...g)}function st(I,g,...m){if(!I)throw Jt(g,...m)}function Le(I){const g="INTERNAL ASSERTION FAILED: "+I;throw wt(g),new Error(g)}function tt(I,g){I||Le(g)}const Qe=new Map;function Te(I){tt(I instanceof Function,"Expected a class definition");let g=Qe.get(I);return g?(tt(g instanceof I,"Instance stored in cache mismatched with class"),g):(g=new I,Qe.set(I,g),g)}function Et(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function Pt(){return"http:"===Wt()||"https:"===Wt()}function Wt(){var I;return"undefined"!=typeof self&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class Yt{constructor(g,m){this.shortDelay=g,this.longDelay=m,tt(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,te.uI)()||(0,te.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,te.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Rn(I,g){tt(I.emulator,"Emulator should always be set here");const{url:m}=I.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class ht{static initialize(g,m,S){this.fetchImpl=g,m&&(this.headersImpl=m),S&&(this.responseImpl=S)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ut={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Re=new Yt(3e4,6e4);function Ge(I,g){return I.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:I.tenantId}):g}function Ct(I,g,m,S){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,_.Z)(function*(I,g,m,S,G={}){return Dn(I,G,()=>{let ie={},Be={};S&&("GET"===g?Be=S:ie={body:JSON.stringify(S)});const vt=(0,te.xO)(Object.assign({key:I.config.apiKey},Be)).slice(1),Ht=new(ht.headers());return Ht.set("Content-Type","application/json"),Ht.set("X-Client-Version",I._getSdkClientVersion()),I.languageCode&&Ht.set("X-Firebase-Locale",I.languageCode),ht.fetch()(kn(I,I.config.apiHost,m,vt),Object.assign({method:g,headers:Ht,referrerPolicy:"no-referrer"},ie))})})).apply(this,arguments)}function Dn(I,g,m){return sr.apply(this,arguments)}function sr(){return(sr=(0,_.Z)(function*(I,g,m){I._canInitEmulator=!1;const S=Object.assign(Object.assign({},ut),g);try{const G=new Rt(I),ie=yield Promise.race([m(),G.promise]);G.clearNetworkTimeout();const Be=yield ie.json();if("needConfirmation"in Be)throw $e(I,"account-exists-with-different-credential",Be);if(ie.ok&&!("errorMessage"in Be))return Be;{const vt=ie.ok?Be.errorMessage:Be.error.message,[Ht,tn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ht)throw $e(I,"credential-already-in-use",Be);if("EMAIL_EXISTS"===Ht)throw $e(I,"email-already-in-use",Be);const Bn=S[Ht]||Ht.toLowerCase().replace(/[_\s]+/g,"-");if(tn)throw St(I,Bn,tn);ct(I,Bn)}}catch(G){if(G instanceof te.ZR)throw G;ct(I,"network-request-failed")}})).apply(this,arguments)}function mn(I,g,m,S){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,_.Z)(function*(I,g,m,S,G={}){const ie=yield Ct(I,g,m,S,G);return"mfaPendingCredential"in ie&&ct(I,"multi-factor-auth-required",{serverResponse:ie}),ie})).apply(this,arguments)}function kn(I,g,m,S){const G=`${g}${m}?${S}`;return I.config.emulator?Rn(I.config,G):`${I.config.apiScheme}://${G}`}class Rt{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,S)=>{this.timer=setTimeout(()=>S(Se(this.auth,"timeout")),Re.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $e(I,g,m){const S={appName:I.name};m.email&&(S.email=m.email),m.phoneNumber&&(S.phoneNumber=m.phoneNumber);const G=Se(I,g,S);return G.customData._tokenResponse=m,G}function lt(){return(lt=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Xt(I,g){return nn.apply(this,arguments)}function nn(){return(nn=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function _n(I,g){return on.apply(this,arguments)}function on(){return(on=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Qt(I){if(I)try{const g=new Date(Number(I));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function Dr(){return(Dr=(0,_.Z)(function*(I,g=!1){const m=(0,te.m9)(I),S=yield m.getIdToken(g),G=kt(S);st(G&&G.exp&&G.auth_time&&G.iat,m.auth,"internal-error");const ie="object"==typeof G.firebase?G.firebase:void 0,Be=null==ie?void 0:ie.sign_in_provider;return{claims:G,token:S,authTime:Qt(Qn(G.auth_time)),issuedAtTime:Qt(Qn(G.iat)),expirationTime:Qt(Qn(G.exp)),signInProvider:Be||null,signInSecondFactor:(null==ie?void 0:ie.sign_in_second_factor)||null}})).apply(this,arguments)}function Qn(I){return 1e3*Number(I)}function kt(I){const[g,m,S]=I.split(".");if(void 0===g||void 0===m||void 0===S)return wt("JWT malformed, contained fewer than 3 sections"),null;try{const G=(0,te.tV)(m);return G?JSON.parse(G):(wt("Failed to decode base64 JWT payload"),null)}catch(G){return wt("Caught error parsing JWT payload as JSON",G),null}}function jr(I,g){return di.apply(this,arguments)}function di(){return(di=(0,_.Z)(function*(I,g,m=!1){if(m)return g;try{return yield g}catch(S){throw S instanceof te.ZR&&Sn(S)&&I.auth.currentUser===I&&(yield I.auth.signOut()),S}})).apply(this,arguments)}function Sn({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class ur{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const S=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),S}{this.errorBackoff=3e4;const G=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,G)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const S=this.getInterval(g);this.timerId=setTimeout((0,_.Z)(function*(){yield m.iteration()}),S)}iteration(){var g=this;return(0,_.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&g.schedule(!0))}g.schedule()})()}}class Hr{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Qt(this.lastLoginAt),this.creationTime=Qt(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ei(I){return we.apply(this,arguments)}function we(){return(we=(0,_.Z)(function*(I){var g;const m=I.auth,S=yield I.getIdToken(),G=yield jr(I,_n(m,{idToken:S}));st(null==G?void 0:G.users.length,m,"internal-error");const ie=G.users[0];I._notifyReloadListener(ie);const Be=(null===(g=ie.providerUserInfo)||void 0===g?void 0:g.length)?Xe(ie.providerUserInfo):[],vt=gt(I.providerData,Be),Bn=!!I.isAnonymous&&!(I.email&&ie.passwordHash||(null==vt?void 0:vt.length)),zn={uid:ie.localId,displayName:ie.displayName||null,photoURL:ie.photoUrl||null,email:ie.email||null,emailVerified:ie.emailVerified||!1,phoneNumber:ie.phoneNumber||null,tenantId:ie.tenantId||null,providerData:vt,metadata:new Hr(ie.createdAt,ie.lastLoginAt),isAnonymous:Bn};Object.assign(I,zn)})).apply(this,arguments)}function Pe(){return(Pe=(0,_.Z)(function*(I){const g=(0,te.m9)(I);yield Ei(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function gt(I,g){return[...I.filter(S=>!g.some(G=>G.providerId===S.providerId)),...g]}function Xe(I){return I.map(g=>{var{providerId:m}=g,S=(0,Me._T)(g,["providerId"]);return{providerId:m,uid:S.rawId||"",displayName:S.displayName||null,email:S.email||null,phoneNumber:S.phoneNumber||null,photoURL:S.photoUrl||null}})}function cn(){return(cn=(0,_.Z)(function*(I,g){const m=yield Dn(I,{},()=>{const S=(0,te.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:G,apiKey:ie}=I.config,Be=kn(I,G,"/v1/token",`key=${ie}`);return ht.fetch()(Be,{method:"POST",headers:{"X-Client-Version":I._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:S})});return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ln{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){st(g.idToken,"internal-error"),st(void 0!==g.idToken,"internal-error"),st(void 0!==g.refreshToken,"internal-error");const m="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(I){const g=kt(I);return st(g,"internal-error"),st(void 0!==g.exp,"internal-error"),st(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var S=this;return(0,_.Z)(function*(){return st(!S.accessToken||S.refreshToken,g,"user-token-expired"),m||!S.accessToken||S.isExpired?S.refreshToken?(yield S.refresh(g,S.refreshToken),S.accessToken):null:S.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var S=this;return(0,_.Z)(function*(){const{accessToken:G,refreshToken:ie,expiresIn:Be}=yield function(I,g){return cn.apply(this,arguments)}(g,m);S.updateTokensAndExpiration(G,ie,Number(Be))})()}updateTokensAndExpiration(g,m,S){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*S}static fromJSON(g,m){const{refreshToken:S,accessToken:G,expirationTime:ie}=m,Be=new Ln;return S&&(st("string"==typeof S,"internal-error",{appName:g}),Be.refreshToken=S),G&&(st("string"==typeof G,"internal-error",{appName:g}),Be.accessToken=G),ie&&(st("number"==typeof ie,"internal-error",{appName:g}),Be.expirationTime=ie),Be}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ln,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Zn(I,g){st("string"==typeof I||void 0===I,"internal-error",{appName:g})}class Un{constructor(g){var{uid:m,auth:S,stsTokenManager:G}=g,ie=(0,Me._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=S,this.stsTokenManager=G,this.accessToken=G.accessToken,this.displayName=ie.displayName||null,this.email=ie.email||null,this.emailVerified=ie.emailVerified||!1,this.phoneNumber=ie.phoneNumber||null,this.photoURL=ie.photoURL||null,this.isAnonymous=ie.isAnonymous||!1,this.tenantId=ie.tenantId||null,this.metadata=new Hr(ie.createdAt||void 0,ie.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,_.Z)(function*(){const S=yield jr(m,m.stsTokenManager.getToken(m.auth,g));return st(S,m.auth,"internal-error"),m.accessToken!==S&&(m.accessToken=S,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),S})()}getIdTokenResult(g){return function(I){return Dr.apply(this,arguments)}(this,g)}reload(){return function(I){return Pe.apply(this,arguments)}(this)}_assign(g){this!==g&&(st(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new Un(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var S=this;return(0,_.Z)(function*(){let G=!1;g.idToken&&g.idToken!==S.stsTokenManager.accessToken&&(S.stsTokenManager.updateFromServerResponse(g),G=!0),m&&(yield Ei(S)),yield S.auth._persistUserIfCurrent(S),G&&S.auth._notifyListenersIfCurrent(S)})()}delete(){var g=this;return(0,_.Z)(function*(){const m=yield g.getIdToken();return yield jr(g,function(I,g){return lt.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var S,G,ie,Be,vt,Ht,tn,Bn;const zn=null!==(S=m.displayName)&&void 0!==S?S:void 0,Is=null!==(G=m.email)&&void 0!==G?G:void 0,$o=null!==(ie=m.phoneNumber)&&void 0!==ie?ie:void 0,Mt=null!==(Be=m.photoURL)&&void 0!==Be?Be:void 0,nu=null!==(vt=m.tenantId)&&void 0!==vt?vt:void 0,Zo=null!==(Ht=m._redirectEventId)&&void 0!==Ht?Ht:void 0,Ih=null!==(tn=m.createdAt)&&void 0!==tn?tn:void 0,ru=null!==(Bn=m.lastLoginAt)&&void 0!==Bn?Bn:void 0,{uid:Do,emailVerified:_a,isAnonymous:Dl,providerData:gd,stsTokenManager:Vu}=m;st(Do&&Vu,g,"internal-error");const rp=Ln.fromJSON(this.name,Vu);st("string"==typeof Do,g,"internal-error"),Zn(zn,g.name),Zn(Is,g.name),st("boolean"==typeof _a,g,"internal-error"),st("boolean"==typeof Dl,g,"internal-error"),Zn($o,g.name),Zn(Mt,g.name),Zn(nu,g.name),Zn(Zo,g.name),Zn(Ih,g.name),Zn(ru,g.name);const Mi=new Un({uid:Do,auth:g,email:Is,emailVerified:_a,displayName:zn,isAnonymous:Dl,photoURL:Mt,phoneNumber:$o,tenantId:nu,stsTokenManager:rp,createdAt:Ih,lastLoginAt:ru});return gd&&Array.isArray(gd)&&(Mi.providerData=gd.map(Uu=>Object.assign({},Uu))),Zo&&(Mi._redirectEventId=Zo),Mi}static _fromIdTokenResponse(g,m,S=!1){return(0,_.Z)(function*(){const G=new Ln;G.updateFromServerResponse(m);const ie=new Un({uid:m.localId,auth:g,stsTokenManager:G,isAnonymous:S});return yield Ei(ie),ie})()}}const jn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,_.Z)(function*(){return!0})()}_set(m,S){var G=this;return(0,_.Z)(function*(){G.storage[m]=S})()}_get(m){var S=this;return(0,_.Z)(function*(){const G=S.storage[m];return void 0===G?null:G})()}_remove(m){var S=this;return(0,_.Z)(function*(){delete S.storage[m]})()}_addListener(m,S){}_removeListener(m,S){}}return I.type="NONE",I})();function kr(I,g,m){return`firebase:${I}:${g}:${m}`}class $r{constructor(g,m,S){this.persistence=g,this.auth=m,this.userKey=S;const{config:G,name:ie}=this.auth;this.fullUserKey=kr(this.userKey,G.apiKey,ie),this.fullPersistenceKey=kr("persistence",G.apiKey,ie),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,_.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Un._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,_.Z)(function*(){if(m.persistence===g)return;const S=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,S?m.setCurrentUser(S):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,S="authUser"){return(0,_.Z)(function*(){if(!m.length)return new $r(Te(jn),g,S);const G=(yield Promise.all(m.map(function(){var tn=(0,_.Z)(function*(Bn){if(yield Bn._isAvailable())return Bn});return function(Bn){return tn.apply(this,arguments)}}()))).filter(tn=>tn);let ie=G[0]||Te(jn);const Be=kr(S,g.config.apiKey,g.name);let vt=null;for(const tn of m)try{const Bn=yield tn._get(Be);if(Bn){const zn=Un._fromJSON(g,Bn);tn!==ie&&(vt=zn),ie=tn;break}}catch(Bn){}const Ht=G.filter(tn=>tn._shouldAllowMigration);return ie._shouldAllowMigration&&Ht.length?(ie=Ht[0],vt&&(yield ie._set(Be,vt.toJSON())),yield Promise.all(m.map(function(){var tn=(0,_.Z)(function*(Bn){if(Bn!==ie)try{yield Bn._remove(Be)}catch(zn){}});return function(Bn){return tn.apply(this,arguments)}}())),new $r(ie,g,S)):new $r(ie,g,S)})()}}function ji(I){const g=I.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ei(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(bn(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(gr(g))return"Blackberry";if(Nn(g))return"Webos";if(Ci(g))return"Safari";if((g.includes("chrome/")||Wi(g))&&!g.includes("edge/"))return"Chrome";if(Hi(g))return"Android";{const S=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==S?void 0:S.length))return S[1]}return"Other"}function bn(I=(0,te.z$)()){return/firefox\//i.test(I)}function Ci(I=(0,te.z$)()){const g=I.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Wi(I=(0,te.z$)()){return/crios\//i.test(I)}function ei(I=(0,te.z$)()){return/iemobile/i.test(I)}function Hi(I=(0,te.z$)()){return/android/i.test(I)}function gr(I=(0,te.z$)()){return/blackberry/i.test(I)}function Nn(I=(0,te.z$)()){return/webos/i.test(I)}function en(I=(0,te.z$)()){return/iphone|ipad|ipod/i.test(I)}function Bt(I=(0,te.z$)()){return en(I)||Hi(I)||Nn(I)||gr(I)||/windows phone/i.test(I)||ei(I)}function pr(I,g=[]){let m;switch(I){case"Browser":m=ji((0,te.z$)());break;case"Worker":m=`${ji((0,te.z$)())}-${I}`;break;default:m=I}const S=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${Ve.SDK_VERSION}/${S}`}class Vr{constructor(g,m){this.app=g,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tr(this),this.idTokenSubscription=new tr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(g,m){var S=this;return m&&(this._popupRedirectResolver=Te(m)),this._initializationPromise=this.queue((0,_.Z)(function*(){var G;S._deleted||(S.persistenceManager=yield $r.create(S,g),!S._deleted&&((null===(G=S._popupRedirectResolver)||void 0===G?void 0:G._shouldInitProactively)&&(yield S._popupRedirectResolver._initialize(S)),yield S.initializeCurrentUser(m),!S._deleted&&(S._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,_.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m)}})()}initializeCurrentUser(g){var m=this;return(0,_.Z)(function*(){var S;let G=yield m.assertedPersistence.getCurrentUser();if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ie=null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId,Be=null==G?void 0:G._redirectEventId,vt=yield m.tryRedirectSignIn(g);(!ie||ie===Be)&&(null==vt?void 0:vt.user)&&(G=vt.user)}return G?G._redirectEventId?(st(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===G._redirectEventId?m.directlySetCurrentUser(G):m.reloadAndSetCurrentUserOrClear(G)):m.reloadAndSetCurrentUserOrClear(G):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var m=this;return(0,_.Z)(function*(){let S=null;try{S=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch(G){yield m._setRedirectUser(null)}return S})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,_.Z)(function*(){try{yield Ei(g)}catch(S){if("auth/network-request-failed"!==S.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var g=this;return(0,_.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){const S=g?(0,te.m9)(g):null;return S&&st(S.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(S&&S._clone(m))})()}_updateCurrentUser(g){var m=this;return(0,_.Z)(function*(){if(!m._deleted)return g&&st(m.tenantId===g.tenantId,m,"tenant-id-mismatch"),m.queue((0,_.Z)(function*(){yield m.directlySetCurrentUser(g),m.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,_.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var m=this;return this.queue((0,_.Z)(function*(){yield m.assertedPersistence.setPersistence(Te(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new te.LL("auth","Firebase",g())}onAuthStateChanged(g,m,S){return this.registerStateListener(this.authStateSubscription,g,m,S)}onIdTokenChanged(g,m,S){return this.registerStateListener(this.idTokenSubscription,g,m,S)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var S=this;return(0,_.Z)(function*(){const G=yield S.getOrInitRedirectPersistenceManager(m);return null===g?G.removeCurrentUser():G.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,_.Z)(function*(){if(!m.redirectPersistenceManager){const S=g&&Te(g)||m._popupRedirectResolver;st(S,m,"argument-error"),m.redirectPersistenceManager=yield $r.create(m,[Te(S._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,_.Z)(function*(){var S,G;return m._isInitialized&&(yield m.queue((0,_.Z)(function*(){}))),(null===(S=m._currentUser)||void 0===S?void 0:S._redirectEventId)===g?m._currentUser:(null===(G=m.redirectUser)||void 0===G?void 0:G._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,_.Z)(function*(){if(g===m.currentUser)return m.queue((0,_.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const S=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==S&&(this.lastNotifiedUid=S,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,S,G){if(this._deleted)return()=>{};const ie="function"==typeof m?m:m.next.bind(m),Be=this._isInitialized?Promise.resolve():this._initializationPromise;return st(Be,this,"internal-error"),Be.then(()=>ie(this.currentUser)),"function"==typeof m?g.addObserver(m,S,G):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,_.Z)(function*(){m.currentUser&&m.currentUser!==g&&(m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh()),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=pr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function or(I){return(0,te.m9)(I)}class tr{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,te.ne)(m=>this.observer=m)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fn(I){const g=I.indexOf(":");return g<0?"":I.substr(0,g+1)}function Er(I){if(!I)return null;const g=Number(I);return isNaN(g)?null:g}class Ze{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return Le("not implemented")}_getIdTokenResponse(g){return Le("not implemented")}_linkToIdToken(g,m){return Le("not implemented")}_getReauthenticationResolver(g){return Le("not implemented")}}function ke(I,g){return ye.apply(this,arguments)}function ye(){return(ye=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:resetPassword",Ge(I,g))})).apply(this,arguments)}function Je(I,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function an(I,g){return En.apply(this,arguments)}function En(){return(En=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:update",Ge(I,g))})).apply(this,arguments)}function In(){return(In=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithPassword",Ge(I,g))})).apply(this,arguments)}function rs(I,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:sendOobCode",Ge(I,g))})).apply(this,arguments)}function Ur(I,g){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,_.Z)(function*(I,g){return rs(I,g)})).apply(this,arguments)}function oi(I,g){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,_.Z)(function*(I,g){return rs(I,g)})).apply(this,arguments)}function hn(I,g){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,_.Z)(function*(I,g){return rs(I,g)})).apply(this,arguments)}function Ts(I,g){return ui.apply(this,arguments)}function ui(){return(ui=(0,_.Z)(function*(I,g){return rs(I,g)})).apply(this,arguments)}function hi(){return(hi=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithEmailLink",Ge(I,g))})).apply(this,arguments)}function ti(){return(ti=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithEmailLink",Ge(I,g))})).apply(this,arguments)}class xr extends Ze{constructor(g,m,S,G=null){super("password",S),this._email=g,this._password=m,this._tenantId=G}static _fromEmailAndPassword(g,m){return new xr(g,m,"password")}static _fromEmailAndCode(g,m,S=null){return new xr(g,m,"emailLink",S)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,_.Z)(function*(){switch(m.signInMethod){case"password":return function(I,g){return In.apply(this,arguments)}(g,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function(I,g){return hi.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ct(g,"internal-error")}})()}_linkToIdToken(g,m){var S=this;return(0,_.Z)(function*(){switch(S.signInMethod){case"password":return Je(g,{idToken:m,returnSecureToken:!0,email:S._email,password:S._password});case"emailLink":return function(I,g){return ti.apply(this,arguments)}(g,{idToken:m,email:S._email,oobCode:S._password});default:ct(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function Hn(I,g){return cs.apply(this,arguments)}function cs(){return(cs=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithIdp",Ge(I,g))})).apply(this,arguments)}class Ai extends Ze{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Ai(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ct("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G}=m,ie=(0,Me._T)(m,["providerId","signInMethod"]);if(!S||!G)return null;const Be=new Ai(S,G);return Be.idToken=ie.idToken||void 0,Be.accessToken=ie.accessToken||void 0,Be.secret=ie.secret,Be.nonce=ie.nonce,Be.pendingToken=ie.pendingToken||null,Be}_getIdTokenResponse(g){return Hn(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,Hn(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hn(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,te.xO)(m)}return g}}function Ki(I,g){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:sendVerificationCode",Ge(I,g))})).apply(this,arguments)}function ds(){return(ds=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,g))})).apply(this,arguments)}function Ss(){return(Ss=(0,_.Z)(function*(I,g){const m=yield mn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,g));if(m.temporaryProof)throw $e(I,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const ki={USER_NOT_FOUND:"user-not-found"};function hs(){return(hs=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ge(I,Object.assign(Object.assign({},g),{operation:"REAUTH"})),ki)})).apply(this,arguments)}class $i extends Ze{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new $i({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new $i({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function(I,g){return ds.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function(I,g){return Ss.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(I,g){return hs.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:S,verificationCode:G}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:S,code:G}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:ie}=g;return S||m||G||ie?new $i({verificationId:m,verificationCode:S,phoneNumber:G,temporaryProof:ie}):null}}class fi{constructor(g){var m,S,G,ie,Be,vt;const Ht=(0,te.zd)((0,te.pd)(g)),tn=null!==(m=Ht.apiKey)&&void 0!==m?m:null,Bn=null!==(S=Ht.oobCode)&&void 0!==S?S:null,zn=function(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(G=Ht.mode)&&void 0!==G?G:null);st(tn&&Bn&&zn,"argument-error"),this.apiKey=tn,this.operation=zn,this.code=Bn,this.continueUrl=null!==(ie=Ht.continueUrl)&&void 0!==ie?ie:null,this.languageCode=null!==(Be=Ht.languageCode)&&void 0!==Be?Be:null,this.tenantId=null!==(vt=Ht.tenantId)&&void 0!==vt?vt:null}static parseLink(g){const m=function(I){const g=(0,te.zd)((0,te.pd)(I)).link,m=g?(0,te.zd)((0,te.pd)(g)).deep_link_id:null,S=(0,te.zd)((0,te.pd)(I)).deep_link_id;return(S?(0,te.zd)((0,te.pd)(S)).link:null)||S||m||g||I}(g);try{return new fi(m)}catch(S){return null}}}let fs=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(m,S){return xr._fromEmailAndPassword(m,S)}static credentialWithLink(m,S){const G=fi.parseLink(S);return st(G,"argument-error"),xr._fromEmailAndCode(m,G.code,G.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class pi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ai extends pi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class ni extends ai{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return st("providerId"in m&&"signInMethod"in m,"argument-error"),Ai._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return st(g.idToken||g.accessToken,"argument-error"),Ai._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return ni.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return ni.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:S,oauthTokenSecret:G,pendingToken:ie,nonce:Be,providerId:vt}=g;if(!S&&!G&&!m&&!ie||!vt)return null;try{return new ni(vt)._credential({idToken:m,accessToken:S,nonce:Be,pendingToken:ie})}catch(Ht){return null}}}let ps=(()=>{class I extends ai{constructor(){super("facebook.com")}static credential(m){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch(S){return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),Ii=(()=>{class I extends ai{constructor(){super("google.com"),this.addScope("profile")}static credential(m,S){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:S})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:S,oauthAccessToken:G}=m;if(!S&&!G)return null;try{return I.credential(S,G)}catch(ie){return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),xs=(()=>{class I extends ai{constructor(){super("github.com")}static credential(m){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return I.credential(m.oauthAccessToken)}catch(S){return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class Fi extends Ze{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return Hn(g,this.buildRequest())}_linkToIdToken(g,m){const S=this.buildRequest();return S.idToken=m,Hn(g,S)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,Hn(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:S,signInMethod:G,pendingToken:ie}=m;return S&&G&&ie&&S===G?new Fi(S,ie):null}static _create(g,m){return new Fi(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Qi=(()=>{class I extends ai{constructor(){super("twitter.com")}static credential(m,S){return Ai._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:S})}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:S,oauthTokenSecret:G}=m;if(!S||!G)return null;try{return I.credential(S,G)}catch(ie){return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function Ms(I,g){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signUp",Ge(I,g))})).apply(this,arguments)}class Tr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,S,G=!1){return(0,_.Z)(function*(){const ie=yield Un._fromIdTokenResponse(g,S,G),Be=Ji(S);return new Tr({user:ie,providerId:Be,_tokenResponse:S,operationType:m})})()}static _forOperation(g,m,S){return(0,_.Z)(function*(){yield g._updateTokensIfNecessary(S,!0);const G=Ji(S);return new Tr({user:g,providerId:G,_tokenResponse:S,operationType:m})})()}}function Ji(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function Zi(){return(Zi=(0,_.Z)(function*(I){var g;const m=or(I);if(yield m._initializationPromise,null===(g=m.currentUser)||void 0===g?void 0:g.isAnonymous)return new Tr({user:m.currentUser,providerId:null,operationType:"signIn"});const S=yield Ms(m,{returnSecureToken:!0}),G=yield Tr._fromIdTokenResponse(m,"signIn",S,!0);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class gs extends te.ZR{constructor(g,m,S,G){var ie;super(m.code,m.message),this.operationType=S,this.user=G,this.name="FirebaseError",Object.setPrototypeOf(this,gs.prototype),this.appName=g.name,this.code=m.code,this.tenantId=null!==(ie=g.tenantId)&&void 0!==ie?ie:void 0,this.serverResponse=m.customData.serverResponse}static _fromErrorAndOperation(g,m,S,G){return new gs(g,m,S,G)}}function Us(I,g,m,S){return("reauthenticate"===g?m._getReauthenticationResolver(I):m._getIdTokenResponse(I)).catch(ie=>{throw"auth/multi-factor-auth-required"===ie.code?gs._fromErrorAndOperation(I,ie,g,S):ie})}function Ns(I){return new Set(I.map(({providerId:g})=>g).filter(g=>!!g))}function Os(){return(Os=(0,_.Z)(function*(I,g){const m=(0,te.m9)(I);yield H(!0,m,g);const{providerUserInfo:S}=yield Xt(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),G=Ns(S||[]);return m.providerData=m.providerData.filter(ie=>G.has(ie.providerId)),G.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function U(I,g){return ee.apply(this,arguments)}function ee(){return(ee=(0,_.Z)(function*(I,g,m=!1){const S=yield jr(I,g._linkToIdToken(I.auth,yield I.getIdToken()),m);return Tr._forOperation(I,"link",S)})).apply(this,arguments)}function H(I,g,m){return re.apply(this,arguments)}function re(){return(re=(0,_.Z)(function*(I,g,m){yield Ei(g);const G=!1===I?"provider-already-linked":"no-such-provider";st(Ns(g.providerData).has(m)===I,g.auth,G)})).apply(this,arguments)}function be(I,g){return it.apply(this,arguments)}function it(){return(it=(0,_.Z)(function*(I,g,m=!1){const{auth:S}=I,G="reauthenticate";try{const ie=yield jr(I,Us(S,G,g,I),m);st(ie.idToken,S,"internal-error");const Be=kt(ie.idToken);st(Be,S,"internal-error");const{sub:vt}=Be;return st(I.uid===vt,S,"user-mismatch"),Tr._forOperation(I,G,ie)}catch(ie){throw"auth/user-not-found"===(null==ie?void 0:ie.code)&&ct(S,"user-mismatch"),ie}})).apply(this,arguments)}function It(I,g){return V.apply(this,arguments)}function V(){return(V=(0,_.Z)(function*(I,g,m=!1){const S="signIn",G=yield Us(I,S,g),ie=yield Tr._fromIdTokenResponse(I,S,G);return m||(yield I._updateCurrentUser(ie.user)),ie})).apply(this,arguments)}function k(I,g){return M.apply(this,arguments)}function M(){return(M=(0,_.Z)(function*(I,g){return It(or(I),g)})).apply(this,arguments)}function X(I,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,_.Z)(function*(I,g){const m=(0,te.m9)(I);return yield H(!1,m,g.providerId),U(m,g)})).apply(this,arguments)}function Ot(I,g){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,_.Z)(function*(I,g){return be((0,te.m9)(I),g)})).apply(this,arguments)}function Jn(I,g){return gi.apply(this,arguments)}function gi(){return(gi=(0,_.Z)(function*(I,g){return mn(I,"POST","/v1/accounts:signInWithCustomToken",Ge(I,g))})).apply(this,arguments)}function ri(){return(ri=(0,_.Z)(function*(I,g){const m=or(I),S=yield Jn(m,{token:g,returnSecureToken:!0}),G=yield Tr._fromIdTokenResponse(m,"signIn",S);return yield m._updateCurrentUser(G.user),G})).apply(this,arguments)}class Li{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?An._fromServerResponse(g,m):ct(g,"internal-error")}}class An extends Li{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new An(m)}}function ao(I,g,m){var S;st((null===(S=m.url)||void 0===S?void 0:S.length)>0,I,"invalid-continue-uri"),st(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(st(m.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(st(m.android.packageName.length>0,I,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function Qs(){return(Qs=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I),G={requestType:"PASSWORD_RESET",email:g};m&&ao(S,G,m),yield oi(S,G)})).apply(this,arguments)}function _s(){return(_s=(0,_.Z)(function*(I,g,m){yield ke((0,te.m9)(I),{oobCode:g,newPassword:m})})).apply(this,arguments)}function vs(){return(vs=(0,_.Z)(function*(I,g){yield an((0,te.m9)(I),{oobCode:g})})).apply(this,arguments)}function Tt(I,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,_.Z)(function*(I,g){const m=(0,te.m9)(I),S=yield ke(m,{oobCode:g}),G=S.requestType;switch(st(G,m,"internal-error"),G){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":st(S.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":st(S.mfaInfo,m,"internal-error");default:st(S.email,m,"internal-error")}let ie=null;return S.mfaInfo&&(ie=Li._fromServerResponse(or(m),S.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.newEmail:S.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===S.requestType?S.email:S.newEmail)||null,multiFactorInfo:ie},operation:G}})).apply(this,arguments)}function ii(){return(ii=(0,_.Z)(function*(I,g){const{data:m}=yield Tt((0,te.m9)(I),g);return m.email})).apply(this,arguments)}function Xi(){return(Xi=(0,_.Z)(function*(I,g,m){const S=or(I),G=yield Ms(S,{returnSecureToken:!0,email:g,password:m}),ie=yield Tr._fromIdTokenResponse(S,"signIn",G);return yield S._updateCurrentUser(ie.user),ie})).apply(this,arguments)}function yo(){return(yo=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I),G={requestType:"EMAIL_SIGNIN",email:g};st(m.handleCodeInApp,S,"argument-error"),m&&ao(S,G,m),yield hn(S,G)})).apply(this,arguments)}function Oo(){return(Oo=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I),G=fs.credentialWithLink(g,m||Et());return st(G._tenantId===(S.tenantId||null),S,"tenant-id-mismatch"),k(S,G)})).apply(this,arguments)}function Di(I,g){return qr.apply(this,arguments)}function qr(){return(qr=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:createAuthUri",Ge(I,g))})).apply(this,arguments)}function uo(){return(uo=(0,_.Z)(function*(I,g){const S={identifier:g,continueUri:Pt()?Et():"http://localhost"},{signinMethods:G}=yield Di((0,te.m9)(I),S);return G||[]})).apply(this,arguments)}function es(){return(es=(0,_.Z)(function*(I,g){const m=(0,te.m9)(I),G={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};g&&ao(m.auth,G,g);const{email:ie}=yield Ur(m.auth,G);ie!==I.email&&(yield I.reload())})).apply(this,arguments)}function ss(){return(ss=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I),ie={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:g};m&&ao(S.auth,ie,m);const{email:Be}=yield Ts(S.auth,ie);Be!==I.email&&(yield I.reload())})).apply(this,arguments)}function co(I,g){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,_.Z)(function*(I,g){return Ct(I,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function q(){return(q=(0,_.Z)(function*(I,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const S=(0,te.m9)(I),ie={idToken:yield S.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},Be=yield jr(S,co(S.auth,ie));S.displayName=Be.displayName||null,S.photoURL=Be.photoUrl||null;const vt=S.providerData.find(({providerId:Ht})=>"password"===Ht);vt&&(vt.displayName=S.displayName,vt.photoURL=S.photoURL),yield S._updateTokensIfNecessary(Be)})).apply(this,arguments)}function ae(I,g,m){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,_.Z)(function*(I,g,m){const{auth:S}=I,ie={idToken:yield I.getIdToken(),returnSecureToken:!0};g&&(ie.email=g),m&&(ie.password=m);const Be=yield jr(I,Je(S,ie));yield I._updateTokensIfNecessary(Be,!0)})).apply(this,arguments)}class _t{constructor(g,m,S={}){this.isNewUser=g,this.providerId=m,this.profile=S}}class rn extends _t{constructor(g,m,S,G){super(g,m,S),this.username=G}}class Zt extends _t{constructor(g,m){super(g,"facebook.com",m)}}class fn extends rn{constructor(g,m){super(g,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class pn extends _t{constructor(g,m){super(g,"google.com",m)}}class rr extends rn{constructor(g,m,S){super(g,"twitter.com",m,S)}}function Cr(I){const{user:g,_tokenResponse:m}=I;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function(I){var g,m;if(!I)return null;const{providerId:S}=I,G=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},ie=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!S&&(null==I?void 0:I.idToken)){const Be=null===(m=null===(g=kt(I.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(Be)return new _t(ie,"anonymous"!==Be&&"custom"!==Be?Be:null)}if(!S)return null;switch(S){case"facebook.com":return new Zt(ie,G);case"github.com":return new fn(ie,G);case"google.com":return new pn(ie,G);case"twitter.com":return new rr(ie,G,I.screenName||null);case"custom":case"anonymous":return new _t(ie,null);default:return new _t(ie,S,G)}}(m)}class Kr{constructor(g,m){this.type=g,this.credential=m}static _fromIdtoken(g){return new Kr("enroll",g)}static _fromMfaPendingCredential(g){return new Kr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,S;if(null==g?void 0:g.multiFactorSession){if(null===(m=g.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Kr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(S=g.multiFactorSession)||void 0===S?void 0:S.idToken)return Kr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class bs{constructor(g,m,S){this.session=g,this.hints=m,this.signInResolver=S}static _fromError(g,m){const S=or(g),G=(m.serverResponse.mfaInfo||[]).map(Be=>Li._fromServerResponse(S,Be));st(m.serverResponse.mfaPendingCredential,S,"internal-error");const ie=Kr._fromMfaPendingCredential(m.serverResponse.mfaPendingCredential);return new bs(ie,G,function(){var Be=(0,_.Z)(function*(vt){const Ht=yield vt._process(S,ie);delete m.serverResponse.mfaInfo,delete m.serverResponse.mfaPendingCredential;const tn=Object.assign(Object.assign({},m.serverResponse),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(m.operationType){case"signIn":const Bn=yield Tr._fromIdTokenResponse(S,m.operationType,tn);return yield S._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return st(m.user,S,"internal-error"),Tr._forOperation(m.user,m.operationType,tn);default:ct(S,"internal-error")}});return function(vt){return Be.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,_.Z)(function*(){return m.signInResolver(g)})()}}function Js(I,g){return Ct(I,"POST","/v2/accounts/mfaEnrollment:start",Ge(I,g))}class Ao{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(S=>Li._fromServerResponse(g.auth,S)))})}static _fromUser(g){return new Ao(g)}getSession(){var g=this;return(0,_.Z)(function*(){return Kr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,m){var S=this;return(0,_.Z)(function*(){const G=g,ie=yield S.getSession(),Be=yield jr(S.user,G._process(S.user.auth,ie,m));return yield S.user._updateTokensIfNecessary(Be),S.user.reload()})()}unenroll(g){var m=this;return(0,_.Z)(function*(){const S="string"==typeof g?g:g.uid,G=yield m.user.getIdToken(),ie=yield jr(m.user,function(I,g){return Ct(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ge(I,g))}(m.user.auth,{idToken:G,mfaEnrollmentId:S}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Be})=>Be!==S),yield m.user._updateTokensIfNecessary(ie);try{yield m.user.reload()}catch(Be){if("auth/user-token-expired"!==Be.code)throw Be}})()}}const Zs=new WeakMap,Xs="__sak";class qs{constructor(g,m){this.storage=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xs,"1"),this.storage.removeItem(Xs),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}}const xt=(()=>{class I extends qs{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(m,S)=>this.onStorageEvent(m,S),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const I=(0,te.z$)();return Ci(I)||en(I)}()&&function(){try{return!(!window||window===window.top)}catch(I){return!1}}(),this.fallbackToPolling=Bt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const S of Object.keys(this.listeners)){const G=this.storage.getItem(S),ie=this.localCache[S];G!==ie&&m(S,ie,G)}}onStorageEvent(m,S=!1){if(!m.key)return void this.forAllChangedKeys((vt,Ht,tn)=>{this.notifyListeners(vt,tn)});const G=m.key;if(S?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const vt=this.storage.getItem(G);if(m.newValue!==vt)null!==m.newValue?this.storage.setItem(G,m.newValue):this.storage.removeItem(G);else if(this.localCache[G]===m.newValue&&!S)return}const ie=()=>{const vt=this.storage.getItem(G);!S&&this.localCache[G]===vt||this.notifyListeners(G,vt)},Be=this.storage.getItem(G);(0,te.w1)()&&10===document.documentMode&&Be!==m.newValue&&m.newValue!==m.oldValue?setTimeout(ie,10):ie()}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const ie of Array.from(G))ie(S&&JSON.parse(S))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,S,G)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:S,newValue:G}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,S){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,S){var G=()=>super._set,ie=this;return(0,_.Z)(function*(){yield G().call(ie,m,S),ie.localCache[m]=JSON.stringify(S)})()}_get(m){var S=()=>super._get,G=this;return(0,_.Z)(function*(){const ie=yield S().call(G,m);return G.localCache[m]=JSON.stringify(ie),ie})()}_remove(m){var S=()=>super._remove,G=this;return(0,_.Z)(function*(){yield S().call(G,m),delete G.localCache[m]})()}}return I.type="LOCAL",I})(),Kn=(()=>{class I extends qs{constructor(){super(window.sessionStorage,"SESSION")}_addListener(m,S){}_removeListener(m,S){}}return I.type="SESSION",I})();let Ui=(()=>{class I{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const S=this.receivers.find(ie=>ie.isListeningto(m));if(S)return S;const G=new I(m);return this.receivers.push(G),G}isListeningto(m){return this.eventTarget===m}handleEvent(m){var S=this;return(0,_.Z)(function*(){const G=m,{eventId:ie,eventType:Be,data:vt}=G.data,Ht=S.handlersMap[Be];if(!(null==Ht?void 0:Ht.size))return;G.ports[0].postMessage({status:"ack",eventId:ie,eventType:Be});const tn=Array.from(Ht).map(function(){var zn=(0,_.Z)(function*(Is){return Is(G.origin,vt)});return function(Is){return zn.apply(this,arguments)}}()),Bn=yield function(I){return Promise.all(I.map(function(){var g=(0,_.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(S){return{fulfilled:!1,reason:S}}});return function(m){return g.apply(this,arguments)}}()))}(tn);G.ports[0].postMessage({status:"done",eventId:ie,eventType:Be,response:Bn})})()}_subscribe(m,S){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(S)}_unsubscribe(m,S){this.handlersMap[m]&&S&&this.handlersMap[m].delete(S),(!S||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function xi(I="",g=10){let m="";for(let S=0;S<g;S++)m+=Math.floor(10*Math.random());return I+m}class sa{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,S=50){var G=this;return(0,_.Z)(function*(){const ie="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ie)throw new Error("connection_unavailable");let Be,vt;return new Promise((Ht,tn)=>{const Bn=xi("",20);ie.port1.start();const zn=setTimeout(()=>{tn(new Error("unsupported_event"))},S);vt={messageChannel:ie,onMessage(Is){const $o=Is;if($o.data.eventId===Bn)switch($o.data.status){case"ack":clearTimeout(zn),Be=setTimeout(()=>{tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Be),Ht($o.data.response);break;default:clearTimeout(zn),clearTimeout(Be),tn(new Error("invalid_response"))}}},G.handlers.add(vt),ie.port1.addEventListener("message",vt.onMessage),G.target.postMessage({eventType:g,eventId:Bn,data:m},[ie.port2])}).finally(()=>{vt&&G.removeMessageHandler(vt)})})()}}function yi(){return window}function Po(){return void 0!==yi().WorkerGlobalScope&&"function"==typeof yi().importScripts}function aa(){return(aa=(0,_.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(I){return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",ko="firebaseLocalStorage",Fo="fbase_key";class F{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function b(I,g){return I.transaction([ko],g?"readwrite":"readonly").objectStore(ko)}function R(){const I=indexedDB.open(cl,1);return new Promise((g,m)=>{I.addEventListener("error",()=>{m(I.error)}),I.addEventListener("upgradeneeded",()=>{const S=I.result;try{S.createObjectStore(ko,{keyPath:Fo})}catch(G){m(G)}}),I.addEventListener("success",(0,_.Z)(function*(){const S=I.result;S.objectStoreNames.contains(ko)?g(S):(S.close(),yield function(){const I=indexedDB.deleteDatabase(cl);return new F(I).toPromise()}(),g(yield R()))}))})}function W(I,g,m){return oe.apply(this,arguments)}function oe(){return(oe=(0,_.Z)(function*(I,g,m){const S=b(I,!0).put({[Fo]:g,value:m});return new F(S).toPromise()})).apply(this,arguments)}function ge(){return(ge=(0,_.Z)(function*(I,g){const m=b(I,!1).get(g),S=yield new F(m).toPromise();return void 0===S?null:S.value})).apply(this,arguments)}function nt(I,g){const m=b(I,!0).delete(g);return new F(m).toPromise()}const A=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,_.Z)(function*(){return m.db||(m.db=yield R()),m.db})()}_withRetries(m){var S=this;return(0,_.Z)(function*(){let G=0;for(;;)try{const ie=yield S._openDb();return yield m(ie)}catch(ie){if(G++>3)throw ie;S.db&&(S.db.close(),S.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,_.Z)(function*(){return Po()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,_.Z)(function*(){m.receiver=Ui._getInstance(Po()?self:null),m.receiver._subscribe("keyChanged",function(){var S=(0,_.Z)(function*(G,ie){return{keyProcessed:(yield m._poll()).includes(ie.key)}});return function(G,ie){return S.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var S=(0,_.Z)(function*(G,ie){return["keyChanged"]});return function(G,ie){return S.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,_.Z)(function*(){var S,G;if(m.activeServiceWorker=yield function(){return aa.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new sa(m.activeServiceWorker);const ie=yield m.sender._send("ping",{},800);!ie||(null===(S=ie[0])||void 0===S?void 0:S.fulfilled)&&(null===(G=ie[0])||void 0===G?void 0:G.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var S=this;return(0,_.Z)(function*(){if(S.sender&&S.activeServiceWorker&&function(){var I;return(null===(I=null==navigator?void 0:navigator.serviceWorker)||void 0===I?void 0:I.controller)||null}()===S.activeServiceWorker)try{yield S.sender._send("keyChanged",{key:m},S.serviceWorkerReceiverAvailable?800:50)}catch(G){}})()}_isAvailable(){return(0,_.Z)(function*(){try{if(!indexedDB)return!1;const m=yield R();return yield W(m,Xs,"1"),yield nt(m,Xs),!0}catch(m){}return!1})()}_withPendingWrite(m){var S=this;return(0,_.Z)(function*(){S.pendingWrites++;try{yield m()}finally{S.pendingWrites--}})()}_set(m,S){var G=this;return(0,_.Z)(function*(){return G._withPendingWrite((0,_.Z)(function*(){return yield G._withRetries(ie=>W(ie,m,S)),G.localCache[m]=S,G.notifyServiceWorker(m)}))})()}_get(m){var S=this;return(0,_.Z)(function*(){const G=yield S._withRetries(ie=>function(I,g){return ge.apply(this,arguments)}(ie,m));return S.localCache[m]=G,G})()}_remove(m){var S=this;return(0,_.Z)(function*(){return S._withPendingWrite((0,_.Z)(function*(){return yield S._withRetries(G=>nt(G,m)),delete S.localCache[m],S.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,_.Z)(function*(){const S=yield m._withRetries(Be=>{const vt=b(Be,!1).getAll();return new F(vt).toPromise()});if(!S)return[];if(0!==m.pendingWrites)return[];const G=[],ie=new Set;for(const{fbase_key:Be,value:vt}of S)ie.add(Be),JSON.stringify(m.localCache[Be])!==JSON.stringify(vt)&&(m.notifyListeners(Be,vt),G.push(Be));for(const Be of Object.keys(m.localCache))m.localCache[Be]&&!ie.has(Be)&&(m.notifyListeners(Be,null),G.push(Be));return G})()}notifyListeners(m,S){this.localCache[m]=S;const G=this.listeners[m];if(G)for(const ie of Array.from(G))ie(S)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,_.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,S){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(S)}_removeListener(m,S){this.listeners[m]&&(this.listeners[m].delete(S),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function P(I,g){return Ct(I,"POST","/v2/accounts/mfaSignIn:start",Ge(I,g))}function fe(){return(fe=(0,_.Z)(function*(I){return(yield Ct(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function dt(I){return new Promise((g,m)=>{const S=document.createElement("script");S.setAttribute("src",I),S.onload=g,S.onerror=G=>{const ie=Se("internal-error");ie.customData=G,m(ie)},S.type="text/javascript",S.charset="UTF-8",function(){var I,g;return null!==(g=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==g?g:document}().appendChild(S)})}function Nt(I){return`__${I}${Math.floor(1e6*Math.random())}`}const zt=1e12;class yn{constructor(g){this.auth=g,this.counter=zt,this._widgets=new Map}render(g,m){const S=this.counter;return this._widgets.set(S,new si(g,this.auth.name,m||{})),this.counter++,S}reset(g){var m;const S=g||zt;null===(m=this._widgets.get(S))||void 0===m||m.delete(),this._widgets.delete(S)}getResponse(g){var m;return(null===(m=this._widgets.get(g||zt))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,_.Z)(function*(){var S;return null===(S=m._widgets.get(g||zt))||void 0===S||S.execute(),""})()}}class si{constructor(g,m,S){this.params=S,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const G="string"==typeof g?document.getElementById(g):g;st(G,"argument-error",{appName:m}),this.container=G,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(I){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let S=0;S<50;S++)g.push(m.charAt(Math.floor(Math.random()*m.length)));return g.join("")}();const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch(S){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(S){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sn=Nt("rcb"),Io=new Yt(3e4,6e4);class qi{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yi().grecaptcha}load(g,m=""){return st((I=m).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I),g,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(yi().grecaptcha):new Promise((S,G)=>{const ie=yi().setTimeout(()=>{G(Se(g,"network-request-failed"))},Io.get());yi()[sn]=()=>{yi().clearTimeout(ie),delete yi()[sn];const vt=yi().grecaptcha;if(!vt)return void G(Se(g,"internal-error"));const Ht=vt.render;vt.render=(tn,Bn)=>{const zn=Ht(tn,Bn);return this.counter++,zn},this.hostLanguage=m,S(vt)},dt(`https://www.google.com/recaptcha/api.js??${(0,te.xO)({onload:sn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(ie),G(Se(g,"internal-error"))})});var I}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!yi().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gn{load(g){return(0,_.Z)(function*(){return new yn(g)})()}clearedOneInstance(){}}const qt="recaptcha",un={theme:"light",type:"image"};class $n{constructor(g,m=Object.assign({},un),S){this.parameters=m,this.type=qt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=or(S),this.isInvisible="invisible"===this.parameters.size,st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const G="string"==typeof g?document.getElementById(g):g;st(G,this.auth,"argument-error"),this.container=G,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gn:new qi,this.validateStartingState()}verify(){var g=this;return(0,_.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),S=g.getAssertedRecaptcha();return S.getResponse(m)||new Promise(ie=>{const Be=vt=>{!vt||(g.tokenChangeListeners.delete(Be),ie(vt))};g.tokenChangeListeners.add(Be),g.isInvisible&&S.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){st(!this.parameters.sitekey,this.auth,"argument-error"),st(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),st("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(S=>S(m)),"function"==typeof g)g(m);else if("string"==typeof g){const S=yi()[g];"function"==typeof S&&S(m)}}}assertNotDestroyed(){st(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,_.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const S=document.createElement("div");m.appendChild(S),m=S}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,_.Z)(function*(){st(Pt()&&!Po(),g.auth,"internal-error"),yield function(){let I=null;return new Promise(g=>{"complete"!==document.readyState?(I=()=>g(),window.addEventListener("load",I)):g()}).catch(g=>{throw I&&window.removeEventListener("load",I),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function(I){return fe.apply(this,arguments)}(g.auth);st(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return st(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class br{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=$i._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function Gi(){return(Gi=(0,_.Z)(function*(I,g,m){const S=or(I),G=yield Lo(S,g,(0,te.m9)(m));return new br(G,ie=>k(S,ie))})).apply(this,arguments)}function Qr(){return(Qr=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I);yield H(!1,S,"phone");const G=yield Lo(S.auth,g,(0,te.m9)(m));return new br(G,ie=>X(S,ie))})).apply(this,arguments)}function To(){return(To=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I),G=yield Lo(S.auth,g,(0,te.m9)(m));return new br(G,ie=>Ot(S,ie))})).apply(this,arguments)}function Lo(I,g,m){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,_.Z)(function*(I,g,m){var S;const G=yield m.verify();try{let ie;if(st("string"==typeof G,I,"argument-error"),st(m.type===qt,I,"argument-error"),ie="string"==typeof g?{phoneNumber:g}:g,"session"in ie){const Be=ie.session;if("phoneNumber"in ie)return st("enroll"===Be.type,I,"internal-error"),(yield Js(I,{idToken:Be.credential,phoneEnrollmentInfo:{phoneNumber:ie.phoneNumber,recaptchaToken:G}})).phoneSessionInfo.sessionInfo;{st("signin"===Be.type,I,"internal-error");const vt=(null===(S=ie.multiFactorHint)||void 0===S?void 0:S.uid)||ie.multiFactorUid;return st(vt,I,"missing-multi-factor-info"),(yield P(I,{mfaPendingCredential:Be.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:G}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Be}=yield Ki(I,{phoneNumber:ie.phoneNumber,recaptchaToken:G});return Be}}finally{m._reset()}})).apply(this,arguments)}function _i(){return(_i=(0,_.Z)(function*(I,g){yield U((0,te.m9)(I),g)})).apply(this,arguments)}let gn=(()=>{class I{constructor(m){this.providerId=I.PROVIDER_ID,this.auth=or(m)}verifyPhoneNumber(m,S){return Lo(this.auth,m,(0,te.m9)(S))}static credential(m,S){return $i._fromVerification(m,S)}static credentialFromResult(m){return I.credentialFromTaggedObject(m)}static credentialFromError(m){return I.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:S,temporaryProof:G}=m;return S&&G?$i._fromTokenResponse(S,G):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function ho(I,g){return g?Te(g):(st(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class ca extends Ze{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return Hn(g,this._buildIdpRequest())}_linkToIdToken(g,m){return Hn(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return Hn(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function wu(I){return It(I.auth,new ca(I),I.bypassAuthState)}function eo(I){const{auth:g,user:m}=I;return st(m,g,"internal-error"),be(m,new ca(I),I.bypassAuthState)}function da(I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,_.Z)(function*(I){const{auth:g,user:m}=I;return st(m,g,"internal-error"),U(m,new ca(I),I.bypassAuthState)})).apply(this,arguments)}class Ta{constructor(g,m,S,G,ie=!1){this.auth=g,this.resolver=S,this.user=G,this.bypassAuthState=ie,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,_.Z)(function*(S,G){g.pendingPromise={resolve:S,reject:G};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(ie){g.reject(ie)}});return function(S,G){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,_.Z)(function*(){const{urlResponse:S,sessionId:G,postBody:ie,tenantId:Be,error:vt,type:Ht}=g;if(vt)return void m.reject(vt);const tn={auth:m.auth,requestUri:S,sessionId:G,tenantId:Be||void 0,postBody:ie||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ht)(tn))}catch(Bn){m.reject(Bn)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return wu;case"linkViaPopup":case"linkViaRedirect":return da;case"reauthViaPopup":case"reauthViaRedirect":return eo;default:ct(this.auth,"internal-error")}}resolve(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){tt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ha=new Yt(2e3,1e4);function bu(){return(bu=(0,_.Z)(function*(I,g,m){const S=or(I);jt(I,g,pi);const G=ho(S,m);return new Jr(S,"signInViaPopup",g,G).executeNotNull()})).apply(this,arguments)}function Qc(){return(Qc=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I);jt(S.auth,g,pi);const G=ho(S.auth,m);return new Jr(S.auth,"reauthViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}function za(){return(za=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I);jt(S.auth,g,pi);const G=ho(S.auth,m);return new Jr(S.auth,"linkViaPopup",g,G,S).executeNotNull()})).apply(this,arguments)}let Jr=(()=>{class I extends Ta{constructor(m,S,G,ie,Be){super(m,S,ie,Be),this.provider=G,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var m=this;return(0,_.Z)(function*(){const S=yield m.execute();return st(S,m.auth,"internal-error"),S})()}onExecution(){var m=this;return(0,_.Z)(function*(){tt(1===m.filter.length,"Popup operations only handle one event");const S=xi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],S),m.authWindow.associatedEvent=S,m.resolver._originValidation(m.auth).catch(G=>{m.reject(G)}),m.resolver._isIframeWebStorageSupported(m.auth,G=>{G||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const m=()=>{var S,G;this.pollId=(null===(G=null===(S=this.authWindow)||void 0===S?void 0:S.window)||void 0===G?void 0:G.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,ha.get())};m()}}return I.currentPopupAction=null,I})();const Gr=new Map;class im extends Ta{constructor(g,m,S=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,S),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,_.Z)(function*(){let S=Gr.get(m.auth._key());if(!S){try{const ie=(yield function(I,g){return dl.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;S=()=>Promise.resolve(ie)}catch(G){S=()=>Promise.reject(G)}Gr.set(m.auth._key(),S)}return S()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,S=this;return(0,_.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(S,g);if("unknown"!==g.type){if(g.eventId){const G=yield S.auth._redirectUserForId(g.eventId);if(G)return S.user=G,m().call(S,g);S.resolve(null)}}else S.resolve(null)})()}onExecution(){return(0,_.Z)(function*(){})()}cleanUp(){}}function dl(){return(dl=(0,_.Z)(function*(I,g){const m=jl(g),S="true"===(yield to(I)._get(m));return yield to(I)._remove(m),S})).apply(this,arguments)}function ed(I,g){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,_.Z)(function*(I,g){return to(I)._set(jl(g),"true")})).apply(this,arguments)}function to(I){return Te(I._redirectPersistence)}function jl(I){return kr("pendingRedirect",I.config.apiKey,I.name)}function lh(){return(lh=(0,_.Z)(function*(I,g,m){const S=or(I);jt(I,g,pi);const G=ho(S,m);return yield ed(G,S),G._openRedirect(S,g,"signInViaRedirect")})).apply(this,arguments)}function Wa(){return(Wa=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I);jt(S.auth,g,pi);const G=ho(S.auth,m);yield ed(G,S.auth);const ie=yield Ya(S);return G._openRedirect(S.auth,g,"reauthViaRedirect",ie)})).apply(this,arguments)}function hl(){return(hl=(0,_.Z)(function*(I,g,m){const S=(0,te.m9)(I);jt(S.auth,g,pi);const G=ho(S.auth,m);yield H(!1,S,g.providerId),yield ed(G,S.auth);const ie=yield Ya(S);return G._openRedirect(S.auth,g,"linkViaRedirect",ie)})).apply(this,arguments)}function fl(){return(fl=(0,_.Z)(function*(I,g){return yield or(I)._initializationPromise,Zl(I,g,!1)})).apply(this,arguments)}function Zl(I,g){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,_.Z)(function*(I,g,m=!1){const S=or(I),G=ho(S,g),Be=yield new im(S,G,m).execute();return Be&&!m&&(delete Be.user._redirectEventId,yield S._persistUserIfCurrent(Be.user),yield S._setRedirectUser(null,g)),Be})).apply(this,arguments)}function Ya(I){return fa.apply(this,arguments)}function fa(){return(fa=(0,_.Z)(function*(I){const g=xi(`${I.uid}:::`);return I._redirectEventId=g,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),g})).apply(this,arguments)}class Qa{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(S=>{this.isEventForConsumer(g,S)&&(m=!0,this.sendToConsumer(g,S),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pa(I);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var S;if(g.error&&!pa(g)){const G=(null===(S=g.error.code)||void 0===S?void 0:S.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,G))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const S=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&S}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(cc(g))}saveEventToCache(g){this.cachedEventUids.add(cc(g)),this.lastProcessedEventTime=Date.now()}}function cc(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(g=>g).join("-")}function pa({type:I,error:g}){return"unknown"===I&&"auth/no-auth-event"===(null==g?void 0:g.code)}function dc(I){return ql.apply(this,arguments)}function ql(){return(ql=(0,_.Z)(function*(I,g={}){return Ct(I,"GET","/v1/projects",g)})).apply(this,arguments)}const gl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ga=/^https?/;function vo(){return(vo=(0,_.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:g}=yield dc(I);for(const m of g)try{if(Eu(m))return}catch(S){}ct(I,"unauthorized-domain")})).apply(this,arguments)}function Eu(I){const g=Et(),{protocol:m,hostname:S}=new URL(g);if(I.startsWith("chrome-extension://")){const Be=new URL(I);return""===Be.hostname&&""===S?"chrome-extension:"===m&&I.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&Be.hostname===S}if(!ga.test(m))return!1;if(gl.test(I))return S===I;const G=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+G+"|"+G+")$","i").test(S)}const Da=new Yt(3e4,6e4);function Gl(){const I=yi().___jsl;if(null==I?void 0:I.H)for(const g of Object.keys(I.H))if(I.H[g].r=I.H[g].r||[],I.H[g].L=I.H[g].L||[],I.H[g].r=[...I.H[g].L],I.CP)for(let m=0;m<I.CP.length;m++)I.CP[m]=null}let zl=null;function Cu(I){return zl=zl||function(I){return new Promise((g,m)=>{var S,G,ie;function Be(){Gl(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Gl(),m(Se(I,"network-request-failed"))},timeout:Da.get()})}if(null===(G=null===(S=yi().gapi)||void 0===S?void 0:S.iframes)||void 0===G?void 0:G.Iframe)g(gapi.iframes.getContext());else{if(!(null===(ie=yi().gapi)||void 0===ie?void 0:ie.load)){const vt=Nt("iframefcb");return yi()[vt]=()=>{gapi.load?Be():m(Se(I,"network-request-failed"))},dt(`https://apis.google.com/js/api.js?onload=${vt}`)}Be()}}).catch(g=>{throw zl=null,g})}(I),zl}const id=new Yt(5e3,15e3),Wl={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},Au=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ch(I){const g=I.config;st(g.authDomain,I,"auth-domain-config-required");const m=g.emulator?Rn(g,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,S={apiKey:g.apiKey,appName:I.name,v:Ve.SDK_VERSION},G=Au.get(I.config.apiHost);G&&(S.eid=G);const ie=I._getFrameworks();return ie.length&&(S.fw=ie.join(",")),`${m}?${(0,te.xO)(S).slice(1)}`}function Sa(){return(Sa=(0,_.Z)(function*(I){const g=yield Cu(I),m=yi().gapi;return st(m,I,"internal-error"),g.open({where:document.body,url:ch(I),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Wl,dontclear:!0},S=>new Promise(function(){var G=(0,_.Z)(function*(ie,Be){yield S.restyle({setHideOnLeave:!1});const vt=Se(I,"network-request-failed"),Ht=yi().setTimeout(()=>{Be(vt)},id.get());function tn(){yi().clearTimeout(Ht),ie(S)}S.ping(tn).then(tn,()=>{Be(vt)})});return function(ie,Be){return G.apply(this,arguments)}}()))})).apply(this,arguments)}const dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ql{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function Tu(I,g,m,S,G,ie){st(I.config.authDomain,I,"auth-domain-config-required"),st(I.config.apiKey,I,"invalid-api-key");const Be={apiKey:I.config.apiKey,appName:I.name,authType:m,redirectUrl:S,v:Ve.SDK_VERSION,eventId:G};if(g instanceof pi){g.setDefaultLanguage(I.languageCode),Be.providerId=g.providerId||"",(0,te.xb)(g.getCustomParameters())||(Be.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Ht,tn]of Object.entries(ie||{}))Be[Ht]=tn}if(g instanceof ai){const Ht=g.getScopes().filter(tn=>""!==tn);Ht.length>0&&(Be.scopes=Ht.join(","))}I.tenantId&&(Be.tid=I.tenantId);const vt=Be;for(const Ht of Object.keys(vt))void 0===vt[Ht]&&delete vt[Ht];return`${function({config:I}){return I.emulator?Rn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,te.xO)(vt).slice(1)}`}const Du="webStorageSupport";class xa extends class{constructor(g){this.factorId=g}_process(g,m,S){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,S);case"signin":return this._finalizeSignIn(g,m.credential);default:return Le("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xa(g)}_finalizeEnroll(g,m,S){return function(I,g){return Ct(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ge(I,g))}(g,{idToken:m,displayName:S,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function(I,g){return Ct(I,"POST","/v2/accounts/mfaSignIn:finalize",Ge(I,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Su=(()=>{class I{constructor(){}static assertion(m){return xa._fromCredential(m)}}return I.FACTOR_ID="phone",I})();var I;class gh{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,_.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(S=>{var G;g((null===(G=S)||void 0===G?void 0:G.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);!m||(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Xa(){return window}function pc(){return(pc=(0,_.Z)(function*(I,g,m){var S;const{BuildInfo:G}=Xa();tt(g.sessionId,"AuthEvent did not contain a session ID");const ie=yield Yf(g.sessionId),Be={};return en()?Be.ibi=G.packageName:Hi()?Be.apn=G.packageName:ct(I,"operation-not-supported-in-this-environment"),G.displayName&&(Be.appDisplayName=G.displayName),Be.sessionId=ie,Tu(I,m,g.type,void 0,null!==(S=g.eventId)&&void 0!==S?S:void 0,Be)})).apply(this,arguments)}function ls(){return(ls=(0,_.Z)(function*(I){const{BuildInfo:g}=Xa(),m={};en()?m.iosBundleId=g.packageName:Hi()?m.androidPackageName=g.packageName:ct(I,"operation-not-supported-in-this-environment"),yield dc(I,m)})).apply(this,arguments)}function Bi(){return(Bi=(0,_.Z)(function*(I,g,m){const{cordova:S}=Xa();let G=()=>{};try{yield new Promise((ie,Be)=>{let vt=null;function Ht(){var zn;ie();const Is=null===(zn=S.plugins.browsertab)||void 0===zn?void 0:zn.close;"function"==typeof Is&&Is(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function tn(){vt||(vt=window.setTimeout(()=>{Be(Se(I,"redirect-cancelled-by-user"))},2e3))}function Bn(){"visible"===(null==document?void 0:document.visibilityState)&&tn()}g.addPassiveListener(Ht),document.addEventListener("resume",tn,!1),Hi()&&document.addEventListener("visibilitychange",Bn,!1),G=()=>{g.removePassiveListener(Ht),document.removeEventListener("resume",tn,!1),document.removeEventListener("visibilitychange",Bn,!1),vt&&window.clearTimeout(vt)}})}finally{G()}})).apply(this,arguments)}function Yf(I){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,_.Z)(function*(I){const g=Qf(I),m=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(m)).map(G=>G.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qf(I){if(tt(/[0-9a-zA-Z]+/.test(I),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(I);const g=new ArrayBuffer(I.length),m=new Uint8Array(g);for(let S=0;S<I.length;S++)m[S]=I.charCodeAt(S);return m}I="Browser",(0,Ve._registerComponent)(new He.wA("auth",(g,{options:m})=>{const S=g.getProvider("app").getImmediate(),{apiKey:G,authDomain:ie}=S.options;return(Be=>{st(G&&!G.includes(":"),"invalid-api-key",{appName:Be.name}),st(!(null==ie?void 0:ie.includes(":")),"argument-error",{appName:Be.name});const vt={apiKey:G,authDomain:ie,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pr(I)},Ht=new Vr(Be,vt);return function(I,g){const m=(null==g?void 0:g.persistence)||[],S=(Array.isArray(m)?m:[m]).map(Te);(null==g?void 0:g.errorMap)&&I._updateErrorMap(g.errorMap),I._initializeWithPersistence(S,null==g?void 0:g.popupRedirectResolver)}(Ht,m),Ht})(S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,S)=>{g.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new He.wA("auth-internal",g=>{const m=or(g.getProvider("auth").getImmediate());return new gh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)("@firebase/auth","0.18.2",void 0);class vh extends Qa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(g)),super.onEvent(g)}initialized(){var g=this;return(0,_.Z)(function*(){yield g.initPromise})()}}function zr(I){return gc.apply(this,arguments)}function gc(){return(gc=(0,_.Z)(function*(I){const g=yield Xl()._get(Nu(I));return g&&(yield Xl()._remove(Nu(I))),g})).apply(this,arguments)}function mc(){const I=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const S=Math.floor(Math.random()*g.length);I.push(g.charAt(S))}return I.join("")}function Xl(){return Te(xt)}function Nu(I){return kr("authEvent",I.config.apiKey,I.name)}function bl(I){if(!(null==I?void 0:I.includes("?")))return{};const[g,...m]=I.split("?");return(0,te.zd)(m.join("?"))}function wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}function El(){var I;return(null===(I=null==self?void 0:self.location)||void 0===I?void 0:I.protocol)||null}function eu(I=(0,te.z$)()){return!("file:"!==El()&&"ionic:"!==El()||!I.toLowerCase().match(/iphone|ipad|ipod|android/))}function Pu(){try{const I=self.localStorage,g=xi();if(I)return I.setItem(g,"1"),I.removeItem(g),!function(I=(0,te.z$)()){return(0,te.w1)()&&11===(null==document?void 0:document.documentMode)||function(I=(0,te.z$)()){return/Edge\/\d+/.test(I)}(I)}()||(0,te.hl)()}catch(I){return el()&&(0,te.hl)()}return!1}function el(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vc(){return("http:"===El()||"https:"===El()||(0,te.ru)()||eu())&&!((0,te.b$)()||(0,te.UG)())&&Pu()&&!el()}function cd(){return eu()&&"undefined"!=typeof document}function dd(){return(dd=(0,_.Z)(function*(){return!!cd()&&new Promise(I=>{const g=setTimeout(()=>{I(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),I(!0)})})})).apply(this,arguments)}const Bo={LOCAL:"local",NONE:"none",SESSION:"session"},Cl=st,Ch="persistence";function zs(I){return tu.apply(this,arguments)}function tu(){return(tu=(0,_.Z)(function*(I){yield I._initializationPromise;const g=fd(),m=kr(Ch,I.config.apiKey,I.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(m,I._getPersistence())})).apply(this,arguments)}function fd(){return"undefined"!=typeof window?window:null}const ro=st;class jo{constructor(){this.browserResolver=Te(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kn,this._completeRedirectFn=Zl}_openPopup(g,m,S,G){var ie=this;return(0,_.Z)(function*(){var Be;tt(null===(Be=ie.eventManagers[g._key()])||void 0===Be?void 0:Be.manager,"_initialize() not called before _openPopup()");const vt=Tu(g,m,S,Et(),G);return function(I,g,m,S=500,G=600){const ie=Math.max((window.screen.availHeight-G)/2,0).toString(),Be=Math.max((window.screen.availWidth-S)/2,0).toString();let vt="";const Ht=Object.assign(Object.assign({},dh),{width:S.toString(),height:G.toString(),top:ie,left:Be}),tn=(0,te.z$)().toLowerCase();m&&(vt=Wi(tn)?"_blank":m),bn(tn)&&(g=g||"http://localhost",Ht.scrollbars="yes");const Bn=Object.entries(Ht).reduce((Is,[$o,Mt])=>`${Is}${$o}=${Mt},`,"");if(function(I=(0,te.z$)()){var g;return en(I)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(tn)&&"_self"!==vt)return function(I,g){const m=document.createElement("a");m.href=I,m.target=g;const S=document.createEvent("MouseEvent");S.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(S)}(g||"",vt),new Ql(null);const zn=window.open(g||"",vt,Bn);st(zn,I,"popup-blocked");try{zn.focus()}catch(Is){}return new Ql(zn)}(g,vt,xi())})()}_openRedirect(g,m,S,G){var ie=this;return(0,_.Z)(function*(){return yield ie._originValidation(g),I=Tu(g,m,S,Et(),G),yi().location.href=I,new Promise(()=>{});var I})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:G,promise:ie}=this.eventManagers[m];return G?Promise.resolve(G):(tt(ie,"If manager is not set, promise should be"),ie)}const S=this.initAndGetManager(g);return this.eventManagers[m]={promise:S},S}initAndGetManager(g){var m=this;return(0,_.Z)(function*(){const S=yield function(I){return Sa.apply(this,arguments)}(g),G=new Qa(g);return S.register("authEvent",ie=>(st(null==ie?void 0:ie.authEvent,g,"invalid-auth-event"),{status:G.onEvent(ie.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:G},m.iframes[g._key()]=S,G})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Du,{type:Du},G=>{var ie;const Be=null===(ie=null==G?void 0:G[0])||void 0===ie?void 0:ie[Du];void 0!==Be&&m(!!Be),ct(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(I){return vo.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Bt()||Ci()||en()}}),this.cordovaResolver=Te(class{constructor(){this._redirectPersistence=Kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zl}_initialize(g){var m=this;return(0,_.Z)(function*(){const S=g._key();let G=m.eventManagers.get(S);return G||(G=new vh(g),m.eventManagers.set(S,G),m.attachCallbackListeners(g,G)),G})()}_openPopup(g){ct(g,"operation-not-supported-in-this-environment")}_openRedirect(g,m,S,G){var ie=this;return(0,_.Z)(function*(){!function(I){var g,m,S,G,ie,Be,vt,Ht,tn,Bn;const zn=Xa();st("function"==typeof(null===(g=null==zn?void 0:zn.universalLinks)||void 0===g?void 0:g.subscribe),I,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),st(void 0!==(null===(m=null==zn?void 0:zn.BuildInfo)||void 0===m?void 0:m.packageName),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),st("function"==typeof(null===(ie=null===(G=null===(S=null==zn?void 0:zn.cordova)||void 0===S?void 0:S.plugins)||void 0===G?void 0:G.browsertab)||void 0===ie?void 0:ie.openUrl),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st("function"==typeof(null===(Ht=null===(vt=null===(Be=null==zn?void 0:zn.cordova)||void 0===Be?void 0:Be.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Ht?void 0:Ht.isAvailable),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),st("function"==typeof(null===(Bn=null===(tn=null==zn?void 0:zn.cordova)||void 0===tn?void 0:tn.InAppBrowser)||void 0===Bn?void 0:Bn.open),I,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const Be=yield ie._initialize(g);yield Be.initialized(),Be.resetRedirect(),Gr.clear(),yield ie._originValidation(g);const vt=function(I,g,m=null){return{type:g,eventId:m,urlResponse:null,sessionId:mc(),postBody:null,tenantId:I.tenantId,error:Se(I,"no-auth-event")}}(g,S,G);yield function(I,g){return Xl()._set(Nu(I),g)}(g,vt);const Ht=yield function(I,g,m){return pc.apply(this,arguments)}(g,vt,m),tn=yield function(I){const{cordova:g}=Xa();return new Promise(m=>{g.plugins.browsertab.isAvailable(S=>{let G=null;S?g.plugins.browsertab.openUrl(I):G=g.InAppBrowser.open(I,function(I=(0,te.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}()?"_blank":"_system","location=yes"),m(G)})})}(Ht);return function(I,g,m){return Bi.apply(this,arguments)}(g,Be,tn)})()}_isIframeWebStorageSupported(g,m){throw new Error("Method not implemented.")}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function(I){return ls.apply(this,arguments)}(g)),this.originValidationPromises[m]}attachCallbackListeners(g,m){const{universalLinks:S,handleOpenURL:G,BuildInfo:ie}=Xa(),Be=setTimeout((0,_.Z)(function*(){yield zr(g),m.onEvent(wh())}),500),vt=function(){var Bn=(0,_.Z)(function*(zn){clearTimeout(Be);const Is=yield zr(g);let $o=null;Is&&(null==zn?void 0:zn.url)&&($o=function(I,g){var m,S;const G=function(I){const g=bl(I),m=g.link?decodeURIComponent(g.link):void 0,S=bl(m).link,G=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return bl(G).link||G||S||m||I}(g);if(G.includes("/__/auth/callback")){const ie=bl(G),Be=ie.firebaseError?function(I){try{return JSON.parse(I)}catch(g){return null}}(decodeURIComponent(ie.firebaseError)):null,vt=null===(S=null===(m=null==Be?void 0:Be.code)||void 0===m?void 0:m.split("auth/"))||void 0===S?void 0:S[1],Ht=vt?Se(vt):null;return Ht?{type:I.type,eventId:I.eventId,tenantId:I.tenantId,error:Ht,urlResponse:null,sessionId:null,postBody:null}:{type:I.type,eventId:I.eventId,tenantId:I.tenantId,sessionId:I.sessionId,urlResponse:G,postBody:null}}return null}(Is,zn.url)),m.onEvent($o||wh())});return function(Is){return Bn.apply(this,arguments)}}();void 0!==S&&"function"==typeof S.subscribe&&S.subscribe(null,vt);const Ht=G,tn=`${ie.packageName.toLowerCase()}://`;Xa().handleOpenURL=function(){var Bn=(0,_.Z)(function*(zn){if(zn.toLowerCase().startsWith(tn)&&vt({url:zn}),"function"==typeof Ht)try{Ht(zn)}catch(Is){console.error(Is)}});return function(zn){return Bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Kn,this._completeRedirectFn=Zl}_initialize(g){var m=this;return(0,_.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,m,S,G){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openPopup(g,m,S,G)})()}_openRedirect(g,m,S,G){var ie=this;return(0,_.Z)(function*(){return yield ie.selectUnderlyingResolver(),ie.assertedUnderlyingResolver._openRedirect(g,m,S,G)})()}_isIframeWebStorageSupported(g,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,m)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return cd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ro(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,_.Z)(function*(){if(g.underlyingResolver)return;const m=yield function(){return dd.apply(this,arguments)}();g.underlyingResolver=m?g.cordovaResolver:g.browserResolver})()}}function Fu(I){return I.unwrap()}function np(I){return Il(I)}function Il(I){const{_tokenResponse:g}=I instanceof te.ZR?I.customData:I;if(!g)return null;if(!(I instanceof te.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return gn.credentialFromResult(I);const m=g.providerId;if(!m||"password"===m)return null;let S;switch(m){case"google.com":S=Ii;break;case"facebook.com":S=ps;break;case"github.com":S=xs;break;case"twitter.com":S=Qi;break;default:const{oauthIdToken:G,oauthAccessToken:ie,oauthTokenSecret:Be,pendingToken:vt,nonce:Ht}=g;return ie||Be||G||vt?vt?m.startsWith("saml.")?Fi._create(m,vt):Ai._fromParams({providerId:m,signInMethod:m,pendingToken:vt,idToken:G,accessToken:ie}):new ni(m).credential({idToken:G,accessToken:ie,rawNonce:Ht}):null}return I instanceof te.ZR?S.credentialFromError(I):S.credentialFromResult(I)}function wo(I,g){return g.catch(m=>{throw m instanceof te.ZR&&function(I,g){var m;const S=null===(m=g.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new Ah(I,function(I,g){var m;const S=(0,te.m9)(I),G=g;return st(g.operationType,S,"argument-error"),st(null===(m=G.serverResponse)||void 0===m?void 0:m.mfaPendingCredential,S,"argument-error"),bs._fromError(S,G)}(I,g));else if(S){const G=Il(g),ie=g;G&&(ie.credential=G,ie.tenantId=S.tenantId||void 0,ie.email=S.email||void 0,ie.phoneNumber=S.phoneNumber||void 0)}}(I,m),m}).then(m=>{const G=m.user;return{operationType:m.operationType,credential:np(m),additionalUserInfo:Cr(m),user:ks.getOrCreate(G)}})}function pd(I,g){return wc.apply(this,arguments)}function wc(){return(wc=(0,_.Z)(function*(I,g){const m=yield g;return{verificationId:m.verificationId,confirm:S=>wo(I,m.confirm(S))}})).apply(this,arguments)}class Ah{constructor(g,m){this.resolver=m,this.auth=function(I){return I.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return wo(Fu(this.auth),this.resolver.resolveSignIn(g))}}class ks{constructor(g){this._delegate=g,this.multiFactor=function(I){const g=(0,te.m9)(I);return Zs.has(g)||Zs.set(g,Ao._fromUser(g)),Zs.get(g)}(g)}static getOrCreate(g){return ks.USER_MAP.has(g)||ks.USER_MAP.set(g,new ks(g)),ks.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var m=this;return(0,_.Z)(function*(){return wo(m.auth,X(m._delegate,g))})()}linkWithPhoneNumber(g,m){var S=this;return(0,_.Z)(function*(){return pd(S.auth,function(I,g,m){return Qr.apply(this,arguments)}(S._delegate,g,m))})()}linkWithPopup(g){var m=this;return(0,_.Z)(function*(){return wo(m.auth,function(I,g,m){return za.apply(this,arguments)}(m._delegate,g,jo))})()}linkWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield zs(or(m.auth)),function(I,g,m){return function(I,g,m){return hl.apply(this,arguments)}(I,g,m)}(m._delegate,g,jo)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var m=this;return(0,_.Z)(function*(){return wo(m.auth,Ot(m._delegate,g))})()}reauthenticateWithPhoneNumber(g,m){return pd(this.auth,function(I,g,m){return To.apply(this,arguments)}(this._delegate,g,m))}reauthenticateWithPopup(g){return wo(this.auth,function(I,g,m){return Qc.apply(this,arguments)}(this._delegate,g,jo))}reauthenticateWithRedirect(g){var m=this;return(0,_.Z)(function*(){return yield zs(or(m.auth)),function(I,g,m){return function(I,g,m){return Wa.apply(this,arguments)}(I,g,m)}(m._delegate,g,jo)})()}sendEmailVerification(g){return function(I,g){return es.apply(this,arguments)}(this._delegate,g)}unlink(g){var m=this;return(0,_.Z)(function*(){return yield function(I,g){return Os.apply(this,arguments)}(m._delegate,g),m})()}updateEmail(g){return function(I,g){return ae((0,te.m9)(I),g,null)}(this._delegate,g)}updatePassword(g){return function(I,g){return ae((0,te.m9)(I),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(I,g){return _i.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(I,g){return q.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,m){return function(I,g,m){return ss.apply(this,arguments)}(this._delegate,g,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ks.USER_MAP=new WeakMap;const Lu=st;let bc=(()=>{class I{constructor(m,S){if(this.app=m,S.isInitialized())return this._delegate=S.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:G}=m.options;Lu(G,"invalid-api-key",{appName:m.name});let ie=[jn];if("undefined"!=typeof window){ie=function(I,g){const m=fd();if(!(null==m?void 0:m.sessionStorage))return[];const S=kr(Ch,I,g);switch(m.sessionStorage.getItem(S)){case Bo.NONE:return[jn];case Bo.LOCAL:return[A,Kn];case Bo.SESSION:return[Kn];default:return[]}}(G,m.name);for(const vt of[A,xt,Kn])ie.includes(vt)||ie.push(vt)}Lu(G,"invalid-api-key",{appName:m.name});const Be="undefined"!=typeof window?jo:void 0;this._delegate=S.initialize({options:{persistence:ie,popupRedirectResolver:Be}}),this._delegate._updateErrorMap(Ye),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,S){!function(I,g,m){const S=or(I);st(S._canInitEmulator,S,"emulator-config-failed"),st(/^https?:\/\//.test(g),S,"invalid-emulator-scheme");const G=!!(null==m?void 0:m.disableWarnings),ie=Fn(g),{host:Be,port:vt}=function(I){const g=Fn(I),m=/(\/\/)?([^?#/]+)/.exec(I.substr(g.length));if(!m)return{host:"",port:null};const S=m[2].split("@").pop()||"",G=/^(\[[^\]]+\])(:|$)/.exec(S);if(G){const ie=G[1];return{host:ie,port:Er(S.substr(ie.length+1))}}{const[ie,Be]=S.split(":");return{host:ie,port:Er(Be)}}}(g);S.config.emulator={url:`${ie}//${Be}${null===vt?"":`:${vt}`}/`},S.settings.appVerificationDisabledForTesting=!0,S.emulatorConfig=Object.freeze({host:Be,port:vt,protocol:ie.replace(":",""),options:Object.freeze({disableWarnings:G})}),G||function(){function I(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}(this._delegate,m,S)}applyActionCode(m){return function(I,g){return vs.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Tt(this._delegate,m)}confirmPasswordReset(m,S){return function(I,g,m){return _s.apply(this,arguments)}(this._delegate,m,S)}createUserWithEmailAndPassword(m,S){var G=this;return(0,_.Z)(function*(){return wo(G._delegate,function(I,g,m){return Xi.apply(this,arguments)}(G._delegate,m,S))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function(I,g){return uo.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function(I,g){const m=fi.parseLink(g);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,_.Z)(function*(){Lu(vc(),m._delegate,"operation-not-supported-in-this-environment");const S=yield function(I,g){return fl.apply(this,arguments)}(m._delegate,jo);return S?wo(m._delegate,Promise.resolve(S)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function(I,g){or(I)._logFramework(g)}(this._delegate,m)}onAuthStateChanged(m,S,G){const{next:ie,error:Be,complete:vt}=Jo(m,S,G);return this._delegate.onAuthStateChanged(ie,Be,vt)}onIdTokenChanged(m,S,G){const{next:ie,error:Be,complete:vt}=Jo(m,S,G);return this._delegate.onIdTokenChanged(ie,Be,vt)}sendSignInLinkToEmail(m,S){return function(I,g,m){return yo.apply(this,arguments)}(this._delegate,m,S)}sendPasswordResetEmail(m,S){return function(I,g,m){return Qs.apply(this,arguments)}(this._delegate,m,S||void 0)}setPersistence(m){var S=this;return(0,_.Z)(function*(){let G;switch(function(I,g){Cl(Object.values(Bo).includes(g),I,"invalid-persistence-type"),(0,te.b$)()?Cl(g!==Bo.SESSION,I,"unsupported-persistence-type"):(0,te.UG)()?Cl(g===Bo.NONE,I,"unsupported-persistence-type"):el()?Cl(g===Bo.NONE||g===Bo.LOCAL&&(0,te.hl)(),I,"unsupported-persistence-type"):Cl(g===Bo.NONE||Pu(),I,"unsupported-persistence-type")}(S._delegate,m),m){case Bo.SESSION:G=Kn;break;case Bo.LOCAL:G=(yield Te(A)._isAvailable())?A:xt;break;case Bo.NONE:G=jn;break;default:return ct("argument-error",{appName:S._delegate.name})}return S._delegate.setPersistence(G)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return wo(this._delegate,function(I){return Zi.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return wo(this._delegate,k(this._delegate,m))}signInWithCustomToken(m){return wo(this._delegate,function(I,g){return ri.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,S){return wo(this._delegate,function(I,g,m){return k((0,te.m9)(I),fs.credential(g,m))}(this._delegate,m,S))}signInWithEmailLink(m,S){return wo(this._delegate,function(I,g,m){return Oo.apply(this,arguments)}(this._delegate,m,S))}signInWithPhoneNumber(m,S){return pd(this._delegate,function(I,g,m){return Gi.apply(this,arguments)}(this._delegate,m,S))}signInWithPopup(m){var S=this;return(0,_.Z)(function*(){return Lu(vc(),S._delegate,"operation-not-supported-in-this-environment"),wo(S._delegate,function(I,g,m){return bu.apply(this,arguments)}(S._delegate,m,jo))})()}signInWithRedirect(m){var S=this;return(0,_.Z)(function*(){return Lu(vc(),S._delegate,"operation-not-supported-in-this-environment"),yield zs(S._delegate),function(I,g,m){return function(I,g,m){return lh.apply(this,arguments)}(I,g,m)}(S._delegate,m,jo)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function(I,g){return ii.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return I.Persistence=Bo,I})();function Jo(I,g,m){let S=I;"function"!=typeof I&&({next:S,error:g,complete:m}=I);const G=S;return{next:Be=>G(Be&&ks.getOrCreate(Be)),error:g,complete:m}}class Ec{constructor(){this.providerId="phone",this._delegate=new gn(Fu(f.Z.auth()))}static credential(g,m){return gn.credential(g,m)}verifyPhoneNumber(g,m){return this._delegate.verifyPhoneNumber(g,m)}unwrap(){return this._delegate}}Ec.PHONE_SIGN_IN_METHOD=gn.PHONE_SIGN_IN_METHOD,Ec.PROVIDER_ID=gn.PROVIDER_ID;const Ho=st;class Tl{constructor(g,m,S=f.Z.app()){var G;Ho(null===(G=S.options)||void 0===G?void 0:G.apiKey,"invalid-api-key",{appName:S.name}),this._delegate=new $n(g,m,S.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(I){I.INTERNAL.registerComponent(new He.wA("auth-compat",g=>{const m=g.getProvider("app-compat").getImmediate(),S=g.getProvider("auth");return new bc(m,S)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fs,FacebookAuthProvider:ps,GithubAuthProvider:xs,GoogleAuthProvider:Ii,OAuthProvider:ni,PhoneAuthProvider:Ec,PhoneMultiFactorGenerator:Su,RecaptchaVerifier:Tl,TwitterAuthProvider:Qi,Auth:bc,AuthCredential:Ze,Error:te.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),I.registerVersion("@firebase/auth-compat","0.1.5")}(f.Z)},916:($t,et,Z)=>{"use strict";Z.d(et,{sN:()=>Dn,z1:()=>sr,mZ:()=>mn,TD:()=>kn});var _=Z(7574),f=Z(8640);const te=new _.y(f.Z);var Me=Z(9765),ve=Z(5917),He=Z(8229),pe=Z(9193),_e=Z(7393),ne=Z(3637);class he{constructor($e,at){this.period=$e,this.scheduler=at}call($e,at){return at.subscribe(new De($e,this.period,this.scheduler))}}class De extends _e.L{constructor($e,at,lt){super($e),this.period=at,this.scheduler=lt,this.hasValue=!1,this.add(lt.schedule(Fe,at,{subscriber:this,period:at}))}_next($e){this.lastValue=$e,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Fe(Rt){let{subscriber:$e,period:at}=Rt;$e.notifyNext(),this.schedule(Rt,at)}var Ye=Z(5435),qe=Z(8307),yt=Z(5257),me=Z(9773),ft=Z(8002),wt=Z(5304),ct=Z(3190),Se=Z(9761),St=Z(8819),jt=Z(8583),Jt=Z(7716);function Le(Rt){return Boolean(Rt.parentElement&&"picture"===Rt.parentElement.nodeName.toLowerCase())}function tt(Rt){return"img"===Rt.nodeName.toLowerCase()}function Qe(Rt,$e,at){return tt(Rt)?at&&"srcset"in Rt?Rt.srcset=$e:Rt.src=$e:Rt.style.backgroundImage=`url('${$e}')`,Rt}function Te(Rt){return $e=>{const at=$e.parentElement.getElementsByTagName("source");for(let lt=0;lt<at.length;lt++){const Xt=at[lt].getAttribute(Rt);Xt&&("srcset"in at[lt]?at[lt].srcset=Xt:at[lt].src=Xt)}}}const We=Te("defaultImage"),Ce=Te("lazyLoad"),Et=Te("errorImage");function Pt(Rt){return($e,at,lt)=>{tt($e)&&Le($e)&&Rt($e),at&&Qe($e,at,lt)}}const Wt=Pt(We),Gt=Pt(Ce),Ft=Pt(Et);function ht(Rt,$e){Rt.className=Rt.className.replace($e,"")}function ut(Rt,$e){Rt.className.includes($e)||(Rt.className+=` ${$e}`)}class Ge extends class{constructor(){this.navigator="undefined"!=typeof window?window.navigator:void 0}setPlatformId($e){this.platformId=$e}onDestroy($e){}onAttributeChange($e){}}{setup($e){var Rt;Wt($e.element,$e.defaultImagePath,$e.useSrcset),ut($e.element,"ng-lazyloading"),(Rt=$e.element).className&&Rt.className.includes("ng-lazyloaded")&&ht($e.element,"ng-lazyloaded")}finally($e){ut($e.element,"ng-lazyloaded"),ht($e.element,"ng-lazyloading")}loadImage($e){if(this.skipLazyLoading($e))return[$e.imagePath];const{element:at,useSrcset:lt,imagePath:Xt,decode:nn}=$e;let _n;return tt(at)&&Le(at)?(_n=at.parentNode.cloneNode(!0).getElementsByTagName("img")[0],Ce(_n),Qe(_n,Xt,lt)):(_n=new Image,tt(at)&&at.referrerPolicy&&(_n.referrerPolicy=at.referrerPolicy),tt(at)&&at.sizes&&(_n.sizes=at.sizes),lt&&"srcset"in _n?_n.srcset=Xt:_n.src=Xt),nn&&_n.decode?_n.decode().then(()=>Xt):new Promise((on,Qt)=>{_n.onload=()=>on(Xt),_n.onerror=()=>Qt(null)})}setErrorImage($e,at){const{element:lt,useSrcset:Xt,errorImagePath:nn}=at;Ft(lt,nn,Xt),ut(lt,"ng-failed-lazyloaded")}setLoadedImage($e,at){const{element:lt,useSrcset:Xt}=at;Gt(lt,$e,Xt)}isDisabled(){return(0,jt.PM)(this.platformId)&&!this.isBot()}skipLazyLoading($e){return this.isBot($e)}isBot($e){var at;return!!(null===(at=this.navigator)||void 0===at?void 0:at.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot/i.test(this.navigator.userAgent)}}let Ct=(()=>{class Rt extends Ge{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new Me.xQ,this.uniqKey={}}getObservable(at){if(this.skipLazyLoading(at))return(0,ve.of)({isIntersecting:!0});if(at.customObservable)return at.customObservable;const lt=at.scrollContainer||this.uniqKey,Xt={root:at.scrollContainer||null};at.offset&&(Xt.rootMargin=`${at.offset}px`);let nn=this.observers.get(lt);return nn||(nn=new IntersectionObserver(_n=>this.loadingCallback(_n),Xt),this.observers.set(lt,nn)),nn.observe(at.element),_.y.create(_n=>{const on=this.intersectionSubject.pipe((0,Ye.h)(Qt=>Qt.target===at.element)).subscribe(_n);return()=>{on.unsubscribe(),nn.unobserve(at.element)}})}isVisible(at){return at.isIntersecting}loadingCallback(at){at.forEach(lt=>this.intersectionSubject.next(lt))}}return Rt.\u0275fac=function(){let $e;return function(lt){return($e||($e=Jt.n5z(Rt)))(lt||Rt)}}(),Rt.\u0275prov=Jt.Yz7({token:Rt,factory:Rt.\u0275fac}),Rt})();const Dn=new Jt.OlP("LazyLoadImageHooks");let sr=(()=>{class Rt{constructor(at,lt,Xt,nn){this.onStateChange=new Jt.vpe,this.elementRef=at,this.ngZone=lt,this.propertyChanges$=new He.t,this.hooks=nn,this.hooks.setPlatformId(Xt),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(at=>console.log(at))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,qe.b)(at=>this.hooks.onAttributeChange(at)),(0,qe.b)(at=>at.onStateChange.emit({reason:"setup"})),(0,qe.b)(at=>this.hooks.setup(at)),(0,ct.w)(at=>at.imagePath?this.hooks.getObservable(at).pipe(function(Rt,$e){return at=>at.pipe((0,qe.b)(lt=>$e.onStateChange.emit({reason:"observer-emit",data:lt})),(0,Ye.h)(lt=>Rt.isVisible(lt,$e)),(0,yt.q)(1),(0,qe.b)(()=>$e.onStateChange.emit({reason:"start-loading"})),(0,me.zg)(()=>Rt.loadImage($e)),(0,qe.b)(()=>$e.onStateChange.emit({reason:"mount-image"})),(0,qe.b)(lt=>Rt.setLoadedImage(lt,$e)),(0,qe.b)(()=>$e.onStateChange.emit({reason:"loading-succeeded"})),(0,ft.U)(()=>!0),(0,wt.K)(lt=>($e.onStateChange.emit({reason:"loading-failed",data:lt}),Rt.setErrorImage(lt,$e),(0,ve.of)(!1))),(0,qe.b)(()=>{$e.onStateChange.emit({reason:"finally"}),Rt.finally($e)}))}(this.hooks,at)):te)).subscribe({next:()=>null})})}ngOnDestroy(){var at,lt;this.propertyChanges$.pipe((0,yt.q)(1)).subscribe({next:Xt=>this.hooks.onDestroy(Xt)}).unsubscribe(),null===(at=this.loadSubscription)||void 0===at||at.unsubscribe(),null===(lt=this.debugSubscription)||void 0===lt||lt.unsubscribe()}}return Rt.\u0275fac=function(at){return new(at||Rt)(Jt.Y36(Jt.SBq),Jt.Y36(Jt.R0b),Jt.Y36(Jt.Lbi),Jt.Y36(Dn))},Rt.\u0275dir=Jt.lG2({type:Rt,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[Jt.TTD]}),Rt})(),mn=(()=>{class Rt{}return Rt.\u0275fac=function(at){return new(at||Rt)},Rt.\u0275mod=Jt.oAB({type:Rt}),Rt.\u0275inj=Jt.cJS({providers:[{provide:Dn,useClass:Ct}]}),Rt})();class Yn{constructor($e,at,lt,Xt){this.left=$e,this.top=at,this.right=lt,this.bottom=Xt}static fromElement($e){const{left:at,top:lt,right:Xt,bottom:nn}=$e.getBoundingClientRect();return 0===at&&0===lt&&0===Xt&&0===nn?Yn.empty:new Yn(at,lt,Xt,nn)}static fromWindow($e){return new Yn(0,0,$e.innerWidth,$e.innerHeight)}inflate($e){this.left-=$e,this.top-=$e,this.right+=$e,this.bottom+=$e}intersectsWith($e){return $e.left<this.right&&this.left<$e.right&&$e.top<this.bottom&&this.top<$e.bottom}getIntersectionWith($e){const at=Math.max(this.left,$e.left),lt=Math.max(this.top,$e.top),Xt=Math.min(this.right,$e.right),nn=Math.min(this.bottom,$e.bottom);return Xt>=at&&nn>=lt?new Yn(at,lt,Xt,nn):Yn.empty}}Yn.empty=new Yn(0,0,0,0);class kn extends Ge{constructor(){super(...arguments),this.getWindow=()=>window,this.scrollListeners=new WeakMap,this.getScrollListener=$e=>{if(!$e||"function"!=typeof $e.addEventListener)return console.warn("`addEventListener` on "+$e+" (scrollTarget) is not a function. Skipping this target"),(0,pe.c)();const at=this.scrollListeners.get($e);if(at)return at;const lt=_.y.create(nn=>{const on=vn=>nn.next(vn),Qt={passive:!0,capture:!1};return $e.addEventListener("scroll",on,Qt),()=>$e.removeEventListener("scroll",on,Qt)}),Xt=this.sampleObservable(lt);return this.scrollListeners.set($e,Xt),Xt}}getObservable($e){return this.skipLazyLoading($e)?(0,ve.of)("load"):$e.customObservable?$e.customObservable.pipe((0,Se.O)("")):this.getScrollListener($e.scrollContainer?$e.scrollContainer:this.getWindow())}isVisible($e,at){const lt=Yn.fromElement(at.element);if(lt===Yn.empty)return!1;const Xt=Yn.fromWindow(this.getWindow());if(lt.inflate(at.offset),at.scrollContainer){const _n=Yn.fromElement(at.scrollContainer).getIntersectionWith(Xt);return lt.intersectsWith(_n)}return lt.intersectsWith(Xt)}sampleObservable($e,at){return $e.pipe(function(Rt,$e=ne.P){return at=>at.lift(new he(Rt,$e))}(100,at),(0,St.B)(),(0,Se.O)(""))}}},9344:($t,et,Z)=>{"use strict";Z.d(et,{Rh:()=>Wt,_W:()=>Ce});var _=Z(7716),f=Z(7238),te=Z(9765),Ve=Z(9075),Me=Z(8583);const ve=["toast-component",""];function He(ht,ut){if(1&ht){const Re=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(Re),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function pe(ht,ut){if(1&ht&&(_.ynx(0),_._uU(1),_.BQk()),2&ht){const Re=_.oxw(2);_.xp6(1),_.hij("[",Re.duplicatesCount+1,"]")}}function _e(ht,ut){if(1&ht&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,pe,2,1,"ng-container",4),_.qZA()),2&ht){const Re=_.oxw();_.Tol(Re.options.titleClass),_.uIk("aria-label",Re.title),_.xp6(1),_.hij(" ",Re.title," "),_.xp6(1),_.Q6J("ngIf",Re.duplicatesCount)}}function ne(ht,ut){if(1&ht&&_._UZ(0,"div",7),2&ht){const Re=_.oxw();_.Tol(Re.options.messageClass),_.Q6J("innerHTML",Re.message,_.oJD)}}function de(ht,ut){if(1&ht&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&ht){const Re=_.oxw();_.Tol(Re.options.messageClass),_.uIk("aria-label",Re.message),_.xp6(1),_.hij(" ",Re.message," ")}}function he(ht,ut){if(1&ht&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&ht){const Re=_.oxw();_.xp6(1),_.Udp("width",Re.width+"%")}}function De(ht,ut){if(1&ht){const Re=_.EpF();_.TgZ(0,"button",5),_.NdJ("click",function(){return _.CHM(Re),_.oxw().remove()}),_.TgZ(1,"span",6),_._uU(2,"\xd7"),_.qZA(),_.qZA()}}function Fe(ht,ut){if(1&ht&&(_.ynx(0),_._uU(1),_.BQk()),2&ht){const Re=_.oxw(2);_.xp6(1),_.hij("[",Re.duplicatesCount+1,"]")}}function Ye(ht,ut){if(1&ht&&(_.TgZ(0,"div"),_._uU(1),_.YNc(2,Fe,2,1,"ng-container",4),_.qZA()),2&ht){const Re=_.oxw();_.Tol(Re.options.titleClass),_.uIk("aria-label",Re.title),_.xp6(1),_.hij(" ",Re.title," "),_.xp6(1),_.Q6J("ngIf",Re.duplicatesCount)}}function qe(ht,ut){if(1&ht&&_._UZ(0,"div",7),2&ht){const Re=_.oxw();_.Tol(Re.options.messageClass),_.Q6J("innerHTML",Re.message,_.oJD)}}function yt(ht,ut){if(1&ht&&(_.TgZ(0,"div",8),_._uU(1),_.qZA()),2&ht){const Re=_.oxw();_.Tol(Re.options.messageClass),_.uIk("aria-label",Re.message),_.xp6(1),_.hij(" ",Re.message," ")}}function me(ht,ut){if(1&ht&&(_.TgZ(0,"div"),_._UZ(1,"div",9),_.qZA()),2&ht){const Re=_.oxw();_.xp6(1),_.Udp("width",Re.width+"%")}}class ct{constructor(ut,Re,Ge,Ct,Ut,Dn){this.toastId=ut,this.config=Re,this.message=Ge,this.title=Ct,this.toastType=Ut,this.toastRef=Dn,this._onTap=new te.xQ,this._onAction=new te.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(ut){this._onAction.next(ut)}onAction(){return this._onAction.asObservable()}}const Se={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},St=new _.OlP("ToastConfig");class jt{constructor(ut,Re){this.component=ut,this.injector=Re}attach(ut,Re){return this._attachedHost=ut,ut.attach(this,Re)}detach(){const ut=this._attachedHost;if(ut)return this._attachedHost=void 0,ut.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(ut){this._attachedHost=ut}}class st extends class{attach(ut,Re){return this._attachedPortal=ut,this.attachComponentPortal(ut,Re)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(ut){this._disposeFn=ut}}{constructor(ut,Re,Ge){super(),this._hostDomElement=ut,this._componentFactoryResolver=Re,this._appRef=Ge}attachComponentPortal(ut,Re){const Ge=this._componentFactoryResolver.resolveComponentFactory(ut.component);let Ct;return Ct=Ge.create(ut.injector),this._appRef.attachView(Ct.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ct.hostView),Ct.destroy()}),Re?this._hostDomElement.insertBefore(this._getComponentRootNode(Ct),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ct)),Ct}_getComponentRootNode(ut){return ut.hostView.rootNodes[0]}}let Le=(()=>{class ht{constructor(Re){this._document=Re}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Re=this._document.createElement("div");Re.classList.add("overlay-container"),this._document.body.appendChild(Re),this._containerElement=Re}}return ht.\u0275fac=function(Re){return new(Re||ht)(_.LFG(Me.K0))},ht.\u0275prov=_.Yz7({factory:function(){return new ht(_.LFG(Me.K0))},token:ht,providedIn:"root"}),ht})();class tt{constructor(ut){this._portalHost=ut}attach(ut,Re=!0){return this._portalHost.attach(ut,Re)}detach(){return this._portalHost.detach()}}let Qe=(()=>{class ht{constructor(Re,Ge,Ct,Ut){this._overlayContainer=Re,this._componentFactoryResolver=Ge,this._appRef=Ct,this._document=Ut,this._paneElements=new Map}create(Re,Ge){return this._createOverlayRef(this.getPaneElement(Re,Ge))}getPaneElement(Re="",Ge){return this._paneElements.get(Ge)||this._paneElements.set(Ge,{}),this._paneElements.get(Ge)[Re]||(this._paneElements.get(Ge)[Re]=this._createPaneElement(Re,Ge)),this._paneElements.get(Ge)[Re]}_createPaneElement(Re,Ge){const Ct=this._document.createElement("div");return Ct.id="toast-container",Ct.classList.add(Re),Ct.classList.add("toast-container"),Ge?Ge.getContainerElement().appendChild(Ct):this._overlayContainer.getContainerElement().appendChild(Ct),Ct}_createPortalHost(Re){return new st(Re,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Re){return new tt(this._createPortalHost(Re))}}return ht.\u0275fac=function(Re){return new(Re||ht)(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Me.K0))},ht.\u0275prov=_.Yz7({factory:function(){return new ht(_.LFG(Le),_.LFG(_._Vd),_.LFG(_.z2F),_.LFG(Me.K0))},token:ht,providedIn:"root"}),ht})();class Te{constructor(ut){this._overlayRef=ut,this.duplicatesCount=0,this._afterClosed=new te.xQ,this._activate=new te.xQ,this._manualClose=new te.xQ,this._resetTimeout=new te.xQ,this._countDuplicate=new te.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(ut,Re){ut&&this._resetTimeout.next(),Re&&this._countDuplicate.next(++this.duplicatesCount)}}class We{constructor(ut,Re){this._toastPackage=ut,this._parentInjector=Re}get(ut,Re,Ge){return ut===ct?this._toastPackage:this._parentInjector.get(ut,Re,Ge)}}let Ce=(()=>{class ht{constructor(Re,Ge,Ct,Ut,Dn){this.overlay=Ge,this._injector=Ct,this.sanitizer=Ut,this.ngZone=Dn,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},Re.default),Re.config),Re.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},Re.default.iconClasses),Re.config.iconClasses))}show(Re,Ge,Ct={},Ut=""){return this._preBuildNotification(Ut,Re,Ge,this.applyConfig(Ct))}success(Re,Ge,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Re,Ge,this.applyConfig(Ct))}error(Re,Ge,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Re,Ge,this.applyConfig(Ct))}info(Re,Ge,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Re,Ge,this.applyConfig(Ct))}warning(Re,Ge,Ct={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Re,Ge,this.applyConfig(Ct))}clear(Re){for(const Ge of this.toasts)if(void 0!==Re){if(Ge.toastId===Re)return void Ge.toastRef.manualClose()}else Ge.toastRef.manualClose()}remove(Re){const Ge=this._findToast(Re);if(!Ge||(Ge.activeToast.toastRef.close(),this.toasts.splice(Ge.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ct=this.toasts[this.currentlyActive].toastRef;Ct.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ct.activate())}return!0}findDuplicate(Re="",Ge="",Ct,Ut){const{includeTitleDuplicates:Dn}=this.toastrConfig;for(const sr of this.toasts){const mn=Dn&&sr.title===Re;if((!Dn||mn)&&sr.message===Ge)return sr.toastRef.onDuplicate(Ct,Ut),sr}return null}applyConfig(Re={}){return Object.assign(Object.assign({},this.toastrConfig),Re)}_findToast(Re){for(let Ge=0;Ge<this.toasts.length;Ge++)if(this.toasts[Ge].toastId===Re)return{index:Ge,activeToast:this.toasts[Ge]};return null}_preBuildNotification(Re,Ge,Ct,Ut){return Ut.onActivateTick?this.ngZone.run(()=>this._buildNotification(Re,Ge,Ct,Ut)):this._buildNotification(Re,Ge,Ct,Ut)}_buildNotification(Re,Ge,Ct,Ut){if(!Ut.toastComponent)throw new Error("toastComponent required");const Dn=this.findDuplicate(Ct,Ge,this.toastrConfig.resetTimeoutOnDuplicate&&Ut.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ct||Ge)&&this.toastrConfig.preventDuplicates&&null!==Dn)return Dn;this.previousToastMessage=Ge;let sr=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(sr=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const mn=this.overlay.create(Ut.positionClass,this.overlayContainer);this.index=this.index+1;let Yn=Ge;Ge&&Ut.enableHtml&&(Yn=this.sanitizer.sanitize(_.q3G.HTML,Ge));const kn=new Te(mn),Rt=new ct(this.index,Ut,Yn,Ct,Re,kn),$e=new We(Rt,this._injector),at=new jt(Ut.toastComponent,$e),lt=mn.attach(at,this.toastrConfig.newestOnTop);kn.componentInstance=lt.instance;const Xt={toastId:this.index,title:Ct||"",message:Ge||"",toastRef:kn,onShown:kn.afterActivate(),onHidden:kn.afterClosed(),onTap:Rt.onTap(),onAction:Rt.onAction(),portal:lt};return sr||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Xt.toastRef.activate()})),this.toasts.push(Xt),Xt}}return ht.\u0275fac=function(Re){return new(Re||ht)(_.LFG(St),_.LFG(Qe),_.LFG(_.zs3),_.LFG(Ve.H7),_.LFG(_.R0b))},ht.\u0275prov=_.Yz7({factory:function(){return new ht(_.LFG(St),_.LFG(Qe),_.LFG(_.gxx),_.LFG(Ve.H7),_.LFG(_.R0b))},token:ht,providedIn:"root"}),ht})(),Et=(()=>{class ht{constructor(Re,Ge,Ct){this.toastrService=Re,this.toastPackage=Ge,this.ngZone=Ct,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=Ge.message,this.title=Ge.title,this.options=Ge.config,this.originalTimeout=Ge.config.timeOut,this.toastClasses=`${Ge.toastType} ${Ge.config.toastClass}`,this.sub=Ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ge.toastRef.countDuplicate().subscribe(Ut=>{this.duplicatesCount=Ut})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Re=(new Date).getTime();this.width=(this.hideTime-Re)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Re,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Re),Ge)):this.timeout=setTimeout(()=>Re(),Ge)}outsideInterval(Re,Ge){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Re),Ge)):this.intervalId=setInterval(()=>Re(),Ge)}runInsideAngular(Re){this.ngZone?this.ngZone.run(()=>Re()):Re()}}return ht.\u0275fac=function(Re){return new(Re||ht)(_.Y36(Ce),_.Y36(ct),_.Y36(_.R0b))},ht.\u0275cmp=_.Xpm({type:ht,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Re,Ge){1&Re&&_.NdJ("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&Re&&(_.d8E("@flyInOut",Ge.state),_.Tol(Ge.toastClasses),_.Udp("display",Ge.displayStyle))},attrs:ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(Re,Ge){1&Re&&(_.YNc(0,He,3,0,"button",0),_.YNc(1,_e,3,5,"div",1),_.YNc(2,ne,1,3,"div",2),_.YNc(3,de,2,4,"div",3),_.YNc(4,he,2,2,"div",4)),2&Re&&(_.Q6J("ngIf",Ge.options.closeButton),_.xp6(1),_.Q6J("ngIf",Ge.title),_.xp6(1),_.Q6J("ngIf",Ge.message&&Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.message&&!Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.options.progressBar))},directives:[Me.O5],encapsulation:2,data:{animation:[(0,f.X$)("flyInOut",[(0,f.SB)("inactive",(0,f.oB)({opacity:0})),(0,f.SB)("active",(0,f.oB)({opacity:1})),(0,f.SB)("removed",(0,f.oB)({opacity:0})),(0,f.eR)("inactive => active",(0,f.jt)("{{ easeTime }}ms {{ easing }}")),(0,f.eR)("active => removed",(0,f.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),ht})();const Pt=Object.assign(Object.assign({},Se),{toastComponent:Et});let Wt=(()=>{class ht{static forRoot(Re={}){return{ngModule:ht,providers:[{provide:St,useValue:{default:Pt,config:Re}}]}}}return ht.\u0275fac=function(Re){return new(Re||ht)},ht.\u0275mod=_.oAB({type:ht}),ht.\u0275inj=_.cJS({imports:[[Me.ez]]}),ht})(),Ft=(()=>{class ht{constructor(Re,Ge,Ct){this.toastrService=Re,this.toastPackage=Ge,this.appRef=Ct,this.width=-1,this.toastClasses="",this.state="inactive",this.message=Ge.message,this.title=Ge.title,this.options=Ge.config,this.originalTimeout=Ge.config.timeOut,this.toastClasses=`${Ge.toastType} ${Ge.config.toastClass}`,this.sub=Ge.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=Ge.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=Ge.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=Ge.toastRef.countDuplicate().subscribe(Ut=>{this.duplicatesCount=Ut})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Re=(new Date).getTime();this.width=(this.hideTime-Re)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return ht.\u0275fac=function(Re){return new(Re||ht)(_.Y36(Ce),_.Y36(ct),_.Y36(_.z2F))},ht.\u0275cmp=_.Xpm({type:ht,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(Re,Ge){1&Re&&_.NdJ("click",function(){return Ge.tapToast()})("mouseenter",function(){return Ge.stickAround()})("mouseleave",function(){return Ge.delayedHideToast()}),2&Re&&(_.Tol(Ge.toastClasses),_.Udp("display",Ge.displayStyle))},attrs:ve,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(Re,Ge){1&Re&&(_.YNc(0,De,3,0,"button",0),_.YNc(1,Ye,3,5,"div",1),_.YNc(2,qe,1,3,"div",2),_.YNc(3,yt,2,4,"div",3),_.YNc(4,me,2,2,"div",4)),2&Re&&(_.Q6J("ngIf",Ge.options.closeButton),_.xp6(1),_.Q6J("ngIf",Ge.title),_.xp6(1),_.Q6J("ngIf",Ge.message&&Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.message&&!Ge.options.enableHtml),_.xp6(1),_.Q6J("ngIf",Ge.options.progressBar))},directives:[Me.O5],encapsulation:2}),ht})();Object.assign(Object.assign({},Se),{toastComponent:Ft})},7574:($t,et,Z)=>{"use strict";Z.d(et,{y:()=>de});var _=Z(7393),te=Z(9181),Ve=Z(6490),ve=Z(6554),He=Z(4487);var ne=Z(2494);let de=(()=>{class De{constructor(Ye){this._isScalar=!1,Ye&&(this._subscribe=Ye)}lift(Ye){const qe=new De;return qe.source=this,qe.operator=Ye,qe}subscribe(Ye,qe,yt){const{operator:me}=this,ft=function(De,Fe,Ye){if(De){if(De instanceof _.L)return De;if(De[te.b])return De[te.b]()}return De||Fe||Ye?new _.L(De,Fe,Ye):new _.L(Ve.c)}(Ye,qe,yt);if(ft.add(me?me.call(ft,this.source):this.source||ne.v.useDeprecatedSynchronousErrorHandling&&!ft.syncErrorThrowable?this._subscribe(ft):this._trySubscribe(ft)),ne.v.useDeprecatedSynchronousErrorHandling&&ft.syncErrorThrowable&&(ft.syncErrorThrowable=!1,ft.syncErrorThrown))throw ft.syncErrorValue;return ft}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(qe){ne.v.useDeprecatedSynchronousErrorHandling&&(Ye.syncErrorThrown=!0,Ye.syncErrorValue=qe),function(De){for(;De;){const{closed:Fe,destination:Ye,isStopped:qe}=De;if(Fe||qe)return!1;De=Ye&&Ye instanceof _.L?Ye:null}return!0}(Ye)?Ye.error(qe):console.warn(qe)}}forEach(Ye,qe){return new(qe=he(qe))((yt,me)=>{let ft;ft=this.subscribe(wt=>{try{Ye(wt)}catch(ct){me(ct),ft&&ft.unsubscribe()}},me,yt)})}_subscribe(Ye){const{source:qe}=this;return qe&&qe.subscribe(Ye)}[ve.L](){return this}pipe(...Ye){return 0===Ye.length?this:function(De){return 0===De.length?He.y:1===De.length?De[0]:function(Ye){return De.reduce((qe,yt)=>yt(qe),Ye)}}(Ye)(this)}toPromise(Ye){return new(Ye=he(Ye))((qe,yt)=>{let me;this.subscribe(ft=>me=ft,ft=>yt(ft),()=>qe(me))})}}return De.create=Fe=>new De(Fe),De})();function he(De){if(De||(De=ne.v.Promise||Promise),!De)throw new Error("no Promise impl found");return De}},6490:($t,et,Z)=>{"use strict";Z.d(et,{c:()=>te});var _=Z(2494),f=Z(4449);const te={closed:!0,next(Ve){},error(Ve){if(_.v.useDeprecatedSynchronousErrorHandling)throw Ve;(0,f.z)(Ve)},complete(){}}},8229:($t,et,Z)=>{"use strict";Z.d(et,{t:()=>He});var _=Z(9765),f=Z(7771),te=Z(5319),Ve=Z(309),Me=Z(7971),ve=Z(8858);class He extends _.xQ{constructor(ne=Number.POSITIVE_INFINITY,de=Number.POSITIVE_INFINITY,he){super(),this.scheduler=he,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=ne<1?1:ne,this._windowTime=de<1?1:de,de===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(ne){if(!this.isStopped){const de=this._events;de.push(ne),de.length>this._bufferSize&&de.shift()}super.next(ne)}nextTimeWindow(ne){this.isStopped||(this._events.push(new pe(this._getNow(),ne)),this._trimBufferThenGetEvents()),super.next(ne)}_subscribe(ne){const de=this._infiniteTimeWindow,he=de?this._events:this._trimBufferThenGetEvents(),De=this.scheduler,Fe=he.length;let Ye;if(this.closed)throw new Me.N;if(this.isStopped||this.hasError?Ye=te.w.EMPTY:(this.observers.push(ne),Ye=new ve.W(this,ne)),De&&ne.add(ne=new Ve.ht(ne,De)),de)for(let qe=0;qe<Fe&&!ne.closed;qe++)ne.next(he[qe]);else for(let qe=0;qe<Fe&&!ne.closed;qe++)ne.next(he[qe].value);return this.hasError?ne.error(this.thrownError):this.isStopped&&ne.complete(),Ye}_getNow(){return(this.scheduler||f.c).now()}_trimBufferThenGetEvents(){const ne=this._getNow(),de=this._bufferSize,he=this._windowTime,De=this._events,Fe=De.length;let Ye=0;for(;Ye<Fe&&!(ne-De[Ye].time<he);)Ye++;return Fe>de&&(Ye=Math.max(Ye,Fe-de)),Ye>0&&De.splice(0,Ye),De}}class pe{constructor(ne,de){this.time=ne,this.value=de}}},9765:($t,et,Z)=>{"use strict";Z.d(et,{Yc:()=>He,xQ:()=>pe});var _=Z(7574),f=Z(7393),te=Z(5319),Ve=Z(7971),Me=Z(8858),ve=Z(9181);class He extends f.L{constructor(de){super(de),this.destination=de}}let pe=(()=>{class ne extends _.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ve.b](){return new He(this)}lift(he){const De=new _e(this,this);return De.operator=he,De}next(he){if(this.closed)throw new Ve.N;if(!this.isStopped){const{observers:De}=this,Fe=De.length,Ye=De.slice();for(let qe=0;qe<Fe;qe++)Ye[qe].next(he)}}error(he){if(this.closed)throw new Ve.N;this.hasError=!0,this.thrownError=he,this.isStopped=!0;const{observers:De}=this,Fe=De.length,Ye=De.slice();for(let qe=0;qe<Fe;qe++)Ye[qe].error(he);this.observers.length=0}complete(){if(this.closed)throw new Ve.N;this.isStopped=!0;const{observers:he}=this,De=he.length,Fe=he.slice();for(let Ye=0;Ye<De;Ye++)Fe[Ye].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(he){if(this.closed)throw new Ve.N;return super._trySubscribe(he)}_subscribe(he){if(this.closed)throw new Ve.N;return this.hasError?(he.error(this.thrownError),te.w.EMPTY):this.isStopped?(he.complete(),te.w.EMPTY):(this.observers.push(he),new Me.W(this,he))}asObservable(){const he=new _.y;return he.source=this,he}}return ne.create=(de,he)=>new _e(de,he),ne})();class _e extends pe{constructor(de,he){super(),this.destination=de,this.source=he}next(de){const{destination:he}=this;he&&he.next&&he.next(de)}error(de){const{destination:he}=this;he&&he.error&&this.destination.error(de)}complete(){const{destination:de}=this;de&&de.complete&&this.destination.complete()}_subscribe(de){const{source:he}=this;return he?this.source.subscribe(de):te.w.EMPTY}}},8858:($t,et,Z)=>{"use strict";Z.d(et,{W:()=>f});var _=Z(5319);class f extends _.w{constructor(Ve,Me){super(),this.subject=Ve,this.subscriber=Me,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ve=this.subject,Me=Ve.observers;if(this.subject=null,!Me||0===Me.length||Ve.isStopped||Ve.closed)return;const ve=Me.indexOf(this.subscriber);-1!==ve&&Me.splice(ve,1)}}},7393:($t,et,Z)=>{"use strict";Z.d(et,{L:()=>He});var _=Z(9105),f=Z(6490),te=Z(5319),Ve=Z(9181),Me=Z(2494),ve=Z(4449);class He extends te.w{constructor(ne,de,he){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=f.c;break;case 1:if(!ne){this.destination=f.c;break}if("object"==typeof ne){ne instanceof He?(this.syncErrorThrowable=ne.syncErrorThrowable,this.destination=ne,ne.add(this)):(this.syncErrorThrowable=!0,this.destination=new pe(this,ne));break}default:this.syncErrorThrowable=!0,this.destination=new pe(this,ne,de,he)}}[Ve.b](){return this}static create(ne,de,he){const De=new He(ne,de,he);return De.syncErrorThrowable=!1,De}next(ne){this.isStopped||this._next(ne)}error(ne){this.isStopped||(this.isStopped=!0,this._error(ne))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(ne){this.destination.next(ne)}_error(ne){this.destination.error(ne),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:ne}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=ne,this}}class pe extends He{constructor(ne,de,he,De){super(),this._parentSubscriber=ne;let Fe,Ye=this;(0,_.m)(de)?Fe=de:de&&(Fe=de.next,he=de.error,De=de.complete,de!==f.c&&(Ye=Object.create(de),(0,_.m)(Ye.unsubscribe)&&this.add(Ye.unsubscribe.bind(Ye)),Ye.unsubscribe=this.unsubscribe.bind(this))),this._context=Ye,this._next=Fe,this._error=he,this._complete=De}next(ne){if(!this.isStopped&&this._next){const{_parentSubscriber:de}=this;Me.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable?this.__tryOrSetError(de,this._next,ne)&&this.unsubscribe():this.__tryOrUnsub(this._next,ne)}}error(ne){if(!this.isStopped){const{_parentSubscriber:de}=this,{useDeprecatedSynchronousErrorHandling:he}=Me.v;if(this._error)he&&de.syncErrorThrowable?(this.__tryOrSetError(de,this._error,ne),this.unsubscribe()):(this.__tryOrUnsub(this._error,ne),this.unsubscribe());else if(de.syncErrorThrowable)he?(de.syncErrorValue=ne,de.syncErrorThrown=!0):(0,ve.z)(ne),this.unsubscribe();else{if(this.unsubscribe(),he)throw ne;(0,ve.z)(ne)}}}complete(){if(!this.isStopped){const{_parentSubscriber:ne}=this;if(this._complete){const de=()=>this._complete.call(this._context);Me.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,de),this.unsubscribe()):(this.__tryOrUnsub(de),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(ne,de){try{ne.call(this._context,de)}catch(he){if(this.unsubscribe(),Me.v.useDeprecatedSynchronousErrorHandling)throw he;(0,ve.z)(he)}}__tryOrSetError(ne,de,he){if(!Me.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{de.call(this._context,he)}catch(De){return Me.v.useDeprecatedSynchronousErrorHandling?(ne.syncErrorValue=De,ne.syncErrorThrown=!0,!0):((0,ve.z)(De),!0)}return!1}_unsubscribe(){const{_parentSubscriber:ne}=this;this._context=null,this._parentSubscriber=null,ne.unsubscribe()}}},5319:($t,et,Z)=>{"use strict";Z.d(et,{w:()=>ve});var _=Z(9796),f=Z(1555),te=Z(9105);const Me=(()=>{function pe(_e){return Error.call(this),this.message=_e?`${_e.length} errors occurred during unsubscription:\n${_e.map((ne,de)=>`${de+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=_e,this}return pe.prototype=Object.create(Error.prototype),pe})();class ve{constructor(_e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,_e&&(this._ctorUnsubscribe=!0,this._unsubscribe=_e)}unsubscribe(){let _e;if(this.closed)return;let{_parentOrParents:ne,_ctorUnsubscribe:de,_unsubscribe:he,_subscriptions:De}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,ne instanceof ve)ne.remove(this);else if(null!==ne)for(let Fe=0;Fe<ne.length;++Fe)ne[Fe].remove(this);if((0,te.m)(he)){de&&(this._unsubscribe=void 0);try{he.call(this)}catch(Fe){_e=Fe instanceof Me?He(Fe.errors):[Fe]}}if((0,_.k)(De)){let Fe=-1,Ye=De.length;for(;++Fe<Ye;){const qe=De[Fe];if((0,f.K)(qe))try{qe.unsubscribe()}catch(yt){_e=_e||[],yt instanceof Me?_e=_e.concat(He(yt.errors)):_e.push(yt)}}}if(_e)throw new Me(_e)}add(_e){let ne=_e;if(!_e)return ve.EMPTY;switch(typeof _e){case"function":ne=new ve(_e);case"object":if(ne===this||ne.closed||"function"!=typeof ne.unsubscribe)return ne;if(this.closed)return ne.unsubscribe(),ne;if(!(ne instanceof ve)){const De=ne;ne=new ve,ne._subscriptions=[De]}break;default:throw new Error("unrecognized teardown "+_e+" added to Subscription.")}let{_parentOrParents:de}=ne;if(null===de)ne._parentOrParents=this;else if(de instanceof ve){if(de===this)return ne;ne._parentOrParents=[de,this]}else{if(-1!==de.indexOf(this))return ne;de.push(this)}const he=this._subscriptions;return null===he?this._subscriptions=[ne]:he.push(ne),ne}remove(_e){const ne=this._subscriptions;if(ne){const de=ne.indexOf(_e);-1!==de&&ne.splice(de,1)}}}var pe;function He(pe){return pe.reduce((_e,ne)=>_e.concat(ne instanceof Me?ne.errors:ne),[])}ve.EMPTY=((pe=new ve).closed=!0,pe)},2494:($t,et,Z)=>{"use strict";Z.d(et,{v:()=>f});let _=!1;const f={Promise:void 0,set useDeprecatedSynchronousErrorHandling(te){if(te){const Ve=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ve.stack)}else _&&console.log("RxJS: Back to a better error behavior. Thank you. <3");_=te},get useDeprecatedSynchronousErrorHandling(){return _}}},5345:($t,et,Z)=>{"use strict";Z.d(et,{IY:()=>Ve,Ds:()=>ve,ft:()=>pe});var _=Z(7393),f=Z(7574),te=Z(7444);class Ve extends _.L{constructor(ne){super(),this.parent=ne}_next(ne){this.parent.notifyNext(ne)}_error(ne){this.parent.notifyError(ne),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ve extends _.L{notifyNext(ne){this.destination.next(ne)}notifyError(ne){this.destination.error(ne)}notifyComplete(){this.destination.complete()}}function pe(_e,ne){if(ne.closed)return;if(_e instanceof f.y)return _e.subscribe(ne);let de;try{de=(0,te.s)(_e)(ne)}catch(he){ne.error(he)}return de}},2441:($t,et,Z)=>{"use strict";Z.d(et,{c:()=>Me,N:()=>ve});var _=Z(9765),f=Z(7574),te=Z(5319),Ve=Z(1307);class Me extends f.y{constructor(de,he){super(),this.source=de,this.subjectFactory=he,this._refCount=0,this._isComplete=!1}_subscribe(de){return this.getSubject().subscribe(de)}getSubject(){const de=this._subject;return(!de||de.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let de=this._connection;return de||(this._isComplete=!1,de=this._connection=new te.w,de.add(this.source.subscribe(new He(this.getSubject(),this))),de.closed&&(this._connection=null,de=te.w.EMPTY)),de}refCount(){return(0,Ve.x)()(this)}}const ve=(()=>{const ne=Me.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ne._subscribe},_isComplete:{value:ne._isComplete,writable:!0},getSubject:{value:ne.getSubject},connect:{value:ne.connect},refCount:{value:ne.refCount}}})();class He extends _.Yc{constructor(de,he){super(de),this.connectable=he}_error(de){this._unsubscribe(),super._error(de)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const de=this.connectable;if(de){this.connectable=null;const he=de._connection;de._refCount=0,de._subject=null,de._connection=null,he&&he.unsubscribe()}}}},8071:($t,et,Z)=>{"use strict";Z.d(et,{z:()=>Ve});var _=Z(5917),f=Z(3282);function Ve(...Me){return(0,f.J)(1)((0,_.of)(...Me))}},9193:($t,et,Z)=>{"use strict";Z.d(et,{E:()=>f,c:()=>te});var _=Z(7574);const f=new _.y(Me=>Me.complete());function te(Me){return Me?function(Me){return new _.y(ve=>Me.schedule(()=>ve.complete()))}(Me):f}},4402:($t,et,Z)=>{"use strict";Z.d(et,{D:()=>Ye});var _=Z(7574),f=Z(7444),te=Z(5319),Ve=Z(6554),He=Z(4087),pe=Z(377),de=Z(4072),he=Z(9489);function Ye(qe,yt){return yt?function(qe,yt){if(null!=qe){if(function(qe){return qe&&"function"==typeof qe[Ve.L]}(qe))return function(qe,yt){return new _.y(me=>{const ft=new te.w;return ft.add(yt.schedule(()=>{const wt=qe[Ve.L]();ft.add(wt.subscribe({next(ct){ft.add(yt.schedule(()=>me.next(ct)))},error(ct){ft.add(yt.schedule(()=>me.error(ct)))},complete(){ft.add(yt.schedule(()=>me.complete()))}}))})),ft})}(qe,yt);if((0,de.t)(qe))return function(qe,yt){return new _.y(me=>{const ft=new te.w;return ft.add(yt.schedule(()=>qe.then(wt=>{ft.add(yt.schedule(()=>{me.next(wt),ft.add(yt.schedule(()=>me.complete()))}))},wt=>{ft.add(yt.schedule(()=>me.error(wt)))}))),ft})}(qe,yt);if((0,he.z)(qe))return(0,He.r)(qe,yt);if(function(qe){return qe&&"function"==typeof qe[pe.hZ]}(qe)||"string"==typeof qe)return function(qe,yt){if(!qe)throw new Error("Iterable cannot be null");return new _.y(me=>{const ft=new te.w;let wt;return ft.add(()=>{wt&&"function"==typeof wt.return&&wt.return()}),ft.add(yt.schedule(()=>{wt=qe[pe.hZ](),ft.add(yt.schedule(function(){if(me.closed)return;let ct,Se;try{const St=wt.next();ct=St.value,Se=St.done}catch(St){return void me.error(St)}Se?me.complete():(me.next(ct),this.schedule())}))})),ft})}(qe,yt)}throw new TypeError((null!==qe&&typeof qe||qe)+" is not observable")}(qe,yt):qe instanceof _.y?qe:new _.y((0,f.s)(qe))}},6693:($t,et,Z)=>{"use strict";Z.d(et,{n:()=>Ve});var _=Z(7574),f=Z(5015),te=Z(4087);function Ve(Me,ve){return ve?(0,te.r)(Me,ve):new _.y((0,f.V)(Me))}},6682:($t,et,Z)=>{"use strict";Z.d(et,{T:()=>Me});var _=Z(7574),f=Z(4869),te=Z(3282),Ve=Z(6693);function Me(...ve){let He=Number.POSITIVE_INFINITY,pe=null,_e=ve[ve.length-1];return(0,f.K)(_e)?(pe=ve.pop(),ve.length>1&&"number"==typeof ve[ve.length-1]&&(He=ve.pop())):"number"==typeof _e&&(He=ve.pop()),null===pe&&1===ve.length&&ve[0]instanceof _.y?ve[0]:(0,te.J)(He)((0,Ve.n)(ve,pe))}},5917:($t,et,Z)=>{"use strict";Z.d(et,{of:()=>Ve});var _=Z(4869),f=Z(6693),te=Z(4087);function Ve(...Me){let ve=Me[Me.length-1];return(0,_.K)(ve)?(Me.pop(),(0,te.r)(Me,ve)):(0,f.n)(Me)}},5304:($t,et,Z)=>{"use strict";Z.d(et,{K:()=>f});var _=Z(5345);function f(Me){return function(He){const pe=new te(Me),_e=He.lift(pe);return pe.caught=_e}}class te{constructor(ve){this.selector=ve}call(ve,He){return He.subscribe(new Ve(ve,this.selector,this.caught))}}class Ve extends _.Ds{constructor(ve,He,pe){super(ve),this.selector=He,this.caught=pe}error(ve){if(!this.isStopped){let He;try{He=this.selector(ve,this.caught)}catch(ne){return void super.error(ne)}this._unsubscribeAndRecycle();const pe=new _.IY(this);this.add(pe);const _e=(0,_.ft)(He,pe);_e!==pe&&this.add(_e)}}}},5242:($t,et,Z)=>{"use strict";Z.d(et,{d:()=>f});var _=Z(7393);function f(Me=null){return ve=>ve.lift(new te(Me))}class te{constructor(ve){this.defaultValue=ve}call(ve,He){return He.subscribe(new Ve(ve,this.defaultValue))}}class Ve extends _.L{constructor(ve,He){super(ve),this.defaultValue=He,this.isEmpty=!0}_next(ve){this.isEmpty=!1,this.destination.next(ve)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5435:($t,et,Z)=>{"use strict";Z.d(et,{h:()=>f});var _=Z(7393);function f(Me,ve){return function(pe){return pe.lift(new te(Me,ve))}}class te{constructor(ve,He){this.predicate=ve,this.thisArg=He}call(ve,He){return He.subscribe(new Ve(ve,this.predicate,this.thisArg))}}class Ve extends _.L{constructor(ve,He,pe){super(ve),this.predicate=He,this.thisArg=pe,this.count=0}_next(ve){let He;try{He=this.predicate.call(this.thisArg,ve,this.count++)}catch(pe){return void this.destination.error(pe)}He&&this.destination.next(ve)}}},8049:($t,et,Z)=>{"use strict";Z.d(et,{P:()=>He});var _=Z(3410),f=Z(5435),te=Z(5257),Ve=Z(5242),Me=Z(4635),ve=Z(4487);function He(pe,_e){const ne=arguments.length>=2;return de=>de.pipe(pe?(0,f.h)((he,De)=>pe(he,De,de)):ve.y,(0,te.q)(1),ne?(0,Ve.d)(_e):(0,Me.T)(()=>new _.K))}},8002:($t,et,Z)=>{"use strict";Z.d(et,{U:()=>f});var _=Z(7393);function f(Me,ve){return function(pe){if("function"!=typeof Me)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return pe.lift(new te(Me,ve))}}class te{constructor(ve,He){this.project=ve,this.thisArg=He}call(ve,He){return He.subscribe(new Ve(ve,this.project,this.thisArg))}}class Ve extends _.L{constructor(ve,He,pe){super(ve),this.project=He,this.count=0,this.thisArg=pe||this}_next(ve){let He;try{He=this.project.call(this.thisArg,ve,this.count++)}catch(pe){return void this.destination.error(pe)}this.destination.next(He)}}},3282:($t,et,Z)=>{"use strict";Z.d(et,{J:()=>te});var _=Z(9773),f=Z(4487);function te(Ve=Number.POSITIVE_INFINITY){return(0,_.zg)(f.y,Ve)}},9773:($t,et,Z)=>{"use strict";Z.d(et,{zg:()=>Ve});var _=Z(8002),f=Z(4402),te=Z(5345);function Ve(pe,_e,ne=Number.POSITIVE_INFINITY){return"function"==typeof _e?de=>de.pipe(Ve((he,De)=>(0,f.D)(pe(he,De)).pipe((0,_.U)((Fe,Ye)=>_e(he,Fe,De,Ye))),ne)):("number"==typeof _e&&(ne=_e),de=>de.lift(new Me(pe,ne)))}class Me{constructor(_e,ne=Number.POSITIVE_INFINITY){this.project=_e,this.concurrent=ne}call(_e,ne){return ne.subscribe(new ve(_e,this.project,this.concurrent))}}class ve extends te.Ds{constructor(_e,ne,de=Number.POSITIVE_INFINITY){super(_e),this.project=ne,this.concurrent=de,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(_e){this.active<this.concurrent?this._tryNext(_e):this.buffer.push(_e)}_tryNext(_e){let ne;const de=this.index++;try{ne=this.project(_e,de)}catch(he){return void this.destination.error(he)}this.active++,this._innerSub(ne)}_innerSub(_e){const ne=new te.IY(this),de=this.destination;de.add(ne);const he=(0,te.ft)(_e,ne);he!==ne&&de.add(he)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(_e){this.destination.next(_e)}notifyComplete(){const _e=this.buffer;this.active--,_e.length>0?this._next(_e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:($t,et,Z)=>{"use strict";Z.d(et,{ht:()=>de,QV:()=>_e});var _=Z(7393),f=Z(9193),te=Z(5917),Ve=Z(7574);class pe{constructor(Fe,Ye,qe){this.kind=Fe,this.value=Ye,this.error=qe,this.hasValue="N"===Fe}observe(Fe){switch(this.kind){case"N":return Fe.next&&Fe.next(this.value);case"E":return Fe.error&&Fe.error(this.error);case"C":return Fe.complete&&Fe.complete()}}do(Fe,Ye,qe){switch(this.kind){case"N":return Fe&&Fe(this.value);case"E":return Ye&&Ye(this.error);case"C":return qe&&qe()}}accept(Fe,Ye,qe){return Fe&&"function"==typeof Fe.next?this.observe(Fe):this.do(Fe,Ye,qe)}toObservable(){switch(this.kind){case"N":return(0,te.of)(this.value);case"E":return De=this.error,new Ve.y(Ye=>Ye.error(De));case"C":return(0,f.c)()}var De;throw new Error("unexpected notification kind value")}static createNext(Fe){return void 0!==Fe?new pe("N",Fe):pe.undefinedValueNotification}static createError(Fe){return new pe("E",void 0,Fe)}static createComplete(){return pe.completeNotification}}function _e(De,Fe=0){return function(qe){return qe.lift(new ne(De,Fe))}}pe.completeNotification=new pe("C"),pe.undefinedValueNotification=new pe("N",void 0);class ne{constructor(Fe,Ye=0){this.scheduler=Fe,this.delay=Ye}call(Fe,Ye){return Ye.subscribe(new de(Fe,this.scheduler,this.delay))}}class de extends _.L{constructor(Fe,Ye,qe=0){super(Fe),this.scheduler=Ye,this.delay=qe}static dispatch(Fe){const{notification:Ye,destination:qe}=Fe;Ye.observe(qe),this.unsubscribe()}scheduleMessage(Fe){this.destination.add(this.scheduler.schedule(de.dispatch,this.delay,new he(Fe,this.destination)))}_next(Fe){this.scheduleMessage(pe.createNext(Fe))}_error(Fe){this.scheduleMessage(pe.createError(Fe)),this.unsubscribe()}_complete(){this.scheduleMessage(pe.createComplete()),this.unsubscribe()}}class he{constructor(Fe,Ye){this.notification=Fe,this.destination=Ye}}},1307:($t,et,Z)=>{"use strict";Z.d(et,{x:()=>f});var _=Z(7393);function f(){return function(ve){return ve.lift(new te(ve))}}class te{constructor(ve){this.connectable=ve}call(ve,He){const{connectable:pe}=this;pe._refCount++;const _e=new Ve(ve,pe),ne=He.subscribe(_e);return _e.closed||(_e.connection=pe.connect()),ne}}class Ve extends _.L{constructor(ve,He){super(ve),this.connectable=He}_unsubscribe(){const{connectable:ve}=this;if(!ve)return void(this.connection=null);this.connectable=null;const He=ve._refCount;if(He<=0)return void(this.connection=null);if(ve._refCount=He-1,He>1)return void(this.connection=null);const{connection:pe}=this,_e=ve._connection;this.connection=null,_e&&(!pe||_e===pe)&&_e.unsubscribe()}}},2145:($t,et,Z)=>{"use strict";Z.d(et,{R:()=>f});var _=Z(7393);function f(Me,ve){let He=!1;return arguments.length>=2&&(He=!0),function(_e){return _e.lift(new te(Me,ve,He))}}class te{constructor(ve,He,pe=!1){this.accumulator=ve,this.seed=He,this.hasSeed=pe}call(ve,He){return He.subscribe(new Ve(ve,this.accumulator,this.seed,this.hasSeed))}}class Ve extends _.L{constructor(ve,He,pe,_e){super(ve),this.accumulator=He,this._seed=pe,this.hasSeed=_e,this.index=0}get seed(){return this._seed}set seed(ve){this.hasSeed=!0,this._seed=ve}_next(ve){if(this.hasSeed)return this._tryNext(ve);this.seed=ve,this.destination.next(ve)}_tryNext(ve){const He=this.index++;let pe;try{pe=this.accumulator(this.seed,ve,He)}catch(_e){this.destination.error(_e)}this.seed=pe,this.destination.next(pe)}}},8819:($t,et,Z)=>{"use strict";Z.d(et,{B:()=>He});var _=Z(2441);var Ve=Z(1307),Me=Z(9765);function ve(){return new Me.xQ}function He(){return pe=>(0,Ve.x)()(function(pe,_e){return function(de){let he;he="function"==typeof pe?pe:function(){return pe};const De=Object.create(de,_.N);return De.source=de,De.subjectFactory=he,De}}(ve)(pe))}},9761:($t,et,Z)=>{"use strict";Z.d(et,{O:()=>te});var _=Z(8071),f=Z(4869);function te(...Ve){const Me=Ve[Ve.length-1];return(0,f.K)(Me)?(Ve.pop(),ve=>(0,_.z)(Ve,ve,Me)):ve=>(0,_.z)(Ve,ve)}},3101:($t,et,Z)=>{"use strict";Z.d(et,{R:()=>yt});var _=Z(7574);let f=1;const te=Promise.resolve(),Ve={};function Me(ft){return ft in Ve&&(delete Ve[ft],!0)}const ve={setImmediate(ft){const wt=f++;return Ve[wt]=!0,te.then(()=>Me(wt)&&ft()),wt},clearImmediate(ft){Me(ft)}};var pe=Z(6465),ne=Z(6102);const De=new class extends ne.v{flush(wt){this.active=!0,this.scheduled=void 0;const{actions:ct}=this;let Se,St=-1,jt=ct.length;wt=wt||ct.shift();do{if(Se=wt.execute(wt.state,wt.delay))break}while(++St<jt&&(wt=ct.shift()));if(this.active=!1,Se){for(;++St<jt&&(wt=ct.shift());)wt.unsubscribe();throw Se}}}(class extends pe.o{constructor(wt,ct){super(wt,ct),this.scheduler=wt,this.work=ct}requestAsyncId(wt,ct,Se=0){return null!==Se&&Se>0?super.requestAsyncId(wt,ct,Se):(wt.actions.push(this),wt.scheduled||(wt.scheduled=ve.setImmediate(wt.flush.bind(wt,null))))}recycleAsyncId(wt,ct,Se=0){if(null!==Se&&Se>0||null===Se&&this.delay>0)return super.recycleAsyncId(wt,ct,Se);0===wt.actions.length&&(ve.clearImmediate(ct),wt.scheduled=void 0)}});var Fe=Z(9796);class qe extends _.y{constructor(wt,ct=0,Se=De){var ft;super(),this.source=wt,this.delayTime=ct,this.scheduler=Se,(!(!(0,Fe.k)(ft=ct)&&ft-parseFloat(ft)+1>=0)||ct<0)&&(this.delayTime=0),(!Se||"function"!=typeof Se.schedule)&&(this.scheduler=De)}static create(wt,ct=0,Se=De){return new qe(wt,ct,Se)}static dispatch(wt){const{source:ct,subscriber:Se}=wt;return this.add(ct.subscribe(Se))}_subscribe(wt){return this.scheduler.schedule(qe.dispatch,this.delayTime,{source:this.source,subscriber:wt})}}function yt(ft,wt=0){return function(Se){return Se.lift(new me(ft,wt))}}class me{constructor(wt,ct){this.scheduler=wt,this.delay=ct}call(wt,ct){return new qe(ct,this.delay,this.scheduler).subscribe(wt)}}},3190:($t,et,Z)=>{"use strict";Z.d(et,{w:()=>Ve});var _=Z(8002),f=Z(4402),te=Z(5345);function Ve(He,pe){return"function"==typeof pe?_e=>_e.pipe(Ve((ne,de)=>(0,f.D)(He(ne,de)).pipe((0,_.U)((he,De)=>pe(ne,he,de,De))))):_e=>_e.lift(new Me(He))}class Me{constructor(pe){this.project=pe}call(pe,_e){return _e.subscribe(new ve(pe,this.project))}}class ve extends te.Ds{constructor(pe,_e){super(pe),this.project=_e,this.index=0}_next(pe){let _e;const ne=this.index++;try{_e=this.project(pe,ne)}catch(de){return void this.destination.error(de)}this._innerSub(_e)}_innerSub(pe){const _e=this.innerSubscription;_e&&_e.unsubscribe();const ne=new te.IY(this),de=this.destination;de.add(ne),this.innerSubscription=(0,te.ft)(pe,ne),this.innerSubscription!==ne&&de.add(this.innerSubscription)}_complete(){const{innerSubscription:pe}=this;(!pe||pe.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(pe){this.destination.next(pe)}}},5257:($t,et,Z)=>{"use strict";Z.d(et,{q:()=>Ve});var _=Z(7393),f=Z(7108),te=Z(9193);function Ve(He){return pe=>0===He?(0,te.c)():pe.lift(new Me(He))}class Me{constructor(pe){if(this.total=pe,this.total<0)throw new f.W}call(pe,_e){return _e.subscribe(new ve(pe,this.total))}}class ve extends _.L{constructor(pe,_e){super(pe),this.total=_e,this.count=0}_next(pe){const _e=this.total,ne=++this.count;ne<=_e&&(this.destination.next(pe),ne===_e&&(this.destination.complete(),this.unsubscribe()))}}},8307:($t,et,Z)=>{"use strict";Z.d(et,{b:()=>Ve});var _=Z(7393),f=Z(8640),te=Z(9105);function Ve(He,pe,_e){return function(de){return de.lift(new Me(He,pe,_e))}}class Me{constructor(pe,_e,ne){this.nextOrObserver=pe,this.error=_e,this.complete=ne}call(pe,_e){return _e.subscribe(new ve(pe,this.nextOrObserver,this.error,this.complete))}}class ve extends _.L{constructor(pe,_e,ne,de){super(pe),this._tapNext=f.Z,this._tapError=f.Z,this._tapComplete=f.Z,this._tapError=ne||f.Z,this._tapComplete=de||f.Z,(0,te.m)(_e)?(this._context=this,this._tapNext=_e):_e&&(this._context=_e,this._tapNext=_e.next||f.Z,this._tapError=_e.error||f.Z,this._tapComplete=_e.complete||f.Z)}_next(pe){try{this._tapNext.call(this._context,pe)}catch(_e){return void this.destination.error(_e)}this.destination.next(pe)}_error(pe){try{this._tapError.call(this._context,pe)}catch(_e){return void this.destination.error(_e)}this.destination.error(pe)}_complete(){try{this._tapComplete.call(this._context)}catch(pe){return void this.destination.error(pe)}return this.destination.complete()}}},4635:($t,et,Z)=>{"use strict";Z.d(et,{T:()=>te});var _=Z(3410),f=Z(7393);function te(He=ve){return pe=>pe.lift(new Ve(He))}class Ve{constructor(pe){this.errorFactory=pe}call(pe,_e){return _e.subscribe(new Me(pe,this.errorFactory))}}class Me extends f.L{constructor(pe,_e){super(pe),this.errorFactory=_e,this.hasValue=!1}_next(pe){this.hasValue=!0,this.destination.next(pe)}_complete(){if(this.hasValue)return this.destination.complete();{let pe;try{pe=this.errorFactory()}catch(_e){pe=_e}this.destination.error(pe)}}}function ve(){return new _.K}},4087:($t,et,Z)=>{"use strict";Z.d(et,{r:()=>te});var _=Z(7574),f=Z(5319);function te(Ve,Me){return new _.y(ve=>{const He=new f.w;let pe=0;return He.add(Me.schedule(function(){pe!==Ve.length?(ve.next(Ve[pe++]),ve.closed||He.add(this.schedule())):ve.complete()})),He})}},6465:($t,et,Z)=>{"use strict";Z.d(et,{o:()=>te});var _=Z(5319);class f extends _.w{constructor(Me,ve){super()}schedule(Me,ve=0){return this}}class te extends f{constructor(Me,ve){super(Me,ve),this.scheduler=Me,this.work=ve,this.pending=!1}schedule(Me,ve=0){if(this.closed)return this;this.state=Me;const He=this.id,pe=this.scheduler;return null!=He&&(this.id=this.recycleAsyncId(pe,He,ve)),this.pending=!0,this.delay=ve,this.id=this.id||this.requestAsyncId(pe,this.id,ve),this}requestAsyncId(Me,ve,He=0){return setInterval(Me.flush.bind(Me,this),He)}recycleAsyncId(Me,ve,He=0){if(null!==He&&this.delay===He&&!1===this.pending)return ve;clearInterval(ve)}execute(Me,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const He=this._execute(Me,ve);if(He)return He;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Me,ve){let pe,He=!1;try{this.work(Me)}catch(_e){He=!0,pe=!!_e&&_e||new Error(_e)}if(He)return this.unsubscribe(),pe}_unsubscribe(){const Me=this.id,ve=this.scheduler,He=ve.actions,pe=He.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==pe&&He.splice(pe,1),null!=Me&&(this.id=this.recycleAsyncId(ve,Me,null)),this.delay=null}}},6102:($t,et,Z)=>{"use strict";Z.d(et,{v:()=>f});let _=(()=>{class te{constructor(Me,ve=te.now){this.SchedulerAction=Me,this.now=ve}schedule(Me,ve=0,He){return new this.SchedulerAction(this,Me).schedule(He,ve)}}return te.now=()=>Date.now(),te})();class f extends _{constructor(Ve,Me=_.now){super(Ve,()=>f.delegate&&f.delegate!==this?f.delegate.now():Me()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ve,Me=0,ve){return f.delegate&&f.delegate!==this?f.delegate.schedule(Ve,Me,ve):super.schedule(Ve,Me,ve)}flush(Ve){const{actions:Me}=this;if(this.active)return void Me.push(Ve);let ve;this.active=!0;do{if(ve=Ve.execute(Ve.state,Ve.delay))break}while(Ve=Me.shift());if(this.active=!1,ve){for(;Ve=Me.shift();)Ve.unsubscribe();throw ve}}}},3637:($t,et,Z)=>{"use strict";Z.d(et,{z:()=>te,P:()=>Ve});var _=Z(6465);const te=new(Z(6102).v)(_.o),Ve=te},7771:($t,et,Z)=>{"use strict";Z.d(et,{c:()=>ve,N:()=>Me});var _=Z(6465),te=Z(6102);const Me=new class extends te.v{}(class extends _.o{constructor(pe,_e){super(pe,_e),this.scheduler=pe,this.work=_e}schedule(pe,_e=0){return _e>0?super.schedule(pe,_e):(this.delay=_e,this.state=pe,this.scheduler.flush(this),this)}execute(pe,_e){return _e>0||this.closed?super.execute(pe,_e):this._execute(pe,_e)}requestAsyncId(pe,_e,ne=0){return null!==ne&&ne>0||null===ne&&this.delay>0?super.requestAsyncId(pe,_e,ne):pe.flush(this)}}),ve=Me},377:($t,et,Z)=>{"use strict";Z.d(et,{hZ:()=>f});const f="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:($t,et,Z)=>{"use strict";Z.d(et,{L:()=>_});const _="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:($t,et,Z)=>{"use strict";Z.d(et,{b:()=>_});const _="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:($t,et,Z)=>{"use strict";Z.d(et,{W:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return te.prototype=Object.create(Error.prototype),te})()},3410:($t,et,Z)=>{"use strict";Z.d(et,{K:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return te.prototype=Object.create(Error.prototype),te})()},7971:($t,et,Z)=>{"use strict";Z.d(et,{N:()=>f});const f=(()=>{function te(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return te.prototype=Object.create(Error.prototype),te})()},4449:($t,et,Z)=>{"use strict";function _(f){setTimeout(()=>{throw f},0)}Z.d(et,{z:()=>_})},4487:($t,et,Z)=>{"use strict";function _(f){return f}Z.d(et,{y:()=>_})},9796:($t,et,Z)=>{"use strict";Z.d(et,{k:()=>_});const _=Array.isArray||(f=>f&&"number"==typeof f.length)},9489:($t,et,Z)=>{"use strict";Z.d(et,{z:()=>_});const _=f=>f&&"number"==typeof f.length&&"function"!=typeof f},9105:($t,et,Z)=>{"use strict";function _(f){return"function"==typeof f}Z.d(et,{m:()=>_})},1555:($t,et,Z)=>{"use strict";function _(f){return null!==f&&"object"==typeof f}Z.d(et,{K:()=>_})},4072:($t,et,Z)=>{"use strict";function _(f){return!!f&&"function"!=typeof f.subscribe&&"function"==typeof f.then}Z.d(et,{t:()=>_})},4869:($t,et,Z)=>{"use strict";function _(f){return f&&"function"==typeof f.schedule}Z.d(et,{K:()=>_})},8640:($t,et,Z)=>{"use strict";function _(){}Z.d(et,{Z:()=>_})},7444:($t,et,Z)=>{"use strict";Z.d(et,{s:()=>de});var _=Z(5015),f=Z(4449),Ve=Z(377),ve=Z(6554),pe=Z(9489),_e=Z(4072),ne=Z(1555);const de=he=>{if(he&&"function"==typeof he[ve.L])return(he=>De=>{const Fe=he[ve.L]();if("function"!=typeof Fe.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Fe.subscribe(De)})(he);if((0,pe.z)(he))return(0,_.V)(he);if((0,_e.t)(he))return(he=>De=>(he.then(Fe=>{De.closed||(De.next(Fe),De.complete())},Fe=>De.error(Fe)).then(null,f.z),De))(he);if(he&&"function"==typeof he[Ve.hZ])return(he=>De=>{const Fe=he[Ve.hZ]();for(;;){let Ye;try{Ye=Fe.next()}catch(qe){return De.error(qe),De}if(Ye.done){De.complete();break}if(De.next(Ye.value),De.closed)break}return"function"==typeof Fe.return&&De.add(()=>{Fe.return&&Fe.return()}),De})(he);{const Fe=`You provided ${(0,ne.K)(he)?"an invalid object":`'${he}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Fe)}}},5015:($t,et,Z)=>{"use strict";Z.d(et,{V:()=>_});const _=f=>te=>{for(let Ve=0,Me=f.length;Ve<Me&&!te.closed;Ve++)te.next(f[Ve]);te.complete()}},8259:function($t){$t.exports=function(){"use strict";const et=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Z="SweetAlert2:",f=N=>N.charAt(0).toUpperCase()+N.slice(1),te=N=>Array.prototype.slice.call(N),Ve=N=>{console.warn("".concat(Z," ").concat("object"==typeof N?N.join(" "):N))},Me=N=>{console.error("".concat(Z," ").concat(N))},ve=[],pe=(N,O)=>{(N=>{ve.includes(N)||(ve.push(N),Ve(N))})('"'.concat(N,'" is deprecated and will be removed in the next major release. Please use "').concat(O,'" instead.'))},_e=N=>"function"==typeof N?N():N,ne=N=>N&&"function"==typeof N.toPromise,de=N=>ne(N)?N.toPromise():Promise.resolve(N),he=N=>N&&Promise.resolve(N)===N,Fe=N=>N instanceof Element||(N=>"object"==typeof N&&N.jquery)(N),yt=N=>{const O={};for(const Y in N)O[N[Y]]="swal2-"+N[Y];return O},me=yt(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),ft=yt(["success","warning","info","question","error"]),wt=()=>document.body.querySelector(".".concat(me.container)),ct=N=>{const O=wt();return O?O.querySelector(N):null},Se=N=>ct(".".concat(N)),St=()=>Se(me.popup),jt=()=>Se(me.icon),Jt=()=>Se(me.title),st=()=>Se(me["html-container"]),Le=()=>Se(me.image),tt=()=>Se(me["progress-steps"]),Qe=()=>Se(me["validation-message"]),Te=()=>ct(".".concat(me.actions," .").concat(me.confirm)),We=()=>ct(".".concat(me.actions," .").concat(me.deny)),Et=()=>ct(".".concat(me.loader)),Pt=()=>ct(".".concat(me.actions," .").concat(me.cancel)),Wt=()=>Se(me.actions),Gt=()=>Se(me.footer),Ft=()=>Se(me["timer-progress-bar"]),Yt=()=>Se(me.close),ht=()=>{const N=te(St().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((Y,Ne)=>(Y=parseInt(Y.getAttribute("tabindex")))>(Ne=parseInt(Ne.getAttribute("tabindex")))?1:Y<Ne?-1:0),O=te(St().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(Y=>"-1"!==Y.getAttribute("tabindex"));return(N=>{const O=[];for(let Y=0;Y<N.length;Y++)-1===O.indexOf(N[Y])&&O.push(N[Y]);return O})(N.concat(O)).filter(Y=>vn(Y))},ut=()=>!Re()&&!document.body.classList.contains(me["no-backdrop"]),Re=()=>document.body.classList.contains(me["toast-shown"]),Ct={previousBodyPadding:null},Ut=(N,O)=>{if(N.textContent="",O){const Ne=(new DOMParser).parseFromString(O,"text/html");te(Ne.querySelector("head").childNodes).forEach(xt=>{N.appendChild(xt)}),te(Ne.querySelector("body").childNodes).forEach(xt=>{N.appendChild(xt)})}},Dn=(N,O)=>{if(!O)return!1;const Y=O.split(/\s+/);for(let Ne=0;Ne<Y.length;Ne++)if(!N.classList.contains(Y[Ne]))return!1;return!0},mn=(N,O,Y)=>{if(((N,O)=>{te(N.classList).forEach(Y=>{!Object.values(me).includes(Y)&&!Object.values(ft).includes(Y)&&!Object.values(O.showClass).includes(Y)&&N.classList.remove(Y)})})(N,O),O.customClass&&O.customClass[Y]){if("string"!=typeof O.customClass[Y]&&!O.customClass[Y].forEach)return Ve("Invalid type of customClass.".concat(Y,'! Expected string or iterable object, got "').concat(typeof O.customClass[Y],'"'));$e(N,O.customClass[Y])}},Yn=(N,O)=>{if(!O)return null;switch(O){case"select":case"textarea":case"file":return lt(N,me[O]);case"checkbox":return N.querySelector(".".concat(me.checkbox," input"));case"radio":return N.querySelector(".".concat(me.radio," input:checked"))||N.querySelector(".".concat(me.radio," input:first-child"));case"range":return N.querySelector(".".concat(me.range," input"));default:return lt(N,me.input)}},kn=N=>{if(N.focus(),"file"!==N.type){const O=N.value;N.value="",N.value=O}},Rt=(N,O,Y)=>{!N||!O||("string"==typeof O&&(O=O.split(/\s+/).filter(Boolean)),O.forEach(Ne=>{N.forEach?N.forEach(xt=>{Y?xt.classList.add(Ne):xt.classList.remove(Ne)}):Y?N.classList.add(Ne):N.classList.remove(Ne)}))},$e=(N,O)=>{Rt(N,O,!0)},at=(N,O)=>{Rt(N,O,!1)},lt=(N,O)=>{for(let Y=0;Y<N.childNodes.length;Y++)if(Dn(N.childNodes[Y],O))return N.childNodes[Y]},Xt=(N,O,Y)=>{Y==="".concat(parseInt(Y))&&(Y=parseInt(Y)),Y||0===parseInt(Y)?N.style[O]="number"==typeof Y?"".concat(Y,"px"):Y:N.style.removeProperty(O)},nn=(N,O="flex")=>{N.style.display=O},_n=N=>{N.style.display="none"},on=(N,O,Y,Ne)=>{const xt=N.querySelector(O);xt&&(xt.style[Y]=Ne)},Qt=(N,O,Y)=>{O?nn(N,Y):_n(N)},vn=N=>!(!N||!(N.offsetWidth||N.offsetHeight||N.getClientRects().length)),Dr=N=>N.scrollHeight>N.clientHeight,Qn=N=>{const O=window.getComputedStyle(N),Y=parseFloat(O.getPropertyValue("animation-duration")||"0"),Ne=parseFloat(O.getPropertyValue("transition-duration")||"0");return Y>0||Ne>0},kt=(N,O=!1)=>{const Y=Ft();vn(Y)&&(O&&(Y.style.transition="none",Y.style.width="100%"),setTimeout(()=>{Y.style.transition="width ".concat(N/1e3,"s linear"),Y.style.width="0%"},10))},jr=()=>"undefined"==typeof window||"undefined"==typeof document,di='\n <div aria-labelledby="'.concat(me.title,'" aria-describedby="').concat(me["html-container"],'" class="').concat(me.popup,'" tabindex="-1">\n   <button type="button" class="').concat(me.close,'"></button>\n   <ul class="').concat(me["progress-steps"],'"></ul>\n   <div class="').concat(me.icon,'"></div>\n   <img class="').concat(me.image,'" />\n   <h2 class="').concat(me.title,'" id="').concat(me.title,'"></h2>\n   <div class="').concat(me["html-container"],'" id="').concat(me["html-container"],'"></div>\n   <input class="').concat(me.input,'" />\n   <input type="file" class="').concat(me.file,'" />\n   <div class="').concat(me.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(me.select,'"></select>\n   <div class="').concat(me.radio,'"></div>\n   <label for="').concat(me.checkbox,'" class="').concat(me.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(me.label,'"></span>\n   </label>\n   <textarea class="').concat(me.textarea,'"></textarea>\n   <div class="').concat(me["validation-message"],'" id="').concat(me["validation-message"],'"></div>\n   <div class="').concat(me.actions,'">\n     <div class="').concat(me.loader,'"></div>\n     <button type="button" class="').concat(me.confirm,'"></button>\n     <button type="button" class="').concat(me.deny,'"></button>\n     <button type="button" class="').concat(me.cancel,'"></button>\n   </div>\n   <div class="').concat(me.footer,'"></div>\n   <div class="').concat(me["timer-progress-bar-container"],'">\n     <div class="').concat(me["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ur=()=>{qs.isVisible()&&qs.resetValidationMessage()},Pe=N=>{const O=(()=>{const N=wt();return!!N&&(N.remove(),at([document.documentElement,document.body],[me["no-backdrop"],me["toast-shown"],me["has-column"]]),!0)})();if(jr())return void Me("SweetAlert2 requires document to initialize");const Y=document.createElement("div");Y.className=me.container,O&&$e(Y,me["no-transition"]),Ut(Y,di);const Ne=(N=>"string"==typeof N?document.querySelector(N):N)(N.target);Ne.appendChild(Y),(N=>{const O=St();O.setAttribute("role",N.toast?"alert":"dialog"),O.setAttribute("aria-live",N.toast?"polite":"assertive"),N.toast||O.setAttribute("aria-modal","true")})(N),(N=>{"rtl"===window.getComputedStyle(N).direction&&$e(wt(),me.rtl)})(Ne),(()=>{const N=St(),O=lt(N,me.input),Y=lt(N,me.file),Ne=N.querySelector(".".concat(me.range," input")),xt=N.querySelector(".".concat(me.range," output")),Tn=lt(N,me.select),Kn=N.querySelector(".".concat(me.checkbox," input")),ns=lt(N,me.textarea);O.oninput=ur,Y.onchange=ur,Tn.onchange=ur,Kn.onchange=ur,ns.oninput=ur,Ne.oninput=()=>{ur(),xt.value=Ne.value},Ne.onchange=()=>{ur(),Ne.nextSibling.value=Ne.value}})()},gt=(N,O)=>{N instanceof HTMLElement?O.appendChild(N):"object"==typeof N?Xe(N,O):N&&Ut(O,N)},Xe=(N,O)=>{N.jquery?Lt(O,N):Ut(O,N.toString())},Lt=(N,O)=>{if(N.textContent="",0 in O)for(let Y=0;Y in O;Y++)N.appendChild(O[Y].cloneNode(!0));else N.appendChild(O.cloneNode(!0))},cn=(()=>{if(jr())return!1;const N=document.createElement("div"),O={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const Y in O)if(Object.prototype.hasOwnProperty.call(O,Y)&&void 0!==N.style[Y])return O[Y];return!1})(),Zn=(N,O)=>{const Y=Wt(),Ne=Et(),xt=Te(),Tn=We(),Kn=Pt();O.showConfirmButton||O.showDenyButton||O.showCancelButton?nn(Y):_n(Y),mn(Y,O,"actions"),On(xt,"confirm",O),On(Tn,"deny",O),On(Kn,"cancel",O),function(N,O,Y,Ne){if(!Ne.buttonsStyling)return at([N,O,Y],me.styled);$e([N,O,Y],me.styled),Ne.confirmButtonColor&&(N.style.backgroundColor=Ne.confirmButtonColor,$e(N,me["default-outline"])),Ne.denyButtonColor&&(O.style.backgroundColor=Ne.denyButtonColor,$e(O,me["default-outline"])),Ne.cancelButtonColor&&(Y.style.backgroundColor=Ne.cancelButtonColor,$e(Y,me["default-outline"]))}(xt,Tn,Kn,O),O.reverseButtons&&(Y.insertBefore(Kn,Ne),Y.insertBefore(Tn,Ne),Y.insertBefore(xt,Ne)),Ut(Ne,O.loaderHtml),mn(Ne,O,"loader")};function On(N,O,Y){Qt(N,Y["show".concat(f(O),"Button")],"inline-block"),Ut(N,Y["".concat(O,"ButtonText")]),N.setAttribute("aria-label",Y["".concat(O,"ButtonAriaLabel")]),N.className=me[O],mn(N,Y,"".concat(O,"Button")),$e(N,Y["".concat(O,"ButtonClass")])}const ji=(N,O)=>{const Y=wt();!Y||(function(N,O){"string"==typeof O?N.style.background=O:O||$e([document.documentElement,document.body],me["no-backdrop"])}(Y,O.backdrop),function(N,O){O in me?$e(N,me[O]):(Ve('The "position" parameter is not valid, defaulting to "center"'),$e(N,me.center))}(Y,O.position),function(N,O){if(O&&"string"==typeof O){const Y="grow-".concat(O);Y in me&&$e(N,me[Y])}}(Y,O.grow),mn(Y,O,"container"))};var bn={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ci=["input","file","range","select","radio","checkbox","textarea"],ei=N=>{if(!qn[N.input])return Me('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(N.input,'"'));const O=Oi(N.input),Y=qn[N.input](O,N);nn(Y),setTimeout(()=>{kn(Y)})},gr=(N,O)=>{const Y=Yn(St(),N);if(Y){(N=>{for(let O=0;O<N.attributes.length;O++){const Y=N.attributes[O].name;["type","value","style"].includes(Y)||N.removeAttribute(Y)}})(Y);for(const Ne in O)Y.setAttribute(Ne,O[Ne])}},Nn=N=>{const O=Oi(N.input);N.customClass&&$e(O,N.customClass.input)},en=(N,O)=>{(!N.placeholder||O.inputPlaceholder)&&(N.placeholder=O.inputPlaceholder)},_r=(N,O,Y)=>{if(Y.inputLabel){N.id=me.input;const Ne=document.createElement("label"),xt=me["input-label"];Ne.setAttribute("for",N.id),Ne.className=xt,$e(Ne,Y.customClass.inputLabel),Ne.innerText=Y.inputLabel,O.insertAdjacentElement("beforebegin",Ne)}},Oi=N=>{const O=me[N]?me[N]:me.input;return lt(St(),O)},qn={};qn.text=qn.email=qn.password=qn.number=qn.tel=qn.url=(N,O)=>("string"==typeof O.inputValue||"number"==typeof O.inputValue?N.value=O.inputValue:he(O.inputValue)||Ve('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof O.inputValue,'"')),_r(N,N,O),en(N,O),N.type=O.input,N),qn.file=(N,O)=>(_r(N,N,O),en(N,O),N),qn.range=(N,O)=>{const Y=N.querySelector("input"),Ne=N.querySelector("output");return Y.value=O.inputValue,Y.type=O.input,Ne.value=O.inputValue,_r(Y,N,O),N},qn.select=(N,O)=>{if(N.textContent="",O.inputPlaceholder){const Y=document.createElement("option");Ut(Y,O.inputPlaceholder),Y.value="",Y.disabled=!0,Y.selected=!0,N.appendChild(Y)}return _r(N,N,O),N},qn.radio=N=>(N.textContent="",N),qn.checkbox=(N,O)=>{const Y=Yn(St(),"checkbox");Y.value=1,Y.id=me.checkbox,Y.checked=Boolean(O.inputValue);const Ne=N.querySelector("span");return Ut(Ne,O.inputPlaceholder),N},qn.textarea=(N,O)=>{N.value=O.inputValue,en(N,O),_r(N,N,O);return setTimeout(()=>{if("MutationObserver"in window){const Ne=parseInt(window.getComputedStyle(St()).width);new MutationObserver(()=>{const Tn=N.offsetWidth+(Ne=>parseInt(window.getComputedStyle(Ne).marginLeft)+parseInt(window.getComputedStyle(Ne).marginRight))(N);St().style.width=Tn>Ne?"".concat(Tn,"px"):null}).observe(N,{attributes:!0,attributeFilter:["style"]})}}),N};const Bt=(N,O)=>{const Y=st();mn(Y,O,"htmlContainer"),O.html?(gt(O.html,Y),nn(Y,"block")):O.text?(Y.textContent=O.text,nn(Y,"block")):_n(Y),((N,O)=>{const Y=St(),Ne=bn.innerParams.get(N),xt=!Ne||O.input!==Ne.input;Ci.forEach(Tn=>{const Kn=me[Tn],ns=lt(Y,Kn);gr(Tn,O.inputAttributes),ns.className=Kn,xt&&_n(ns)}),O.input&&(xt&&ei(O),Nn(O))})(N,O)},or=(N,O)=>{for(const Y in ft)O.icon!==Y&&at(N,ft[Y]);$e(N,ft[O.icon]),Fn(N,O),tr(),mn(N,O,"icon")},tr=()=>{const N=St(),O=window.getComputedStyle(N).getPropertyValue("background-color"),Y=N.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let Ne=0;Ne<Y.length;Ne++)Y[Ne].style.backgroundColor=O},Fr=(N,O)=>{N.textContent="",Ut(N,O.iconHtml?mr(O.iconHtml):"success"===O.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===O.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':mr({question:"?",warning:"!",info:"i"}[O.icon]))},Fn=(N,O)=>{if(O.iconColor){N.style.color=O.iconColor,N.style.borderColor=O.iconColor;for(const Y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])on(N,Y,"backgroundColor",O.iconColor);on(N,".swal2-success-ring","borderColor",O.iconColor)}},mr=N=>'<div class="'.concat(me["icon-content"],'">').concat(N,"</div>"),ke=(N,O)=>{const Y=tt();if(!O.progressSteps||0===O.progressSteps.length)return _n(Y);nn(Y),Y.textContent="",O.currentProgressStep>=O.progressSteps.length&&Ve("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),O.progressSteps.forEach((Ne,xt)=>{const Tn=(N=>{const O=document.createElement("li");return $e(O,me["progress-step"]),Ut(O,N),O})(Ne);if(Y.appendChild(Tn),xt===O.currentProgressStep&&$e(Tn,me["active-progress-step"]),xt!==O.progressSteps.length-1){const Kn=(N=>{const O=document.createElement("li");return $e(O,me["progress-step-line"]),N.progressStepsDistance&&(O.style.width=N.progressStepsDistance),O})(O);Y.appendChild(Kn)}})},mt=(N,O)=>{N.className="".concat(me.popup," ").concat(vn(N)?O.showClass.popup:""),O.toast?($e([document.documentElement,document.body],me["toast-shown"]),$e(N,me.toast)):$e(N,me.modal),mn(N,O,"popup"),"string"==typeof O.customClass&&$e(N,O.customClass),O.icon&&$e(N,me["icon-".concat(O.icon)])},an=(N,O)=>{((N,O)=>{const Y=wt(),Ne=St();O.toast?(Xt(Y,"width",O.width),Ne.style.width="100%",Ne.insertBefore(Et(),jt())):Xt(Ne,"width",O.width),Xt(Ne,"padding",O.padding),O.background&&(Ne.style.background=O.background),_n(Qe()),mt(Ne,O)})(0,O),ji(0,O),ke(0,O),((N,O)=>{const Y=bn.innerParams.get(N),Ne=jt();Y&&O.icon===Y.icon?(Fr(Ne,O),or(Ne,O)):O.icon||O.iconHtml?O.icon&&-1===Object.keys(ft).indexOf(O.icon)?(Me('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(O.icon,'"')),_n(Ne)):(nn(Ne),Fr(Ne,O),or(Ne,O),$e(Ne,O.showClass.icon)):_n(Ne)})(N,O),((N,O)=>{const Y=Le();if(!O.imageUrl)return _n(Y);nn(Y,""),Y.setAttribute("src",O.imageUrl),Y.setAttribute("alt",O.imageAlt),Xt(Y,"width",O.imageWidth),Xt(Y,"height",O.imageHeight),Y.className=me.image,mn(Y,O,"image")})(0,O),((N,O)=>{const Y=Jt();Qt(Y,O.title||O.titleText,"block"),O.title&&gt(O.title,Y),O.titleText&&(Y.innerText=O.titleText),mn(Y,O,"title")})(0,O),((N,O)=>{const Y=Yt();Ut(Y,O.closeButtonHtml),mn(Y,O,"closeButton"),Qt(Y,O.showCloseButton),Y.setAttribute("aria-label",O.closeButtonAriaLabel)})(0,O),Bt(N,O),Zn(0,O),((N,O)=>{const Y=Gt();Qt(Y,O.footer),O.footer&&gt(O.footer,Y),mn(Y,O,"footer")})(0,O),"function"==typeof O.didRender&&O.didRender(St())},ar=()=>Te()&&Te().click();const Ar=N=>{let O=St();O||qs.fire(),O=St();const Y=Et();Re()?_n(jt()):oi(O,N),nn(Y),O.setAttribute("data-loading",!0),O.setAttribute("aria-busy",!0),O.focus()},oi=(N,O)=>{const Y=Wt(),Ne=Et();!O&&vn(Te())&&(O=Te()),nn(Y),O&&(_n(O),Ne.setAttribute("data-button-to-replace",O.className)),Ne.parentNode.insertBefore(Ne,O),$e([N,Y],me.loading)},hn={},Ts=N=>new Promise(O=>{if(!N)return O();const Y=window.scrollX,Ne=window.scrollY;hn.restoreFocusTimeout=setTimeout(()=>{hn.previousActiveElement&&hn.previousActiveElement.focus?(hn.previousActiveElement.focus(),hn.previousActiveElement=null):document.body&&document.body.focus(),O()},100),window.scrollTo(Y,Ne)}),lr=()=>{if(hn.timeout)return(()=>{const N=Ft(),O=parseInt(window.getComputedStyle(N).width);N.style.removeProperty("transition"),N.style.width="100%";const Y=parseInt(window.getComputedStyle(N).width),Ne=parseInt(O/Y*100);N.style.removeProperty("transition"),N.style.width="".concat(Ne,"%")})(),hn.timeout.stop()},hi=()=>{if(hn.timeout){const N=hn.timeout.start();return kt(N),N}};let Hn=!1;const cs={};const Ai=N=>{for(let O=N.target;O&&O!==document;O=O.parentNode)for(const Y in cs){const Ne=O.getAttribute(Y);if(Ne)return void cs[Y].fire({template:Ne})}},Ki={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ds=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Pi={},ds=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Wr=N=>Object.prototype.hasOwnProperty.call(Ki,N),ki=N=>Pi[N],Yi=N=>{Wr(N)||Ve('Unknown parameter "'.concat(N,'"'))},hs=N=>{ds.includes(N)&&Ve('The parameter "'.concat(N,'" is incompatible with toasts'))},$i=N=>{ki(N)&&pe(N,ki(N))};var No=Object.freeze({isValidParameter:Wr,isUpdatableParameter:N=>-1!==Ds.indexOf(N),isDeprecatedParameter:ki,argsToParams:N=>{const O={};return"object"!=typeof N[0]||Fe(N[0])?["title","html","icon"].forEach((Y,Ne)=>{const xt=N[Ne];"string"==typeof xt||Fe(xt)?O[Y]=xt:void 0!==xt&&Me("Unexpected type of ".concat(Y,'! Expected "string" or "Element", got ').concat(typeof xt))}):Object.assign(O,N[0]),O},isVisible:()=>vn(St()),clickConfirm:ar,clickDeny:()=>We()&&We().click(),clickCancel:()=>Pt()&&Pt().click(),getContainer:wt,getPopup:St,getTitle:Jt,getHtmlContainer:st,getImage:Le,getIcon:jt,getInputLabel:()=>Se(me["input-label"]),getCloseButton:Yt,getActions:Wt,getConfirmButton:Te,getDenyButton:We,getCancelButton:Pt,getLoader:Et,getFooter:Gt,getTimerProgressBar:Ft,getFocusableElements:ht,getValidationMessage:Qe,isLoading:()=>St().hasAttribute("data-loading"),fire:function(...N){return new this(...N)},mixin:function(N){return class extends(this){_main(Ne,xt){return super._main(Ne,Object.assign({},N,xt))}}},showLoading:Ar,enableLoading:Ar,getTimerLeft:()=>hn.timeout&&hn.timeout.getTimerLeft(),stopTimer:lr,resumeTimer:hi,toggleTimer:()=>{const N=hn.timeout;return N&&(N.running?lr():hi())},increaseTimer:N=>{if(hn.timeout){const O=hn.timeout.increase(N);return kt(O,!0),O}},isTimerRunning:()=>hn.timeout&&hn.timeout.isRunning(),bindClickHandler:function(N="data-swal-template"){cs[N]=this,Hn||(document.body.addEventListener("click",Ai),Hn=!0)}});function fi(){const N=bn.innerParams.get(this);if(!N)return;const O=bn.domCache.get(this);_n(O.loader),Re()?N.icon&&nn(jt()):fo(O),at([O.popup,O.actions],me.loading),O.popup.removeAttribute("aria-busy"),O.popup.removeAttribute("data-loading"),O.confirmButton.disabled=!1,O.denyButton.disabled=!1,O.cancelButton.disabled=!1}const fo=N=>{const O=N.popup.getElementsByClassName(N.loader.getAttribute("data-button-to-replace"));O.length?nn(O[0],"inline-block"):!vn(Te())&&!vn(We())&&!vn(Pt())&&_n(N.actions)};const pi=()=>{null===Ct.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Ct.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Ct.previousBodyPadding+(()=>{const N=document.createElement("div");N.className=me["scrollbar-measure"],document.body.appendChild(N);const O=N.getBoundingClientRect().width-N.clientWidth;return document.body.removeChild(N),O})(),"px"))},ps=()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const O=44;St().scrollHeight>window.innerHeight-O&&(wt().style.paddingBottom="".concat(O,"px"))}},Ii=()=>{const N=wt();let O;N.ontouchstart=Y=>{O=xs(Y)},N.ontouchmove=Y=>{O&&(Y.preventDefault(),Y.stopPropagation())}},xs=N=>{const O=N.target,Y=wt();return!(Rs(N)||Fi(N)||O!==Y&&(Dr(Y)||"INPUT"===O.tagName||"TEXTAREA"===O.tagName||Dr(st())&&st().contains(O)))},Rs=N=>N.touches&&N.touches.length&&"stylus"===N.touches[0].touchType,Fi=N=>N.touches&&N.touches.length>1,Qi=()=>{te(document.body.children).forEach(O=>{O.hasAttribute("data-previous-aria-hidden")?(O.setAttribute("aria-hidden",O.getAttribute("data-previous-aria-hidden")),O.removeAttribute("data-previous-aria-hidden")):O.removeAttribute("aria-hidden")})};var Ms={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};function Ti(N,O,Y,Ne){Re()?U(N,Ne):(Ts(Y).then(()=>U(N,Ne)),hn.keydownTarget.removeEventListener("keydown",hn.keydownHandler,{capture:hn.keydownListenerCapture}),hn.keydownHandlerAdded=!1),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(O.setAttribute("style","display:none !important"),O.removeAttribute("class"),O.innerHTML=""):O.remove(),ut()&&(null!==Ct.previousBodyPadding&&(document.body.style.paddingRight="".concat(Ct.previousBodyPadding,"px"),Ct.previousBodyPadding=null),(()=>{if(Dn(document.body,me.iosfix)){const N=parseInt(document.body.style.top,10);at(document.body,me.iosfix),document.body.style.top="",document.body.scrollTop=-1*N}})(),Qi()),at([document.documentElement,document.body],[me.shown,me["height-auto"],me["no-backdrop"],me["toast-shown"]])}function Ji(N){N=Ns(N);const O=Ms.swalPromiseResolve.get(this),Y=Zi(this);this.isAwaitingPromise()?N.isDismissed||(Us(this),O(N)):Y&&O(N)}const Zi=N=>{const O=St();if(!O)return!1;const Y=bn.innerParams.get(N);if(!Y||Dn(O,Y.hideClass.popup))return!1;at(O,Y.showClass.popup),$e(O,Y.hideClass.popup);const Ne=wt();return at(Ne,Y.showClass.backdrop),$e(Ne,Y.hideClass.backdrop),ms(N,O,Y),!0};const Us=N=>{N.isAwaitingPromise()&&(bn.awaitingPromise.delete(N),bn.innerParams.get(N)||N._destroy())},Ns=N=>void 0===N?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},N),ms=(N,O,Y)=>{const Ne=wt(),xt=cn&&Qn(O);"function"==typeof Y.willClose&&Y.willClose(O),xt?Os(N,O,Ne,Y.returnFocus,Y.didClose):Ti(N,Ne,Y.returnFocus,Y.didClose)},Os=(N,O,Y,Ne,xt)=>{hn.swalCloseEventFinishedCallback=Ti.bind(null,N,Y,Ne,xt),O.addEventListener(cn,function(Tn){Tn.target===O&&(hn.swalCloseEventFinishedCallback(),delete hn.swalCloseEventFinishedCallback)})},U=(N,O)=>{setTimeout(()=>{"function"==typeof O&&O.bind(N.params)(),N._destroy()})};function ee(N,O,Y){const Ne=bn.domCache.get(N);O.forEach(xt=>{Ne[xt].disabled=Y})}function H(N,O){if(!N)return!1;if("radio"===N.type){const Ne=N.parentNode.parentNode.querySelectorAll("input");for(let xt=0;xt<Ne.length;xt++)Ne[xt].disabled=O}else N.disabled=O}class X{constructor(O,Y){this.callback=O,this.remaining=Y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(O){const Y=this.running;return Y&&this.stop(),this.remaining+=O,Y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var Ke={email:(N,O)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(N)?Promise.resolve():Promise.resolve(O||"Invalid email address"),url:(N,O)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(N)?Promise.resolve():Promise.resolve(O||"Invalid URL")};function Jn(N){(function(N){N.inputValidator||Object.keys(Ke).forEach(O=>{N.input===O&&(N.inputValidator=Ke[O])})})(N),N.showLoaderOnConfirm&&!N.preConfirm&&Ve("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(N){(!N.target||"string"==typeof N.target&&!document.querySelector(N.target)||"string"!=typeof N.target&&!N.target.appendChild)&&(Ve('Target parameter is not valid, defaulting to "body"'),N.target="body")}(N),"string"==typeof N.title&&(N.title=N.title.split("\n").join("<br />")),Pe(N)}const gi=["swal-title","swal-html","swal-footer"],ri=N=>{const O={};return te(N.querySelectorAll("swal-param")).forEach(Y=>{_s(Y,["name","value"]);const Ne=Y.getAttribute("name");let xt=Y.getAttribute("value");"boolean"==typeof Ki[Ne]&&"false"===xt&&(xt=!1),"object"==typeof Ki[Ne]&&(xt=JSON.parse(xt)),O[Ne]=xt}),O},Li=N=>{const O={};return te(N.querySelectorAll("swal-button")).forEach(Y=>{_s(Y,["type","color","aria-label"]);const Ne=Y.getAttribute("type");O["".concat(Ne,"ButtonText")]=Y.innerHTML,O["show".concat(f(Ne),"Button")]=!0,Y.hasAttribute("color")&&(O["".concat(Ne,"ButtonColor")]=Y.getAttribute("color")),Y.hasAttribute("aria-label")&&(O["".concat(Ne,"ButtonAriaLabel")]=Y.getAttribute("aria-label"))}),O},An=N=>{const O={},Y=N.querySelector("swal-image");return Y&&(_s(Y,["src","width","height","alt"]),Y.hasAttribute("src")&&(O.imageUrl=Y.getAttribute("src")),Y.hasAttribute("width")&&(O.imageWidth=Y.getAttribute("width")),Y.hasAttribute("height")&&(O.imageHeight=Y.getAttribute("height")),Y.hasAttribute("alt")&&(O.imageAlt=Y.getAttribute("alt"))),O},ao=N=>{const O={},Y=N.querySelector("swal-icon");return Y&&(_s(Y,["type","color"]),Y.hasAttribute("type")&&(O.icon=Y.getAttribute("type")),Y.hasAttribute("color")&&(O.iconColor=Y.getAttribute("color")),O.iconHtml=Y.innerHTML),O},Ys=N=>{const O={},Y=N.querySelector("swal-input");Y&&(_s(Y,["type","label","placeholder","value"]),O.input=Y.getAttribute("type")||"text",Y.hasAttribute("label")&&(O.inputLabel=Y.getAttribute("label")),Y.hasAttribute("placeholder")&&(O.inputPlaceholder=Y.getAttribute("placeholder")),Y.hasAttribute("value")&&(O.inputValue=Y.getAttribute("value")));const Ne=N.querySelectorAll("swal-input-option");return Ne.length&&(O.inputOptions={},te(Ne).forEach(xt=>{_s(xt,["value"]);const Tn=xt.getAttribute("value");O.inputOptions[Tn]=xt.innerHTML})),O},Qs=(N,O)=>{const Y={};for(const Ne in O){const xt=O[Ne],Tn=N.querySelector(xt);Tn&&(_s(Tn,[]),Y[xt.replace(/^swal-/,"")]=Tn.innerHTML.trim())}return Y},ys=N=>{const O=gi.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);te(N.children).forEach(Y=>{const Ne=Y.tagName.toLowerCase();-1===O.indexOf(Ne)&&Ve("Unrecognized element <".concat(Ne,">"))})},_s=(N,O)=>{te(N.attributes).forEach(Y=>{-1===O.indexOf(Y.name)&&Ve(['Unrecognized attribute "'.concat(Y.name,'" on <').concat(N.tagName.toLowerCase(),">."),"".concat(O.length?"Allowed attributes are: ".concat(O.join(", ")):"To set the value, use HTML within the element.")])})},vs=N=>{const O=wt(),Y=St();"function"==typeof N.willOpen&&N.willOpen(Y);const xt=window.getComputedStyle(document.body).overflowY;ii(O,Y,N),setTimeout(()=>{nr(O,Y)},10),ut()&&(lo(O,N.scrollbarPadding,xt),te(document.body.children).forEach(O=>{O===wt()||O.contains(wt())||(O.hasAttribute("aria-hidden")&&O.setAttribute("data-previous-aria-hidden",O.getAttribute("aria-hidden")),O.setAttribute("aria-hidden","true"))})),!Re()&&!hn.previousActiveElement&&(hn.previousActiveElement=document.activeElement),"function"==typeof N.didOpen&&setTimeout(()=>N.didOpen(Y)),at(O,me["no-transition"])},Tt=N=>{const O=St();if(N.target!==O)return;const Y=wt();O.removeEventListener(cn,Tt),Y.style.overflowY="auto"},nr=(N,O)=>{cn&&Qn(O)?(N.style.overflowY="hidden",O.addEventListener(cn,Tt)):N.style.overflowY="auto"},lo=(N,O,Y)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Dn(document.body,me.iosfix)){const O=document.body.scrollTop;document.body.style.top="".concat(-1*O,"px"),$e(document.body,me.iosfix),Ii(),ps()}})(),O&&"hidden"!==Y&&pi(),setTimeout(()=>{N.scrollTop=0})},ii=(N,O,Y)=>{$e(N,Y.showClass.backdrop),O.style.setProperty("opacity","0","important"),nn(O,"grid"),setTimeout(()=>{$e(O,Y.showClass.popup),O.style.removeProperty("opacity")},10),$e([document.documentElement,document.body],me.shown),Y.heightAuto&&Y.backdrop&&!Y.toast&&$e([document.documentElement,document.body],me["height-auto"])},ws=N=>N.checked?1:0,Bs=N=>N.checked?N.value:null,yo=N=>N.files.length?null!==N.getAttribute("multiple")?N.files:N.files[0]:null,Ia=(N,O)=>{const Y=St(),Ne=xt=>Oo[O.input](Y,Di(xt),O);ne(O.inputOptions)||he(O.inputOptions)?(Ar(Te()),de(O.inputOptions).then(xt=>{N.hideLoading(),Ne(xt)})):"object"==typeof O.inputOptions?Ne(O.inputOptions):Me("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof O.inputOptions))},js=(N,O)=>{const Y=N.getInput();_n(Y),de(O.inputValue).then(Ne=>{Y.value="number"===O.input?parseFloat(Ne)||0:"".concat(Ne),nn(Y),Y.focus(),N.hideLoading()}).catch(Ne=>{Me("Error in inputValue promise: ".concat(Ne)),Y.value="",nn(Y),Y.focus(),N.hideLoading()})},Oo={select:(N,O,Y)=>{const Ne=lt(N,me.select),xt=(Tn,Kn,ns)=>{const Ui=document.createElement("option");Ui.value=ns,Ut(Ui,Kn),Ui.selected=qr(ns,Y.inputValue),Tn.appendChild(Ui)};O.forEach(Tn=>{const Kn=Tn[0],ns=Tn[1];if(Array.isArray(ns)){const Ui=document.createElement("optgroup");Ui.label=Kn,Ui.disabled=!1,Ne.appendChild(Ui),ns.forEach(xi=>xt(Ui,xi[1],xi[0]))}else xt(Ne,ns,Kn)}),Ne.focus()},radio:(N,O,Y)=>{const Ne=lt(N,me.radio);O.forEach(Tn=>{const Kn=Tn[0],ns=Tn[1],Ui=document.createElement("input"),xi=document.createElement("label");Ui.type="radio",Ui.name=me.radio,Ui.value=Kn,qr(Kn,Y.inputValue)&&(Ui.checked=!0);const sa=document.createElement("span");Ut(sa,ns),sa.className=me.label,xi.appendChild(Ui),xi.appendChild(sa),Ne.appendChild(xi)});const xt=Ne.querySelectorAll("input");xt.length&&xt[0].focus()}},Di=N=>{const O=[];return"undefined"!=typeof Map&&N instanceof Map?N.forEach((Y,Ne)=>{let xt=Y;"object"==typeof xt&&(xt=Di(xt)),O.push([Ne,xt])}):Object.keys(N).forEach(Y=>{let Ne=N[Y];"object"==typeof Ne&&(Ne=Di(Ne)),O.push([Y,Ne])}),O},qr=(N,O)=>O&&O.toString()===N.toString(),es=(N,O)=>{const Y=bn.innerParams.get(N),Ne=((N,O)=>{const Y=N.getInput();if(!Y)return null;switch(O.input){case"checkbox":return ws(Y);case"radio":return Bs(Y);case"file":return yo(Y);default:return O.inputAutoTrim?Y.value.trim():Y.value}})(N,Y);Y.inputValidator?ra(N,Ne,O):N.getInput().checkValidity()?"deny"===O?ss(N,Ne):Nr(N,Ne):(N.enableButtons(),N.showValidationMessage(Y.validationMessage))},ra=(N,O,Y)=>{const Ne=bn.innerParams.get(N);N.disableInput(),Promise.resolve().then(()=>de(Ne.inputValidator(O,Ne.validationMessage))).then(Tn=>{N.enableButtons(),N.enableInput(),Tn?N.showValidationMessage(Tn):"deny"===Y?ss(N,O):Nr(N,O)})},ss=(N,O)=>{const Y=bn.innerParams.get(N||void 0);Y.showLoaderOnDeny&&Ar(We()),Y.preDeny?(bn.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>de(Y.preDeny(O,Y.validationMessage))).then(xt=>{!1===xt?N.hideLoading():N.closePopup({isDenied:!0,value:void 0===xt?O:xt})}).catch(xt=>Yo(N||void 0,xt))):N.closePopup({isDenied:!0,value:O})},co=(N,O)=>{N.closePopup({isConfirmed:!0,value:O})},Yo=(N,O)=>{N.rejectPromise(O)},Nr=(N,O)=>{const Y=bn.innerParams.get(N||void 0);Y.showLoaderOnConfirm&&Ar(),Y.preConfirm?(N.resetValidationMessage(),bn.awaitingPromise.set(N||void 0,!0),Promise.resolve().then(()=>de(Y.preConfirm(O,Y.validationMessage))).then(xt=>{vn(Qe())||!1===xt?N.hideLoading():co(N,void 0===xt?O:xt)}).catch(xt=>Yo(N||void 0,xt))):co(N,O)},j=(N,O,Y)=>{const Ne=ht();if(Ne.length)return(O+=Y)===Ne.length?O=0:-1===O&&(O=Ne.length-1),Ne[O].focus();St().focus()},K=["ArrowRight","ArrowDown"],ae=["ArrowLeft","ArrowUp"],Oe=(N,O,Y)=>{const Ne=bn.innerParams.get(N);!Ne||(Ne.stopKeydownPropagation&&O.stopPropagation(),"Enter"===O.key?ot(N,O,Ne):"Tab"===O.key?_t(O,Ne):[...K,...ae].includes(O.key)?rn(O.key):"Escape"===O.key&&Zt(O,Ne,Y))},ot=(N,O,Y)=>{if(!O.isComposing&&O.target&&N.getInput()&&O.target.outerHTML===N.getInput().outerHTML){if(["textarea","file"].includes(Y.input))return;ar(),O.preventDefault()}},_t=(N,O)=>{const Y=N.target,Ne=ht();let xt=-1;for(let Tn=0;Tn<Ne.length;Tn++)if(Y===Ne[Tn]){xt=Tn;break}j(0,xt,N.shiftKey?-1:1),N.stopPropagation(),N.preventDefault()},rn=N=>{if(![Te(),We(),Pt()].includes(document.activeElement))return;const xt=K.includes(N)?"nextElementSibling":"previousElementSibling",Tn=document.activeElement[xt];Tn&&Tn.focus()},Zt=(N,O,Y)=>{_e(O.allowEscapeKey)&&(N.preventDefault(),Y(et.esc))},pn=(N,O,Y)=>{O.popup.onclick=()=>{const Ne=bn.innerParams.get(N);Ne.showConfirmButton||Ne.showDenyButton||Ne.showCancelButton||Ne.showCloseButton||Ne.timer||Ne.input||Y(et.close)}};let rr=!1;const Cr=N=>{N.popup.onmousedown=()=>{N.container.onmouseup=function(O){N.container.onmouseup=void 0,O.target===N.container&&(rr=!0)}}},ir=N=>{N.container.onmousedown=()=>{N.popup.onmouseup=function(O){N.popup.onmouseup=void 0,(O.target===N.popup||N.popup.contains(O.target))&&(rr=!0)}}},Xn=(N,O,Y)=>{O.container.onclick=Ne=>{const xt=bn.innerParams.get(N);rr?rr=!1:Ne.target===O.container&&_e(xt.allowOutsideClick)&&Y(et.backdrop)}};const Vi=(N,O)=>{const Y=(N=>{const O="string"==typeof N.template?document.querySelector(N.template):N.template;if(!O)return{};const Y=O.content;return ys(Y),Object.assign(ri(Y),Li(Y),An(Y),ao(Y),Ys(Y),Qs(Y,gi))})(N),Ne=Object.assign({},Ki,O,Y,N);return Ne.showClass=Object.assign({},Ki.showClass,Ne.showClass),Ne.hideClass=Object.assign({},Ki.hideClass,Ne.hideClass),Ne},Si=(N,O,Y)=>new Promise((Ne,xt)=>{const Tn=Kn=>{N.closePopup({isDismissed:!0,dismiss:Kn})};Ms.swalPromiseResolve.set(N,Ne),Ms.swalPromiseReject.set(N,xt),O.confirmButton.onclick=()=>(N=>{const O=bn.innerParams.get(N);N.disableButtons(),O.input?es(N,"confirm"):Nr(N,!0)})(N),O.denyButton.onclick=()=>(N=>{const O=bn.innerParams.get(N);N.disableButtons(),O.returnInputValueOnDeny?es(N,"deny"):ss(N,!1)})(N),O.cancelButton.onclick=()=>((N,O)=>{N.disableButtons(),O(et.cancel)})(N,Tn),O.closeButton.onclick=()=>Tn(et.close),((N,O,Y)=>{bn.innerParams.get(N).toast?pn(N,O,Y):(Cr(O),ir(O),Xn(N,O,Y))})(N,O,Tn),((N,O,Y,Ne)=>{O.keydownTarget&&O.keydownHandlerAdded&&(O.keydownTarget.removeEventListener("keydown",O.keydownHandler,{capture:O.keydownListenerCapture}),O.keydownHandlerAdded=!1),Y.toast||(O.keydownHandler=xt=>Oe(N,xt,Ne),O.keydownTarget=Y.keydownListenerCapture?window:St(),O.keydownListenerCapture=Y.keydownListenerCapture,O.keydownTarget.addEventListener("keydown",O.keydownHandler,{capture:O.keydownListenerCapture}),O.keydownHandlerAdded=!0)})(N,hn,Y,Tn),((N,O)=>{"select"===O.input||"radio"===O.input?Ia(N,O):["text","email","number","tel","textarea"].includes(O.input)&&(ne(O.inputValue)||he(O.inputValue))&&(Ar(Te()),js(N,O))})(N,Y),vs(Y),mi(hn,Y,Tn),Sr(O,Y),setTimeout(()=>{O.container.scrollTop=0})}),ts=N=>{const O={popup:St(),container:wt(),actions:Wt(),confirmButton:Te(),denyButton:We(),cancelButton:Pt(),loader:Et(),closeButton:Yt(),validationMessage:Qe(),progressSteps:tt()};return bn.domCache.set(N,O),O},mi=(N,O,Y)=>{const Ne=Ft();_n(Ne),O.timer&&(N.timeout=new X(()=>{Y("timer"),delete N.timeout},O.timer),O.timerProgressBar&&(nn(Ne),setTimeout(()=>{N.timeout&&N.timeout.running&&kt(O.timer)})))},Sr=(N,O)=>{if(!O.toast){if(!_e(O.allowEnterKey))return bs();Kr(N,O)||j(0,-1,1)}},Kr=(N,O)=>O.focusDeny&&vn(N.denyButton)?(N.denyButton.focus(),!0):O.focusCancel&&vn(N.cancelButton)?(N.cancelButton.focus(),!0):!(!O.focusConfirm||!vn(N.confirmButton)||(N.confirmButton.focus(),0)),bs=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};const _o=N=>{ia(N),delete N.params,delete hn.keydownHandler,delete hn.keydownTarget,delete hn.currentInstance},ia=N=>{N.isAwaitingPromise()?(Ao(bn,N),bn.awaitingPromise.set(N,!0)):(Ao(Ms,N),Ao(bn,N))},Ao=(N,O)=>{for(const Y in N)N[Y].delete(O)};var Zs=Object.freeze({hideLoading:fi,disableLoading:fi,getInput:function(N){const O=bn.innerParams.get(N||this),Y=bn.domCache.get(N||this);return Y?Yn(Y.popup,O.input):null},close:Ji,isAwaitingPromise:function(){return!!bn.awaitingPromise.get(this)},rejectPromise:function(N){const O=Ms.swalPromiseReject.get(this);Us(this),O&&O(N)},closePopup:Ji,closeModal:Ji,closeToast:Ji,enableButtons:function(){ee(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){ee(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return H(this.getInput(),!1)},disableInput:function(){return H(this.getInput(),!0)},showValidationMessage:function(N){const O=bn.domCache.get(this),Y=bn.innerParams.get(this);Ut(O.validationMessage,N),O.validationMessage.className=me["validation-message"],Y.customClass&&Y.customClass.validationMessage&&$e(O.validationMessage,Y.customClass.validationMessage),nn(O.validationMessage);const Ne=this.getInput();Ne&&(Ne.setAttribute("aria-invalid",!0),Ne.setAttribute("aria-describedby",me["validation-message"]),kn(Ne),$e(Ne,me.inputerror))},resetValidationMessage:function(){const N=bn.domCache.get(this);N.validationMessage&&_n(N.validationMessage);const O=this.getInput();O&&(O.removeAttribute("aria-invalid"),O.removeAttribute("aria-describedby"),at(O,me.inputerror))},getProgressSteps:function(){return bn.domCache.get(this).progressSteps},_main:function(N,O={}){(N=>{!N.backdrop&&N.allowOutsideClick&&Ve('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const O in N)Yi(O),N.toast&&hs(O),$i(O)})(Object.assign({},O,N)),hn.currentInstance&&(hn.currentInstance._destroy(),ut()&&Qi()),hn.currentInstance=this;const Y=Vi(N,O);Jn(Y),Object.freeze(Y),hn.timeout&&(hn.timeout.stop(),delete hn.timeout),clearTimeout(hn.restoreFocusTimeout);const Ne=ts(this);return an(this,Y),bn.innerParams.set(this,Y),Si(this,Ne,Y)},update:function(N){const O=St(),Y=bn.innerParams.get(this);if(!O||Dn(O,Y.hideClass.popup))return Ve("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const Ne={};Object.keys(N).forEach(Tn=>{qs.isUpdatableParameter(Tn)?Ne[Tn]=N[Tn]:Ve('Invalid parameter to update: "'.concat(Tn,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const xt=Object.assign({},Y,Ne);an(this,xt),bn.innerParams.set(this,xt),Object.defineProperties(this,{params:{value:Object.assign({},this.params,N),writable:!1,enumerable:!0}})},_destroy:function(){const N=bn.domCache.get(this),O=bn.innerParams.get(this);O?(N.popup&&hn.swalCloseEventFinishedCallback&&(hn.swalCloseEventFinishedCallback(),delete hn.swalCloseEventFinishedCallback),hn.deferDisposalTimer&&(clearTimeout(hn.deferDisposalTimer),delete hn.deferDisposalTimer),"function"==typeof O.didDestroy&&O.didDestroy(),_o(this)):ia(this)}});let Yr;class Xs{constructor(...O){if("undefined"==typeof window)return;Yr=this;const Y=Object.freeze(this.constructor.argsToParams(O));Object.defineProperties(this,{params:{value:Y,writable:!1,enumerable:!0,configurable:!0}});const Ne=this._main(this.params);bn.promise.set(this,Ne)}then(O){return bn.promise.get(this).then(O)}finally(O){return bn.promise.get(this).finally(O)}}Object.assign(Xs.prototype,Zs),Object.assign(Xs,No),Object.keys(Zs).forEach(N=>{Xs[N]=function(...O){if(Yr)return Yr[N](...O)}}),Xs.DismissReason=et,Xs.version="11.1.9";const qs=Xs;return qs.default=qs,qs}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(et,Z){var _=et.createElement("style");if(et.getElementsByTagName("head")[0].appendChild(_),_.styleSheet)_.styleSheet.disabled||(_.styleSheet.cssText=Z);else try{_.innerHTML=Z}catch(f){_.innerText=Z}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},164:($t,et,Z)=>{"use strict";Z.d(et,{J:()=>Nr});var _=Z(8239),f=Z(7716),te=Z(665),Ve=Z(8259),Me=Z.n(Ve),ve=Z(7556),He=Z(7574),pe=Z(5917),_e=Z(4402),ne=Z(7393),de=Z(3637);class De{constructor(j,K){this.dueTime=j,this.scheduler=K}call(j,K){return K.subscribe(new Fe(j,this.dueTime,this.scheduler))}}class Fe extends ne.L{constructor(j,K,ae){super(j),this.dueTime=K,this.scheduler=ae,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(j){this.clearDebounce(),this.lastValue=j,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ye,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:j}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(j)}}clearDebounce(){const j=this.debouncedSubscription;null!==j&&(this.remove(j),j.unsubscribe(),this.debouncedSubscription=null)}}function Ye(q){q.debouncedNext()}var qe=Z(8002),yt=Z(3190),me=Z(9126),ft=Z(8939),wt=Z(4486),ct=Z(5452),Se=Z(3854),St=Z(6034),jt=(()=>{return(q=jt||(jt={}))[q.NO_ERROR=0]="NO_ERROR",q[q.NETWORK_ERROR=1]="NETWORK_ERROR",q[q.ABORT=2]="ABORT",jt;var q})();const Jt="firebasestorage.googleapis.com",st="storageBucket";class Qe extends Se.ZR{constructor(j,K){super(Te(j),`Firebase Storage: ${K} (${Te(j)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qe.prototype)}_codeEquals(j){return Te(j)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(j){this.customData.serverResponse=j,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Te(q){return"storage/"+q}function We(){return new Qe("unknown","An unknown error occurred, please check the error payload for server response.")}function Yt(){return new Qe("canceled","User canceled the upload/download.")}function Re(){return new Qe("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Ct(){return new Qe("no-download-url","The given file does not have any download URLs.")}function Ut(q){return new Qe("invalid-argument",q)}function Dn(){return new Qe("app-deleted","The Firebase app was deleted.")}function sr(q){return new Qe("invalid-root-operation","The operation '"+q+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mn(q,j){return new Qe("invalid-format","String does not match format '"+q+"': "+j)}function Yn(q){throw new Qe("internal-error","Internal error: "+q)}class kn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=jt.NO_ERROR,this.sendPromise_=new Promise(j=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jt.ABORT,j()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jt.NETWORK_ERROR,j()}),this.xhr_.addEventListener("load",()=>{j()})})}send(j,K,ae,Oe){if(this.sent_)throw Yn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(K,j,!0),void 0!==Oe)for(const ot in Oe)Oe.hasOwnProperty(ot)&&this.xhr_.setRequestHeader(ot,Oe[ot].toString());return void 0!==ae?this.xhr_.send(ae):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Yn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Yn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(j){return-1}}getResponseText(){if(!this.sent_)throw Yn("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(j){return this.xhr_.getResponseHeader(j)}addUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",j)}removeUploadProgressListener(j){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",j)}}class $e{createConnection(){return new kn}}class at{constructor(j,K){this.bucket=j,this.path_=K}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const j=encodeURIComponent;return"/b/"+j(this.bucket)+"/o/"+j(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(j,K){let ae;try{ae=at.makeFromUrl(j,K)}catch(Oe){return new at(j,"")}if(""===ae.path)return ae;throw new Qe("invalid-default-bucket","Invalid default bucket '"+j+"'.")}static makeFromUrl(j,K){let ae=null;const Oe="([A-Za-z0-9.\\-_]+)",rn=new RegExp("^gs://"+Oe+"(/(.*))?$","i");function fn(Sr){Sr.path_=decodeURIComponent(Sr.path)}const rr=K.replace(/[.]/g,"\\."),mi=[{regex:rn,indices:{bucket:1,path:3},postModify:function(Sr){"/"===Sr.path.charAt(Sr.path.length-1)&&(Sr.path_=Sr.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${rr}/v[A-Za-z0-9_]+/b/${Oe}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:fn},{regex:new RegExp(`^https?://${K===Jt?"(?:storage.googleapis.com|storage.cloud.google.com)":K}/${Oe}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:fn}];for(let Sr=0;Sr<mi.length;Sr++){const Kr=mi[Sr],bs=Kr.regex.exec(j);if(bs){let Js=bs[Kr.indices.path];Js||(Js=""),ae=new at(bs[Kr.indices.bucket],Js),Kr.postModify(ae);break}}if(null==ae)throw new Qe("invalid-url","Invalid URL '"+j+"'.");return ae}}class lt{constructor(j){this.promise_=Promise.reject(j)}getPromise(){return this.promise_}cancel(j=!1){}}function vn(q){return"string"==typeof q||q instanceof String}function Wn(q){return Dr()&&q instanceof Blob}function Dr(){return"undefined"!=typeof Blob}function Qn(q,j,K,ae){if(ae<j)throw Ut(`Invalid value for '${q}'. Expected ${j} or greater.`);if(ae>K)throw Ut(`Invalid value for '${q}'. Expected ${K} or less.`)}function kt(q,j,K){let ae=j;return null==K&&(ae=`https://${j}`),`${K}://${ae}/v0${q}`}function wn(q){const j=encodeURIComponent;let K="?";for(const ae in q)q.hasOwnProperty(ae)&&(K=K+(j(ae)+"=")+j(q[ae])+"&");return K=K.slice(0,-1),K}class jr{constructor(j,K,ae,Oe,ot,_t,rn,Zt,fn,pn,rr){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=j,this.method_=K,this.headers_=ae,this.body_=Oe,this.successCodes_=ot.slice(),this.additionalRetryCodes_=_t.slice(),this.callback_=rn,this.errorCallback_=Zt,this.progressCallback_=pn,this.timeout_=fn,this.pool_=rr,this.promise_=new Promise((Cr,ir)=>{this.resolve_=Cr,this.reject_=ir,this.start_()})}start_(){const j=this;function ae(Oe,ot){const _t=j.resolve_,rn=j.reject_,Zt=ot.connection;if(ot.wasSuccessCode)try{const fn=j.callback_(Zt,Zt.getResponseText());void 0!==fn?_t(fn):_t()}catch(fn){rn(fn)}else if(null!==Zt){const fn=We();fn.serverResponse=Zt.getResponseText(),rn(j.errorCallback_?j.errorCallback_(Zt,fn):fn)}else rn(ot.canceled?j.appDelete_?Dn():Yt():new Qe("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?ae(0,new di(!1,null,!0)):this.backoffId_=function(q,j,K){let ae=1,Oe=null,ot=!1,_t=0;function rn(){return 2===_t}let Zt=!1;function fn(...Xn){Zt||(Zt=!0,j.apply(null,Xn))}function pn(Xn){Oe=setTimeout(()=>{Oe=null,q(rr,rn())},Xn)}function rr(Xn,...cr){if(Zt)return;if(Xn)return void fn.call(null,Xn,...cr);if(rn()||ot)return void fn.call(null,Xn,...cr);let Si;ae<64&&(ae*=2),1===_t?(_t=2,Si=0):Si=1e3*(ae+Math.random()),pn(Si)}let Cr=!1;function ir(Xn){Cr||(Cr=!0,!Zt&&(null!==Oe?(Xn||(_t=2),clearTimeout(Oe),pn(0)):Xn||(_t=1)))}return pn(0),setTimeout(()=>{ot=!0,ir(!0)},K),ir}(function(Oe,ot){if(ot)return void Oe(!1,new di(!1,null,!0));const _t=j.pool_.createConnection();function rn(Zt){null!==j.progressCallback_&&j.progressCallback_(Zt.loaded,Zt.lengthComputable?Zt.total:-1)}j.pendingConnection_=_t,null!==j.progressCallback_&&_t.addUploadProgressListener(rn),_t.send(j.url_,j.method_,j.body_,j.headers_).then(()=>{null!==j.progressCallback_&&_t.removeUploadProgressListener(rn),j.pendingConnection_=null;const Zt=_t.getErrorCode()===jt.NO_ERROR,fn=_t.getStatus();if(!Zt||j.isRetryStatusCode_(fn)){const rr=_t.getErrorCode()===jt.ABORT;return void Oe(!1,new di(!1,null,rr))}const pn=-1!==j.successCodes_.indexOf(fn);Oe(!0,new di(pn,_t))})},ae,this.timeout_)}getPromise(){return this.promise_}cancel(j){this.canceled_=!0,this.appDelete_=j||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(j){const K=j>=500&&j<600,Oe=-1!==[408,429].indexOf(j),ot=-1!==this.additionalRetryCodes_.indexOf(j);return K||Oe||ot}}class di{constructor(j,K,ae){this.wasSuccessCode=j,this.connection=K,this.canceled=!!ae}}function Pe(...q){const j="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==j){const K=new j;for(let ae=0;ae<q.length;ae++)K.append(q[ae]);return K.getBlob()}if(Dr())return new Blob(q);throw new Qe("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Lt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class cn{constructor(j,K){this.data=j,this.contentType=K||null}}function Ln(q,j){switch(q){case Lt.RAW:return new cn(Zn(j));case Lt.BASE64:case Lt.BASE64URL:return new cn(On(q,j));case Lt.DATA_URL:return new cn(function(q){const j=new jn(q);return j.base64?On(Lt.BASE64,j.rest):function(q){let j;try{j=decodeURIComponent(q)}catch(K){throw mn(Lt.DATA_URL,"Malformed data URL.")}return Zn(j)}(j.rest)}(j),function(q){return new jn(q).contentType}(j))}throw We()}function Zn(q){const j=[];for(let K=0;K<q.length;K++){let ae=q.charCodeAt(K);ae<=127?j.push(ae):ae<=2047?j.push(192|ae>>6,128|63&ae):55296==(64512&ae)?K<q.length-1&&56320==(64512&q.charCodeAt(K+1))?(ae=65536|(1023&ae)<<10|1023&q.charCodeAt(++K),j.push(240|ae>>18,128|ae>>12&63,128|ae>>6&63,128|63&ae)):j.push(239,191,189):56320==(64512&ae)?j.push(239,191,189):j.push(224|ae>>12,128|ae>>6&63,128|63&ae)}return new Uint8Array(j)}function On(q,j){switch(q){case Lt.BASE64:{const Oe=-1!==j.indexOf("-"),ot=-1!==j.indexOf("_");if(Oe||ot)throw mn(q,"Invalid character '"+(Oe?"-":"_")+"' found: is it base64url encoded?");break}case Lt.BASE64URL:{const Oe=-1!==j.indexOf("+"),ot=-1!==j.indexOf("/");if(Oe||ot)throw mn(q,"Invalid character '"+(Oe?"+":"/")+"' found: is it base64 encoded?");j=j.replace(/-/g,"+").replace(/_/g,"/");break}}let K;try{K=function(q){return atob(q)}(j)}catch(Oe){throw mn(q,"Invalid character found")}const ae=new Uint8Array(K.length);for(let Oe=0;Oe<K.length;Oe++)ae[Oe]=K.charCodeAt(Oe);return ae}class jn{constructor(j){this.base64=!1,this.contentType=null;const K=j.match(/^data:([^,]+)?,/);if(null===K)throw mn(Lt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ae=K[1]||null;null!=ae&&(this.base64=function(q,j){return q.length>=j.length&&q.substring(q.length-j.length)===j}(ae,";base64"),this.contentType=this.base64?ae.substring(0,ae.length-";base64".length):ae),this.rest=j.substring(j.indexOf(",")+1)}}class bn{constructor(j,K){let ae=0,Oe="";Wn(j)?(this.data_=j,ae=j.size,Oe=j.type):j instanceof ArrayBuffer?(K?this.data_=new Uint8Array(j):(this.data_=new Uint8Array(j.byteLength),this.data_.set(new Uint8Array(j))),ae=this.data_.length):j instanceof Uint8Array&&(K?this.data_=j:(this.data_=new Uint8Array(j.length),this.data_.set(j)),ae=j.length),this.size_=ae,this.type_=Oe}size(){return this.size_}type(){return this.type_}slice(j,K){if(Wn(this.data_)){const Oe=function(q,j,K){return q.webkitSlice?q.webkitSlice(j,K):q.mozSlice?q.mozSlice(j,K):q.slice?q.slice(j,K):null}(this.data_,j,K);return null===Oe?null:new bn(Oe)}{const ae=new Uint8Array(this.data_.buffer,j,K-j);return new bn(ae,!0)}}static getBlob(...j){if(Dr()){const K=j.map(ae=>ae instanceof bn?ae.data_:ae);return new bn(Pe.apply(null,K))}{const K=j.map(_t=>vn(_t)?Ln(Lt.RAW,_t).data:_t.data_);let ae=0;K.forEach(_t=>{ae+=_t.byteLength});const Oe=new Uint8Array(ae);let ot=0;return K.forEach(_t=>{for(let rn=0;rn<_t.length;rn++)Oe[ot++]=_t[rn]}),new bn(Oe,!0)}}uploadData(){return this.data_}}function Ci(q){let j;try{j=JSON.parse(q)}catch(K){return null}return function(q){return"object"==typeof q&&!Array.isArray(q)}(j)?j:null}function Hi(q){const j=q.lastIndexOf("/",q.length-2);return-1===j?q:q.slice(j+1)}function gr(q,j){return j}class Nn{constructor(j,K,ae,Oe){this.server=j,this.local=K||j,this.writable=!!ae,this.xform=Oe||gr}}let en=null;function Oi(){if(en)return en;const q=[];q.push(new Nn("bucket")),q.push(new Nn("generation")),q.push(new Nn("metageneration")),q.push(new Nn("name","fullPath",!0));const K=new Nn("name");K.xform=function(ot,_t){return function(q){return!vn(q)||q.length<2?q:Hi(q)}(_t)},q.push(K);const Oe=new Nn("size");return Oe.xform=function(ot,_t){return void 0!==_t?Number(_t):_t},q.push(Oe),q.push(new Nn("timeCreated")),q.push(new Nn("updated")),q.push(new Nn("md5Hash",null,!0)),q.push(new Nn("cacheControl",null,!0)),q.push(new Nn("contentDisposition",null,!0)),q.push(new Nn("contentEncoding",null,!0)),q.push(new Nn("contentLanguage",null,!0)),q.push(new Nn("contentType",null,!0)),q.push(new Nn("metadata","customMetadata",!0)),en=q,en}function xn(q,j,K){const ae=Ci(j);return null===ae?null:function(q,j,K){const ae={type:"file"},Oe=K.length;for(let ot=0;ot<Oe;ot++){const _t=K[ot];ae[_t.local]=_t.xform(ae,j[_t.server])}return function(q,j){Object.defineProperty(q,"ref",{get:function(){const ot=new at(q.bucket,q.fullPath);return j._makeStorageReference(ot)}})}(ae,q),ae}(q,ae,K)}function Vr(q,j){const K={},ae=j.length;for(let Oe=0;Oe<ae;Oe++){const ot=j[Oe];ot.writable&&(K[ot.server]=q[ot.local])}return JSON.stringify(K)}const or="prefixes";class mr{constructor(j,K,ae,Oe){this.url=j,this.method=K,this.handler=ae,this.timeout=Oe,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Er(q){if(!q)throw We()}function ln(q,j){return function(ae,Oe){const ot=xn(q,Oe,j);return Er(null!==ot),ot}}function ye(q){return function(K,ae){let Oe;return Oe=401===K.getStatus()?K.getResponseText().includes("Firebase App Check token is invalid")?new Qe("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Qe("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===K.getStatus()?function(q){return new Qe("quota-exceeded","Quota for bucket '"+q+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(q.bucket):403===K.getStatus()?function(q){return new Qe("unauthorized","User does not have permission to access '"+q+"'.")}(q.path):ae,Oe.serverResponse=ae.serverResponse,Oe}}function Je(q){const j=ye(q);return function(ae,Oe){let ot=j(ae,Oe);return 404===ae.getStatus()&&(ot=function(q){return new Qe("object-not-found","Object '"+q+"' does not exist.")}(q.path)),ot.serverResponse=Oe.serverResponse,ot}}function mt(q,j,K){const Oe=kt(j.fullServerUrl(),q.host,q._protocol),_t=q.maxOperationRetryTime,rn=new mr(Oe,"GET",ln(q,K),_t);return rn.errorHandler=Je(j),rn}function an(q,j,K,ae,Oe){const ot={};ot.prefix=j.isRoot?"":j.path+"/",K&&K.length>0&&(ot.delimiter=K),ae&&(ot.pageToken=ae),Oe&&(ot.maxResults=Oe);const rn=kt(j.bucketOnlyServerUrl(),q.host,q._protocol),fn=q.maxOperationRetryTime,pn=new mr(rn,"GET",function(q,j){return function(ae,Oe){const ot=function(q,j,K){const ae=Ci(K);return null===ae?null:function(q,j,K){const ae={prefixes:[],items:[],nextPageToken:K.nextPageToken};if(K[or])for(const Oe of K[or]){const ot=Oe.replace(/\/$/,""),_t=q._makeStorageReference(new at(j,ot));ae.prefixes.push(_t)}if(K.items)for(const Oe of K.items){const ot=q._makeStorageReference(new at(j,Oe.name));ae.items.push(ot)}return ae}(q,j,ae)}(q,j,Oe);return Er(null!==ot),ot}}(q,j.bucket),fn);return pn.urlParams=ot,pn.errorHandler=ye(j),pn}function En(q,j,K){const Oe=kt(j.fullServerUrl(),q.host,q._protocol),_t=q.maxOperationRetryTime,rn=new mr(Oe,"GET",function(q,j){return function(ae,Oe){const ot=xn(q,Oe,j);return Er(null!==ot),function(q,j,K,ae){const Oe=Ci(j);if(null===Oe||!vn(Oe.downloadTokens))return null;const ot=Oe.downloadTokens;if(0===ot.length)return null;const _t=encodeURIComponent;return ot.split(",").map(fn=>{const rr=q.fullPath;return kt("/b/"+_t(q.bucket)+"/o/"+_t(rr),K,ae)+wn({alt:"media",token:fn})})[0]}(ot,Oe,q.host,q._protocol)}}(q,K),_t);return rn.errorHandler=Je(j),rn}function ar(q,j,K,ae){const ot=kt(j.fullServerUrl(),q.host,q._protocol),rn=Vr(K,ae),fn=q.maxOperationRetryTime,pn=new mr(ot,"PATCH",ln(q,ae),fn);return pn.headers={"Content-Type":"application/json; charset=utf-8"},pn.body=rn,pn.errorHandler=Je(j),pn}function In(q,j){const ae=kt(j.fullServerUrl(),q.host,q._protocol),rn=new mr(ae,"DELETE",function(Zt,fn){},q.maxOperationRetryTime);return rn.successCodes=[200,204],rn.errorHandler=Je(j),rn}function Vs(q,j,K){const ae=Object.assign({},K);return ae.fullPath=q.path,ae.size=j.size(),ae.contentType||(ae.contentType=function(q,j){return j&&j.type()||"application/octet-stream"}(0,j)),ae}class Ar{constructor(j,K,ae,Oe){this.current=j,this.total=K,this.finalized=!!ae,this.metadata=Oe||null}}function oi(q,j){let K=null;try{K=q.getResponseHeader("X-Goog-Upload-Status")}catch(Oe){Er(!1)}return Er(!!K&&-1!==(j||["active"]).indexOf(K)),K}const ui={STATE_CHANGED:"state_changed"},lr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hi(q){switch(q){case"running":case"pausing":case"canceling":return lr.RUNNING;case"paused":return lr.PAUSED;case"success":return lr.SUCCESS;case"canceled":return lr.CANCELED;case"error":default:return lr.ERROR}}class Ks{constructor(j,K,ae){if("function"==typeof j||null!=K||null!=ae)this.next=j,this.error=null!=K?K:void 0,this.complete=null!=ae?ae:void 0;else{const ot=j;this.next=ot.next,this.error=ot.error,this.complete=ot.complete}}}function ti(q){return(...j)=>{Promise.resolve().then(()=>q(...j))}}class xr{constructor(j,K,ae=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=j,this._blob=K,this._metadata=ae,this._mappings=Oi(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=Oe=>{this._request=void 0,this._chunkMultiplier=1,Oe._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=Oe,this._transition("error"))},this._metadataErrorHandler=Oe=>{this._request=void 0,Oe._codeEquals("canceled")?this.completeTransitions_():(this._error=Oe,this._transition("error"))},this._promise=new Promise((Oe,ot)=>{this._resolve=Oe,this._reject=ot,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const j=this._transferred;return K=>this._updateProgress(j+K)}_shouldDoResumable(j){return j.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(j){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([K,ae])=>{switch(this._state){case"running":j(K,ae);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((j,K)=>{const ae=function(q,j,K,ae,Oe){const ot=j.bucketOnlyServerUrl(),_t=Vs(j,ae,Oe),rn={name:_t.fullPath},Zt=kt(ot,q.host,q._protocol),pn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ae.size()}`,"X-Goog-Upload-Header-Content-Type":_t.contentType,"Content-Type":"application/json; charset=utf-8"},rr=Vr(_t,K),Xn=new mr(Zt,"POST",function(cr){let Vi;oi(cr);try{Vi=cr.getResponseHeader("X-Goog-Upload-URL")}catch(Si){Er(!1)}return Er(vn(Vi)),Vi},q.maxUploadRetryTime);return Xn.urlParams=rn,Xn.headers=pn,Xn.body=rr,Xn.errorHandler=ye(j),Xn}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(ae,j,K);this._request=Oe,Oe.getPromise().then(ot=>{this._request=void 0,this._uploadUrl=ot,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const j=this._uploadUrl;this._resolveToken((K,ae)=>{const Oe=function(q,j,K,ae){const Zt=new mr(K,"POST",function(fn){const pn=oi(fn,["active","final"]);let rr=null;try{rr=fn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(ir){Er(!1)}rr||Er(!1);const Cr=Number(rr);return Er(!isNaN(Cr)),new Ar(Cr,ae.size(),"final"===pn)},q.maxUploadRetryTime);return Zt.headers={"X-Goog-Upload-Command":"query"},Zt.errorHandler=ye(j),Zt}(this._ref.storage,this._ref._location,j,this._blob),ot=this._ref.storage._makeRequest(Oe,K,ae);this._request=ot,ot.getPromise().then(_t=>{_t=_t,this._request=void 0,this._updateProgress(_t.current),this._needToFetchStatus=!1,_t.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const j=262144*this._chunkMultiplier,K=new Ar(this._transferred,this._blob.size()),ae=this._uploadUrl;this._resolveToken((Oe,ot)=>{let _t;try{_t=function(q,j,K,ae,Oe,ot,_t,rn){const Zt=new Ar(0,0);if(_t?(Zt.current=_t.current,Zt.total=_t.total):(Zt.current=0,Zt.total=ae.size()),ae.size()!==Zt.total)throw new Qe("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const fn=Zt.total-Zt.current;let pn=fn;Oe>0&&(pn=Math.min(pn,Oe));const rr=Zt.current,Xn={"X-Goog-Upload-Command":pn===fn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Zt.current}`},cr=ae.slice(rr,rr+pn);if(null===cr)throw Re();const mi=new mr(K,"POST",function(Sr,Kr){const bs=oi(Sr,["active","final"]),$s=Zt.current+pn,Js=ae.size();let _o;return _o="final"===bs?ln(j,ot)(Sr,Kr):null,new Ar($s,Js,"final"===bs,_o)},j.maxUploadRetryTime);return mi.headers=Xn,mi.body=cr.uploadData(),mi.progressCallback=rn||null,mi.errorHandler=ye(q),mi}(this._ref._location,this._ref.storage,ae,this._blob,j,this._mappings,K,this._makeProgressCallback())}catch(Zt){return this._error=Zt,void this._transition("error")}const rn=this._ref.storage._makeRequest(_t,Oe,ot);this._request=rn,rn.getPromise().then(Zt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Zt.current),Zt.finalized?(this._metadata=Zt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((j,K)=>{const ae=mt(this._ref.storage,this._ref._location,this._mappings),Oe=this._ref.storage._makeRequest(ae,j,K);this._request=Oe,Oe.getPromise().then(ot=>{this._request=void 0,this._metadata=ot,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((j,K)=>{const ae=function(q,j,K,ae,Oe){const ot=j.bucketOnlyServerUrl(),_t={"X-Goog-Upload-Protocol":"multipart"},Zt=function(){let mi="";for(let Sr=0;Sr<2;Sr++)mi+=Math.random().toString().slice(2);return mi}();_t["Content-Type"]="multipart/related; boundary="+Zt;const fn=Vs(j,ae,Oe),pn=Vr(fn,K),ir=bn.getBlob("--"+Zt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pn+"\r\n--"+Zt+"\r\nContent-Type: "+fn.contentType+"\r\n\r\n",ae,"\r\n--"+Zt+"--");if(null===ir)throw Re();const Xn={name:fn.fullPath},cr=kt(ot,q.host,q._protocol),Si=q.maxUploadRetryTime,ts=new mr(cr,"POST",ln(q,K),Si);return ts.urlParams=Xn,ts.headers=_t,ts.body=ir.uploadData(),ts.errorHandler=ye(j),ts}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),Oe=this._ref.storage._makeRequest(ae,j,K);this._request=Oe,Oe.getPromise().then(ot=>{this._request=void 0,this._metadata=ot,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(j){const K=this._transferred;this._transferred=j,this._transferred!==K&&this._notifyObservers()}_transition(j){if(this._state!==j)switch(j){case"canceling":case"pausing":this._state=j,void 0!==this._request&&this._request.cancel();break;case"running":const K="paused"===this._state;this._state=j,K&&(this._notifyObservers(),this._start());break;case"paused":this._state=j,this._notifyObservers();break;case"canceled":this._error=Yt(),this._state=j,this._notifyObservers();break;case"error":case"success":this._state=j,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const j=hi(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:j,metadata:this._metadata,task:this,ref:this._ref}}on(j,K,ae,Oe){const ot=new Ks(K||void 0,ae||void 0,Oe||void 0);return this._addObserver(ot),()=>{this._removeObserver(ot)}}then(j,K){return this._promise.then(j,K)}catch(j){return this.then(null,j)}_addObserver(j){this._observers.push(j),this._notifyObserver(j)}_removeObserver(j){const K=this._observers.indexOf(j);-1!==K&&this._observers.splice(K,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(K=>{this._notifyObserver(K)})}_finishPromise(){if(void 0!==this._resolve){let j=!0;switch(hi(this._state)){case lr.SUCCESS:ti(this._resolve.bind(null,this.snapshot))();break;case lr.CANCELED:case lr.ERROR:ti(this._reject.bind(null,this._error))();break;default:j=!1}j&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(j){switch(hi(this._state)){case lr.RUNNING:case lr.PAUSED:j.next&&ti(j.next.bind(j,this.snapshot))();break;case lr.SUCCESS:j.complete&&ti(j.complete.bind(j))();break;case lr.CANCELED:case lr.ERROR:j.error&&ti(j.error.bind(j,this._error))();break;default:j.error&&ti(j.error.bind(j,this._error))()}}resume(){const j="paused"===this._state||"pausing"===this._state;return j&&this._transition("running"),j}pause(){const j="running"===this._state;return j&&this._transition("pausing"),j}cancel(){const j="running"===this._state||"pausing"===this._state;return j&&this._transition("canceling"),j}}class Hn{constructor(j,K){this._service=j,this._location=K instanceof at?K:at.makeFromUrl(K,j.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(j,K){return new Hn(j,K)}get root(){const j=new at(this._location.bucket,"");return this._newRef(this._service,j)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Hi(this._location.path)}get storage(){return this._service}get parent(){const j=function(q){if(0===q.length)return null;const j=q.lastIndexOf("/");return-1===j?"":q.slice(0,j)}(this._location.path);if(null===j)return null;const K=new at(this._location.bucket,j);return new Hn(this._service,K)}_throwIfRoot(j){if(""===this._location.path)throw sr(j)}}function Ds(q,j,K){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,_.Z)(function*(q,j,K){const Oe=yield ds(q,{pageToken:K});j.prefixes.push(...Oe.prefixes),j.items.push(...Oe.items),null!=Oe.nextPageToken&&(yield Ds(q,j,Oe.nextPageToken))})).apply(this,arguments)}function ds(q,j){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,_.Z)(function*(q,j){null!=j&&"number"==typeof j.maxResults&&Qn("options.maxResults",1,1e3,j.maxResults);const K=j||{},ae=an(q.storage,q._location,"/",K.pageToken,K.maxResults);return(yield q.storage.makeRequestWithTokens(ae)).getPromise()})).apply(this,arguments)}function ki(){return(ki=(0,_.Z)(function*(q){q._throwIfRoot("getMetadata");const j=mt(q.storage,q._location,Oi());return(yield q.storage.makeRequestWithTokens(j)).getPromise()})).apply(this,arguments)}function hs(){return(hs=(0,_.Z)(function*(q,j){q._throwIfRoot("updateMetadata");const K=ar(q.storage,q._location,j,Oi());return(yield q.storage.makeRequestWithTokens(K)).getPromise()})).apply(this,arguments)}function oo(){return(oo=(0,_.Z)(function*(q){q._throwIfRoot("getDownloadURL");const j=En(q.storage,q._location,Oi());return(yield q.storage.makeRequestWithTokens(j)).getPromise().then(K=>{if(null===K)throw Ct();return K})})).apply(this,arguments)}function fi(){return(fi=(0,_.Z)(function*(q){q._throwIfRoot("deleteObject");const j=In(q.storage,q._location);return(yield q.storage.makeRequestWithTokens(j)).getPromise()})).apply(this,arguments)}function fo(q,j){const K=function(q,j){const K=j.split("/").filter(ae=>ae.length>0).join("/");return 0===q.length?K:q+"/"+K}(q._location.path,j),ae=new at(q._location.bucket,K);return new Hn(q.storage,ae)}function ai(q,j){if(q instanceof xs){const K=q;if(null==K._bucket)throw new Qe("no-default-bucket","No default bucket found. Did you set the '"+st+"' property when initializing the app?");const ae=new Hn(K,K._bucket);return null!=j?ai(ae,j):ae}return void 0!==j?fo(q,j):q}function ni(q,j){if(j&&function(q){return/^[A-Za-z]+:\/\//.test(q)}(j)){if(q instanceof xs)return function(q,j){return new Hn(q,j)}(q,j);throw Ut("To use ref(service, url), the first argument must be a Storage instance.")}return ai(q,j)}function ps(q,j){const K=null==j?void 0:j[st];return null==K?null:at.makeFromBucketSpec(K,q)}class xs{constructor(j,K,ae,Oe,ot,_t){this.app=j,this._authProvider=K,this._appCheckProvider=ae,this._pool=Oe,this._url=ot,this._firebaseVersion=_t,this._bucket=null,this._host=Jt,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ot?at.makeFromBucketSpec(ot,this._host):ps(this._host,this.app.options)}get host(){return this._host}set host(j){this._host=j,this._bucket=null!=this._url?at.makeFromBucketSpec(this._url,j):ps(j,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(j){Qn("time",0,Number.POSITIVE_INFINITY,j),this._maxUploadRetryTime=j}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(j){Qn("time",0,Number.POSITIVE_INFINITY,j),this._maxOperationRetryTime=j}_getAuthToken(){var j=this;return(0,_.Z)(function*(){if(j._overrideAuthToken)return j._overrideAuthToken;const K=j._authProvider.getImmediate({optional:!0});if(K){const ae=yield K.getToken();if(null!==ae)return ae.accessToken}return null})()}_getAppCheckToken(){var j=this;return(0,_.Z)(function*(){const K=j._appCheckProvider.getImmediate({optional:!0});return K?(yield K.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(j=>j.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(j){return new Hn(this,j)}_makeRequest(j,K,ae){if(this._deleted)return new lt(Dn());{const Oe=function(q,j,K,ae,Oe,ot){const _t=wn(q.urlParams),rn=q.url+_t,Zt=Object.assign({},q.headers);return function(q,j){j&&(q["X-Firebase-GMPID"]=j)}(Zt,j),function(q,j){null!==j&&j.length>0&&(q.Authorization="Firebase "+j)}(Zt,K),function(q,j){q["X-Firebase-Storage-Version"]="webjs/"+(null!=j?j:"AppManager")}(Zt,ot),function(q,j){null!==j&&(q["X-Firebase-AppCheck"]=j)}(Zt,ae),new jr(rn,q.method,Zt,q.body,q.successCodes,q.additionalRetryCodes,q.handler,q.errorHandler,q.timeout,q.progressCallback,Oe)}(j,this._appId,K,ae,this._pool,this._firebaseVersion);return this._requests.add(Oe),Oe.getPromise().then(()=>this._requests.delete(Oe),()=>this._requests.delete(Oe)),Oe}}makeRequestWithTokens(j){var K=this;return(0,_.Z)(function*(){const[ae,Oe]=yield Promise.all([K._getAuthToken(),K._getAppCheckToken()]);return K._makeRequest(j,ae,Oe)})()}}function Us(q,j){return ni(q=(0,Se.m9)(q),j)}(0,ct._registerComponent)(new St.wA("storage",function(q,{instanceIdentifier:j}){const K=q.getProvider("app").getImmediate(),ae=q.getProvider("auth-internal"),Oe=q.getProvider("app-check-internal");return new xs(K,ae,Oe,new $e,j,ct.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,ct.registerVersion)("@firebase/storage","0.8.3");class H{constructor(j,K,ae){this._delegate=j,this.task=K,this.ref=ae}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class re{constructor(j,K){this._delegate=j,this._ref=K,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new H(this._delegate.snapshot,this,this._ref)}then(j,K){return this._delegate.then(ae=>{if(j)return j(new H(ae,this,this._ref))},K)}on(j,K,ae,Oe){let ot;return K&&(ot="function"==typeof K?_t=>K(new H(_t,this,this._ref)):{next:K.next?_t=>K.next(new H(_t,this,this._ref)):void 0,complete:K.complete||void 0,error:K.error||void 0}),this._delegate.on(j,ot,ae||void 0,Oe||void 0)}}class be{constructor(j,K){this._delegate=j,this._service=K}get prefixes(){return this._delegate.prefixes.map(j=>new it(j,this._service))}get items(){return this._delegate.items.map(j=>new it(j,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class it{constructor(j,K){this._delegate=j,this.storage=K}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(j){const K=function(q,j){return fo(q,j)}(this._delegate,j);return new it(K,this.storage)}get root(){return new it(this._delegate.root,this.storage)}get parent(){const j=this._delegate.parent;return null==j?null:new it(j,this.storage)}put(j,K){return this._throwIfRoot("put"),new re(function(q,j,K){return function(q,j,K){return q._throwIfRoot("uploadBytesResumable"),new xr(q,new bn(j),K)}(q=(0,Se.m9)(q),j,K)}(this._delegate,j,K),this)}putString(j,K=Lt.RAW,ae){this._throwIfRoot("putString");const Oe=Ln(K,j),ot=Object.assign({},ae);return null==ot.contentType&&null!=Oe.contentType&&(ot.contentType=Oe.contentType),new re(new xr(this._delegate,new bn(Oe.data,!0),ot),this)}listAll(){return(q=this._delegate,function(q){const j={prefixes:[],items:[]};return Ds(q,j).then(()=>j)}(q=(0,Se.m9)(q))).then(j=>new be(j,this.storage));var q}list(j){return function(q,j){return ds(q=(0,Se.m9)(q),j)}(this._delegate,j||void 0).then(K=>new be(K,this.storage))}getMetadata(){return function(q){return ki.apply(this,arguments)}((0,Se.m9)(this._delegate))}updateMetadata(j){return function(q,j){return function(q,j){return hs.apply(this,arguments)}(q=(0,Se.m9)(q),j)}(this._delegate,j)}getDownloadURL(){return function(q){return oo.apply(this,arguments)}((0,Se.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(q){return fi.apply(this,arguments)}((0,Se.m9)(this._delegate))}_throwIfRoot(j){if(""===this._delegate._location.path)throw sr(j)}}class It{constructor(j,K){this.app=j,this._delegate=K}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(j){if(V(j))throw Ut("ref() expected a child path but got a URL, use refFromURL instead.");return new it(Us(this._delegate,j),this)}refFromURL(j){if(!V(j))throw Ut("refFromURL() expected a full URL but got a child path, use ref() instead.");try{at.makeFromUrl(j,this._delegate.host)}catch(K){throw Ut("refFromUrl() expected a valid full URL but got an invalid one.")}return new it(Us(this._delegate,j),this)}setMaxUploadRetryTime(j){this._delegate.maxUploadRetryTime=j}setMaxOperationRetryTime(j){this._delegate.maxOperationRetryTime=j}useEmulator(j,K,ae={}){!function(q,j,K,ae={}){!function(q,j,K,ae={}){q.host=`${j}:${K}`,q._protocol="http";const{mockUserToken:Oe}=ae;Oe&&(q._overrideAuthToken="string"==typeof Oe?Oe:(0,Se.Sg)(Oe,q.app.options.projectId))}(q,j,K,ae)}(this._delegate,j,K,ae)}}function V(q){return/^[A-Za-z]+:\/\//.test(q)}function Ke(q,{instanceIdentifier:j}){const K=q.getProvider("app-compat").getImmediate(),ae=q.getProvider("storage").getImmediate({identifier:j});return new It(K,ae)}function gi(q){const j=function(q){return new He.y(j=>{const K=_t=>j.next(_t);K(q.snapshot);const ot=q.on("state_changed",K);return q.then(_t=>{K(_t),j.complete()},_t=>{K(q.snapshot),(_t=>{j.error(_t)})(_t)}),function(){ot()}}).pipe(function(q,j=de.P){return K=>K.lift(new De(q,j))}(0))}(q);return{task:q,then:q.then.bind(q),catch:q.catch.bind(q),pause:q.pause.bind(q),cancel:q.cancel.bind(q),resume:q.resume.bind(q),snapshotChanges:()=>j,percentageChanges:()=>j.pipe((0,qe.U)(K=>K.bytesTransferred/K.totalBytes*100))}}function Mr(q){return{getDownloadURL:()=>(0,pe.of)(void 0).pipe(me.fc,(0,yt.w)(()=>q.getDownloadURL()),me.iC),getMetadata:()=>(0,pe.of)(void 0).pipe(me.fc,(0,yt.w)(()=>q.getMetadata()),me.iC),delete:()=>(0,_e.D)(q.delete()),child:j=>Mr(q.child(j)),updateMetadata:j=>(0,_e.D)(q.updateMetadata(j)),put:(j,K)=>gi(q.put(j,K)),putString:(j,K,ae)=>gi(q.putString(j,K,ae)),listAll:()=>(0,_e.D)(q.listAll())}}!function(q){const j={TaskState:lr,TaskEvent:ui,StringFormat:Lt,Storage:It,Reference:it};q.INTERNAL.registerComponent(new St.wA("storage-compat",Ke,"PUBLIC").setServiceProps(j).setMultipleInstances(!0)),q.registerVersion("@firebase/storage-compat","0.1.3")}(wt.Z),Z(7841);const ri=new f.OlP("angularfire2.storageBucket"),Li=new f.OlP("angularfire2.storage.maxUploadRetryTime"),An=new f.OlP("angularfire2.storage.maxOperationRetryTime"),ao=new f.OlP("angularfire2.storage.use-emulator");let Ys=(()=>{class q{constructor(K,ae,Oe,ot,_t,rn,Zt,fn,pn){const rr=(0,ft.on)(K,_t,ae);this.storage=(0,me.cc)(`${rr.name}.storage.${Oe}`,"AngularFireStorage",rr.name,()=>{const Cr=_t.runOutsideAngular(()=>rr.storage(Oe||void 0)),ir=pn;return ir&&Cr.useEmulator(...ir),Zt&&Cr.setMaxUploadRetryTime(Zt),fn&&Cr.setMaxOperationRetryTime(fn),Cr},[Zt,fn])}ref(K){return Mr(this.storage.ref(K))}refFromURL(K){return Mr(this.storage.refFromURL(K))}upload(K,ae,Oe){return Mr(this.storage.ref(K)).put(ae,Oe)}}return q.\u0275fac=function(K){return new(K||q)(f.LFG(ft.Dh),f.LFG(ft.xv,8),f.LFG(ri,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(me.HU),f.LFG(Li,8),f.LFG(An,8),f.LFG(ao,8))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"any"}),q})();var mo=Z(611),vs=Z(9344),Tt=Z(5160),nr=Z(8583),lo=Z(4132);function ii(q,j){1&q&&(f.TgZ(0,"div"),f._UZ(1,"app-spinner"),f.qZA())}function na(q,j){if(1&q&&(f.TgZ(0,"div"),f.YNc(1,ii,2,0,"div",1),f.qZA()),2&q){const K=f.oxw();f.xp6(1),f.Q6J("ngIf",K.auth.loading)}}function Xi(q,j){1&q&&(f.TgZ(0,"div",34),f._uU(1," Ingrese su email "),f.qZA())}function ws(q,j){1&q&&(f.TgZ(0,"div",34),f._uU(1," Ingrese un email valido "),f.qZA())}function Bs(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su contrase\xf1a "),f.qZA())}function yo(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),f.qZA())}function Ia(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su nombre "),f.qZA())}function js(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su apellido "),f.qZA())}function Oo(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su DNI "),f.qZA())}function Di(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su edad "),f.qZA())}function qr(q,j){1&q&&(f.TgZ(0,"div",35),f._uU(1," Ingrese su obra social "),f.qZA())}function is(q,j){if(1&q&&(f.TgZ(0,"div",20),f.TgZ(1,"label",36),f.TgZ(2,"b"),f._uU(3,"Obra social"),f.qZA(),f.qZA(),f._UZ(4,"input",37),f.YNc(5,qr,2,0,"div",11),f.qZA()),2&q){const K=f.oxw();let ae;f.xp6(5),f.Q6J("ngIf",(null==(ae=K.form.get("obraSocial"))?null:ae.touched)&&(null==(ae=K.form.get("obraSocial"))||null==ae.errors?null:ae.errors.required))}}function uo(q,j){if(1&q){const K=f.EpF();f.TgZ(0,"div",48),f.TgZ(1,"i",49),f.NdJ("click",function(){const ot=f.CHM(K).$implicit;return f.oxw(3).borrarEspecialidad(ot)}),f.qZA(),f._uU(2),f.qZA()}if(2&q){const K=j.$implicit;f.xp6(2),f.hij(" ",K," ")}}function Hs(q,j){if(1&q&&(f.TgZ(0,"div"),f.TgZ(1,"label",46),f._uU(2,"Seleccionadas:"),f.qZA(),f.YNc(3,uo,3,1,"div",47),f.qZA()),2&q){const K=f.oxw(2);f.xp6(3),f.Q6J("ngForOf",K.especialidadActual)}}function es(q,j){if(1&q){const K=f.EpF();f.TgZ(0,"div"),f.TgZ(1,"label",50),f.NdJ("click",function(){const ot=f.CHM(K).$implicit;return f.oxw(2).agregarEspecialidad(ot.especialidad)}),f._uU(2),f.qZA(),f.qZA()}if(2&q){const K=j.$implicit;f.xp6(2),f.hij(" ",null==K?null:K.especialidad," ")}}function ra(q,j){if(1&q){const K=f.EpF();f.TgZ(0,"div",38),f.TgZ(1,"label",39),f.TgZ(2,"b"),f._uU(3,"Especialidad"),f.qZA(),f.qZA(),f.TgZ(4,"div",40),f._UZ(5,"input",41),f.qZA(),f._UZ(6,"input",42),f.TgZ(7,"button",43),f.NdJ("click",function(){return f.CHM(K),f.oxw().agregarNuevaEspecialidad()}),f._uU(8,"Agregar"),f.qZA(),f.YNc(9,Hs,4,1,"div",1),f.TgZ(10,"div",44),f.YNc(11,es,3,1,"div",45),f.qZA(),f.qZA()}if(2&q){const K=f.oxw();f.xp6(9),f.Q6J("ngIf",K.especialidadActual.length),f.xp6(2),f.Q6J("ngForOf",K.especialidades)}}function ss(q,j){if(1&q){const K=f.EpF();f.TgZ(0,"input",51),f.NdJ("change",function(Oe){return f.CHM(K),f.oxw().cambioArchivo(Oe)}),f.qZA()}}function co(q,j){if(1&q){const K=f.EpF();f.TgZ(0,"input",52),f.NdJ("change",function(Oe){return f.CHM(K),f.oxw().cambioArchivo(Oe)}),f.qZA()}}const Yo=function(q){return{pending:q}};let Nr=(()=>{class q{constructor(K,ae,Oe,ot,_t,rn){this.auth=K,this.formBuilder=ae,this.firebaseStorage=Oe,this.router=ot,this.toaster=_t,this.firestore=rn,this.finalizado=new f.vpe,this.loadingCaptcha=!1,this.tipoUser="",this.nombreArchivo0="",this.nombreArchivo1="",this.especialidadActual=[],this.form=this.formBuilder.group({}),this.formData=new FormData,this.getEspecialidades()}set tipo(K){this.tipoUser=K,"paciente"===K?this.registroPaciente():"especialista"===K?this.registroEspecialista():this.registroAdmin()}agregarEspecialidad(K){var ae;return-1===this.especialidadActual.indexOf(K)&&(this.especialidadActual.push(K),null===(ae=this.form.controls.especialidad)||void 0===ae||ae.setValue(this.especialidadActual),console.log(this.form.controls.especialidad.value),!0)}agregarNuevaEspecialidad(){var K;let ae=null===(K=this.form.controls.nuevaEspecialidad)||void 0===K?void 0:K.value;this.agregarEspecialidad(ae)&&this.firestore.addEspecialidad(ae)}borrarEspecialidad(K){let ae=this.especialidadActual.indexOf(K);-1!==ae&&this.especialidadActual.splice(ae,1)}ngOnInit(){}getEspecialidades(){this.firestore.especialidadesObs.subscribe(K=>{this.especialidades=K,console.log(this.especialidades)})}registroPaciente(){this.form=this.formBuilder.group({email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],nombre:["",te.kI.required],apellido:["",te.kI.required],dni:["",te.kI.required],obraSocial:["",te.kI.required],edad:["",te.kI.required],imagenes:[null,te.kI.required]})}registroEspecialista(){this.form=this.formBuilder.group({nombre:["",[te.kI.required]],apellido:["",[te.kI.required]],edad:["",[te.kI.required]],dni:["",[te.kI.required]],email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],especialidad:["",[te.kI.required]],nuevaEspecialidad:[""],imagen:[null,[te.kI.required]]})}registroAdmin(){this.form=this.formBuilder.group({nombre:["",[te.kI.required]],apellido:["",[te.kI.required]],edad:["",[te.kI.required]],dni:["",[te.kI.required]],email:["",[te.kI.required,te.kI.email]],password:["",[te.kI.required,te.kI.minLength(8)]],imagen:[null,[te.kI.required]]})}cambioArchivo(K){if(K.target.files.length>0)for(let ae=0;ae<K.target.files.length;ae++)0===ae?this.nombreArchivo0=K.target.files[ae].name:this.nombreArchivo1=K.target.files[ae].name,this.formData.delete(`archivo${ae}`),this.formData.append(`archivo${ae}`,K.target.files[ae],K.target.files[ae].name)}subirArchivo(){var K=this;return(0,_.Z)(function*(){let ae=K.formData.get("archivo0"),Oe=K.formData.get("archivo1");console.log(Oe),K.nombreArchivo0=Date.now().toString()+K.nombreArchivo0,K.nombreArchivo1=Date.now().toString()+K.nombreArchivo1,console.log(K.nombreArchivo0);let ot=K.firebaseStorage.ref(K.nombreArchivo0);yield K.firebaseStorage.upload(K.nombreArchivo0,ae);let _t=null;Oe&&(_t=K.firebaseStorage.ref(K.nombreArchivo1),yield K.firebaseStorage.upload(K.nombreArchivo1,Oe)),ot.getDownloadURL().subscribe(rn=>{"especialista"===K.tipoUser?(K.user.imagen=rn,K.firestore.addEspecialista(K.user)):"Administradores"===K.tipoUser?(K.user.imagen=rn,K.firestore.addAdmin(K.user)):(K.user.imagenes.push(rn),console.log(K.user.imagenes),_t&&(_t.getDownloadURL().subscribe(Zt=>{K.user.imagenes.push(Zt),K.firestore.addPaciente(K.user)}),K.nombreArchivo0="",K.nombreArchivo1=""))})})()}mostrarToast(K,ae){"success"===K?this.toaster.success(ae):this.toaster.error(ae)}signUp(){var K,ae,Oe,ot,_t,rn,Zt,fn,pn,rr,Cr,ir,Xn,cr,Vi,Si,ts,mi,Sr,Kr;"paciente"===this.tipoUser?(this.user={email:null===(K=this.form.get("email"))||void 0===K?void 0:K.value,nombre:null===(ae=this.form.get("nombre"))||void 0===ae?void 0:ae.value,apellido:null===(Oe=this.form.get("apellido"))||void 0===Oe?void 0:Oe.value,dni:null===(ot=this.form.get("dni"))||void 0===ot?void 0:ot.value,edad:null===(_t=this.form.get("edad"))||void 0===_t?void 0:_t.value,obraSocial:null===(rn=this.form.get("obraSocial"))||void 0===rn?void 0:rn.value,password:null===(Zt=this.form.get("password"))||void 0===Zt?void 0:Zt.value,perfil:this.tipoUser,imagenes:[]},this.registrar()):"especialista"===this.tipoUser?(this.user={email:null===(fn=this.form.get("email"))||void 0===fn?void 0:fn.value,nombre:null===(pn=this.form.get("nombre"))||void 0===pn?void 0:pn.value,apellido:null===(rr=this.form.get("apellido"))||void 0===rr?void 0:rr.value,dni:null===(Cr=this.form.get("dni"))||void 0===Cr?void 0:Cr.value,edad:null===(ir=this.form.get("edad"))||void 0===ir?void 0:ir.value,especialidad:null===(Xn=this.form.get("especialidad"))||void 0===Xn?void 0:Xn.value,password:null===(cr=this.form.get("password"))||void 0===cr?void 0:cr.value,perfil:this.tipoUser,habilitado:!0},this.registrar()):(this.user={email:null===(Vi=this.form.get("email"))||void 0===Vi?void 0:Vi.value,nombre:null===(Si=this.form.get("nombre"))||void 0===Si?void 0:Si.value,apellido:null===(ts=this.form.get("apellido"))||void 0===ts?void 0:ts.value,dni:null===(mi=this.form.get("dni"))||void 0===mi?void 0:mi.value,edad:null===(Sr=this.form.get("edad"))||void 0===Sr?void 0:Sr.value,password:null===(Kr=this.form.get("password"))||void 0===Kr?void 0:Kr.value,perfil:"admin"},this.registrar())}registrar(){var K=this;this.auth.signUp(this.user).then(function(){var ae=(0,_.Z)(function*(Oe){var ot;K.auth.loading=!0,K.auth.isLogged=K.user,K.user.uid=null===(ot=null==Oe?void 0:Oe.user)||void 0===ot?void 0:ot.uid,yield K.subirArchivo(),K.auth.loading=!1,"Administradores"!==K.tipoUser?(K.auth.enviarVerificacionEmail(),Me().fire({text:"Datos correctos, se ha enviado un mail para validar su cuenta",timer:2e3,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),K.router.navigate(["/home"])):K.finalizado.emit(!1)});return function(Oe){return ae.apply(this,arguments)}}()).catch(ae=>{this.finalizado.emit(!0),Me().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{this.auth.loading=!1},1500)})}captcha(){this.loadingCaptcha=!0,setTimeout(()=>{this.loadingCaptcha=!1},1500)}}return q.\u0275fac=function(K){return new(K||q)(f.Y36(ve.e),f.Y36(te.qu),f.Y36(Ys),f.Y36(mo.F0),f.Y36(vs._W),f.Y36(Tt.C))},q.\u0275cmp=f.Xpm({type:q,selectors:[["app-registro"]],inputs:{tipo:"tipo"},outputs:{finalizado:"finalizado"},decls:63,vars:18,consts:[[1,"container",2,"max-height","100vh"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12","col-sm-6"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],[1,"row","justify-content-center"],[1,"col-md-4","col-12"],["for","nombre"],["type","text","formControlName","nombre","name","nombre","required",""],["for","apellido"],["type","text","formControlName","apellido","name","apellido","required",""],["for","dni"],["type","number","name","dni","autocomplete","off","formControlName","dni","required",""],[1,"col-sm-6","col-12"],["for","edad"],["type","number","name","edad","formControlName","edad","required",""],["class","col-sm-6 col-12",4,"ngIf"],["class","col-sm-6 col-12 p-0",4,"ngIf"],[1,"col-12"],["type","file","formControlName","imagen",3,"change",4,"ngIf"],["type","file","formControlName","imagenes","multiple","",3,"change",4,"ngIf"],[1,"list-unstyled","list-spinner"],[3,"ngClass"],[1,"spinner-img","loading-spinner"],["type","checkbox",1,"list-checkbox"],[1,"clearfix"],["type","submit",1,"btn",3,"disabled"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"],["for","obraSocial"],["type","text","formControlName","obraSocial","name","obraSocial","required",""],[1,"col-sm-6","col-12","p-0"],["for","especialidad",1,"d-block"],[2,"display","none"],["type","text","formControlName","especialidad","autocomplete","off","name","especialidad","required","",2,"width","60%"],["type","text","formControlName","nuevaEspecialidad","autocomplete","off","name","nuevaEspecialidad","required","",2,"width","60%"],["type","button",1,"btn","btn-primary","btn-sm","d-inline","ms-2",2,"width","36%",3,"click"],[1,"d-flex","flex-wrap","justify-content-center"],[4,"ngFor","ngForOf"],["for",""],["class","badge rounded-pill bg-warning text-dark ms-1 noselect",4,"ngFor","ngForOf"],[1,"badge","rounded-pill","bg-warning","text-dark","ms-1","noselect"],[1,"bi","bi-x",2,"font-size","15px",3,"click"],["for","especialidades",1,"ms-1","mt-1","badge","rounded-pill","bg-info","text-dark","noselect",3,"click"],["type","file","formControlName","imagen",3,"change"],["type","file","formControlName","imagenes","multiple","",3,"change"]],template:function(K,ae){if(1&K&&(f.TgZ(0,"div",0),f.YNc(1,na,2,1,"div",1),f.TgZ(2,"form",2),f.NdJ("ngSubmit",function(){return ae.signUp()}),f.TgZ(3,"div",3),f.TgZ(4,"h1"),f._uU(5,"Registro"),f.qZA(),f.TgZ(6,"p"),f._uU(7,"Completa los siguientes datos para crear una cuenta"),f.qZA(),f.TgZ(8,"div",4),f.TgZ(9,"div",5),f.TgZ(10,"label",6),f.TgZ(11,"b"),f._uU(12,"Email"),f.qZA(),f.qZA(),f._UZ(13,"input",7),f.YNc(14,Xi,2,0,"div",8),f.YNc(15,ws,2,0,"div",8),f.qZA(),f.TgZ(16,"div",5),f.TgZ(17,"label",9),f.TgZ(18,"b"),f._uU(19,"Contrase\xf1a"),f.qZA(),f.qZA(),f._UZ(20,"input",10),f.YNc(21,Bs,2,0,"div",11),f.YNc(22,yo,2,0,"div",11),f.qZA(),f.qZA(),f.TgZ(23,"div",12),f.TgZ(24,"div",13),f.TgZ(25,"label",14),f.TgZ(26,"b"),f._uU(27,"Nombre"),f.qZA(),f.qZA(),f._UZ(28,"input",15),f.YNc(29,Ia,2,0,"div",11),f.qZA(),f.TgZ(30,"div",13),f.TgZ(31,"label",16),f.TgZ(32,"b"),f._uU(33,"Apellido"),f.qZA(),f.qZA(),f._UZ(34,"input",17),f.YNc(35,js,2,0,"div",11),f.qZA(),f.TgZ(36,"div",13),f.TgZ(37,"label",18),f.TgZ(38,"b"),f._uU(39,"DNI"),f.qZA(),f.qZA(),f._UZ(40,"input",19),f.YNc(41,Oo,2,0,"div",11),f.qZA(),f.qZA(),f.TgZ(42,"div",4),f.TgZ(43,"div",20),f.TgZ(44,"label",21),f.TgZ(45,"b"),f._uU(46,"Edad"),f.qZA(),f.qZA(),f._UZ(47,"input",22),f.YNc(48,Di,2,0,"div",11),f.qZA(),f.YNc(49,is,6,1,"div",23),f.YNc(50,ra,12,2,"div",24),f.qZA(),f.TgZ(51,"div",4),f.TgZ(52,"div",25),f.YNc(53,ss,1,0,"input",26),f.YNc(54,co,1,0,"input",27),f.qZA(),f.qZA(),f.TgZ(55,"ul",28),f.TgZ(56,"li",29),f._UZ(57,"span",30),f._UZ(58,"input",31),f._uU(59," Companies & Organizations (Image) "),f.qZA(),f.qZA(),f.TgZ(60,"div",32),f.TgZ(61,"button",33),f._uU(62,"Registrarse"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&K){let Oe,ot,_t,rn,Zt,fn,pn,rr;f.xp6(1),f.Q6J("ngIf",ae.auth.loading),f.xp6(1),f.Q6J("formGroup",ae.form),f.xp6(12),f.Q6J("ngIf",(null==(Oe=ae.form.get("email"))?null:Oe.touched)&&(null==(Oe=ae.form.get("email"))||null==Oe.errors?null:Oe.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(ot=ae.form.get("email"))?null:ot.touched)&&(null==(ot=ae.form.get("email"))||null==ot.errors?null:ot.errors.email)),f.xp6(6),f.Q6J("ngIf",(null==(_t=ae.form.get("password"))?null:_t.touched)&&(null==(_t=ae.form.get("password"))||null==_t.errors?null:_t.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(rn=ae.form.get("password"))?null:rn.touched)&&(null==(rn=ae.form.get("password"))||null==rn.errors?null:rn.errors.minlength)),f.xp6(7),f.Q6J("ngIf",(null==(Zt=ae.form.get("nombre"))?null:Zt.touched)&&(null==(Zt=ae.form.get("nombre"))||null==Zt.errors?null:Zt.errors.required)),f.xp6(6),f.Q6J("ngIf",(null==(fn=ae.form.get("apellido"))?null:fn.touched)&&(null==(fn=ae.form.get("apellido"))||null==fn.errors?null:fn.errors.required)),f.xp6(6),f.Q6J("ngIf",(null==(pn=ae.form.get("dni"))?null:pn.touched)&&(null==(pn=ae.form.get("dni"))||null==pn.errors?null:pn.errors.required)),f.xp6(7),f.Q6J("ngIf",(null==(rr=ae.form.get("edad"))?null:rr.touched)&&(null==(rr=ae.form.get("edad"))||null==rr.errors?null:rr.errors.required)),f.xp6(1),f.Q6J("ngIf","paciente"===ae.tipoUser),f.xp6(1),f.Q6J("ngIf","especialista"===ae.tipoUser),f.xp6(3),f.Q6J("ngIf","paciente"!==ae.tipoUser),f.xp6(1),f.Q6J("ngIf","paciente"===ae.tipoUser),f.xp6(2),f.Q6J("ngClass",f.VKq(16,Yo,ae.loadingCaptcha)),f.xp6(5),f.Q6J("disabled",ae.form.invalid)}},directives:[nr.O5,te._Y,te.JL,te.sg,te.Fj,te.JJ,te.u,te.Q7,te.wV,nr.mk,lo.O,nr.sg],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:300px}}.spinner-font[_ngcontent-%COMP%]{display:inline-block;font-size:14px;vertical-align:-2px;margin-right:6px;margin-left:2px;margin-top:2px}.spinner-img[_ngcontent-%COMP%]{display:inline-block;background:url(data:image/gif;base64,R0lGODlhDgAOANU/AJ2rtf39/fL09a65wvX2993i5qq2v9Ta35CgrLjCyuTo6+fq7aGvub3Hzs7V2vX3+I6eq9rf47rEzOvu8NLZ3ens7u7w8sDJ0ODl6MfP1aazvYqbqNDX3Pr7/LW/x4iZpomap+Pn6vHz9Y2dqqSxu/T19+jr7tfd4dvg5KOwuvj5+eLm6ae0vd/k5/j5+vHz9Nbc4Nbc4Y2dqff4+ebp7NXb3/Dy9Iqbp+Xp7Pv8/L/Iz/n6+7nDy/Dy84+fq////yH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzA4MjZFM0EyRUExMUUzQjE2OUQwNUQ1MzZBQ0M2NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzA4MjZFNEEyRUExMUUzQjE2OUQwNUQ1MzZBQ0M2NyI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk2NDkzOTlDQTJBOTExRTNCMTY5RDA1RDUzNkFDQzY3IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3MDgyNkUyQTJFQTExRTNCMTY5RDA1RDUzNkFDQzY3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEBQMAPwAsAAAAAA4ADgAABhTAn3BILBqPyKRyyWw6n9CodGoMAgAh+QQFAwA/ACwHAAAAAQADAAAGBcCOrRMEACH5BAUDAD8ALAcAAAABAAMAAAYFwNKhFAQAIfkEBQMAPwAsBwAAAAEAAwAABgXABQkXBAAh+QQFAwA/ACwHAAAAAgADAAAGB8DQ7FOLPYIAIfkEBQMAPwAsBwAAAAMAAwAABgrAX+n3+0xOmV8QACH5BAUDAD8ALAcAAAAEAAMAAAYLQMxvOCSJfjpNIAgAIfkEBQMAPwAsBwAAAAUABAAABg/A0G9I/CmGDR+oMiRQfkEAIfkEBQMAPwAsBwAAAAYABQAABhNAzG9IHIaGNcnQQXwwPotm7RcEACH5BAUDAD8ALAcAAAAHAAYAAAYVwNVvSCwSTw3ExzgECYkEBMOYMXSCACH5BAUDAD8ALAcAAAAHAAgAAAYcwNBvSCQqij8fiFMkDIXIFPLyERRRn1axl1gEAQAh+QQFAwA/ACwLAAcAAwADAAAGCsDIB3P5CFCeXxAAIfkEBQMAPwAsCgAHAAQABQAABhHAn7Al/IkeiNTP8An9MA5hEAAh+QQFAwA/ACwIAAMABgAKAAAGHMCf8LcaGo9II+pXOL6MDCGBASrWEKBhjRQaBgEAIfkEBQMAPwAsBgAAAAgADgAABirA3+RHLP4YxJCxYGw6i4+ndEpsPQVGwi/1VE5ODd+PQxx8Pj9FsRIqNYMAIfkECQMAPwAsAwAAAAkADgAABiLAn/A3Gxp/juNw8kMgldAhIUqtWq/KC692DLA+HyhhdQwCACH5BAkDAD8ALAAAAAAOAA4AAAZGwJ9wKOwQj0QGKYQ8XnwgR5NIYHymxAeCgR1efqLuDyUWkstfYgBJQBAdgPCwCiLWQBAJ7NSAco4VBh+DHyQKUw8KISVHQQAh+QQJAwA/ACwAAAAADgAOAAAGUcCfcEgsGn+BQehItCBADubwwQCtpMIHgoEVXj6vLupTEH9aP1OE+RX8DCORkYBICU0bgHtIqC6FNRsQEicnDT4gHEULGh+OHyQKTA8hISVFQQAh+QQJAwA/ACwAAAAADgAOAAAGVsCfcEgsGoe9Y1EBciiHDwYI8xSWEIyqUPexBVQBZeRTWHwoStSn5QIllJeP4GeQvYwEREpY2QBERARSIUMwGyMSMScNPiAcRSYsH5MfJApKDwohJUVBACH5BAkDAD8ALAAAAAAOAA4AAAZRwJ9wSCwaj8ghLTl0gFbMHwGR+s0GCuTlI8B9DkjUp7X4UMJjFyih5f4MspdxWv1VNgARkcAAhYYwGyMSMScNPiAcRSYsH44fJFlHDwohJUVBACH5BAkDAD8ALAAAAAAOAA4AAAZVwJ9wSCwaj8gjIZBk/lgaZCb1m30kSN3HhvvUkJFPYfGhIFGflguUQF4+gp9B9jISENRfZQMQEQkMICFDMBsjEjEnDT4gHEUmLB+SHyQKSA8KISVFQQAh+QQJAwA/ACwAAAAADgAOAAAGUcCfcEgsGo/CCZJo2nCWQsNIBHWBeEvLjvY5IAuf1uJDQaLC1gTy8hH8DLKXkYBICSsbAHVIYIBCQzAbIxIxJw0+IE9MLB+OHyQKSA8KISVFQQAh+QQJAwA/ACwAAAAADgAOAAAGU8CfcEgsCnNGYw3gSg5NG0DJKWSNetTf7JPI/hQfincRdgoUOReom7x8BD+D7GV8IBjCSlREJDA+IUMwGyMSMScNPiAORSYsH5AfKYFJDwohU0RBACH5BAkDAD8ALAAAAAAOAA4AAAZPwJ9wSCwKFyhjsXYDKIemDUDwFLJG1Orsw6sKcZ+D97f4UMYuUGL8M8hexkemI6xIRcQHA7QawjYjEjE1Ej4gDkUmLB+MHyQhTw8KGCVFQQAh+QQJAwA/ACwAAAAADgAOAAAGSsCfcEgsChcajJFY20BOS6FpAxBEhYaR6PqbfXjcH+5zCC8+lLALlAj/DLJXuELdDh+BImwzksRODQgNRiYsH4cfJCFRDworJUVBACH5BAkDAD8ALAAAAAAOAA4AAAZGwJ9Q2BkajQsN4nisbUaSAFNougEE06FhJMoKZyCeV0j7HMa/xYeCdoES6J9B9kJXNoDuGPaUxGA2WSYsH4UZYw8KGARHQQAh+QQJAwA/ACwAAAAADgAOAAAGPMCfUPhQDY/DBetzQB5rN4hk4hRWNgBBdWgYibZCFYgHFtKY5d+5WRaT091v+QqQg6HSV1n5MaV/DwFVQQAh+QQJAwA/ACwAAAAADgAOAAAGPMCfUPiwDI/DBetjQB5rG4ik5RSaNgBRdWgYabc/F4gHFtI+h/IP96GoZ5+E+sca9dQLrEBdA6HmRnNqQQAh+QQJAwA/ACwAAAAADgAOAAAGN8CfUPgwDY9DE+vjQx5jm5Ek4hSaNgBRdWiQvbZCF4gHFtI+h/IPh1bPPmS1YURQmxzqvH4/DAIAIfkECQMAPwAsAAAAAA4ADgAABjXAn1D4UASGSKGJ9fmokkPYZiSJHaGmDUAERRpkr+7QBeKJh4sP5SzEfWrs38yziNvv+Lw+CAAh+QQJAwA/ACwAAAAADgAOAAAGL8CfUPhQBIZIoYn1+aiSQ9hmJIkdoaYNQARFGmTcrlAF4omHFhLqzG673/C4/BwEACH5BAkDAD8ALAAAAAAOAA4AAAYqwJ9Q+AgFhkjhQvP5qJLD2gYiOR2hpg1AAEUaRqIu8rESm8/otHrNbrODACH5BAkDAD8ALAAAAAAOAA4AAAYowJ9QSFgFhkghTfP5qJLD2g3Cqx2hOQDABk3uSt2weEwum8/otBoZBAAh+QQJAwA/ACwAAAAADgAOAAAGI8CfUEgIBYZI4ULz+aiSwx1iJDkdoUKTCMvter/gsHhMLpeDACH5BAkDAD8ALAAAAAAOAA4AAAYgwJ9QSFgFhkihSvP5qJLJAe9whFqv2Kx2y+16v+DwMAgAIfkECQMAPwAsAAAAAA4ADgAABh7An1BICAWGyKHl81Eln5nT8UmtWq/YrHbL7Xq/wyAAIfkECQMAPwAsAAAAAA4ADgAABh3An1D4WAWGSCTno0o6S7Wjc0qtWq/YrHbL7XqHQQAh+QQFAwA/ACwAAAAADgAOAAAGGsCfcIgLDI9IgArJ/BWb0Kh0Sq1ar9isVhoEACH5BAUDAD8ALAYAAAABAAMAAAYFQAFHEAQAIfkECQMAPwAsBgAAAAEAAwAABgXAnK0TBAAh+QQJAwA/ACwAAAAADgAOAAAGFMCfcEgsGo/IpHLJbDqf0Kh0agwCACH5BAUDAD8ALAAAAAAOAA4AAAYUwJ9wSCwaj8ikcslsOp/QqHRqDAIAIfkEBQMAPwAsAAAAAAEAAQAABgPAXxAAIfkEBQMAPwAsAAAAAAEAAQAABgPAXxAAIfkEBQMAPwAsAAAAAAEAAQAABgPAXxAAIfkEBQMAPwAsAAAAAAEAAQAABgPAXxAAOw==) no-repeat 0 0 background;height:14px;width:14px;margin-right:8px;margin-top:1px}.list-spinner[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{float:left;display:none}.list-spinner[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{display:block}.list-spinner[_ngcontent-%COMP%]   li.pending[_ngcontent-%COMP%]   .list-checkbox[_ngcontent-%COMP%]{display:none}']}),q})()},4132:($t,et,Z)=>{"use strict";Z.d(et,{O:()=>f});var _=Z(7716);let f=(()=>{class te{constructor(){}ngOnInit(){}}return te.\u0275fac=function(Me){return new(Me||te)},te.\u0275cmp=_.Xpm({type:te,selectors:[["app-spinner"]],decls:3,vars:0,consts:[["width","30px","height","30px","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg",1,"spinner","d-block","m-auto","mt-1"],["fill","none","stroke-width","6","stroke-linecap","round","cx","33","cy","33","r","30",1,"path"]],template:function(Me,ve){1&Me&&(_.TgZ(0,"div"),_.O4$(),_.TgZ(1,"svg",0),_._UZ(2,"circle",1),_.qZA(),_.qZA())},styles:[".spinner[_ngcontent-%COMP%]{animation:rotator 1.4s linear infinite}@keyframes rotator{0%{transform:rotate(0)}to{transform:rotate(270deg)}}.path[_ngcontent-%COMP%]{stroke-dasharray:187;stroke-dashoffset:0;transform-origin:center;animation:dash 1.4s ease-in-out infinite,colors 5.6s ease-in-out infinite}@keyframes colors{0%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}to{stroke:#4285f4}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;transform:rotate(135deg)}to{stroke-dashoffset:187;transform:rotate(450deg)}}"]}),te})()},2271:($t,et,Z)=>{"use strict";Z.d(et,{m:()=>Ve});var _=Z(8583),f=Z(665),te=Z(7716);let Ve=(()=>{class Me{}return Me.\u0275fac=function(He){return new(He||Me)},Me.\u0275mod=te.oAB({type:Me}),Me.\u0275inj=te.cJS({imports:[[_.ez,f.u5,f.UX]]}),Me})()},7556:($t,et,Z)=>{"use strict";Z.d(et,{e:()=>_e});var _=Z(8239),f=Z(8259),te=Z.n(f),Ve=Z(7716),Me=Z(7057),ve=Z(5160),He=Z(9344),pe=Z(611);let _e=(()=>{class ne{constructor(he,De,Fe,Ye){this.auth=he,this.firestore=De,this.toaster=Fe,this.router=Ye,this.isLogged=!1,this.loading=!1}mostrarToast(he,De){"success"===he?this.toaster.success(De):this.toaster.error(De)}emailValido(he,De){var Fe=this;return(0,_.Z)(function*(){return"admin@admin.com"===he.email||"especialista@especialista.com"===he.email||"paciente@paciente.com"===he.email||(console.log(De),De.user.emailVerified)?yield Fe.firestore.getUser(he.email):""})()}signIn(he){var De=this;return(0,_.Z)(function*(){De.loading=!0,De.auth.signInWithEmailAndPassword(he.email,he.password).then(function(){var Fe=(0,_.Z)(function*(Ye){let qe=yield De.emailValido(he,Ye);""===qe?(te().fire({text:"Para ingresar debe validar el mail",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),De.loading=!1,De.auth.signOut(),De.firestore.usuarioActual=null,console.log(De.firestore.usuarioActual)):(localStorage.setItem("usuario",JSON.stringify(qe)),(null==qe?void 0:qe.especialidad)&&!1===(null==qe?void 0:qe.habilitado)?(te().fire({text:"El usuario ha sido deshabilitado, contactese con un administrador para saber mas al respecto",timer:2500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),De.loading=!1):(De.firestore.usuarioActual=qe,console.log("usuario actual: ",De.firestore.usuarioActual),te().fire({text:"Datos correctos",timer:1500,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"}),De.loading=!1,De.router.navigate(["/home"])))});return function(Ye){return Fe.apply(this,arguments)}}()).catch(Fe=>{te().fire({text:"Datos incorrectos",timer:1500,timerProgressBar:!0,icon:"error",toast:!0,position:"bottom"}),setTimeout(()=>{De.loading=!1},1500)})})()}signUp(he){return this.auth.createUserWithEmailAndPassword(he.email,he.password)}logOut(){this.auth.signOut().then(he=>{this.firestore.usuarioActual=null,this.router.navigate(["/login"])})}enviarVerificacionEmail(){var he=this;return(0,_.Z)(function*(){var De;return null===(De=yield he.auth.currentUser)||void 0===De?void 0:De.sendEmailVerification()})()}}return ne.\u0275fac=function(he){return new(he||ne)(Ve.LFG(Me.zQ),Ve.LFG(ve.C),Ve.LFG(He._W),Ve.LFG(pe.F0))},ne.\u0275prov=Ve.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"}),ne})()},5160:($t,et,Z)=>{"use strict";Z.d(et,{C:()=>bv});var _=Z(8239),f=Z(5257),te=Z(7716),Ve=Z(3637),Me=Z(7574),ve=Z(4402),He=Z(5917),pe=Z(9126),_e=Z(9761),ne=Z(7393);function de(){return a=>a.lift(new he)}class he{call(n,o){return o.subscribe(new De(n))}}class De extends ne.L{constructor(n){super(n),this.hasPrev=!1}_next(n){let o;this.hasPrev?o=[this.prev,n]:this.hasPrev=!0,this.prev=n,o&&this.destination.next(o)}}var Fe=Z(8002),Ye=Z(2145);class yt{constructor(n,o){this.compare=n,this.keySelector=o}call(n,o){return o.subscribe(new me(n,this.compare,this.keySelector))}}class me extends ne.L{constructor(n,o,u){super(n),this.keySelector=u,this.hasKey=!1,"function"==typeof o&&(this.compare=o)}compare(n,o){return n===o}_next(n){let o;try{const{keySelector:d}=this;o=d?d(n):n}catch(d){return this.destination.error(d)}let u=!1;if(this.hasKey)try{const{compare:d}=this;u=d(this.key,o)}catch(d){return this.destination.error(d)}else this.hasKey=!0;u||(this.key=o,this.destination.next(n))}}var Te,ft=Z(5435),wt=Z(8939),ct=Z(8583),St=(Z(5841),Z(4486)),jt=Z(5452),Jt=Z(6034),st=Z(5601),Le=Z(3854),tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Qe={},We=We||{},Ce=tt||self;function Et(){}function Pt(a){var n=typeof a;return"array"==(n="object"!=n?n:a?Array.isArray(a)?"array":n:"null")||"object"==n&&"number"==typeof a.length}function Wt(a){var n=typeof a;return"object"==n&&null!=a||"function"==n}var Ft="closure_uid_"+(1e9*Math.random()>>>0),Yt=0;function Rn(a,n,o){return a.call.apply(a.bind,arguments)}function ht(a,n,o){if(!a)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,u),a.apply(n,d)}}return function(){return a.apply(n,arguments)}}function ut(a,n,o){return(ut=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Rn:ht).apply(null,arguments)}function Re(a,n){var o=Array.prototype.slice.call(arguments,1);return function(){var u=o.slice();return u.push.apply(u,arguments),a.apply(this,u)}}function Ge(a,n){function o(){}o.prototype=n.prototype,a.Z=n.prototype,a.prototype=new o,a.prototype.constructor=a,a.Vb=function(u,d,w){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return n.prototype[d].apply(u,D)}}function Ct(){this.s=this.s,this.o=this.o}var Dn={};Ct.prototype.s=!1,Ct.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var a=function(a){return Object.prototype.hasOwnProperty.call(a,Ft)&&a[Ft]||(a[Ft]=++Yt)}(this);delete Dn[a]}},Ct.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sr=Array.prototype.indexOf?function(a,n){return Array.prototype.indexOf.call(a,n,void 0)}:function(a,n){if("string"==typeof a)return"string"!=typeof n||1!=n.length?-1:a.indexOf(n,0);for(let o=0;o<a.length;o++)if(o in a&&a[o]===n)return o;return-1},mn=Array.prototype.forEach?function(a,n,o){Array.prototype.forEach.call(a,n,o)}:function(a,n,o){const u=a.length,d="string"==typeof a?a.split(""):a;for(let w=0;w<u;w++)w in d&&n.call(o,d[w],w,a)};function kn(a){return Array.prototype.concat.apply([],arguments)}function Rt(a){const n=a.length;if(0<n){const o=Array(n);for(let u=0;u<n;u++)o[u]=a[u];return o}return[]}function $e(a){return/^[\s\xa0]*$/.test(a)}var nn,at=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function lt(a,n){return-1!=a.indexOf(n)}function Xt(a,n){return a<n?-1:a>n?1:0}e:{var _n=Ce.navigator;if(_n){var on=_n.userAgent;if(on){nn=on;break e}}nn=""}function Qt(a,n,o){for(const u in a)n.call(o,a[u],u,a)}function vn(a){const n={};for(const o in a)n[o]=a[o];return n}var Wn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dr(a,n){let o,u;for(let d=1;d<arguments.length;d++){for(o in u=arguments[d],u)a[o]=u[o];for(let w=0;w<Wn.length;w++)o=Wn[w],Object.prototype.hasOwnProperty.call(u,o)&&(a[o]=u[o])}}function Qn(a){return Qn[" "](a),a}Qn[" "]=Et;var we,a,wn=lt(nn,"Opera"),jr=lt(nn,"Trident")||lt(nn,"MSIE"),di=lt(nn,"Edge"),Sn=di||jr,ur=lt(nn,"Gecko")&&!(lt(nn.toLowerCase(),"webkit")&&!lt(nn,"Edge"))&&!(lt(nn,"Trident")||lt(nn,"MSIE"))&&!lt(nn,"Edge"),Hr=lt(nn.toLowerCase(),"webkit")&&!lt(nn,"Edge");function Ei(){var a=Ce.document;return a?a.documentMode:void 0}e:{var Ae="",Pe=(a=nn,ur?/rv:([^\);]+)(\)|;)/.exec(a):di?/Edge\/([\d\.]+)/.exec(a):jr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Hr?/WebKit\/(\S+)/.exec(a):wn?/(?:Version)[ \/]?(\S+)/.exec(a):void 0);if(Pe&&(Ae=Pe?Pe[1]:""),jr){var gt=Ei();if(null!=gt&&gt>parseFloat(Ae)){we=String(gt);break e}}we=Ae}var Xe={};function Lt(){return n=Xe,Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=function(){let a=0;const n=at(String(we)).split("."),o=at("9").split("."),u=Math.max(n.length,o.length);for(let D=0;0==a&&D<u;D++){var d=n[D]||"",w=o[D]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==d[0].length&&0==w[0].length)break;a=Xt(0==d[1].length?0:parseInt(d[1],10),0==w[1].length?0:parseInt(w[1],10))||Xt(0==d[2].length,0==w[2].length)||Xt(d[2],w[2]),d=d[3],w=w[3]}while(0==a)}return 0<=a}();var n}var Zn=Ce.document&&jr&&(Ei()||parseInt(we,10))||void 0,Un=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var a=!1,n=Object.defineProperty({},"passive",{get:function(){a=!0}});try{Ce.addEventListener("test",Et,n),Ce.removeEventListener("test",Et,n)}catch(o){}return a}();function On(a,n){this.type=a,this.g=this.target=n,this.defaultPrevented=!1}function jn(a,n){if(On.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var o=this.type=a.type,u=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=n,n=a.relatedTarget){if(ur){e:{try{Qn(n.nodeName);var d=!0;break e}catch(w){}d=!1}d||(n=null)}}else"mouseover"==o?n=a.fromElement:"mouseout"==o&&(n=a.toElement);this.relatedTarget=n,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType="string"==typeof a.pointerType?a.pointerType:kr[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&jn.Z.h.call(this)}}On.prototype.h=function(){this.defaultPrevented=!0},Ge(jn,On);var kr={2:"touch",3:"pen",4:"mouse"};jn.prototype.h=function(){jn.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),ji=0;function bn(a,n,o,u,d){this.listener=a,this.proxy=null,this.src=n,this.type=o,this.capture=!!u,this.ia=d,this.key=++ji,this.ca=this.fa=!1}function Ci(a){a.ca=!0,a.listener=null,a.proxy=null,a.src=null,a.ia=null}function Wi(a){this.src=a,this.g={},this.h=0}function ei(a,n){var o=n.type;if(o in a.g){var w,u=a.g[o],d=sr(u,n);(w=0<=d)&&Array.prototype.splice.call(u,d,1),w&&(Ci(n),0==a.g[o].length&&(delete a.g[o],a.h--))}}function Hi(a,n,o,u){for(var d=0;d<a.length;++d){var w=a[d];if(!w.ca&&w.listener==n&&w.capture==!!o&&w.ia==u)return d}return-1}Wi.prototype.add=function(a,n,o,u,d){var w=a.toString();(a=this.g[w])||(a=this.g[w]=[],this.h++);var D=Hi(a,n,u,d);return-1<D?(n=a[D],o||(n.fa=!1)):((n=new bn(n,this.src,w,!!u,d)).fa=o,a.push(n)),n};var gr="closure_lm_"+(1e6*Math.random()|0),Nn={};function en(a,n,o,u,d){if(u&&u.once)return qn(a,n,o,u,d);if(Array.isArray(n)){for(var w=0;w<n.length;w++)en(a,n[w],o,u,d);return null}return o=Fr(o),a&&a[$r]?a.N(n,o,Wt(u)?!!u.capture:!!u,d):_r(a,n,o,!1,u,d)}function _r(a,n,o,u,d,w){if(!n)throw Error("Invalid event type");var D=Wt(d)?!!d.capture:!!d,B=or(a);if(B||(a[gr]=B=new Wi(a)),(o=B.add(n,o,u,D,w)).proxy)return o;if(u=function(){var n=Vr;return function a(o){return n.call(a.src,a.listener,o)}}(),o.proxy=u,u.src=a,u.listener=o,a.addEventListener)Un||(d=D),void 0===d&&(d=!1),a.addEventListener(n.toString(),u,d);else if(a.attachEvent)a.attachEvent(pr(n.toString()),u);else{if(!a.addListener||!a.removeListener)throw Error("addEventListener and attachEvent are unavailable.");a.addListener(u)}return o}function qn(a,n,o,u,d){if(Array.isArray(n)){for(var w=0;w<n.length;w++)qn(a,n[w],o,u,d);return null}return o=Fr(o),a&&a[$r]?a.O(n,o,Wt(u)?!!u.capture:!!u,d):_r(a,n,o,!0,u,d)}function Bt(a,n,o,u,d){if(Array.isArray(n))for(var w=0;w<n.length;w++)Bt(a,n[w],o,u,d);else u=Wt(u)?!!u.capture:!!u,o=Fr(o),a&&a[$r]?(a=a.i,(n=String(n).toString())in a.g&&-1<(o=Hi(w=a.g[n],o,u,d))&&(Ci(w[o]),Array.prototype.splice.call(w,o,1),0==w.length&&(delete a.g[n],a.h--))):a&&(a=or(a))&&(n=a.g[n.toString()],a=-1,n&&(a=Hi(n,o,u,d)),(o=-1<a?n[a]:null)&&xn(o))}function xn(a){if("number"!=typeof a&&a&&!a.ca){var n=a.src;if(n&&n[$r])ei(n.i,a);else{var o=a.type,u=a.proxy;n.removeEventListener?n.removeEventListener(o,u,a.capture):n.detachEvent?n.detachEvent(pr(o),u):n.addListener&&n.removeListener&&n.removeListener(u),(o=or(n))?(ei(o,a),0==o.h&&(o.src=null,n[gr]=null)):Ci(a)}}}function pr(a){return a in Nn?Nn[a]:Nn[a]="on"+a}function Vr(a,n){if(a.ca)a=!0;else{n=new jn(n,this);var o=a.listener,u=a.ia||a.src;a.fa&&xn(a),a=o.call(u,n)}return a}function or(a){return(a=a[gr])instanceof Wi?a:null}var tr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fr(a){return"function"==typeof a?a:(a[tr]||(a[tr]=function(n){return a.handleEvent(n)}),a[tr])}function Fn(){Ct.call(this),this.i=new Wi(this),this.P=this,this.I=null}function mr(a,n){var o,u=a.I;if(u)for(o=[];u;u=u.I)o.push(u);if(a=a.P,u=n.type||n,"string"==typeof n)n=new On(n,a);else if(n instanceof On)n.target=n.target||a;else{var d=n;Dr(n=new On(u,a),d)}if(d=!0,o)for(var w=o.length-1;0<=w;w--){var D=n.g=o[w];d=Er(D,u,!0,n)&&d}if(d=Er(D=n.g=a,u,!0,n)&&d,d=Er(D,u,!1,n)&&d,o)for(w=0;w<o.length;w++)d=Er(D=n.g=o[w],u,!1,n)&&d}function Er(a,n,o,u){if(!(n=a.i.g[String(n)]))return!0;n=n.concat();for(var d=!0,w=0;w<n.length;++w){var D=n[w];if(D&&!D.ca&&D.capture==o){var B=D.listener,J=D.ia||D.src;D.fa&&ei(a.i,D),d=!1!==B.call(J,u)&&d}}return d&&!u.defaultPrevented}Ge(Fn,Ct),Fn.prototype[$r]=!0,Fn.prototype.removeEventListener=function(a,n,o,u){Bt(this,a,n,o,u)},Fn.prototype.M=function(){if(Fn.Z.M.call(this),this.i){var n,a=this.i;for(n in a.g){for(var o=a.g[n],u=0;u<o.length;u++)Ci(o[u]);delete a.g[n],a.h--}}this.I=null},Fn.prototype.N=function(a,n,o,u){return this.i.add(String(a),n,!1,o,u)},Fn.prototype.O=function(a,n,o,u){return this.i.add(String(a),n,!0,o,u)};var ln=Ce.JSON.stringify;function Ze(){var a=rs;let n=null;return a.g&&(n=a.g,a.g=a.g.next,a.g||(a.h=null),n.next=null),n}var En,ye=new class{constructor(a,n){this.i=a,this.j=n,this.h=0,this.g=null}get(){let a;return 0<this.h?(this.h--,a=this.g,this.g=a.next,a.next=null):a=this.i(),a}}(()=>new Je,a=>a.reset());class Je{constructor(){this.next=this.g=this.h=null}set(n,o){this.h=n,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}function mt(a){Ce.setTimeout(()=>{throw a},0)}function an(a,n){En||function(){var a=Ce.Promise.resolve(void 0);En=function(){a.then(Vs)}}(),In||(En(),In=!0),rs.add(a,n)}var In=!1,rs=new class{constructor(){this.h=this.g=null}add(n,o){const u=ye.get();u.set(n,o),this.h?this.h.next=u:this.g=u,this.h=u}};function Vs(){for(var a;a=Ze();){try{a.h.call(a.g)}catch(o){mt(o)}var n=ye;n.j(a),100>n.h&&(n.h++,a.next=n.g,n.g=a)}In=!1}function Ur(a,n){Fn.call(this),this.h=a||1,this.g=n||Ce,this.j=ut(this.kb,this),this.l=Date.now()}function Ar(a){a.da=!1,a.S&&(a.g.clearTimeout(a.S),a.S=null)}function oi(a,n,o){if("function"==typeof a)o&&(a=ut(a,o));else{if(!a||"function"!=typeof a.handleEvent)throw Error("Invalid listener argument");a=ut(a.handleEvent,a)}return 2147483647<Number(n)?-1:Ce.setTimeout(a,n||0)}function Zr(a){a.g=oi(()=>{a.g=null,a.i&&(a.i=!1,Zr(a))},a.j);const n=a.h;a.h=null,a.m.apply(null,n)}Ge(Ur,Fn),(Te=Ur.prototype).da=!1,Te.S=null,Te.kb=function(){if(this.da){var a=Date.now()-this.l;0<a&&a<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-a):(this.S&&(this.g.clearTimeout(this.S),this.S=null),mr(this,"tick"),this.da&&(Ar(this),this.start()))}},Te.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Te.M=function(){Ur.Z.M.call(this),Ar(this),delete this.g};class hn extends Ct{constructor(n,o){super(),this.m=n,this.j=o,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:Zr(this)}M(){super.M(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ir(a){Ct.call(this),this.h=a,this.g={}}Ge(Ir,Ct);var Ts=[];function ui(a,n,o,u){Array.isArray(o)||(o&&(Ts[0]=o.toString()),o=Ts);for(var d=0;d<o.length;d++){var w=en(n,o[d],u||a.handleEvent,!1,a.h||a);if(!w)break;a.g[w.key]=w}}function lr(a){Qt(a.g,function(n,o){this.g.hasOwnProperty(o)&&xn(n)},a),a.g={}}function hi(){this.g=!0}function xr(a,n,o,u){a.info(function(){return"XMLHTTP TEXT ("+n+"): "+function(a,n){if(!a.g)return n;if(!n)return null;try{var o=JSON.parse(n);if(o)for(a=0;a<o.length;a++)if(Array.isArray(o[a])){var u=o[a];if(!(2>u.length)){var d=u[1];if(Array.isArray(d)&&!(1>d.length)){var w=d[0];if("noop"!=w&&"stop"!=w&&"close"!=w)for(var D=1;D<d.length;D++)d[D]=""}}}return ln(o)}catch(B){return n}}(a,o)+(u?" "+u:"")})}Ir.prototype.M=function(){Ir.Z.M.call(this),lr(this)},Ir.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},hi.prototype.Aa=function(){this.g=!1},hi.prototype.info=function(){};var ci={},Ai=null;function Ki(){return Ai=Ai||new Fn}function Ds(a){On.call(this,ci.Ma,a)}function Pi(a){const n=Ki();mr(n,new Ds(n,a))}function ds(a,n){On.call(this,ci.STAT_EVENT,a),this.stat=n}function Wr(a){const n=Ki();mr(n,new ds(n,a))}function Ss(a,n){On.call(this,ci.Na,a),this.size=n}function ki(a,n){if("function"!=typeof a)throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){a()},n)}ci.Ma="serverreachability",Ge(Ds,On),ci.STAT_EVENT="statevent",Ge(ds,On),ci.Na="timingevent",Ge(Ss,On);var Yi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hs={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $i(){}function No(){}$i.prototype.h=null;var pi,fi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function fo(){On.call(this,"d")}function fs(){On.call(this,"c")}function ai(){}function ni(a,n,o,u){this.l=a,this.j=n,this.m=o,this.X=u||1,this.V=new Ir(this),this.P=Ii,this.W=new Ur(a=Sn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ps}function ps(){this.i=null,this.g="",this.h=!1}Ge(fo,On),Ge(fs,On),Ge(ai,$i),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},pi=new ai;var Ii=45e3,xs={},Rs={};function Fi(a,n,o){a.K=1,a.v=X(be(n)),a.s=o,a.U=!0,po(a,null)}function po(a,n){a.F=Date.now(),Ti(a),a.A=be(a.v);var o=a.A,u=a.X;Array.isArray(u)||(u=[String(u)]),mo(o.h,"t",u),a.C=0,o=a.l.H,a.h=new ps,a.g=Ne(a.l,o?n:null,!a.s),0<a.O&&(a.L=new hn(ut(a.Ia,a,a.g),a.O)),ui(a.V,a.g,"readystatechange",a.gb),n=a.H?vn(a.H):{},a.s?(a.u||(a.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.s,n)):(a.u="GET",a.g.ea(a.A,a.u,null,n)),Pi(1),function(a,n,o,u,d,w){a.info(function(){if(a.g)if(w)for(var D="",B=w.split("&"),J=0;J<B.length;J++){var le=B[J].split("=");if(1<le.length){var Ee=le[0];le=le[1];var ze=Ee.split("_");D=2<=ze.length&&"type"==ze[1]?D+(Ee+"=")+le+"&":D+(Ee+"=redacted&")}}else D=null;else D=w;return"XMLHTTP REQ ("+u+") [attempt "+d+"]: "+n+"\n"+o+"\n"+D})}(a.j,a.u,a.A,a.m,a.X,a.s)}function go(a){return!!a.g&&"GET"==a.u&&2!=a.K&&a.l.Ba}function Qi(a,n,o){let d,u=!0;for(;!a.I&&a.C<o.length;){if(d=Ms(a,o),d==Rs){4==n&&(a.o=4,Wr(14),u=!1),xr(a.j,a.m,null,"[Incomplete Response]");break}if(d==xs){a.o=4,Wr(15),xr(a.j,a.m,o,"[Invalid Chunk]"),u=!1;break}xr(a.j,a.m,d,null),gs(a,d)}go(a)&&d!=Rs&&d!=xs&&(a.h.g="",a.C=0),4!=n||0!=o.length||a.h.h||(a.o=1,Wr(16),u=!1),a.i=a.i&&u,u?0<o.length&&!a.aa&&(a.aa=!0,(n=a.l).g==a&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+o.length),Ao(n),n.L=!0,Wr(11))):(xr(a.j,a.m,o,"[Invalid Chunked Response]"),Zi(a),Rr(a))}function Ms(a,n){var o=a.C,u=n.indexOf("\n",o);return-1==u?Rs:(o=Number(n.substring(o,u)),isNaN(o)?xs:(u+=1)+o>n.length?Rs:(n=n.substr(u,o),a.C=u+o,n))}function Ti(a){a.Y=Date.now()+a.P,Tr(a,a.P)}function Tr(a,n){if(null!=a.B)throw Error("WatchDog timer not null");a.B=ki(ut(a.eb,a),n)}function Ji(a){a.B&&(Ce.clearTimeout(a.B),a.B=null)}function Rr(a){0==a.l.G||a.I||Xs(a.l,a)}function Zi(a){Ji(a);var n=a.L;n&&"function"==typeof n.na&&n.na(),a.L=null,Ar(a.W),lr(a.V),a.g&&(n=a.g,a.g=null,n.abort(),n.na())}function gs(a,n){try{var o=a.l;if(0!=o.G&&(o.g==a||ws(o.i,a)))if(o.I=a.N,!a.J&&ws(o.i,a)&&3==o.G){try{var u=o.Ca.g.parse(n)}catch(le){u=null}if(Array.isArray(u)&&3==u.length){var d=u;if(0==d[0])e:if(o.u)o.ta=d[1],0<o.ta-o.U&&37500>d[2]&&o.N&&0==o.A&&!o.v&&(o.v=ki(ut(o.ab,o),6e3));else{if(o.g){if(!(o.g.F+3e3<a.F))break e;Yr(o),Si(o)}ia(o),Wr(18)}if(1>=Xi(o.i)&&o.ka){try{o.ka()}catch(le){}o.ka=void 0}}else N(o,11)}else if((a.J||o.g==a)&&Yr(o),!$e(n))for(d=o.Ca.g.parse(n),n=0;n<d.length;n++){let le=d[n];if(o.U=le[0],le=le[1],2==o.G)if("c"==le[0]){o.J=le[1],o.la=le[2];const Ee=le[3];null!=Ee&&(o.ma=Ee,o.h.info("VER="+o.ma));const ze=le[4];null!=ze&&(o.za=ze,o.h.info("SVER="+o.za));const bt=le[5];null!=bt&&"number"==typeof bt&&0<bt&&(o.K=u=1.5*bt,o.h.info("backChannelRequestTimeoutMs_="+u)),u=o;const Dt=a.g;if(Dt){const Kt=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kt){var w=u.i;!w.g&&(lt(Kt,"spdy")||lt(Kt,"quic")||lt(Kt,"h2"))&&(w.j=w.l,w.g=new Set,w.h&&(Bs(w,w.h),w.h=null))}if(u.D){const Pn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pn&&(u.sa=Pn,M(u.F,u.D,Pn))}}o.G=3,o.j&&o.j.xa(),o.$&&(o.O=Date.now()-a.F,o.h.info("Handshake RTT: "+o.O+"ms"));var D=a;if((u=o).oa=Y(u,u.H?u.la:null,u.W),D.J){yo(u.i,D);var B=D,J=u.K;J&&B.setTimeout(J),B.B&&(Ji(B),Ti(B)),u.g=D}else _o(u);0<o.l.length&&Sr(o)}else"stop"!=le[0]&&"close"!=le[0]||N(o,7);else 3==o.G&&("stop"==le[0]||"close"==le[0]?"stop"==le[0]?N(o,7):Vi(o):"noop"!=le[0]&&o.j&&o.j.wa(le),o.A=0)}Pi(4)}catch(le){}}function Ns(a,n){if(a.forEach&&"function"==typeof a.forEach)a.forEach(n,void 0);else if(Pt(a)||"string"==typeof a)mn(a,n,void 0);else{if(a.T&&"function"==typeof a.T)var o=a.T();else if(a.R&&"function"==typeof a.R)o=void 0;else if(Pt(a)||"string"==typeof a){o=[];for(var u=a.length,d=0;d<u;d++)o.push(d)}else for(d in o=[],u=0,a)o[u++]=d;d=(u=function(a){if(a.R&&"function"==typeof a.R)return a.R();if("string"==typeof a)return a.split("");if(Pt(a)){for(var n=[],o=a.length,u=0;u<o;u++)n.push(a[u]);return n}for(u in n=[],o=0,a)n[o++]=a[u];return n}(a)).length;for(var w=0;w<d;w++)n.call(void 0,u[w],o&&o[w],a)}}function ms(a,n){this.h={},this.g=[],this.i=0;var o=arguments.length;if(1<o){if(o%2)throw Error("Uneven number of arguments");for(var u=0;u<o;u+=2)this.set(arguments[u],arguments[u+1])}else if(a)if(a instanceof ms)for(o=a.T(),u=0;u<o.length;u++)this.set(o[u],a.get(o[u]));else for(u in a)this.set(u,a[u])}function Os(a){if(a.i!=a.g.length){for(var n=0,o=0;n<a.g.length;){var u=a.g[n];U(a.h,u)&&(a.g[o++]=u),n++}a.g.length=o}if(a.i!=a.g.length){var d={};for(o=n=0;n<a.g.length;)U(d,u=a.g[n])||(a.g[o++]=u,d[u]=1),n++;a.g.length=o}}function U(a,n){return Object.prototype.hasOwnProperty.call(a,n)}(Te=ni.prototype).setTimeout=function(a){this.P=a},Te.gb=function(a){a=a.target;const n=this.L;n&&3==pn(a)?n.l():this.Ia(a)},Te.Ia=function(a){try{if(a==this.g)e:{const Ee=pn(this.g);var n=this.g.Da();const ze=this.g.ba();if(!(3>Ee)&&(3!=Ee||Sn||this.g&&(this.h.h||this.g.ga()||rr(this.g)))){this.I||4!=Ee||7==n||Pi(8==n||0>=ze?3:2),Ji(this);var o=this.g.ba();this.N=o;t:if(go(this)){var u=rr(this.g);a="";var d=u.length,w=4==pn(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Zi(this),Rr(this);var D="";break t}this.h.i=new Ce.TextDecoder}for(n=0;n<d;n++)this.h.h=!0,a+=this.h.i.decode(u[n],{stream:w&&n==d-1});u.splice(0,d),this.h.g+=a,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==o,function(a,n,o,u,d,w,D){a.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+d+"]: "+n+"\n"+o+"\n"+w+" "+D})}(this.j,this.u,this.A,this.m,this.X,Ee,o),this.i){if(this.$&&!this.J){t:{if(this.g){var B,J=this.g;if((B=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$e(B)){var le=B;break t}}le=null}if(!(o=le)){this.i=!1,this.o=3,Wr(12),Zi(this),Rr(this);break e}xr(this.j,this.m,o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,gs(this,o)}this.U?(Qi(this,Ee,D),Sn&&this.i&&3==Ee&&(ui(this.V,this.W,"tick",this.fb),this.W.start())):(xr(this.j,this.m,D,null),gs(this,D)),4==Ee&&Zi(this),this.i&&!this.I&&(4==Ee?Xs(this.l,this):(this.i=!1,Ti(this)))}else 400==o&&0<D.indexOf("Unknown SID")?(this.o=3,Wr(12)):(this.o=0,Wr(13)),Zi(this),Rr(this)}}}catch(Ee){}},Te.fb=function(){if(this.g){var a=pn(this.g),n=this.g.ga();this.C<n.length&&(Ji(this),Qi(this,a,n),this.i&&4!=a&&Ti(this))}},Te.cancel=function(){this.I=!0,Zi(this)},Te.eb=function(){this.B=null;const a=Date.now();0<=a-this.Y?(function(a,n){a.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Pi(3),Wr(17)),Zi(this),this.o=2,Rr(this)):Tr(this,this.Y-a)},(Te=ms.prototype).R=function(){Os(this);for(var a=[],n=0;n<this.g.length;n++)a.push(this.h[this.g[n]]);return a},Te.T=function(){return Os(this),this.g.concat()},Te.get=function(a,n){return U(this.h,a)?this.h[a]:n},Te.set=function(a,n){U(this.h,a)||(this.i++,this.g.push(a)),this.h[a]=n},Te.forEach=function(a,n){for(var o=this.T(),u=0;u<o.length;u++){var d=o[u],w=this.get(d);a.call(n,w,d,this)}};var ee=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function re(a,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,a instanceof re){this.g=void 0!==n?n:a.g,it(this,a.j),this.s=a.s,It(this,a.i),V(this,a.m),this.l=a.l,n=a.h;var o=new Ys;o.i=n.i,n.g&&(o.g=new ms(n.g),o.h=n.h),k(this,o),this.o=a.o}else a&&(o=String(a).match(ee))?(this.g=!!n,it(this,o[1]||"",!0),this.s=Cn(o[2]||""),It(this,o[3]||"",!0),V(this,o[4]),this.l=Cn(o[5]||"",!0),k(this,o[6]||"",!0),this.o=Cn(o[7]||"")):(this.g=!!n,this.h=new Ys(null,this.g))}function be(a){return new re(a)}function it(a,n,o){a.j=o?Cn(n,!0):n,a.j&&(a.j=a.j.replace(/:$/,""))}function It(a,n,o){a.i=o?Cn(n,!0):n}function V(a,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);a.m=n}else a.m=null}function k(a,n,o){n instanceof Ys?(a.h=n,function(a,n){n&&!a.j&&(Qs(a),a.i=null,a.g.forEach(function(o,u){var d=u.toLowerCase();u!=d&&(ys(this,u),mo(this,d,o))},a)),a.j=n}(a.h,a.g)):(o||(n=Jn(n,An)),a.h=new Ys(n,a.g))}function M(a,n,o){a.h.set(n,o)}function X(a){return M(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Cn(a,n){return a?n?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Jn(a,n,o){return"string"==typeof a?(a=encodeURI(a).replace(n,gi),o&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function gi(a){return"%"+((a=a.charCodeAt(0))>>4&15).toString(16)+(15&a).toString(16)}re.prototype.toString=function(){var a=[],n=this.j;n&&a.push(Jn(n,Mr,!0),":");var o=this.i;return(o||"file"==n)&&(a.push("//"),(n=this.s)&&a.push(Jn(n,Mr,!0),"@"),a.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(o=this.m)&&a.push(":",String(o))),(o=this.l)&&(this.i&&"/"!=o.charAt(0)&&a.push("/"),a.push(Jn(o,"/"==o.charAt(0)?Li:ri,!0))),(o=this.h.toString())&&a.push("?",o),(o=this.o)&&a.push("#",Jn(o,ao)),a.join("")};var Mr=/[#\/\?@]/g,ri=/[#\?:]/g,Li=/[#\?]/g,An=/[#\?@]/g,ao=/#/g;function Ys(a,n){this.h=this.g=null,this.i=a||null,this.j=!!n}function Qs(a){a.g||(a.g=new ms,a.h=0,a.i&&function(a,n){if(a){a=a.split("&");for(var o=0;o<a.length;o++){var u=a[o].indexOf("="),d=null;if(0<=u){var w=a[o].substring(0,u);d=a[o].substring(u+1)}else w=a[o];n(w,d?decodeURIComponent(d.replace(/\+/g," ")):"")}}}(a.i,function(n,o){a.add(decodeURIComponent(n.replace(/\+/g," ")),o)}))}function ys(a,n){Qs(a),n=vs(a,n),U(a.g.h,n)&&(a.i=null,a.h-=a.g.get(n).length,U((a=a.g).h,n)&&(delete a.h[n],a.i--,a.g.length>2*a.i&&Os(a)))}function _s(a,n){return Qs(a),n=vs(a,n),U(a.g.h,n)}function mo(a,n,o){ys(a,n),0<o.length&&(a.i=null,a.g.set(vs(a,n),Rt(o)),a.h+=o.length)}function vs(a,n){return n=String(n),a.j&&(n=n.toLowerCase()),n}function lo(a){this.l=a||ii,a=Ce.PerformanceNavigationTiming?0<(a=Ce.performance.getEntriesByType("navigation")).length&&("hq"==a[0].nextHopProtocol||"h2"==a[0].nextHopProtocol):!!(Ce.g&&Ce.g.Ea&&Ce.g.Ea()&&Ce.g.Ea().Zb),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Te=Ys.prototype).add=function(a,n){Qs(this),this.i=null,a=vs(this,a);var o=this.g.get(a);return o||this.g.set(a,o=[]),o.push(n),this.h+=1,this},Te.forEach=function(a,n){Qs(this),this.g.forEach(function(o,u){mn(o,function(d){a.call(n,d,u,this)},this)},this)},Te.T=function(){Qs(this);for(var a=this.g.R(),n=this.g.T(),o=[],u=0;u<n.length;u++)for(var d=a[u],w=0;w<d.length;w++)o.push(n[u]);return o},Te.R=function(a){Qs(this);var n=[];if("string"==typeof a)_s(this,a)&&(n=kn(n,this.g.get(vs(this,a))));else{a=this.g.R();for(var o=0;o<a.length;o++)n=kn(n,a[o])}return n},Te.set=function(a,n){return Qs(this),this.i=null,_s(this,a=vs(this,a))&&(this.h-=this.g.get(a).length),this.g.set(a,[n]),this.h+=1,this},Te.get=function(a,n){return a&&0<(a=this.R(a)).length?String(a[0]):n},Te.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var a=[],n=this.g.T(),o=0;o<n.length;o++){var u=n[o],d=encodeURIComponent(String(u));u=this.R(u);for(var w=0;w<u.length;w++){var D=d;""!==u[w]&&(D+="="+encodeURIComponent(String(u[w]))),a.push(D)}}return this.i=a.join("&")};var ii=10;function na(a){return!!a.h||!!a.g&&a.g.size>=a.j}function Xi(a){return a.h?1:a.g?a.g.size:0}function ws(a,n){return a.h?a.h==n:!!a.g&&a.g.has(n)}function Bs(a,n){a.g?a.g.add(n):a.h=n}function yo(a,n){a.h&&a.h==n?a.h=null:a.g&&a.g.has(n)&&a.g.delete(n)}function Ia(a){if(null!=a.h)return a.i.concat(a.h.D);if(null!=a.g&&0!==a.g.size){let n=a.i;for(const o of a.g.values())n=n.concat(o.D);return n}return Rt(a.i)}function js(){}function Oo(){this.g=new js}function Di(a,n,o){const u=o||"";try{Ns(a,function(d,w){let D=d;Wt(d)&&(D=ln(d)),n.push(u+w+"="+encodeURIComponent(D))})}catch(d){throw n.push(u+"type="+encodeURIComponent("_badmap")),d}}function is(a,n,o,u,d){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,d(u)}catch(w){}}function uo(a){this.l=a.$b||null,this.j=a.ib||!1}function Hs(a,n){Fn.call(this),this.D=a,this.u=n,this.m=void 0,this.readyState=es,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lo.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const a of this.g.values())a.cancel();this.g.clear()}},js.prototype.stringify=function(a){return Ce.JSON.stringify(a,void 0)},js.prototype.parse=function(a){return Ce.JSON.parse(a,void 0)},Ge(uo,$i),uo.prototype.g=function(){return new Hs(this.l,this.j)},uo.prototype.i=function(a){return function(){return a}}({}),Ge(Hs,Fn);var es=0;function ra(a){a.j.read().then(a.Sa.bind(a)).catch(a.ha.bind(a))}function ss(a){a.readyState=4,a.l=null,a.j=null,a.A=null,co(a)}function co(a){a.onreadystatechange&&a.onreadystatechange.call(a)}(Te=Hs.prototype).open=function(a,n){if(this.readyState!=es)throw this.abort(),Error("Error reopening a connection");this.C=a,this.B=n,this.readyState=1,co(this)},Te.send=function(a){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};a&&(n.body=a),(this.D||Ce).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Te.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ss(this)),this.readyState=es},Te.Va=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,co(this)),this.g&&(this.readyState=3,co(this),this.g)))if("arraybuffer"===this.responseType)a.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ce.ReadableStream&&"body"in a){if(this.j=a.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ra(this)}else a.text().then(this.Ua.bind(this),this.ha.bind(this))},Te.Sa=function(a){if(this.g){if(this.u&&a.value)this.response.push(a.value);else if(!this.u){var n=a.value?a.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!a.done}))&&(this.response=this.responseText+=n)}a.done?ss(this):co(this),3==this.readyState&&ra(this)}},Te.Ua=function(a){this.g&&(this.response=this.responseText=a,ss(this))},Te.Ta=function(a){this.g&&(this.response=a,ss(this))},Te.ha=function(){this.g&&ss(this)},Te.setRequestHeader=function(a,n){this.v.append(a,n)},Te.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},Te.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],n=this.h.entries();for(var o=n.next();!o.done;)a.push((o=o.value)[0]+": "+o[1]),o=n.next();return a.join("\r\n")},Object.defineProperty(Hs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(a){this.m=a?"include":"same-origin"}});var Yo=Ce.JSON.parse;function Nr(a){Fn.call(this),this.headers=new ms,this.u=a||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q,this.K=this.L=!1}Ge(Nr,Fn);var q="",j=/^https?$/i,K=["POST","PUT"];function Oe(a){return"content-type"==a.toLowerCase()}function ot(a,n){a.h=!1,a.g&&(a.l=!0,a.g.abort(),a.l=!1),a.j=n,a.m=5,_t(a),Zt(a)}function _t(a){a.D||(a.D=!0,mr(a,"complete"),mr(a,"error"))}function rn(a){if(a.h&&void 0!==We&&(!a.C[1]||4!=pn(a)||2!=a.ba()))if(a.v&&4==pn(a))oi(a.Fa,0,a);else if(mr(a,"readystatechange"),4==pn(a)){a.h=!1;try{const B=a.ba();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var o;if(!(o=n)){var u;if(u=0===B){var d=String(a.H).match(ee)[1]||null;if(!d&&Ce.self&&Ce.self.location){var w=Ce.self.location.protocol;d=w.substr(0,w.length-1)}u=!j.test(d?d.toLowerCase():"")}o=u}if(o)mr(a,"complete"),mr(a,"success");else{a.m=6;try{var D=2<pn(a)?a.g.statusText:""}catch(J){D=""}a.j=D+" ["+a.ba()+"]",_t(a)}}finally{Zt(a)}}}function Zt(a,n){if(a.g){fn(a);const o=a.g,u=a.C[0]?Et:null;a.g=null,a.C=null,n||mr(a,"ready");try{o.onreadystatechange=u}catch(d){}}}function fn(a){a.g&&a.K&&(a.g.ontimeout=null),a.A&&(Ce.clearTimeout(a.A),a.A=null)}function pn(a){return a.g?a.g.readyState:0}function rr(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.J){case q:case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch(n){return null}}function ir(a,n,o){e:{for(u in o){var u=!1;break e}u=!0}u||(o=function(a){let n="";return Qt(a,function(o,u){n+=u,n+=":",n+=o,n+="\r\n"}),n}(o),"string"==typeof a?null!=o&&encodeURIComponent(String(o)):M(a,n,o))}function Xn(a,n,o){return o&&o.internalChannelParams&&o.internalChannelParams[a]||n}function cr(a){this.za=0,this.l=[],this.h=new hi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Xn("failFast",!1,a),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Xn("baseRetryDelayMs",5e3,a),this.$a=Xn("retryDelaySeedMs",1e4,a),this.Ya=Xn("forwardChannelMaxRetries",2,a),this.ra=Xn("forwardChannelRequestTimeoutMs",2e4,a),this.qa=a&&a.xmlHttpFactory||void 0,this.Ba=a&&a.Yb||!1,this.K=void 0,this.H=a&&a.supportsCrossDomainXhr||!1,this.J="",this.i=new lo(a&&a.concurrentRequestLimit),this.Ca=new Oo,this.ja=a&&a.fastHandshake||!1,this.Ra=a&&a.Wb||!1,a&&a.Aa&&this.h.Aa(),a&&a.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&a&&a.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!a||!1!==a.Xb}function Vi(a){if(ts(a),3==a.G){var n=a.V++,o=be(a.F);M(o,"SID",a.J),M(o,"RID",n),M(o,"TYPE","terminate"),$s(a,o),(n=new ni(a,a.h,n,void 0)).K=2,n.v=X(be(o)),o=!1,Ce.navigator&&Ce.navigator.sendBeacon&&(o=Ce.navigator.sendBeacon(n.v.toString(),"")),!o&&Ce.Image&&((new Image).src=n.v,o=!0),o||(n.g=Ne(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Ti(n)}O(a)}function Si(a){a.g&&(Ao(a),a.g.cancel(),a.g=null)}function ts(a){Si(a),a.u&&(Ce.clearTimeout(a.u),a.u=null),Yr(a),a.i.cancel(),a.m&&("number"==typeof a.m&&Ce.clearTimeout(a.m),a.m=null)}function mi(a,n){a.l.push(new class{constructor(a,n){this.h=a,this.g=n}}(a.Za++,n)),3==a.G&&Sr(a)}function Sr(a){na(a.i)||a.m||(a.m=!0,an(a.Ha,a),a.C=0)}function bs(a,n){var o;o=n?n.m:a.V++;const u=be(a.F);M(u,"SID",a.J),M(u,"RID",o),M(u,"AID",a.U),$s(a,u),a.o&&a.s&&ir(u,a.o,a.s),o=new ni(a,a.h,o,a.C+1),null===a.o&&(o.H=a.s),n&&(a.l=n.D.concat(a.l)),n=Js(a,o,1e3),o.setTimeout(Math.round(.5*a.ra)+Math.round(.5*a.ra*Math.random())),Bs(a.i,o),Fi(o,u,n)}function $s(a,n){a.j&&Ns({},function(o,u){M(n,u,o)})}function Js(a,n,o){o=Math.min(a.l.length,o);var u=a.j?ut(a.j.Oa,a.j,a):null;e:{var d=a.l;let w=-1;for(;;){const D=["count="+o];-1==w?0<o?(w=d[0].h,D.push("ofs="+w)):w=0:D.push("ofs="+w);let B=!0;for(let J=0;J<o;J++){let le=d[J].h;const Ee=d[J].g;if(le-=w,0>le)w=Math.max(0,d[J].h-100),B=!1;else try{Di(Ee,D,"req"+le+"_")}catch(ze){u&&u(Ee)}}if(B){u=D.join("&");break e}}}return a=a.l.splice(0,o),n.D=a,u}function _o(a){a.g||a.u||(a.Y=1,an(a.Ga,a),a.A=0)}function ia(a){return!(a.g||a.u||3<=a.A||(a.Y++,a.u=ki(ut(a.Ga,a),qs(a,a.A)),a.A++,0))}function Ao(a){null!=a.B&&(Ce.clearTimeout(a.B),a.B=null)}function Zs(a){a.g=new ni(a,a.h,"rpc",a.Y),null===a.o&&(a.g.H=a.s),a.g.O=0;var n=be(a.oa);M(n,"RID","rpc"),M(n,"SID",a.J),M(n,"CI",a.N?"0":"1"),M(n,"AID",a.U),$s(a,n),M(n,"TYPE","xmlhttp"),a.o&&a.s&&ir(n,a.o,a.s),a.K&&a.g.setTimeout(a.K);var o=a.g;a=a.la,o.K=1,o.v=X(be(n)),o.s=null,o.U=!0,po(o,a)}function Yr(a){null!=a.v&&(Ce.clearTimeout(a.v),a.v=null)}function Xs(a,n){var o=null;if(a.g==n){Yr(a),Ao(a),a.g=null;var u=2}else{if(!ws(a.i,n))return;o=n.D,yo(a.i,n),u=1}if(a.I=n.N,0!=a.G)if(n.i)if(1==u){o=n.s?n.s.length:0,n=Date.now()-n.F;var d=a.C;mr(u=Ki(),new Ss(u,o,n,d)),Sr(a)}else _o(a);else if(3==(d=n.o)||0==d&&0<a.I||!(1==u&&function(a,n){return!(Xi(a.i)>=a.i.j-(a.m?1:0)||(a.m?(a.l=n.D.concat(a.l),0):1==a.G||2==a.G||a.C>=(a.Xa?0:a.Ya)||(a.m=ki(ut(a.Ha,a,n),qs(a,a.C)),a.C++,0)))}(a,n)||2==u&&ia(a)))switch(o&&0<o.length&&(n=a.i,n.i=n.i.concat(o)),d){case 1:N(a,5);break;case 4:N(a,10);break;case 3:N(a,6);break;default:N(a,2)}}function qs(a,n){let o=a.Pa+Math.floor(Math.random()*a.$a);return a.j||(o*=2),o*n}function N(a,n){if(a.h.info("Error code "+n),2==n){var o=null;a.j&&(o=null);var u=ut(a.jb,a);o||(o=new re("//www.google.com/images/cleardot.gif"),Ce.location&&"http"==Ce.location.protocol||it(o,"https"),X(o)),function(a,n){const o=new hi;if(Ce.Image){const u=new Image;u.onload=Re(is,o,u,"TestLoadImage: loaded",!0,n),u.onerror=Re(is,o,u,"TestLoadImage: error",!1,n),u.onabort=Re(is,o,u,"TestLoadImage: abort",!1,n),u.ontimeout=Re(is,o,u,"TestLoadImage: timeout",!1,n),Ce.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=a}else n(!1)}(o.toString(),u)}else Wr(2);a.G=0,a.j&&a.j.va(n),O(a),ts(a)}function O(a){a.G=0,a.I=-1,a.j&&((0!=Ia(a.i).length||0!=a.l.length)&&(a.i.i.length=0,Rt(a.l),a.l.length=0),a.j.ua())}function Y(a,n,o){let u=function(a){return a instanceof re?be(a):new re(a,void 0)}(o);if(""!=u.i)n&&It(u,n+"."+u.i),V(u,u.m);else{const d=Ce.location;u=function(a,n,o,u){var d=new re(null,void 0);return a&&it(d,a),n&&It(d,n),o&&V(d,o),u&&(d.l=u),d}(d.protocol,n?n+"."+d.hostname:d.hostname,+d.port,o)}return a.aa&&Qt(a.aa,function(d,w){M(u,w,d)}),o=a.sa,(n=a.D)&&o&&M(u,n,o),M(u,"VER",a.ma),$s(a,u),u}function Ne(a,n,o){if(n&&!a.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new Nr(o&&a.Ba&&!a.qa?new uo({ib:!0}):a.qa)).L=a.H,n}function xt(){}function Tn(){if(jr&&!(10<=Number(Zn)))throw Error("Environmental error: no available transport.")}function Kn(a,n){Fn.call(this),this.g=new cr(n),this.l=a,this.h=n&&n.messageUrlParams||null,a=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.s=a,a=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(a?a["X-WebChannel-Content-Type"]=n.messageContentType:a={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(a?a["X-WebChannel-Client-Profile"]=n.ya:a={"X-WebChannel-Client-Profile":n.ya}),this.g.P=a,(a=n&&n.httpHeadersOverwriteParam)&&!$e(a)&&(this.g.o=a),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!$e(n)&&(this.g.D=n,null!==(a=this.h)&&n in a&&n in(a=this.h)&&delete a[n]),this.j=new xi(this)}function ns(a){fo.call(this);var n=a.__sm__;if(n){e:{for(const o in n){a=o;break e}a=void 0}(this.i=a)&&(a=this.i,n=null!==n&&a in n?n[a]:void 0),this.data=n}else this.data=a}function Ui(){fs.call(this),this.status=1}function xi(a){this.g=a}(Te=Nr.prototype).ea=function(a,n,o,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+a);n=n?n.toUpperCase():"GET",this.H=a,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():pi.g(),this.C=function(a){return a.h||(a.h=a.i())}(this.u?this.u:pi),this.g.onreadystatechange=ut(this.Fa,this);try{this.F=!0,this.g.open(n,String(a),!0),this.F=!1}catch(w){return void ot(this,w)}a=o||"";const d=new ms(this.headers);u&&Ns(u,function(w,D){d.set(D,w)}),u=function(a){e:{var n=Oe;const o=a.length,u="string"==typeof a?a.split(""):a;for(let d=0;d<o;d++)if(d in u&&n.call(void 0,u[d],d,a)){n=d;break e}n=-1}return 0>n?null:"string"==typeof a?a.charAt(n):a[n]}(d.T()),o=Ce.FormData&&a instanceof Ce.FormData,!(0<=sr(K,n))||u||o||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),d.forEach(function(w,D){this.g.setRequestHeader(D,w)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{fn(this),0<this.B&&((this.K=function(a){return jr&&Lt()&&"number"==typeof a.timeout&&void 0!==a.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ut(this.pa,this)):this.A=oi(this.pa,this.B,this)),this.v=!0,this.g.send(a),this.v=!1}catch(w){ot(this,w)}},Te.pa=function(){void 0!==We&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,mr(this,"timeout"),this.abort(8))},Te.abort=function(a){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=a||7,mr(this,"complete"),mr(this,"abort"),Zt(this))},Te.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zt(this,!0)),Nr.Z.M.call(this)},Te.Fa=function(){this.s||(this.F||this.v||this.l?rn(this):this.cb())},Te.cb=function(){rn(this)},Te.ba=function(){try{return 2<pn(this)?this.g.status:-1}catch(a){return-1}},Te.ga=function(){try{return this.g?this.g.responseText:""}catch(a){return""}},Te.Qa=function(a){if(this.g){var n=this.g.responseText;return a&&0==n.indexOf(a)&&(n=n.substring(a.length)),Yo(n)}},Te.Da=function(){return this.m},Te.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Te=cr.prototype).ma=8,Te.G=1,Te.hb=function(a){try{this.h.info("Origin Trials invoked: "+a)}catch(n){}},Te.Ha=function(a){if(this.m)if(this.m=null,1==this.G){if(!a){this.V=Math.floor(1e5*Math.random()),a=this.V++;const d=new ni(this,this.h,a,void 0);let w=this.s;if(this.P&&(w?(w=vn(w),Dr(w,this.P)):w=this.P),null===this.o&&(d.H=w),this.ja)e:{for(var n=0,o=0;o<this.l.length;o++){var u=this.l[o];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(n+=u)){n=o;break e}if(4096===n||o===this.l.length-1){n=o+1;break e}}n=1e3}else n=1e3;n=Js(this,d,n),M(o=be(this.F),"RID",a),M(o,"CVER",22),this.D&&M(o,"X-HTTP-Session-Id",this.D),$s(this,o),this.o&&w&&ir(o,this.o,w),Bs(this.i,d),this.Ra&&M(o,"TYPE","init"),this.ja?(M(o,"$req",n),M(o,"SID","null"),d.$=!0,Fi(d,o,null)):Fi(d,o,n),this.G=2}}else 3==this.G&&(a?bs(this,a):0==this.l.length||na(this.i)||bs(this))},Te.Ga=function(){if(this.u=null,Zs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var a=2*this.O;this.h.info("BP detection timer enabled: "+a),this.B=ki(ut(this.bb,this),a)}},Te.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Wr(10),Si(this),Zs(this))},Te.ab=function(){null!=this.v&&(this.v=null,Si(this),ia(this),Wr(19))},Te.jb=function(a){a?(this.h.info("Successfully pinged google.com"),Wr(2)):(this.h.info("Failed to ping google.com"),Wr(1))},(Te=xt.prototype).xa=function(){},Te.wa=function(){},Te.va=function(){},Te.ua=function(){},Te.Oa=function(){},Tn.prototype.g=function(a,n){return new Kn(a,n)},Ge(Kn,Fn),Kn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var a=this.g,n=this.l,o=this.h||void 0;a.Wa&&(a.h.info("Origin Trials enabled."),an(ut(a.hb,a,n))),Wr(0),a.W=n,a.aa=o||{},a.N=a.X,a.F=Y(a,null,a.W),Sr(a)},Kn.prototype.close=function(){Vi(this.g)},Kn.prototype.u=function(a){if("string"==typeof a){var n={};n.__data__=a,mi(this.g,n)}else this.v?((n={}).__data__=ln(a),mi(this.g,n)):mi(this.g,a)},Kn.prototype.M=function(){this.g.j=null,delete this.j,Vi(this.g),delete this.g,Kn.Z.M.call(this)},Ge(ns,fo),Ge(Ui,fs),Ge(xi,xt),xi.prototype.xa=function(){mr(this.g,"a")},xi.prototype.wa=function(a){mr(this.g,new ns(a))},xi.prototype.va=function(a){mr(this.g,new Ui(a))},xi.prototype.ua=function(){mr(this.g,"b")},Tn.prototype.createWebChannel=Tn.prototype.g,Kn.prototype.send=Kn.prototype.u,Kn.prototype.open=Kn.prototype.m,Kn.prototype.close=Kn.prototype.close,Yi.NO_ERROR=0,Yi.TIMEOUT=8,Yi.HTTP_ERROR=6,hs.COMPLETE="complete",No.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",Fn.prototype.listen=Fn.prototype.N,Nr.prototype.listenOnce=Nr.prototype.O,Nr.prototype.getLastError=Nr.prototype.La,Nr.prototype.getLastErrorCode=Nr.prototype.Da,Nr.prototype.getStatus=Nr.prototype.ba,Nr.prototype.getResponseJson=Nr.prototype.Qa,Nr.prototype.getResponseText=Nr.prototype.ga,Nr.prototype.send=Nr.prototype.ea;var sa=Qe.createWebChannelTransport=function(){return new Tn},yi=Qe.getStatEventTarget=function(){return Ki()},oa=Qe.ErrorCode=Yi,Po=Qe.EventType=hs,Qo=Qe.Event=ci,aa=Qe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ka=Qe.FetchXmlHttpFactory=uo,qa=Qe.WebChannel=No,cl=Qe.XhrIo=Nr;class os{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}os.UNAUTHENTICATED=new os(null),os.GOOGLE_CREDENTIALS=new os("google-credentials-uid"),os.FIRST_PARTY=new os("first-party-uid"),os.MOCK_USER=new os("mock-user");let ko="9.1.0";const Fo=new st.Yd("@firebase/firestore");function F(){return Fo.logLevel}function v(a,...n){if(Fo.logLevel<=st.in.DEBUG){const o=n.map(oe);Fo.debug(`Firestore (${ko}): ${a}`,...o)}}function R(a,...n){if(Fo.logLevel<=st.in.ERROR){const o=n.map(oe);Fo.error(`Firestore (${ko}): ${a}`,...o)}}function W(a,...n){if(Fo.logLevel<=st.in.WARN){const o=n.map(oe);Fo.warn(`Firestore (${ko}): ${a}`,...o)}}function oe(a){if("string"==typeof a)return a;try{return JSON.stringify(a)}catch(o){return a}}function ue(a="Unexpected state"){const n=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+a;throw R(n),new Error(n)}function ge(a,n){a||ue()}function Ue(a,n){return a}const T={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class C extends Error{constructor(n,o){super(o),this.code=n,this.message=o,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class A{constructor(){this.promise=new Promise((n,o)=>{this.resolve=n,this.reject=o})}}class P{constructor(n,o){this.user=o,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${n}`}}class ${getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,o){n.enqueueRetryable(()=>o(os.UNAUTHENTICATED))}shutdown(){}}class Q{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,o){this.changeListener=o,n.enqueueRetryable(()=>o(this.token.user))}shutdown(){this.changeListener=null}}class fe{constructor(n){this.t=n,this.currentUser=os.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,o){var u=this;let d=this.i;const w=le=>this.i!==d?(d=this.i,o(le)):Promise.resolve();let D=new A;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new A,n.enqueueRetryable(()=>w(this.currentUser))};const B=()=>{const le=D;n.enqueueRetryable((0,_.Z)(function*(){yield le.promise,yield w(u.currentUser)}))},J=le=>{v("FirebaseCredentialsProvider","Auth detected"),this.auth=le,this.auth.addAuthTokenListener(this.o),B()};this.t.onInit(le=>J(le)),setTimeout(()=>{if(!this.auth){const le=this.t.getImmediate({optional:!0});le?J(le):(v("FirebaseCredentialsProvider","Auth not yet detected"),D.resolve(),D=new A)}},0),B()}getToken(){const n=this.i,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(u=>this.i!==n?(v("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(ge("string"==typeof u.accessToken),new P(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return ge(null===n||"string"==typeof n),new os(n)}}class Ie{constructor(n,o,u){this.h=n,this.l=o,this.m=u,this.type="FirstParty",this.user=os.FIRST_PARTY}get authHeaders(){const n={"X-Goog-AuthUser":this.l},o=this.h.auth.getAuthHeaderValueForFirstParty([]);return o&&(n.Authorization=o),this.m&&(n["X-Goog-Iam-Authorization-Token"]=this.m),n}}class dt{constructor(n,o,u){this.h=n,this.l=o,this.m=u}getToken(){return Promise.resolve(new Ie(this.h,this.l,this.m))}start(n,o){n.enqueueRetryable(()=>o(os.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nt{constructor(n,o){this.previousValue=n,o&&(o.sequenceNumberHandler=u=>this.g(u),this.p=u=>o.writeSequenceNumber(u))}g(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.p&&this.p(n),n}}function Mn(a){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),o=new Uint8Array(a);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(o);else for(let u=0;u<a;u++)o[u]=Math.floor(256*Math.random());return o}Nt.T=-1;class dn{static I(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=Math.floor(256/n.length)*n.length;let u="";for(;u.length<20;){const d=Mn(40);for(let w=0;w<d.length;++w)u.length<20&&d[w]<o&&(u+=n.charAt(d[w]%n.length))}return u}}function zt(a,n){return a<n?-1:a>n?1:0}function yn(a,n,o){return a.length===n.length&&a.every((u,d)=>o(u,n[d]))}function si(a){return a+"\0"}class fr{constructor(n,o){if(this.seconds=n,this.nanoseconds=o,o<0)throw new C(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(o>=1e9)throw new C(T.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+o);if(n<-62135596800)throw new C(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new C(T.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return fr.fromMillis(Date.now())}static fromDate(n){return fr.fromMillis(n.getTime())}static fromMillis(n){const o=Math.floor(n/1e3),u=Math.floor(1e6*(n-1e3*o));return new fr(o,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?zt(this.nanoseconds,n.nanoseconds):zt(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new sn(n)}static min(){return new sn(new fr(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Io(a){let n=0;for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n++;return n}function Ri(a,n){for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&n(o,a[o])}function qi(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}class Es{constructor(n,o,u){void 0===o?o=0:o>n.length&&ue(),void 0===u?u=n.length-o:u>n.length-o&&ue(),this.segments=n,this.offset=o,this.len=u}get length(){return this.len}isEqual(n){return 0===Es.comparator(this,n)}child(n){const o=this.segments.slice(this.offset,this.limit());return n instanceof Es?n.forEach(u=>{o.push(u)}):o.push(n),this.construct(o)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let o=0;o<this.length;o++)if(this.get(o)!==n.get(o))return!1;return!0}forEach(n){for(let o=this.offset,u=this.limit();o<u;o++)n(this.segments[o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,o){const u=Math.min(n.length,o.length);for(let d=0;d<u;d++){const w=n.get(d),D=o.get(d);if(w<D)return-1;if(w>D)return 1}return n.length<o.length?-1:n.length>o.length?1:0}}class Gn extends Es{construct(n,o,u){return new Gn(n,o,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const o=[];for(const u of n){if(u.indexOf("//")>=0)throw new C(T.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);o.push(...u.split("/").filter(d=>d.length>0))}return new Gn(o)}static emptyPath(){return new Gn([])}}const qt=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends Es{construct(n,o,u){return new un(n,o,u)}static isValidIdentifier(n){return qt.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new un(["__name__"])}static fromServerFormat(n){const o=[];let u="",d=0;const w=()=>{if(0===u.length)throw new C(T.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);o.push(u),u=""};let D=!1;for(;d<n.length;){const B=n[d];if("\\"===B){if(d+1===n.length)throw new C(T.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const J=n[d+1];if("\\"!==J&&"."!==J&&"`"!==J)throw new C(T.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);u+=J,d+=2}else"`"===B?(D=!D,d++):"."!==B||D?(u+=B,d++):(w(),d++)}if(w(),D)throw new C(T.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new un(o)}static emptyPath(){return new un([])}}class $n{constructor(n){this.fields=n,n.sort(un.comparator)}covers(n){for(const o of this.fields)if(o.isPrefixOf(n))return!0;return!1}isEqual(n){return yn(this.fields,n.fields,(o,u)=>o.isEqual(u))}}class br{constructor(n){this.binaryString=n}static fromBase64String(n){const o=atob(n);return new br(o)}static fromUint8Array(n){const o=function(u){let d="";for(let w=0;w<u.length;++w)d+=String.fromCharCode(u[w]);return d}(n);return new br(o)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let u=0;u<n.length;u++)o[u]=n.charCodeAt(u);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return zt(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}br.EMPTY_BYTE_STRING=new br("");const la=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(a){if(ge(!!a),"string"==typeof a){let n=0;const o=la.exec(a);if(ge(!!o),o[1]){let d=o[1];d=(d+"000000000").substr(0,9),n=Number(d)}const u=new Date(a);return{seconds:Math.floor(u.getTime()/1e3),nanos:n}}return{seconds:li(a.seconds),nanos:li(a.nanos)}}function li(a){return"number"==typeof a?a:"string"==typeof a?Number(a):0}function Qr(a){return"string"==typeof a?br.fromBase64String(a):br.fromUint8Array(a)}function sc(a){var n,o;return"server_timestamp"===(null===(o=((null===(n=null==a?void 0:a.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===o?void 0:o.stringValue)}function To(a){const n=a.mapValue.fields.__previous_value__;return sc(n)?To(n):n}function Lo(a){const n=Gi(a.mapValue.fields.__local_write_time__.timestampValue);return new fr(n.seconds,n.nanos)}function Gs(a){return null==a}function ua(a){return 0===a&&1/a==-1/0}function _i(a){return"number"==typeof a&&Number.isInteger(a)&&!ua(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}class gn{constructor(n){this.path=n}static fromPath(n){return new gn(Gn.fromString(n))}static fromName(n){return new gn(Gn.fromString(n).popFirst(5))}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}isEqual(n){return null!==n&&0===Gn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,o){return Gn.comparator(n.path,o.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new gn(new Gn(n.slice()))}}function ho(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?sc(a)?4:10:ue()}function ca(a,n){const o=ho(a);if(o!==ho(n))return!1;switch(o){case 0:return!0;case 1:return a.booleanValue===n.booleanValue;case 4:return Lo(a).isEqual(Lo(n));case 3:return function(u,d){if("string"==typeof u.timestampValue&&"string"==typeof d.timestampValue&&u.timestampValue.length===d.timestampValue.length)return u.timestampValue===d.timestampValue;const w=Gi(u.timestampValue),D=Gi(d.timestampValue);return w.seconds===D.seconds&&w.nanos===D.nanos}(a,n);case 5:return a.stringValue===n.stringValue;case 6:return d=n,Qr(a.bytesValue).isEqual(Qr(d.bytesValue));case 7:return a.referenceValue===n.referenceValue;case 8:return function(u,d){return li(u.geoPointValue.latitude)===li(d.geoPointValue.latitude)&&li(u.geoPointValue.longitude)===li(d.geoPointValue.longitude)}(a,n);case 2:return function(u,d){if("integerValue"in u&&"integerValue"in d)return li(u.integerValue)===li(d.integerValue);if("doubleValue"in u&&"doubleValue"in d){const w=li(u.doubleValue),D=li(d.doubleValue);return w===D?ua(w)===ua(D):isNaN(w)&&isNaN(D)}return!1}(a,n);case 9:return yn(a.arrayValue.values||[],n.arrayValue.values||[],ca);case 10:return function(u,d){const w=u.mapValue.fields||{},D=d.mapValue.fields||{};if(Io(w)!==Io(D))return!1;for(const B in w)if(w.hasOwnProperty(B)&&(void 0===D[B]||!ca(w[B],D[B])))return!1;return!0}(a,n);default:return ue()}var d}function wu(a,n){return void 0!==(a.values||[]).find(o=>ca(o,n))}function eo(a,n){const o=ho(a),u=ho(n);if(o!==u)return zt(o,u);switch(o){case 0:return 0;case 1:return zt(a.booleanValue,n.booleanValue);case 2:return function(d,w){const D=li(d.integerValue||d.doubleValue),B=li(w.integerValue||w.doubleValue);return D<B?-1:D>B?1:D===B?0:isNaN(D)?isNaN(B)?0:-1:1}(a,n);case 3:return da(a.timestampValue,n.timestampValue);case 4:return da(Lo(a),Lo(n));case 5:return zt(a.stringValue,n.stringValue);case 6:return function(d,w){const D=Qr(d),B=Qr(w);return D.compareTo(B)}(a.bytesValue,n.bytesValue);case 7:return function(d,w){const D=d.split("/"),B=w.split("/");for(let J=0;J<D.length&&J<B.length;J++){const le=zt(D[J],B[J]);if(0!==le)return le}return zt(D.length,B.length)}(a.referenceValue,n.referenceValue);case 8:return function(d,w){const D=zt(li(d.latitude),li(w.latitude));return 0!==D?D:zt(li(d.longitude),li(w.longitude))}(a.geoPointValue,n.geoPointValue);case 9:return function(d,w){const D=d.values||[],B=w.values||[];for(let J=0;J<D.length&&J<B.length;++J){const le=eo(D[J],B[J]);if(le)return le}return zt(D.length,B.length)}(a.arrayValue,n.arrayValue);case 10:return function(d,w){const D=d.fields||{},B=Object.keys(D),J=w.fields||{},le=Object.keys(J);B.sort(),le.sort();for(let Ee=0;Ee<B.length&&Ee<le.length;++Ee){const ze=zt(B[Ee],le[Ee]);if(0!==ze)return ze;const bt=eo(D[B[Ee]],J[le[Ee]]);if(0!==bt)return bt}return zt(B.length,le.length)}(a.mapValue,n.mapValue);default:throw ue()}}function da(a,n){if("string"==typeof a&&"string"==typeof n&&a.length===n.length)return zt(a,n);const o=Gi(a),u=Gi(n),d=zt(o.seconds,u.seconds);return 0!==d?d:zt(o.nanos,u.nanos)}function Ga(a){return Ta(a)}function Ta(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(u){const d=Gi(u);return`time(${d.seconds},${d.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?Qr(a.bytesValue).toBase64():"referenceValue"in a?gn.fromName(a.referenceValue).toString():"geoPointValue"in a?`geo(${(n=a.geoPointValue).latitude},${n.longitude})`:"arrayValue"in a?function(u){let d="[",w=!0;for(const D of u.values||[])w?w=!1:d+=",",d+=Ta(D);return d+"]"}(a.arrayValue):"mapValue"in a?function(u){const d=Object.keys(u.fields||{}).sort();let w="{",D=!0;for(const B of d)D?D=!1:w+=",",w+=`${B}:${Ta(u.fields[B])}`;return w+"}"}(a.mapValue):ue();var n}function ha(a,n){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${n.path.canonicalString()}`}}function oc(a){return!!a&&"integerValue"in a}function bu(a){return!!a&&"arrayValue"in a}function ah(a){return!!a&&"nullValue"in a}function Qc(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Jc(a){return!!a&&"mapValue"in a}function za(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&"object"==typeof a.timestampValue)return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const n={mapValue:{fields:{}}};return Ri(a.mapValue.fields,(o,u)=>n.mapValue.fields[o]=za(u)),n}if(a.arrayValue){const n={arrayValue:{values:[]}};for(let o=0;o<(a.arrayValue.values||[]).length;++o)n.arrayValue.values[o]=za(a.arrayValue.values[o]);return n}return Object.assign({},a)}class Jr{constructor(n){this.value=n}static empty(){return new Jr({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let o=this.value;for(let u=0;u<n.length-1;++u)if(o=(o.mapValue.fields||{})[n.get(u)],!Jc(o))return null;return o=(o.mapValue.fields||{})[n.lastSegment()],o||null}}set(n,o){this.getFieldsMap(n.popLast())[n.lastSegment()]=za(o)}setAll(n){let o=un.emptyPath(),u={},d=[];n.forEach((D,B)=>{if(!o.isImmediateParentOf(B)){const J=this.getFieldsMap(o);this.applyChanges(J,u,d),u={},d=[],o=B.popLast()}D?u[B.lastSegment()]=za(D):d.push(B.lastSegment())});const w=this.getFieldsMap(o);this.applyChanges(w,u,d)}delete(n){const o=this.field(n.popLast());Jc(o)&&o.mapValue.fields&&delete o.mapValue.fields[n.lastSegment()]}isEqual(n){return ca(this.value,n.value)}getFieldsMap(n){let o=this.value;o.mapValue.fields||(o.mapValue={fields:{}});for(let u=0;u<n.length;++u){let d=o.mapValue.fields[n.get(u)];Jc(d)&&d.mapValue.fields||(d={mapValue:{fields:{}}},o.mapValue.fields[n.get(u)]=d),o=d}return o.mapValue.fields}applyChanges(n,o,u){Ri(o,(d,w)=>n[d]=w);for(const d of u)delete n[d]}clone(){return new Jr(za(this.value))}}function ac(a){const n=[];return Ri(a.fields,(o,u)=>{const d=new un([o]);if(Jc(u)){const w=ac(u.mapValue).fields;if(0===w.length)n.push(d);else for(const D of w)n.push(d.child(D))}else n.push(d)}),new $n(n)}class Gr{constructor(n,o,u,d,w){this.key=n,this.documentType=o,this.version=u,this.data=d,this.documentState=w}static newInvalidDocument(n){return new Gr(n,0,sn.min(),Jr.empty(),0)}static newFoundDocument(n,o,u){return new Gr(n,1,o,u,0)}static newNoDocument(n,o){return new Gr(n,2,o,Jr.empty(),0)}static newUnknownDocument(n,o){return new Gr(n,3,o,Jr.empty(),2)}convertToFoundDocument(n,o){return this.version=n,this.documentType=1,this.data=o,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Jr.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Gr&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}clone(){return new Gr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class im{constructor(n,o=null,u=[],d=[],w=null,D=null,B=null){this.path=n,this.collectionGroup=o,this.orderBy=u,this.filters=d,this.limit=w,this.startAt=D,this.endAt=B,this.A=null}}function Xc(a,n=null,o=[],u=[],d=null,w=null,D=null){return new im(a,n,o,u,d,w,D)}function dl(a){const n=Ue(a);if(null===n.A){let o=n.path.canonicalString();null!==n.collectionGroup&&(o+="|cg:"+n.collectionGroup),o+="|f:",o+=n.filters.map(u=>function(a){return a.field.canonicalString()+a.op.toString()+Ga(a.value)}(u)).join(","),o+="|ob:",o+=n.orderBy.map(u=>{return(d=u).field.canonicalString()+d.dir;var d}).join(","),Gs(n.limit)||(o+="|l:",o+=n.limit),n.startAt&&(o+="|lb:",o+=$l(n.startAt)),n.endAt&&(o+="|ub:",o+=$l(n.endAt)),n.A=o}return n.A}function Bl(a,n){if(a.limit!==n.limit||a.orderBy.length!==n.orderBy.length)return!1;for(let d=0;d<a.orderBy.length;d++)if(!Zl(a.orderBy[d],n.orderBy[d]))return!1;if(a.filters.length!==n.filters.length)return!1;for(let d=0;d<a.filters.length;d++)if((o=a.filters[d]).op!==(u=n.filters[d]).op||!o.field.isEqual(u.field)||!ca(o.value,u.value))return!1;var o,u;return a.collectionGroup===n.collectionGroup&&!!a.path.isEqual(n.path)&&!!Ya(a.startAt,n.startAt)&&Ya(a.endAt,n.endAt)}function lc(a){return gn.isDocumentKey(a.path)&&null===a.collectionGroup&&0===a.filters.length}class to extends class{}{constructor(n,o,u){super(),this.field=n,this.op=o,this.value=u}static create(n,o,u){return n.isKeyField()?"in"===o||"not-in"===o?this.R(n,o,u):new td(n,o,u):"array-contains"===o?new nd(n,u):"in"===o?new Wa(n,u):"not-in"===o?new zf(n,u):"array-contains-any"===o?new Wf(n,u):new to(n,o,u)}static R(n,o,u){return"in"===o?new uc(n,u):new lh(n,u)}matches(n){const o=n.data.field(this.field);return"!="===this.op?null!==o&&this.P(eo(o,this.value)):null!==o&&ho(this.value)===ho(o)&&this.P(eo(o,this.value))}P(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return ue()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class td extends to{constructor(n,o,u){super(n,o,u),this.key=gn.fromName(u.referenceValue)}matches(n){const o=gn.comparator(n.key,this.key);return this.P(o)}}class uc extends to{constructor(n,o){super(n,"in",o),this.keys=Hl(0,o)}matches(n){return this.keys.some(o=>o.isEqual(n.key))}}class lh extends to{constructor(n,o){super(n,"not-in",o),this.keys=Hl(0,o)}matches(n){return!this.keys.some(o=>o.isEqual(n.key))}}function Hl(a,n){var o;return((null===(o=n.arrayValue)||void 0===o?void 0:o.values)||[]).map(u=>gn.fromName(u.referenceValue))}class nd extends to{constructor(n,o){super(n,"array-contains",o)}matches(n){const o=n.data.field(this.field);return bu(o)&&wu(o.arrayValue,this.value)}}class Wa extends to{constructor(n,o){super(n,"in",o)}matches(n){const o=n.data.field(this.field);return null!==o&&wu(this.value.arrayValue,o)}}class zf extends to{constructor(n,o){super(n,"not-in",o)}matches(n){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const o=n.data.field(this.field);return null!==o&&!wu(this.value.arrayValue,o)}}class Wf extends to{constructor(n,o){super(n,"array-contains-any",o)}matches(n){const o=n.data.field(this.field);return!(!bu(o)||!o.arrayValue.values)&&o.arrayValue.values.some(u=>wu(this.value.arrayValue,u))}}class hl{constructor(n,o){this.position=n,this.before=o}}function $l(a){return`${a.before?"b":"a"}:${a.position.map(n=>Ga(n)).join(",")}`}class fl{constructor(n,o="asc"){this.field=n,this.dir=o}}function Zl(a,n){return a.dir===n.dir&&a.field.isEqual(n.field)}function Ka(a,n,o){let u=0;for(let d=0;d<a.position.length;d++){const w=n[d],D=a.position[d];if(u=w.field.isKeyField()?gn.comparator(gn.fromName(D.referenceValue),o.key):eo(D,o.data.field(w.field)),"desc"===w.dir&&(u*=-1),0!==u)break}return a.before?u<=0:u<0}function Ya(a,n){if(null===a)return null===n;if(null===n||a.before!==n.before||a.position.length!==n.position.length)return!1;for(let o=0;o<a.position.length;o++)if(!ca(a.position[o],n.position[o]))return!1;return!0}class fa{constructor(n,o=null,u=[],d=[],w=null,D="F",B=null,J=null){this.path=n,this.collectionGroup=o,this.explicitOrderBy=u,this.filters=d,this.limit=w,this.limitType=D,this.startAt=B,this.endAt=J,this.V=null,this.S=null}}function as(a,n,o,u,d,w,D,B){return new fa(a,n,o,u,d,w,D,B)}function Qa(a){return new fa(a)}function cc(a){return!Gs(a.limit)&&"F"===a.limitType}function pa(a){return!Gs(a.limit)&&"L"===a.limitType}function pl(a){return a.explicitOrderBy.length>0?a.explicitOrderBy[0].field:null}function dc(a){for(const n of a.filters)if(n.v())return n.field;return null}function ql(a){return null!==a.collectionGroup}function gl(a){const n=Ue(a);if(null===n.V){n.V=[];const o=dc(n),u=pl(n);if(null!==o&&null===u)o.isKeyField()||n.V.push(new fl(o)),n.V.push(new fl(un.keyField(),"asc"));else{let d=!1;for(const w of n.explicitOrderBy)n.V.push(w),w.field.isKeyField()&&(d=!0);if(!d){const w=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.V.push(new fl(un.keyField(),w))}}}return n.V}function ga(a){const n=Ue(a);if(!n.S)if("F"===n.limitType)n.S=Xc(n.path,n.collectionGroup,gl(n),n.filters,n.limit,n.startAt,n.endAt);else{const o=[];for(const w of gl(n))o.push(new fl(w.field,"desc"===w.dir?"asc":"desc"));const u=n.endAt?new hl(n.endAt.position,!n.endAt.before):null,d=n.startAt?new hl(n.startAt.position,!n.startAt.before):null;n.S=Xc(n.path,n.collectionGroup,o,n.filters,n.limit,u,d)}return n.S}function ml(a,n,o){return new fa(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),n,o,a.startAt,a.endAt)}function vo(a,n){return Bl(ga(a),ga(n))&&a.limitType===n.limitType}function Eu(a){return`${dl(ga(a))}|lt:${a.limitType}`}function Da(a){return`Query(target=${function(a){let n=a.path.canonicalString();return null!==a.collectionGroup&&(n+=" collectionGroup="+a.collectionGroup),a.filters.length>0&&(n+=`, filters: [${a.filters.map(o=>{return`${(u=o).field.canonicalString()} ${u.op} ${Ga(u.value)}`;var u}).join(", ")}]`),Gs(a.limit)||(n+=", limit: "+a.limit),a.orderBy.length>0&&(n+=`, orderBy: [${a.orderBy.map(o=>{return`${(u=o).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),a.startAt&&(n+=", startAt: "+$l(a.startAt)),a.endAt&&(n+=", endAt: "+$l(a.endAt)),`Target(${n})`}(ga(a))}; limitType=${a.limitType})`}function Gl(a,n){return n.isFoundDocument()&&function(o,u){const d=u.key.path;return null!==o.collectionGroup?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(d):gn.isDocumentKey(o.path)?o.path.isEqual(d):o.path.isImmediateParentOf(d)}(a,n)&&function(o,u){for(const d of o.explicitOrderBy)if(!d.field.isKeyField()&&null===u.data.field(d.field))return!1;return!0}(a,n)&&function(o,u){for(const d of o.filters)if(!d.matches(u))return!1;return!0}(a,n)&&(u=n,!((o=a).startAt&&!Ka(o.startAt,gl(o),u)||o.endAt&&Ka(o.endAt,gl(o),u)));var o,u}function rd(a){return(n,o)=>{let u=!1;for(const d of gl(a)){const w=zl(d,n,o);if(0!==w)return w;u=u||d.field.isKeyField()}return 0}}function zl(a,n,o){const u=a.field.isKeyField()?gn.comparator(n.key,o.key):function(d,w,D){const B=w.data.field(d),J=D.data.field(d);return null!==B&&null!==J?eo(B,J):ue()}(a.field,n,o);switch(a.dir){case"asc":return u;case"desc":return-1*u;default:return ue()}}function Cu(a,n){if(a.D){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ua(n)?"-0":n}}function id(a){return{integerValue:""+a}}function uh(a,n){return _i(n)?id(n):Cu(a,n)}class hc{constructor(){this._=void 0}}function Wl(a,n,o){return a instanceof Iu?function(u,d){const w={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return d&&(w.fields.__previous_value__=d),{mapValue:w}}(o,n):a instanceof Sa?dh(a,n):a instanceof Kl?hh(a,n):function(u,d){const w=ch(u,d),D=fh(w)+fh(u.C);return oc(w)&&oc(u.C)?id(D):Cu(u.N,D)}(a,n)}function Au(a,n,o){return a instanceof Sa?dh(a,n):a instanceof Kl?hh(a,n):o}function ch(a,n){return a instanceof Yl?oc(o=n)||(u=o)&&"doubleValue"in u?n:{integerValue:0}:null;var u,o}class Iu extends hc{}class Sa extends hc{constructor(n){super(),this.elements=n}}function dh(a,n){const o=Ql(n);for(const u of a.elements)o.some(d=>ca(d,u))||o.push(u);return{arrayValue:{values:o}}}class Kl extends hc{constructor(n){super(),this.elements=n}}function hh(a,n){let o=Ql(n);for(const u of a.elements)o=o.filter(d=>!ca(d,u));return{arrayValue:{values:o}}}class Yl extends hc{constructor(n,o){super(),this.N=n,this.C=o}}function fh(a){return li(a.integerValue||a.doubleValue)}function Ql(a){return bu(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class yl{constructor(n,o){this.field=n,this.transform=o}}class Kf{constructor(n,o){this.version=n,this.transformResults=o}}class Cs{constructor(n,o){this.updateTime=n,this.exists=o}static none(){return new Cs}static exists(n){return new Cs(void 0,n)}static updateTime(n){return new Cs(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Tu(a,n){return void 0!==a.updateTime?n.isFoundDocument()&&n.version.isEqual(a.updateTime):void 0===a.exists||a.exists===n.isFoundDocument()}class _l{}function Du(a,n,o){a instanceof Su?function(u,d,w){const D=u.value.clone(),B=gh(u.fieldTransforms,d,w.transformResults);D.setAll(B),d.convertToFoundDocument(w.version,D).setHasCommittedMutations()}(a,n,o):a instanceof Ja?function(u,d,w){if(!Tu(u.precondition,d))return void d.convertToUnknownDocument(w.version);const D=gh(u.fieldTransforms,d,w.transformResults),B=d.data;B.setAll(ph(u)),B.setAll(D),d.convertToFoundDocument(w.version,B).setHasCommittedMutations()}(a,n,o):n.convertToNoDocument(o.version).setHasCommittedMutations()}function fc(a,n,o){var d;a instanceof Su?function(u,d,w){if(!Tu(u.precondition,d))return;const D=u.value.clone(),B=mh(u.fieldTransforms,w,d);D.setAll(B),d.convertToFoundDocument(xa(d),D).setHasLocalMutations()}(a,n,o):a instanceof Ja?function(u,d,w){if(!Tu(u.precondition,d))return;const D=mh(u.fieldTransforms,w,d),B=d.data;B.setAll(ph(u)),B.setAll(D),d.convertToFoundDocument(xa(d),B).setHasLocalMutations()}(a,n,o):Tu(a.precondition,d=n)&&d.convertToNoDocument(sn.min())}function sd(a,n){let o=null;for(const u of a.fieldTransforms){const d=n.data.field(u.field),w=ch(u.transform,d||null);null!=w&&(null==o&&(o=Jr.empty()),o.set(u.field,w))}return o||null}function od(a,n){return a.type===n.type&&!!a.key.isEqual(n.key)&&!!a.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(o=a.fieldTransforms)&&void 0===u||o&&u&&yn(o,u,(d,w)=>function(a,n){return a.field.isEqual(n.field)&&(u=n.transform,(o=a.transform)instanceof Sa&&u instanceof Sa||o instanceof Kl&&u instanceof Kl?yn(o.elements,u.elements,ca):o instanceof Yl&&u instanceof Yl?ca(o.C,u.C):o instanceof Iu&&u instanceof Iu);var o,u}(d,w))))&&(0===a.type?a.value.isEqual(n.value):1!==a.type||a.data.isEqual(n.data)&&a.fieldMask.isEqual(n.fieldMask));var o,u}function xa(a){return a.isFoundDocument()?a.version:sn.min()}class Su extends _l{constructor(n,o,u,d=[]){super(),this.key=n,this.value=o,this.precondition=u,this.fieldTransforms=d,this.type=0}}class Ja extends _l{constructor(n,o,u,d,w=[]){super(),this.key=n,this.data=o,this.fieldMask=u,this.precondition=d,this.fieldTransforms=w,this.type=1}}function ph(a){const n=new Map;return a.fieldMask.fields.forEach(o=>{if(!o.isEmpty()){const u=a.data.field(o);n.set(o,u)}}),n}function gh(a,n,o){const u=new Map;ge(a.length===o.length);for(let d=0;d<o.length;d++){const w=a[d],D=w.transform,B=n.data.field(w.field);u.set(w.field,Au(D,B,o[d]))}return u}function mh(a,n,o){const u=new Map;for(const d of a){const w=d.transform,D=o.data.field(d.field);u.set(d.field,Wl(w,D,n))}return u}class Vo extends _l{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=2,this.fieldTransforms=[]}}class vl extends _l{constructor(n,o){super(),this.key=n,this.precondition=o,this.type=3,this.fieldTransforms=[]}}class Xa{constructor(n){this.count=n}}var As,Pr;function pc(a){switch(a){case T.OK:return ue();case T.CANCELLED:case T.UNKNOWN:case T.DEADLINE_EXCEEDED:case T.RESOURCE_EXHAUSTED:case T.INTERNAL:case T.UNAVAILABLE:case T.UNAUTHENTICATED:return!1;case T.INVALID_ARGUMENT:case T.NOT_FOUND:case T.ALREADY_EXISTS:case T.PERMISSION_DENIED:case T.FAILED_PRECONDITION:case T.ABORTED:case T.OUT_OF_RANGE:case T.UNIMPLEMENTED:case T.DATA_LOSS:return!0;default:return ue()}}function yh(a){if(void 0===a)return R("GRPC error has no .code"),T.UNKNOWN;switch(a){case As.OK:return T.OK;case As.CANCELLED:return T.CANCELLED;case As.UNKNOWN:return T.UNKNOWN;case As.DEADLINE_EXCEEDED:return T.DEADLINE_EXCEEDED;case As.RESOURCE_EXHAUSTED:return T.RESOURCE_EXHAUSTED;case As.INTERNAL:return T.INTERNAL;case As.UNAVAILABLE:return T.UNAVAILABLE;case As.UNAUTHENTICATED:return T.UNAUTHENTICATED;case As.INVALID_ARGUMENT:return T.INVALID_ARGUMENT;case As.NOT_FOUND:return T.NOT_FOUND;case As.ALREADY_EXISTS:return T.ALREADY_EXISTS;case As.PERMISSION_DENIED:return T.PERMISSION_DENIED;case As.FAILED_PRECONDITION:return T.FAILED_PRECONDITION;case As.ABORTED:return T.ABORTED;case As.OUT_OF_RANGE:return T.OUT_OF_RANGE;case As.UNIMPLEMENTED:return T.UNIMPLEMENTED;case As.DATA_LOSS:return T.DATA_LOSS;default:return ue()}}(Pr=As||(As={}))[Pr.OK=0]="OK",Pr[Pr.CANCELLED=1]="CANCELLED",Pr[Pr.UNKNOWN=2]="UNKNOWN",Pr[Pr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pr[Pr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pr[Pr.NOT_FOUND=5]="NOT_FOUND",Pr[Pr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pr[Pr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pr[Pr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pr[Pr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pr[Pr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pr[Pr.ABORTED=10]="ABORTED",Pr[Pr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pr[Pr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pr[Pr.INTERNAL=13]="INTERNAL",Pr[Pr.UNAVAILABLE=14]="UNAVAILABLE",Pr[Pr.DATA_LOSS=15]="DATA_LOSS";class ls{constructor(n,o){this.comparator=n,this.root=o||no.EMPTY}insert(n,o){return new ls(this.comparator,this.root.insert(n,o,this.comparator).copy(null,null,no.BLACK,null,null))}remove(n){return new ls(this.comparator,this.root.remove(n,this.comparator).copy(null,null,no.BLACK,null,null))}get(n){let o=this.root;for(;!o.isEmpty();){const u=this.comparator(n,o.key);if(0===u)return o.value;u<0?o=o.left:u>0&&(o=o.right)}return null}indexOf(n){let o=0,u=this.root;for(;!u.isEmpty();){const d=this.comparator(n,u.key);if(0===d)return o+u.left.size;d<0?u=u.left:(o+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((o,u)=>(n(o,u),!1))}toString(){const n=[];return this.inorderTraversal((o,u)=>(n.push(`${o}:${u}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new xu(this.root,n,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new xu(this.root,n,this.comparator,!0)}}class xu{constructor(n,o,u,d){this.isReverse=d,this.nodeStack=[];let w=1;for(;!n.isEmpty();)if(w=o?u(n.key,o):1,d&&(w*=-1),w<0)n=this.isReverse?n.left:n.right;else{if(0===w){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const o={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return o}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class no{constructor(n,o,u,d,w){this.key=n,this.value=o,this.color=null!=u?u:no.RED,this.left=null!=d?d:no.EMPTY,this.right=null!=w?w:no.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,o,u,d,w){return new no(null!=n?n:this.key,null!=o?o:this.value,null!=u?u:this.color,null!=d?d:this.left,null!=w?w:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,o,u){let d=this;const w=u(n,d.key);return d=w<0?d.copy(null,null,null,d.left.insert(n,o,u),null):0===w?d.copy(null,o,null,null,null):d.copy(null,null,null,null,d.right.insert(n,o,u)),d.fixUp()}removeMin(){if(this.left.isEmpty())return no.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,o){let u,d=this;if(o(n,d.key)<0)d.left.isEmpty()||d.left.isRed()||d.left.left.isRed()||(d=d.moveRedLeft()),d=d.copy(null,null,null,d.left.remove(n,o),null);else{if(d.left.isRed()&&(d=d.rotateRight()),d.right.isEmpty()||d.right.isRed()||d.right.left.isRed()||(d=d.moveRedRight()),0===o(n,d.key)){if(d.right.isEmpty())return no.EMPTY;u=d.right.min(),d=d.copy(u.key,u.value,null,null,d.right.removeMin())}d=d.copy(null,null,null,null,d.right.remove(n,o))}return d.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,no.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,no.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,o)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();const n=this.left.check();if(n!==this.right.check())throw ue();return n+(this.isRed()?0:1)}}no.EMPTY=null,no.RED=!0,no.BLACK=!1,no.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(a,n,o,u,d){return this}insert(a,n,o){return new no(a,n)}remove(a,n){return this}isEmpty(){return!0}inorderTraversal(a){return!1}reverseTraversal(a){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bi{constructor(n){this.comparator=n,this.data=new ls(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((o,u)=>(n(o),!1))}forEachInRange(n,o){const u=this.data.getIteratorFrom(n[0]);for(;u.hasNext();){const d=u.getNext();if(this.comparator(d.key,n[1])>=0)return;o(d.key)}}forEachWhile(n,o){let u;for(u=void 0!==o?this.data.getIteratorFrom(o):this.data.getIterator();u.hasNext();)if(!n(u.getNext().key))return}firstAfterOrEqual(n){const o=this.data.getIteratorFrom(n);return o.hasNext()?o.getNext().key:null}getIterator(){return new _h(this.data.getIterator())}getIteratorFrom(n){return new _h(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let o=this;return o.size<n.size&&(o=n,n=this),n.forEach(u=>{o=o.add(u)}),o}isEqual(n){if(!(n instanceof Bi)||this.size!==n.size)return!1;const o=this.data.getIterator(),u=n.data.getIterator();for(;o.hasNext();){const d=o.getNext().key,w=u.getNext().key;if(0!==this.comparator(d,w))return!1}return!0}toArray(){const n=[];return this.forEach(o=>{n.push(o)}),n}toString(){const n=[];return this.forEach(o=>n.push(o)),"SortedSet("+n.toString()+")"}copy(n){const o=new Bi(this.comparator);return o.data=n,o}}class _h{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Yf=new ls(gn.comparator);function Uo(){return Yf}const Qf=new ls(gn.comparator);function wl(){return Qf}const vh=new ls(gn.comparator);function ma(){return vh}const Ru=new Bi(gn.comparator);function zr(...a){let n=Ru;for(const o of a)n=n.add(o);return n}const gc=new Bi(zt);function Mu(){return gc}class mc{constructor(n,o,u,d,w){this.snapshotVersion=n,this.targetChanges=o,this.targetMismatches=u,this.documentUpdates=d,this.resolvedLimboDocuments=w}static createSynthesizedRemoteEventForCurrentChange(n,o){const u=new Map;return u.set(n,Xl.createSynthesizedTargetChangeForCurrentChange(n,o)),new mc(sn.min(),u,Mu(),Uo(),zr())}}class Xl{constructor(n,o,u,d,w){this.resumeToken=n,this.current=o,this.addedDocuments=u,this.modifiedDocuments=d,this.removedDocuments=w}static createSynthesizedTargetChangeForCurrentChange(n,o){return new Xl(br.EMPTY_BYTE_STRING,o,zr(),zr(),zr())}}class Nu{constructor(n,o,u,d){this.k=n,this.removedTargetIds=o,this.key=u,this.$=d}}class yc{constructor(n,o){this.targetId=n,this.O=o}}class _c{constructor(n,o,u=br.EMPTY_BYTE_STRING,d=null){this.state=n,this.targetIds=o,this.resumeToken=u,this.cause=d}}class bl{constructor(){this.F=0,this.M=ad(),this.L=br.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(n){n.approximateByteSize()>0&&(this.U=!0,this.L=n)}W(){let n=zr(),o=zr(),u=zr();return this.M.forEach((d,w)=>{switch(w){case 0:n=n.add(d);break;case 2:o=o.add(d);break;case 1:u=u.add(d);break;default:ue()}}),new Xl(this.L,this.B,n,o,u)}G(){this.U=!1,this.M=ad()}H(n,o){this.U=!0,this.M=this.M.insert(n,o)}J(n){this.U=!0,this.M=this.M.remove(n)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class sm{constructor(n){this.tt=n,this.et=new Map,this.nt=Uo(),this.st=Jf(),this.it=new Bi(zt)}rt(n){for(const o of n.k)n.$&&n.$.isFoundDocument()?this.ot(o,n.$):this.at(o,n.key,n.$);for(const o of n.removedTargetIds)this.at(o,n.key,n.$)}ct(n){this.forEachTarget(n,o=>{const u=this.ut(o);switch(n.state){case 0:this.ht(o)&&u.j(n.resumeToken);break;case 1:u.X(),u.q||u.G(),u.j(n.resumeToken);break;case 2:u.X(),u.q||this.removeTarget(o);break;case 3:this.ht(o)&&(u.Z(),u.j(n.resumeToken));break;case 4:this.ht(o)&&(this.lt(o),u.j(n.resumeToken));break;default:ue()}})}forEachTarget(n,o){n.targetIds.length>0?n.targetIds.forEach(o):this.et.forEach((u,d)=>{this.ht(d)&&o(d)})}ft(n){const o=n.targetId,u=n.O.count,d=this.dt(o);if(d){const w=d.target;if(lc(w))if(0===u){const D=new gn(w.path);this.at(o,D,Gr.newNoDocument(D,sn.min()))}else ge(1===u);else this.wt(o)!==u&&(this.lt(o),this.it=this.it.add(o))}}_t(n){const o=new Map;this.et.forEach((w,D)=>{const B=this.dt(D);if(B){if(w.current&&lc(B.target)){const J=new gn(B.target.path);null!==this.nt.get(J)||this.gt(D,J)||this.at(D,J,Gr.newNoDocument(J,n))}w.K&&(o.set(D,w.W()),w.G())}});let u=zr();this.st.forEach((w,D)=>{let B=!0;D.forEachWhile(J=>{const le=this.dt(J);return!le||2===le.purpose||(B=!1,!1)}),B&&(u=u.add(w))});const d=new mc(n,o,this.it,this.nt,u);return this.nt=Uo(),this.st=Jf(),this.it=new Bi(zt),d}ot(n,o){if(!this.ht(n))return;const u=this.gt(n,o.key)?2:0;this.ut(n).H(o.key,u),this.nt=this.nt.insert(o.key,o),this.st=this.st.insert(o.key,this.yt(o.key).add(n))}at(n,o,u){if(!this.ht(n))return;const d=this.ut(n);this.gt(n,o)?d.H(o,1):d.J(o),this.st=this.st.insert(o,this.yt(o).delete(n)),u&&(this.nt=this.nt.insert(o,u))}removeTarget(n){this.et.delete(n)}wt(n){const o=this.ut(n).W();return this.tt.getRemoteKeysForTarget(n).size+o.addedDocuments.size-o.removedDocuments.size}Y(n){this.ut(n).Y()}ut(n){let o=this.et.get(n);return o||(o=new bl,this.et.set(n,o)),o}yt(n){let o=this.st.get(n);return o||(o=new Bi(zt),this.st=this.st.insert(n,o)),o}ht(n){const o=null!==this.dt(n);return o||v("WatchChangeAggregator","Detected inactive target",n),o}dt(n){const o=this.et.get(n);return o&&o.q?null:this.tt.Et(n)}lt(n){this.et.set(n,new bl),this.tt.getRemoteKeysForTarget(n).forEach(o=>{this.at(n,o,null)})}gt(n,o){return this.tt.getRemoteKeysForTarget(n).has(o)}}function Jf(){return new ls(gn.comparator)}function ad(){return new ls(gn.comparator)}const wh={asc:"ASCENDING",desc:"DESCENDING"},Xf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ep{constructor(n,o){this.databaseId=n,this.D=o}}function Ou(a,n){return a.D?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function ld(a,n){return a.D?n.toBase64():n.toUint8Array()}function El(a,n){return Ou(a,n.toTimestamp())}function Ps(a){return ge(!!a),sn.fromTimestamp(function(n){const o=Gi(n);return new fr(o.seconds,o.nanos)}(a))}function eu(a,n){return(o=a,new Gn(["projects",o.projectId,"databases",o.database])).child("documents").child(n).canonicalString();var o}function bh(a){const n=Gn.fromString(a);return ge(Ah(n)),n}function vi(a,n){return eu(a.databaseId,n.path)}function ya(a,n){const o=bh(n);if(o.get(1)!==a.databaseId.projectId)throw new C(T.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+o.get(1)+" vs "+a.databaseId.projectId);if(o.get(3)!==a.databaseId.database)throw new C(T.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+o.get(3)+" vs "+a.databaseId.database);return new gn(vc(o))}function ud(a,n){return eu(a.databaseId,n)}function Pu(a){const n=bh(a);return 4===n.length?Gn.emptyPath():vc(n)}function el(a){return new Gn(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function vc(a){return ge(a.length>4&&"documents"===a.get(4)),a.popFirst(5)}function cd(a,n,o){return{name:vi(a,n),fields:o.value.mapValue.fields}}function Eh(a,n,o){const u=ya(a,n.name),d=Ps(n.updateTime),w=new Jr({mapValue:{fields:n.fields}}),D=Gr.newFoundDocument(u,d,w);return o&&D.setHasCommittedMutations(),o?D.setHasCommittedMutations():D}function Cl(a,n){let o;if(n instanceof Su)o={update:cd(a,n.key,n.value)};else if(n instanceof Vo)o={delete:vi(a,n.key)};else if(n instanceof Ja)o={update:cd(a,n.key,n.data),updateMask:wc(n.fieldMask)};else{if(!(n instanceof vl))return ue();o={verify:vi(a,n.key)}}return n.fieldTransforms.length>0&&(o.updateTransforms=n.fieldTransforms.map(u=>function(d,w){const D=w.transform;if(D instanceof Iu)return{fieldPath:w.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Sa)return{fieldPath:w.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Kl)return{fieldPath:w.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof Yl)return{fieldPath:w.field.canonicalString(),increment:D.C};throw ue()}(0,u))),n.precondition.isNone||(o.currentDocument=void 0!==(d=n.precondition).updateTime?{updateTime:El(a,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:ue()),o;var d}function Ch(a,n){const o=n.currentDocument?void 0!==(d=n.currentDocument).updateTime?Cs.updateTime(Ps(d.updateTime)):void 0!==d.exists?Cs.exists(d.exists):Cs.none():Cs.none(),u=n.updateTransforms?n.updateTransforms.map(d=>function(w,D){let B=null;"setToServerValue"in D?(ge("REQUEST_TIME"===D.setToServerValue),B=new Iu):"appendMissingElements"in D?B=new Sa(D.appendMissingElements.values||[]):"removeAllFromArray"in D?B=new Kl(D.removeAllFromArray.values||[]):"increment"in D?B=new Yl(w,D.increment):ue();const J=un.fromServerFormat(D.fieldPath);return new yl(J,B)}(a,d)):[];var d;if(n.update){const d=ya(a,n.update.name),w=new Jr({mapValue:{fields:n.update.fields}});if(n.updateMask){const D=new $n((n.updateMask.fieldPaths||[]).map(le=>un.fromServerFormat(le)));return new Ja(d,w,D,o,u)}return new Su(d,w,o,u)}if(n.delete){const d=ya(a,n.delete);return new Vo(d,o)}if(n.verify){const d=ya(a,n.verify);return new vl(d,o)}return ue()}function zs(a,n){return{documents:[ud(a,n.path)]}}function tu(a,n){const o={structuredQuery:{}},u=n.path;null!==n.collectionGroup?(o.parent=ud(a,u),o.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(o.parent=ud(a,u.popLast()),o.structuredQuery.from=[{collectionId:u.lastSegment()}]);const d=function(B){if(0===B.length)return;const J=B.map(le=>function(Ee){if("=="===Ee.op){if(Qc(Ee.value))return{unaryFilter:{field:Al(Ee.field),op:"IS_NAN"}};if(ah(Ee.value))return{unaryFilter:{field:Al(Ee.field),op:"IS_NULL"}}}else if("!="===Ee.op){if(Qc(Ee.value))return{unaryFilter:{field:Al(Ee.field),op:"IS_NOT_NAN"}};if(ah(Ee.value))return{unaryFilter:{field:Al(Ee.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(Ee.field),op:np(Ee.op),value:Ee.value}}}(le));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(n.filters);d&&(o.structuredQuery.where=d);const w=function(B){if(0!==B.length)return B.map(J=>{return{field:Al((le=J).field),direction:tp(le.dir)};var le})}(n.orderBy);w&&(o.structuredQuery.orderBy=w);const D=(J=n.limit,a.D||Gs(J)?J:{value:J});var J;return null!==D&&(o.structuredQuery.limit=D),n.startAt&&(o.structuredQuery.startAt=jo(n.startAt)),n.endAt&&(o.structuredQuery.endAt=jo(n.endAt)),o}function hd(a){let n=Pu(a.parent);const o=a.structuredQuery,u=o.from?o.from.length:0;let d=null;if(u>0){ge(1===u);const Ee=o.from[0];Ee.allDescendants?d=Ee.collectionId:n=n.child(Ee.collectionId)}let w=[];o.where&&(w=ro(o.where));let D=[];o.orderBy&&(D=o.orderBy.map(Ee=>{return new fl(Il((ze=Ee).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ze.direction));var ze}));let B=null;o.limit&&(B=function(Ee){let ze;return ze="object"==typeof Ee?Ee.value:Ee,Gs(ze)?null:ze}(o.limit));let J=null;o.startAt&&(J=Fu(o.startAt));let le=null;return o.endAt&&(le=Fu(o.endAt)),as(n,d,D,w,B,"F",J,le)}function ro(a){return a?void 0!==a.unaryFilter?[pd(a)]:void 0!==a.fieldFilter?[wo(a)]:void 0!==a.compositeFilter?a.compositeFilter.filters.map(n=>ro(n)).reduce((n,o)=>n.concat(o)):ue():[]}function jo(a){return{before:a.before,values:a.position}}function Fu(a){return new hl(a.values||[],!!a.before)}function tp(a){return wh[a]}function np(a){return Xf[a]}function Al(a){return{fieldPath:a.canonicalString()}}function Il(a){return un.fromServerFormat(a.fieldPath)}function wo(a){return to.create(Il(a.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ue()}}(a.fieldFilter.op),a.fieldFilter.value)}function pd(a){switch(a.unaryFilter.op){case"IS_NAN":const n=Il(a.unaryFilter.field);return to.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Il(a.unaryFilter.field);return to.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Il(a.unaryFilter.field);return to.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Il(a.unaryFilter.field);return to.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ue()}}function wc(a){const n=[];return a.fields.forEach(o=>n.push(o.canonicalString())),{fieldPaths:n}}function Ah(a){return a.length>=4&&"projects"===a.get(0)&&"databases"===a.get(2)}function ks(a){let n="";for(let o=0;o<a.length;o++)n.length>0&&(n=bc(n)),n=Lu(a.get(o),n);return bc(n)}function Lu(a,n){let o=n;const u=a.length;for(let d=0;d<u;d++){const w=a.charAt(d);switch(w){case"\0":o+="\x01\x10";break;case"\x01":o+="\x01\x11";break;default:o+=w}}return o}function bc(a){return a+"\x01\x01"}function Jo(a){const n=a.length;if(ge(n>=2),2===n)return ge("\x01"===a.charAt(0)&&"\x01"===a.charAt(1)),Gn.emptyPath();const o=n-2,u=[];let d="";for(let w=0;w<n;){const D=a.indexOf("\x01",w);switch((D<0||D>o)&&ue(),a.charAt(D+1)){case"\x01":const B=a.substring(w,D);let J;0===d.length?J=B:(d+=B,J=d,d=""),u.push(J);break;case"\x10":d+=a.substring(w,D),d+="\0";break;case"\x11":d+=a.substring(w,D+1);break;default:ue()}w=D+2}return new Gn(u)}class Ec{constructor(n,o){this.seconds=n,this.nanoseconds=o}}class Ho{constructor(n,o,u){this.ownerId=n,this.allowTabSynchronization=o,this.leaseTimestampMs=u}}Ho.store="owner",Ho.key="owner";class Tl{constructor(n,o,u){this.userId=n,this.lastAcknowledgedBatchId=o,this.lastStreamToken=u}}Tl.store="mutationQueues",Tl.keyPath="userId";class wi{constructor(n,o,u,d,w){this.userId=n,this.batchId=o,this.localWriteTimeMs=u,this.baseMutations=d,this.mutations=w}}wi.store="mutations",wi.keyPath="batchId",wi.userMutationsIndex="userMutationsIndex",wi.userMutationsKeyPath=["userId","batchId"];class Fs{constructor(){}static prefixForUser(n){return[n]}static prefixForPath(n,o){return[n,ks(o)]}static key(n,o,u){return[n,ks(o),u]}}Fs.store="documentMutations",Fs.PLACEHOLDER=new Fs;class I{constructor(n,o){this.path=n,this.readTime=o}}class g{constructor(n,o){this.path=n,this.version=o}}class m{constructor(n,o,u,d,w,D){this.unknownDocument=n,this.noDocument=o,this.document=u,this.hasCommittedMutations=d,this.readTime=w,this.parentPath=D}}m.store="remoteDocuments",m.readTimeIndex="readTimeIndex",m.readTimeIndexPath="readTime",m.collectionReadTimeIndex="collectionReadTimeIndex",m.collectionReadTimeIndexPath=["parentPath","readTime"];class S{constructor(n){this.byteSize=n}}S.store="remoteDocumentGlobal",S.key="remoteDocumentGlobalKey";class G{constructor(n,o,u,d,w,D,B){this.targetId=n,this.canonicalId=o,this.readTime=u,this.resumeToken=d,this.lastListenSequenceNumber=w,this.lastLimboFreeSnapshotVersion=D,this.query=B}}G.store="targets",G.keyPath="targetId",G.queryTargetsIndexName="queryTargetsIndex",G.queryTargetsKeyPath=["canonicalId","targetId"];class ie{constructor(n,o,u){this.targetId=n,this.path=o,this.sequenceNumber=u}}ie.store="targetDocuments",ie.keyPath=["targetId","path"],ie.documentTargetsIndex="documentTargetsIndex",ie.documentTargetsKeyPath=["path","targetId"];class Be{constructor(n,o,u,d){this.highestTargetId=n,this.highestListenSequenceNumber=o,this.lastRemoteSnapshotVersion=u,this.targetCount=d}}Be.key="targetGlobalKey",Be.store="targetGlobal";class vt{constructor(n,o){this.collectionId=n,this.parent=o}}vt.store="collectionParents",vt.keyPath=["collectionId","parent"];class Ht{constructor(n,o,u,d){this.clientId=n,this.updateTimeMs=o,this.networkEnabled=u,this.inForeground=d}}Ht.store="clientMetadata",Ht.keyPath="clientId";class tn{constructor(n,o,u){this.bundleId=n,this.createTime=o,this.version=u}}tn.store="bundles",tn.keyPath="bundleId";class Bn{constructor(n,o,u){this.name=n,this.readTime=o,this.bundledQuery=u}}Bn.store="namedQueries",Bn.keyPath="name";const zn=[Tl.store,wi.store,Fs.store,m.store,G.store,Ho.store,Be.store,ie.store,Ht.store,S.store,vt.store,tn.store,Bn.store],Is="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $o{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}class Mt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(o=>{this.isDone=!0,this.result=o,this.nextCallback&&this.nextCallback(o)},o=>{this.isDone=!0,this.error=o,this.catchCallback&&this.catchCallback(o)})}catch(n){return this.next(void 0,n)}next(n,o){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(o,this.error):this.wrapSuccess(n,this.result):new Mt((u,d)=>{this.nextCallback=w=>{this.wrapSuccess(n,w).next(u,d)},this.catchCallback=w=>{this.wrapFailure(o,w).next(u,d)}})}toPromise(){return new Promise((n,o)=>{this.next(n,o)})}wrapUserFunction(n){try{const o=n();return o instanceof Mt?o:Mt.resolve(o)}catch(o){return Mt.reject(o)}}wrapSuccess(n,o){return n?this.wrapUserFunction(()=>n(o)):Mt.resolve(o)}wrapFailure(n,o){return n?this.wrapUserFunction(()=>n(o)):Mt.reject(o)}static resolve(n){return new Mt((o,u)=>{o(n)})}static reject(n){return new Mt((o,u)=>{u(n)})}static waitFor(n){return new Mt((o,u)=>{let d=0,w=0,D=!1;n.forEach(B=>{++d,B.next(()=>{++w,D&&w===d&&o()},J=>u(J))}),D=!0,w===d&&o()})}static or(n){let o=Mt.resolve(!1);for(const u of n)o=o.next(d=>d?Mt.resolve(d):u());return o}static forEach(n,o){const u=[];return n.forEach((d,w)=>{u.push(o.call(this,d,w))}),this.waitFor(u)}}class nu{constructor(n,o){this.action=n,this.transaction=o,this.aborted=!1,this.Tt=new A,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{o.error?this.Tt.reject(new ru(n,o.error)):this.Tt.resolve()},this.transaction.onerror=u=>{const d=Vu(u.target.error);this.Tt.reject(new ru(n,d))}}static open(n,o,u,d){try{return new nu(o,n.transaction(d,u))}catch(w){throw new ru(o,w)}}get It(){return this.Tt.promise}abort(n){n&&this.Tt.reject(n),this.aborted||(v("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(n){const o=this.transaction.objectStore(n);return new _a(o)}}class Zo{constructor(n,o,u){this.name=n,this.version=o,this.At=u,12.2===Zo.Rt((0,Le.z$)())&&R("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return v("SimpleDb","Removing database:",n),Dl(window.indexedDB.deleteDatabase(n)).toPromise()}static bt(){if(!(0,Le.hl)())return!1;if(Zo.Pt())return!0;const n=(0,Le.z$)(),o=Zo.Rt(n),u=0<o&&o<10,d=Zo.vt(n),w=0<d&&d<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||u||w)}static Pt(){var n;return"undefined"!=typeof process&&"YES"===(null===(n=process.env)||void 0===n?void 0:n.Vt)}static St(n,o){return n.store(o)}static Rt(n){const o=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=o?o[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static vt(n){const o=n.match(/Android ([\d.]+)/i),u=o?o[1].split(".").slice(0,2).join("."):"-1";return Number(u)}Dt(n){var o=this;return(0,_.Z)(function*(){return o.db||(v("SimpleDb","Opening database:",o.name),o.db=yield new Promise((u,d)=>{const w=indexedDB.open(o.name,o.version);w.onsuccess=D=>{u(D.target.result)},w.onblocked=()=>{d(new ru(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},w.onerror=D=>{const B=D.target.error;d("VersionError"===B.name?new C(T.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===B.name?new C(T.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+B):new ru(n,B))},w.onupgradeneeded=D=>{v("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',D.oldVersion),o.At.Ct(D.target.result,w.transaction,D.oldVersion,o.version).next(()=>{v("SimpleDb","Database upgrade to version "+o.version+" complete")})}})),o.Nt&&(o.db.onversionchange=u=>o.Nt(u)),o.db})()}xt(n){this.Nt=n,this.db&&(this.db.onversionchange=o=>n(o))}runTransaction(n,o,u,d){var w=this;return(0,_.Z)(function*(){const D="readonly"===o;let B=0;for(;;){++B;try{w.db=yield w.Dt(n);const J=nu.open(w.db,n,D?"readonly":"readwrite",u),le=d(J).catch(Ee=>(J.abort(Ee),Mt.reject(Ee))).toPromise();return le.catch(()=>{}),yield J.It,le}catch(J){const le="FirebaseError"!==J.name&&B<3;if(v("SimpleDb","Transaction failed with error:",J.message,"Retrying:",le),w.close(),!le)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ih{constructor(n){this.kt=n,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(n){this.kt=n}done(){this.$t=!0}Mt(n){this.Ot=n}delete(){return Dl(this.kt.delete())}}class ru extends C{constructor(n,o){super(T.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${o}`),this.name="IndexedDbTransactionError"}}function Do(a){return"IndexedDbTransactionError"===a.name}class _a{constructor(n){this.store=n}put(n,o){let u;return void 0!==o?(v("SimpleDb","PUT",this.store.name,n,o),u=this.store.put(o,n)):(v("SimpleDb","PUT",this.store.name,"<auto-key>",n),u=this.store.put(n)),Dl(u)}add(n){return v("SimpleDb","ADD",this.store.name,n,n),Dl(this.store.add(n))}get(n){return Dl(this.store.get(n)).next(o=>(void 0===o&&(o=null),v("SimpleDb","GET",this.store.name,n,o),o))}delete(n){return v("SimpleDb","DELETE",this.store.name,n),Dl(this.store.delete(n))}count(){return v("SimpleDb","COUNT",this.store.name),Dl(this.store.count())}Lt(n,o){const u=this.cursor(this.options(n,o)),d=[];return this.Bt(u,(w,D)=>{d.push(D)}).next(()=>d)}Ut(n,o){v("SimpleDb","DELETE ALL",this.store.name);const u=this.options(n,o);u.qt=!1;const d=this.cursor(u);return this.Bt(d,(w,D,B)=>B.delete())}Kt(n,o){let u;o?u=n:(u={},o=n);const d=this.cursor(u);return this.Bt(d,o)}jt(n){const o=this.cursor({});return new Mt((u,d)=>{o.onerror=w=>{const D=Vu(w.target.error);d(D)},o.onsuccess=w=>{const D=w.target.result;D?n(D.primaryKey,D.value).next(B=>{B?D.continue():u()}):u()}})}Bt(n,o){const u=[];return new Mt((d,w)=>{n.onerror=D=>{w(D.target.error)},n.onsuccess=D=>{const B=D.target.result;if(!B)return void d();const J=new Ih(B),le=o(B.primaryKey,B.value,J);if(le instanceof Mt){const Ee=le.catch(ze=>(J.done(),Mt.reject(ze)));u.push(Ee)}J.isDone?d():null===J.Ft?B.continue():B.continue(J.Ft)}}).next(()=>Mt.waitFor(u))}options(n,o){let u;return void 0!==n&&("string"==typeof n?u=n:o=n),{index:u,range:o}}cursor(n){let o="next";if(n.reverse&&(o="prev"),n.index){const u=this.store.index(n.index);return n.qt?u.openKeyCursor(n.range,o):u.openCursor(n.range,o)}return this.store.openCursor(n.range,o)}}function Dl(a){return new Mt((n,o)=>{a.onsuccess=u=>{n(u.target.result)},a.onerror=u=>{const d=Vu(u.target.error);o(d)}})}let gd=!1;function Vu(a){const n=Zo.Rt((0,Le.z$)());if(n>=12.2&&n<13){const o="An internal error was encountered in the Indexed Database server";if(a.message.indexOf(o)>=0){const u=new C("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${o}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gd||(gd=!0,setTimeout(()=>{throw u},0)),u}}return a}class rp extends $o{constructor(n,o){super(),this.Qt=n,this.currentSequenceNumber=o}}function Mi(a,n){const o=Ue(a);return Zo.St(o.Qt,n)}class Uu{constructor(n,o,u,d){this.batchId=n,this.localWriteTime=o,this.baseMutations=u,this.mutations=d}applyToRemoteDocument(n,o){const u=o.mutationResults;for(let d=0;d<this.mutations.length;d++){const w=this.mutations[d];w.key.isEqual(n.key)&&Du(w,n,u[d])}}applyToLocalView(n){for(const o of this.baseMutations)o.key.isEqual(n.key)&&fc(o,n,this.localWriteTime);for(const o of this.mutations)o.key.isEqual(n.key)&&fc(o,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(o=>{const u=n.get(o.key),d=u;this.applyToLocalView(d),u.isValidDocument()||d.convertToNoDocument(sn.min())})}keys(){return this.mutations.reduce((n,o)=>n.add(o.key),zr())}isEqual(n){return this.batchId===n.batchId&&yn(this.mutations,n.mutations,(o,u)=>od(o,u))&&yn(this.baseMutations,n.baseMutations,(o,u)=>od(o,u))}}class md{constructor(n,o,u,d){this.batch=n,this.commitVersion=o,this.mutationResults=u,this.docVersions=d}static from(n,o,u){ge(n.mutations.length===u.length);let d=ma();const w=n.mutations;for(let D=0;D<w.length;D++)d=d.insert(w[D].key,u[D].version);return new md(n,o,u,d)}}class iu{constructor(n,o,u,d,w=sn.min(),D=sn.min(),B=br.EMPTY_BYTE_STRING){this.target=n,this.targetId=o,this.purpose=u,this.sequenceNumber=d,this.snapshotVersion=w,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=B}withSequenceNumber(n){return new iu(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,o){return new iu(this.target,this.targetId,this.purpose,this.sequenceNumber,o,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new iu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ip{constructor(n){this.Wt=n}}function Bu(a,n){if(n.document)return Eh(a.Wt,n.document,!!n.hasCommittedMutations);if(n.noDocument){const o=gn.fromSegments(n.noDocument.path),u=ju(n.noDocument.readTime),d=Gr.newNoDocument(o,u);return n.hasCommittedMutations?d.setHasCommittedMutations():d}if(n.unknownDocument){const o=gn.fromSegments(n.unknownDocument.path),u=ju(n.unknownDocument.version);return Gr.newUnknownDocument(o,u)}return ue()}function sp(a,n,o){const u=Th(o),d=n.key.path.popLast().toArray();if(n.isFoundDocument()){const w={name:vi(B=a.Wt,(J=n).key),fields:J.data.value.mapValue.fields,updateTime:Ou(B,J.version.toTimestamp())};return new m(null,null,w,n.hasCommittedMutations,u,d)}var B,J;if(n.isNoDocument()){const w=n.key.path.toArray(),D=su(n.version),B=n.hasCommittedMutations;return new m(null,new I(w,D),null,B,u,d)}if(n.isUnknownDocument()){const w=n.key.path.toArray(),D=su(n.version);return new m(new g(w,D),null,null,!0,u,d)}return ue()}function Th(a){const n=a.toTimestamp();return[n.seconds,n.nanoseconds]}function Dh(a){const n=new fr(a[0],a[1]);return sn.fromTimestamp(n)}function su(a){const n=a.toTimestamp();return new Ec(n.seconds,n.nanoseconds)}function ju(a){const n=new fr(a.seconds,a.nanoseconds);return sn.fromTimestamp(n)}function yd(a,n){const o=(n.baseMutations||[]).map(w=>Ch(a.Wt,w));for(let w=0;w<n.mutations.length-1;++w){const D=n.mutations[w];w+1<n.mutations.length&&void 0!==n.mutations[w+1].transform&&(D.updateTransforms=n.mutations[w+1].transform.fieldTransforms,n.mutations.splice(w+1,1),++w)}const u=n.mutations.map(w=>Ch(a.Wt,w)),d=fr.fromMillis(n.localWriteTimeMs);return new Uu(n.batchId,d,o,u)}function tl(a){const n=ju(a.readTime),o=void 0!==a.lastLimboFreeSnapshotVersion?ju(a.lastLimboFreeSnapshotVersion):sn.min();let u;var d;return void 0!==a.query.documents?(ge(1===(d=a.query).documents.length),u=ga(Qa(Pu(d.documents[0])))):u=ga(hd(a.query)),new iu(u,a.targetId,0,a.lastListenSequenceNumber,n,o,br.fromBase64String(a.resumeToken))}function Sh(a,n){const o=su(n.snapshotVersion),u=su(n.lastLimboFreeSnapshotVersion);let d;d=lc(n.target)?zs(a.Wt,n.target):tu(a.Wt,n.target);const w=n.resumeToken.toBase64();return new G(n.targetId,dl(n.target),o,w,n.sequenceNumber,u,d)}function xh(a){const n=hd({parent:a.parent,structuredQuery:a.structuredQuery});return"LAST"===a.limitType?ml(n,n.limit,"L"):n}class y_{getBundleMetadata(n,o){return Rh(n).get(o).next(u=>{if(u)return{id:(d=u).bundleId,createTime:ju(d.createTime),version:d.version};var d})}saveBundleMetadata(n,o){return Rh(n).put({bundleId:(u=o).id,createTime:su(Ps(u.createTime)),version:u.version});var u}getNamedQuery(n,o){return om(n).get(o).next(u=>{if(u)return{name:(d=u).name,query:xh(d.bundledQuery),readTime:ju(d.readTime)};var d})}saveNamedQuery(n,o){return om(n).put({name:(u=o).name,readTime:su(Ps(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Rh(a){return Mi(a,tn.store)}function om(a){return Mi(a,Bn.store)}class __{constructor(){this.Gt=new op}addToCollectionParentIndex(n,o){return this.Gt.add(o),Mt.resolve()}getCollectionParents(n,o){return Mt.resolve(this.Gt.getEntries(o))}}class op{constructor(){this.index={}}add(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o]||new Bi(Gn.comparator),w=!d.has(u);return this.index[o]=d.add(u),w}has(n){const o=n.lastSegment(),u=n.popLast(),d=this.index[o];return d&&d.has(u)}getEntries(n){return(this.index[n]||new Bi(Gn.comparator)).toArray()}}class v_{constructor(){this.zt=new op}addToCollectionParentIndex(n,o){if(!this.zt.has(o)){const u=o.lastSegment(),d=o.popLast();n.addOnCommittedListener(()=>{this.zt.add(o)});const w={collectionId:u,parent:ks(d)};return am(n).put(w)}return Mt.resolve()}getCollectionParents(n,o){const u=[],d=IDBKeyRange.bound([o,""],[si(o),""],!1,!0);return am(n).Lt(d).next(w=>{for(const D of w){if(D.collectionId!==o)break;u.push(Jo(D.parent))}return u})}}function am(a){return Mi(a,vt.store)}const lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class qo{constructor(n,o,u){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=o,this.maximumSequenceNumbersToCollect=u}static withCacheSize(n){return new qo(n,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mh(a,n,o){const u=a.store(wi.store),d=a.store(Fs.store),w=[],D=IDBKeyRange.only(o.batchId);let B=0;const J=u.Kt({range:D},(Ee,ze,bt)=>(B++,bt.delete()));w.push(J.next(()=>{ge(1===B)}));const le=[];for(const Ee of o.mutations){const ze=Fs.key(n,Ee.key.path,o.batchId);w.push(d.delete(ze)),le.push(Ee.key)}return Mt.waitFor(w).next(()=>le)}function _d(a){if(!a)return 0;let n;if(a.document)n=a.document;else if(a.unknownDocument)n=a.unknownDocument;else{if(!a.noDocument)throw ue();n=a.noDocument}return JSON.stringify(n).length}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class vd{constructor(n,o,u,d){this.userId=n,this.N=o,this.Ht=u,this.referenceDelegate=d,this.Jt={}}static Yt(n,o,u,d){ge(""!==n.uid);const w=n.isAuthenticated()?n.uid:"";return new vd(w,o,u,d)}checkEmpty(n){let o=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(n).Kt({index:wi.userMutationsIndex,range:u},(d,w,D)=>{o=!1,D.done()}).next(()=>o)}addMutationBatch(n,o,u,d){const w=Hu(n),D=ou(n);return D.add({}).next(B=>{ge("number"==typeof B);const J=new Uu(B,o,u,d),le=function(bt,Dt,Kt){const Pn=Kt.baseMutations.map(us=>Cl(bt.Wt,us)),vr=Kt.mutations.map(us=>Cl(bt.Wt,us));return new wi(Dt,Kt.batchId,Kt.localWriteTime.toMillis(),Pn,vr)}(this.N,this.userId,J),Ee=[];let ze=new Bi((bt,Dt)=>zt(bt.canonicalString(),Dt.canonicalString()));for(const bt of d){const Dt=Fs.key(this.userId,bt.key.path,B);ze=ze.add(bt.key.path.popLast()),Ee.push(D.put(le)),Ee.push(w.put(Dt,Fs.PLACEHOLDER))}return ze.forEach(bt=>{Ee.push(this.Ht.addToCollectionParentIndex(n,bt))}),n.addOnCommittedListener(()=>{this.Jt[B]=J.keys()}),Mt.waitFor(Ee).next(()=>J)})}lookupMutationBatch(n,o){return ou(n).get(o).next(u=>u?(ge(u.userId===this.userId),yd(this.N,u)):null)}Xt(n,o){return this.Jt[o]?Mt.resolve(this.Jt[o]):this.lookupMutationBatch(n,o).next(u=>{if(u){const d=u.keys();return this.Jt[o]=d,d}return null})}getNextMutationBatchAfterBatchId(n,o){const u=o+1,d=IDBKeyRange.lowerBound([this.userId,u]);let w=null;return ou(n).Kt({index:wi.userMutationsIndex,range:d},(D,B,J)=>{B.userId===this.userId&&(ge(B.batchId>=u),w=yd(this.N,B)),J.done()}).next(()=>w)}getHighestUnacknowledgedBatchId(n){const o=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return ou(n).Kt({index:wi.userMutationsIndex,range:o,reverse:!0},(d,w,D)=>{u=w.batchId,D.done()}).next(()=>u)}getAllMutationBatches(n){const o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(n).Lt(wi.userMutationsIndex,o).next(u=>u.map(d=>yd(this.N,d)))}getAllMutationBatchesAffectingDocumentKey(n,o){const u=Fs.prefixForPath(this.userId,o.path),d=IDBKeyRange.lowerBound(u),w=[];return Hu(n).Kt({range:d},(D,B,J)=>{const[le,Ee,ze]=D,bt=Jo(Ee);if(le===this.userId&&o.path.isEqual(bt))return ou(n).get(ze).next(Dt=>{if(!Dt)throw ue();ge(Dt.userId===this.userId),w.push(yd(this.N,Dt))});J.done()}).next(()=>w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new Bi(zt);const d=[];return o.forEach(w=>{const D=Fs.prefixForPath(this.userId,w.path),B=IDBKeyRange.lowerBound(D),J=Hu(n).Kt({range:B},(le,Ee,ze)=>{const[bt,Dt,Kt]=le,Pn=Jo(Dt);bt===this.userId&&w.path.isEqual(Pn)?u=u.add(Kt):ze.done()});d.push(J)}),Mt.waitFor(d).next(()=>this.Zt(n,u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1,w=Fs.prefixForPath(this.userId,u),D=IDBKeyRange.lowerBound(w);let B=new Bi(zt);return Hu(n).Kt({range:D},(J,le,Ee)=>{const[ze,bt,Dt]=J,Kt=Jo(bt);ze===this.userId&&u.isPrefixOf(Kt)?Kt.length===d&&(B=B.add(Dt)):Ee.done()}).next(()=>this.Zt(n,B))}Zt(n,o){const u=[],d=[];return o.forEach(w=>{d.push(ou(n).get(w).next(D=>{if(null===D)throw ue();ge(D.userId===this.userId),u.push(yd(this.N,D))}))}),Mt.waitFor(d).next(()=>u)}removeMutationBatch(n,o){return Mh(n.Qt,this.userId,o).next(u=>(n.addOnCommittedListener(()=>{this.te(o.batchId)}),Mt.forEach(u,d=>this.referenceDelegate.markPotentiallyOrphaned(n,d))))}te(n){delete this.Jt[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(o=>{if(!o)return Mt.resolve();const u=IDBKeyRange.lowerBound(Fs.prefixForUser(this.userId)),d=[];return Hu(n).Kt({range:u},(w,D,B)=>{if(w[0]===this.userId){const J=Jo(w[1]);d.push(J)}else B.done()}).next(()=>{ge(0===d.length)})})}containsKey(n,o){return um(n,this.userId,o)}ee(n){return ap(n).get(this.userId).next(o=>o||new Tl(this.userId,-1,""))}}function um(a,n,o){const u=Fs.prefixForPath(n,o.path),d=u[1],w=IDBKeyRange.lowerBound(u);let D=!1;return Hu(a).Kt({range:w,qt:!0},(B,J,le)=>{const[Ee,ze,bt]=B;Ee===n&&ze===d&&(D=!0),le.done()}).next(()=>D)}function ou(a){return Mi(a,wi.store)}function Hu(a){return Mi(a,Fs.store)}function ap(a){return Mi(a,Tl.store)}class va{constructor(n){this.ne=n}next(){return this.ne+=2,this.ne}static se(){return new va(0)}static ie(){return new va(-1)}}class cm{constructor(n,o){this.referenceDelegate=n,this.N=o}allocateTargetId(n){return this.re(n).next(o=>{const u=new va(o.highestTargetId);return o.highestTargetId=u.next(),this.oe(n,o).next(()=>o.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.re(n).next(o=>sn.fromTimestamp(new fr(o.lastRemoteSnapshotVersion.seconds,o.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.re(n).next(o=>o.highestListenSequenceNumber)}setTargetsMetadata(n,o,u){return this.re(n).next(d=>(d.highestListenSequenceNumber=o,u&&(d.lastRemoteSnapshotVersion=u.toTimestamp()),o>d.highestListenSequenceNumber&&(d.highestListenSequenceNumber=o),this.oe(n,d)))}addTargetData(n,o){return this.ae(n,o).next(()=>this.re(n).next(u=>(u.targetCount+=1,this.ce(o,u),this.oe(n,u))))}updateTargetData(n,o){return this.ae(n,o)}removeTargetData(n,o){return this.removeMatchingKeysForTargetId(n,o.targetId).next(()=>$u(n).delete(o.targetId)).next(()=>this.re(n)).next(u=>(ge(u.targetCount>0),u.targetCount-=1,this.oe(n,u)))}removeTargets(n,o,u){let d=0;const w=[];return $u(n).Kt((D,B)=>{const J=tl(B);J.sequenceNumber<=o&&null===u.get(J.targetId)&&(d++,w.push(this.removeTargetData(n,J)))}).next(()=>Mt.waitFor(w)).next(()=>d)}forEachTarget(n,o){return $u(n).Kt((u,d)=>{const w=tl(d);o(w)})}re(n){return dm(n).get(Be.key).next(o=>(ge(null!==o),o))}oe(n,o){return dm(n).put(Be.key,o)}ae(n,o){return $u(n).put(Sh(this.N,o))}ce(n,o){let u=!1;return n.targetId>o.highestTargetId&&(o.highestTargetId=n.targetId,u=!0),n.sequenceNumber>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=n.sequenceNumber,u=!0),u}getTargetCount(n){return this.re(n).next(o=>o.targetCount)}getTargetData(n,o){const u=dl(o),d=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let w=null;return $u(n).Kt({range:d,index:G.queryTargetsIndexName},(D,B,J)=>{const le=tl(B);Bl(o,le.target)&&(w=le,J.done())}).next(()=>w)}addMatchingKeys(n,o,u){const d=[],w=Fa(n);return o.forEach(D=>{const B=ks(D.path);d.push(w.put(new ie(u,B))),d.push(this.referenceDelegate.addReference(n,u,D))}),Mt.waitFor(d)}removeMatchingKeys(n,o,u){const d=Fa(n);return Mt.forEach(o,w=>{const D=ks(w.path);return Mt.waitFor([d.delete([u,D]),this.referenceDelegate.removeReference(n,u,w)])})}removeMatchingKeysForTargetId(n,o){const u=Fa(n),d=IDBKeyRange.bound([o],[o+1],!1,!0);return u.delete(d)}getMatchingKeysForTargetId(n,o){const u=IDBKeyRange.bound([o],[o+1],!1,!0),d=Fa(n);let w=zr();return d.Kt({range:u,qt:!0},(D,B,J)=>{const le=Jo(D[1]),Ee=new gn(le);w=w.add(Ee)}).next(()=>w)}containsKey(n,o){const u=ks(o.path),d=IDBKeyRange.bound([u],[si(u)],!1,!0);let w=0;return Fa(n).Kt({index:ie.documentTargetsIndex,qt:!0,range:d},([D,B],J,le)=>{0!==D&&(w++,le.done())}).next(()=>w>0)}Et(n,o){return $u(n).get(o).next(u=>u?tl(u):null)}}function $u(a){return Mi(a,G.store)}function dm(a){return Mi(a,Be.store)}function Fa(a){return Mi(a,ie.store)}function Zu(a){return Nh.apply(this,arguments)}function Nh(){return(Nh=(0,_.Z)(function*(a){if(a.code!==T.FAILED_PRECONDITION||a.message!==Is)throw a;v("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function lp([a,n],[o,u]){const d=zt(a,o);return 0===d?zt(n,u):d}class hm{constructor(n){this.ue=n,this.buffer=new Bi(lp),this.he=0}le(){return++this.he}fe(n){const o=[n,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(o);else{const u=this.buffer.last();lp(o,u)<0&&(this.buffer=this.buffer.delete(u).add(o))}}get maxValue(){return this.buffer.last()[0]}}class up{constructor(n,o){this.garbageCollector=n,this.asyncQueue=o,this.de=!1,this.we=null}start(n){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(n)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(n){var o=this;const u=this.de?3e5:6e4;v("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,_.Z)(function*(){o.we=null,o.de=!0;try{yield n.collectGarbage(o.garbageCollector)}catch(d){Do(d)?v("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",d):yield Zu(d)}yield o._e(n)}))}}class fm{constructor(n,o){this.me=n,this.params=o}calculateTargetCount(n,o){return this.me.ge(n).next(u=>Math.floor(o/100*u))}nthSequenceNumber(n,o){if(0===o)return Mt.resolve(Nt.T);const u=new hm(o);return this.me.forEachTarget(n,d=>u.fe(d.sequenceNumber)).next(()=>this.me.ye(n,d=>u.fe(d))).next(()=>u.maxValue)}removeTargets(n,o,u){return this.me.removeTargets(n,o,u)}removeOrphanedDocuments(n,o){return this.me.removeOrphanedDocuments(n,o)}collect(n,o){return-1===this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector","Garbage collection skipped; disabled"),Mt.resolve(lm)):this.getCacheSize(n).next(u=>u<this.params.cacheSizeCollectionThreshold?(v("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lm):this.pe(n,o))}getCacheSize(n){return this.me.getCacheSize(n)}pe(n,o){let u,d,w,D,B,J,le;const Ee=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(ze=>(ze>this.params.maximumSequenceNumbersToCollect?(v("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ze}`),d=this.params.maximumSequenceNumbersToCollect):d=ze,D=Date.now(),this.nthSequenceNumber(n,d))).next(ze=>(u=ze,B=Date.now(),this.removeTargets(n,u,o))).next(ze=>(w=ze,J=Date.now(),this.removeOrphanedDocuments(n,u))).next(ze=>(le=Date.now(),F()<=st.in.DEBUG&&v("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${D-Ee}ms\n\tDetermined least recently used ${d} in `+(B-D)+`ms\n\tRemoved ${w} targets in `+(J-B)+`ms\n\tRemoved ${ze} documents in `+(le-J)+`ms\nTotal Duration: ${le-Ee}ms`),Mt.resolve({didRun:!0,sequenceNumbersCollected:d,targetsRemoved:w,documentsRemoved:ze})))}}class Oh{constructor(n,o){this.db=n,this.garbageCollector=new fm(this,o)}ge(n){const o=this.Ee(n);return this.db.getTargetCache().getTargetCount(n).next(u=>o.next(d=>u+d))}Ee(n){let o=0;return this.ye(n,u=>{o++}).next(()=>o)}forEachTarget(n,o){return this.db.getTargetCache().forEachTarget(n,o)}ye(n,o){return this.Te(n,(u,d)=>o(d))}addReference(n,o,u){return qu(n,u)}removeReference(n,o,u){return qu(n,u)}removeTargets(n,o,u){return this.db.getTargetCache().removeTargets(n,o,u)}markPotentiallyOrphaned(n,o){return qu(n,o)}Ie(n,o){return function(u,d){let w=!1;return ap(u).jt(D=>um(u,D,d).next(B=>(B&&(w=!0),Mt.resolve(!B)))).next(()=>w)}(n,o)}removeOrphanedDocuments(n,o){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),d=[];let w=0;return this.Te(n,(D,B)=>{if(B<=o){const J=this.Ie(n,D).next(le=>{if(!le)return w++,u.getEntry(n,D).next(()=>(u.removeEntry(D),Fa(n).delete([0,ks(D.path)])))});d.push(J)}}).next(()=>Mt.waitFor(d)).next(()=>u.apply(n)).next(()=>w)}removeTarget(n,o){const u=o.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,u)}updateLimboDocument(n,o){return qu(n,o)}Te(n,o){const u=Fa(n);let d,w=Nt.T;return u.Kt({index:ie.documentTargetsIndex},([D,B],{path:J,sequenceNumber:le})=>{0===D?(w!==Nt.T&&o(new gn(Jo(d)),w),w=le,d=J):w=Nt.T}).next(()=>{w!==Nt.T&&o(new gn(Jo(d)),w)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function qu(a,n){return Fa(a).put((u=a.currentSequenceNumber,new ie(0,ks(n.path),u)));var u}class Gu{constructor(n,o){this.mapKeyFn=n,this.equalsFn=o,this.inner={}}get(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0!==u)for(const[d,w]of u)if(this.equalsFn(d,n))return w}has(n){return void 0!==this.get(n)}set(n,o){const u=this.mapKeyFn(n),d=this.inner[u];if(void 0!==d){for(let w=0;w<d.length;w++)if(this.equalsFn(d[w][0],n))return void(d[w]=[n,o]);d.push([n,o])}else this.inner[u]=[[n,o]]}delete(n){const o=this.mapKeyFn(n),u=this.inner[o];if(void 0===u)return!1;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],n))return 1===u.length?delete this.inner[o]:u.splice(d,1),!0;return!1}forEach(n){Ri(this.inner,(o,u)=>{for(const[d,w]of u)n(d,w)})}isEmpty(){return qi(this.inner)}}class Ph{constructor(){this.changes=new Gu(n=>n.toString(),(n,o)=>n.isEqual(o)),this.changesApplied=!1}getReadTime(n){const o=this.changes.get(n);return o?o.readTime:sn.min()}addEntry(n,o){this.assertNotApplied(),this.changes.set(n.key,{document:n,readTime:o})}removeEntry(n,o=null){this.assertNotApplied(),this.changes.set(n,{document:Gr.newInvalidDocument(n),readTime:o})}getEntry(n,o){this.assertNotApplied();const u=this.changes.get(o);return void 0!==u?Mt.resolve(u.document):this.getFromCache(n,o)}getEntries(n,o){return this.getAllFromCache(n,o)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class pm{constructor(n,o){this.N=n,this.Ht=o}addEntry(n,o,u){return au(n).put(wd(o),u)}removeEntry(n,o){const u=au(n),d=wd(o);return u.delete(d)}updateMetadata(n,o){return this.getMetadata(n).next(u=>(u.byteSize+=o,this.Ae(n,u)))}getEntry(n,o){return au(n).get(wd(o)).next(u=>this.Re(o,u))}be(n,o){return au(n).get(wd(o)).next(u=>({document:this.Re(o,u),size:_d(u)}))}getEntries(n,o){let u=Uo();return this.Pe(n,o,(d,w)=>{const D=this.Re(d,w);u=u.insert(d,D)}).next(()=>u)}ve(n,o){let u=Uo(),d=new ls(gn.comparator);return this.Pe(n,o,(w,D)=>{const B=this.Re(w,D);u=u.insert(w,B),d=d.insert(w,_d(D))}).next(()=>({documents:u,Ve:d}))}Pe(n,o,u){if(o.isEmpty())return Mt.resolve();const d=IDBKeyRange.bound(o.first().path.toArray(),o.last().path.toArray()),w=o.getIterator();let D=w.getNext();return au(n).Kt({range:d},(B,J,le)=>{const Ee=gn.fromSegments(B);for(;D&&gn.comparator(D,Ee)<0;)u(D,null),D=w.getNext();D&&D.isEqual(Ee)&&(u(D,J),D=w.hasNext()?w.getNext():null),D?le.Mt(D.path.toArray()):le.done()}).next(()=>{for(;D;)u(D,null),D=w.hasNext()?w.getNext():null})}getDocumentsMatchingQuery(n,o,u){let d=Uo();const w=o.path.length+1,D={};if(u.isEqual(sn.min())){const B=o.path.toArray();D.range=IDBKeyRange.lowerBound(B)}else{const B=o.path.toArray(),J=Th(u);D.range=IDBKeyRange.lowerBound([B,J],!0),D.index=m.collectionReadTimeIndex}return au(n).Kt(D,(B,J,le)=>{if(B.length!==w)return;const Ee=Bu(this.N,J);o.path.isPrefixOf(Ee.key.path)?Gl(o,Ee)&&(d=d.insert(Ee.key,Ee)):le.done()}).next(()=>d)}newChangeBuffer(n){return new cp(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(o=>o.byteSize)}getMetadata(n){return Cc(n).get(S.key).next(o=>(ge(!!o),o))}Ae(n,o){return Cc(n).put(S.key,o)}Re(n,o){if(o){const u=Bu(this.N,o);if(!u.isNoDocument()||!u.version.isEqual(sn.min()))return u}return Gr.newInvalidDocument(n)}}class cp extends Ph{constructor(n,o){super(),this.Se=n,this.trackRemovals=o,this.De=new Gu(u=>u.toString(),(u,d)=>u.isEqual(d))}applyChanges(n){const o=[];let u=0,d=new Bi((w,D)=>zt(w.canonicalString(),D.canonicalString()));return this.changes.forEach((w,D)=>{const B=this.De.get(w);if(D.document.isValidDocument()){const J=sp(this.Se.N,D.document,this.getReadTime(w));d=d.add(w.path.popLast()),u+=_d(J)-B,o.push(this.Se.addEntry(n,w,J))}else if(u-=B,this.trackRemovals){const J=sp(this.Se.N,Gr.newNoDocument(w,sn.min()),this.getReadTime(w));o.push(this.Se.addEntry(n,w,J))}else o.push(this.Se.removeEntry(n,w))}),d.forEach(w=>{o.push(this.Se.Ht.addToCollectionParentIndex(n,w))}),o.push(this.Se.updateMetadata(n,u)),Mt.waitFor(o)}getFromCache(n,o){return this.Se.be(n,o).next(u=>(this.De.set(o,u.size),u.document))}getAllFromCache(n,o){return this.Se.ve(n,o).next(({documents:u,Ve:d})=>(d.forEach((w,D)=>{this.De.set(w,D)}),u))}}function Cc(a){return Mi(a,S.store)}function au(a){return Mi(a,m.store)}function wd(a){return a.path.toArray()}class w_{constructor(n){this.N=n}Ct(n,o,u,d){ge(u<d&&u>=0&&d<=11);const w=new nu("createOrUpgrade",o);var B;u<1&&d>=1&&(n.createObjectStore(Ho.store),(B=n).createObjectStore(Tl.store,{keyPath:Tl.keyPath}),B.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0}),B.createObjectStore(Fs.store),gm(n),function(B){B.createObjectStore(m.store)}(n));let D=Mt.resolve();return u<3&&d>=3&&(0!==u&&(function(B){B.deleteObjectStore(ie.store),B.deleteObjectStore(G.store),B.deleteObjectStore(Be.store)}(n),gm(n)),D=D.next(()=>function(B){const J=B.store(Be.store),le=new Be(0,0,sn.min().toTimestamp(),0);return J.put(Be.key,le)}(w))),u<4&&d>=4&&(0!==u&&(D=D.next(()=>function(B,J){return J.store(wi.store).Lt().next(le=>{B.deleteObjectStore(wi.store),B.createObjectStore(wi.store,{keyPath:wi.keyPath,autoIncrement:!0}).createIndex(wi.userMutationsIndex,wi.userMutationsKeyPath,{unique:!0});const Ee=J.store(wi.store),ze=le.map(bt=>Ee.put(bt));return Mt.waitFor(ze)})}(n,w))),D=D.next(()=>{!function(B){B.createObjectStore(Ht.store,{keyPath:Ht.keyPath})}(n)})),u<5&&d>=5&&(D=D.next(()=>this.Ce(w))),u<6&&d>=6&&(D=D.next(()=>(function(B){B.createObjectStore(S.store)}(n),this.Ne(w)))),u<7&&d>=7&&(D=D.next(()=>this.xe(w))),u<8&&d>=8&&(D=D.next(()=>this.ke(n,w))),u<9&&d>=9&&(D=D.next(()=>{(function(B){B.objectStoreNames.contains("remoteDocumentChanges")&&B.deleteObjectStore("remoteDocumentChanges")})(n),function(B){const J=B.objectStore(m.store);J.createIndex(m.readTimeIndex,m.readTimeIndexPath,{unique:!1}),J.createIndex(m.collectionReadTimeIndex,m.collectionReadTimeIndexPath,{unique:!1})}(o)})),u<10&&d>=10&&(D=D.next(()=>this.$e(w))),u<11&&d>=11&&(D=D.next(()=>{(function(B){B.createObjectStore(tn.store,{keyPath:tn.keyPath})})(n),function(B){B.createObjectStore(Bn.store,{keyPath:Bn.keyPath})}(n)})),D}Ne(n){let o=0;return n.store(m.store).Kt((u,d)=>{o+=_d(d)}).next(()=>{const u=new S(o);return n.store(S.store).put(S.key,u)})}Ce(n){const o=n.store(Tl.store),u=n.store(wi.store);return o.Lt().next(d=>Mt.forEach(d,w=>{const D=IDBKeyRange.bound([w.userId,-1],[w.userId,w.lastAcknowledgedBatchId]);return u.Lt(wi.userMutationsIndex,D).next(B=>Mt.forEach(B,J=>{ge(J.userId===w.userId);const le=yd(this.N,J);return Mh(n,w.userId,le).next(()=>{})}))}))}xe(n){const o=n.store(ie.store),u=n.store(m.store);return n.store(Be.store).get(Be.key).next(d=>{const w=[];return u.Kt((D,B)=>{const J=new Gn(D),le=[0,ks(J)];w.push(o.get(le).next(Ee=>Ee?Mt.resolve():o.put(new ie(0,ks(J),d.highestListenSequenceNumber))))}).next(()=>Mt.waitFor(w))})}ke(n,o){n.createObjectStore(vt.store,{keyPath:vt.keyPath});const u=o.store(vt.store),d=new op,w=D=>{if(d.add(D)){const B=D.lastSegment(),J=D.popLast();return u.put({collectionId:B,parent:ks(J)})}};return o.store(m.store).Kt({qt:!0},(D,B)=>{const J=new Gn(D);return w(J.popLast())}).next(()=>o.store(Fs.store).Kt({qt:!0},([D,B,J],le)=>{const Ee=Jo(B);return w(Ee.popLast())}))}$e(n){const o=n.store(G.store);return o.Kt((u,d)=>{const w=tl(d),D=Sh(this.N,w);return o.put(D)})}}function gm(a){a.createObjectStore(ie.store,{keyPath:ie.keyPath}).createIndex(ie.documentTargetsIndex,ie.documentTargetsKeyPath,{unique:!0}),a.createObjectStore(G.store,{keyPath:G.keyPath}).createIndex(G.queryTargetsIndexName,G.queryTargetsKeyPath,{unique:!0}),a.createObjectStore(Be.store)}const kh="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bd{constructor(n,o,u,d,w,D,B,J,le,Ee){if(this.allowTabSynchronization=n,this.persistenceKey=o,this.clientId=u,this.Oe=w,this.window=D,this.document=B,this.Fe=le,this.Me=Ee,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=ze=>Promise.resolve(),!bd.bt())throw new C(T.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Oh(this,d),this.We=o+"main",this.N=new ip(J),this.Ge=new Zo(this.We,11,new w_(this.N)),this.ze=new cm(this.referenceDelegate,this.N),this.Ht=new v_,this.He=new pm(this.N,this.Ht),this.Je=new y_,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===Ee&&R("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new C(T.FAILED_PRECONDITION,kh);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.ze.getHighestSequenceNumber(n))}).then(n=>{this.Le=new Nt(n,this.Fe)}).then(()=>{this.Be=!0}).catch(n=>(this.Ge&&this.Ge.close(),Promise.reject(n)))}nn(n){var o=this;return this.Qe=function(){var u=(0,_.Z)(function*(d){if(o.started)return n(d)});return function(d){return u.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ge.xt(function(){var o=(0,_.Z)(function*(u){null===u.newVersion&&(yield n())});return function(u){return o.apply(this,arguments)}}())}setNetworkEnabled(n){var o=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.Oe.enqueueAndForget((0,_.Z)(function*(){o.started&&(yield o.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>dp(n).put(new Ht(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(n).next(o=>{o||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(n)).next(o=>this.isPrimary&&!o?this.on(n).next(()=>!1):!!o&&this.an(n).next(()=>!0))).catch(n=>{if(Do(n))return v("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return v("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.Oe.enqueueRetryable(()=>this.Qe(n)),this.isPrimary=n})}sn(n){return Ac(n).get(Ho.key).next(o=>Mt.resolve(this.cn(o)))}un(n){return dp(n).delete(this.clientId)}hn(){var n=this;return(0,_.Z)(function*(){if(n.isPrimary&&!n.ln(n.je,18e5)){n.je=Date.now();const o=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const d=Mi(u,Ht.store);return d.Lt().next(w=>{const D=n.fn(w,18e5),B=w.filter(J=>-1===D.indexOf(J));return Mt.forEach(B,J=>d.delete(J.clientId)).next(()=>B)})}).catch(()=>[]);if(n.Ye)for(const u of o)n.Ye.removeItem(n.dn(u.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(n){return!!n&&n.ownerId===this.clientId}rn(n){return this.Me?Mt.resolve(!0):Ac(n).get(Ho.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)){if(this.cn(o)&&this.networkEnabled)return!0;if(!this.cn(o)){if(!o.allowTabSynchronization)throw new C(T.FAILED_PRECONDITION,kh);return!1}}return!(!this.networkEnabled||!this.inForeground)||dp(n).Lt().next(u=>void 0===this.fn(u,5e3).find(d=>{if(this.clientId!==d.clientId){const D=!this.inForeground&&d.inForeground,B=this.networkEnabled===d.networkEnabled;if(!this.networkEnabled&&d.networkEnabled||D&&B)return!0}return!1}))}).next(o=>(this.isPrimary!==o&&v("IndexedDbPersistence",`Client ${o?"is":"is not"} eligible for a primary lease.`),o))}shutdown(){var n=this;return(0,_.Z)(function*(){n.Be=!1,n._n(),n.Ke&&(n.Ke.cancel(),n.Ke=null),n.mn(),n.gn(),yield n.Ge.runTransaction("shutdown","readwrite",[Ho.store,Ht.store],o=>{const u=new rp(o,Nt.T);return n.on(u).next(()=>n.un(u))}),n.Ge.close(),n.yn()})()}fn(n,o){return n.filter(u=>this.ln(u.updateTimeMs,o)&&!this.wn(u.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",n=>dp(n).Lt().next(o=>this.fn(o,18e5).map(u=>u.clientId)))}get started(){return this.Be}getMutationQueue(n){return vd.Yt(n,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(n,o,u){let w;return v("IndexedDbPersistence","Starting transaction:",n),this.Ge.runTransaction(n,"readonly"===o?"readonly":"readwrite",zn,D=>(w=new rp(D,this.Le?this.Le.next():Nt.T),"readwrite-primary"===o?this.sn(w).next(B=>!!B||this.rn(w)).next(B=>{if(!B)throw R(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new C(T.FAILED_PRECONDITION,Is);return u(w)}).next(B=>this.an(w).next(()=>B)):this.En(w).next(()=>u(w)))).then(D=>(w.raiseOnCommittedEvent(),D))}En(n){return Ac(n).get(Ho.key).next(o=>{if(null!==o&&this.ln(o.leaseTimestampMs,5e3)&&!this.wn(o.ownerId)&&!this.cn(o)&&!(this.Me||this.allowTabSynchronization&&o.allowTabSynchronization))throw new C(T.FAILED_PRECONDITION,kh)})}an(n){const o=new Ho(this.clientId,this.allowTabSynchronization,Date.now());return Ac(n).put(Ho.key,o)}static bt(){return Zo.bt()}on(n){const o=Ac(n);return o.get(Ho.key).next(u=>this.cn(u)?(v("IndexedDbPersistence","Releasing primary lease."),o.delete(Ho.key)):Mt.resolve())}ln(n,o){const u=Date.now();return!(n<u-o||n>u&&(R(`Detected an update time that is in the future: ${n} > ${u}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Ue=()=>{this._n(),(0,Le.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(n){var o;try{const u=null!==(null===(o=this.Ye)||void 0===o?void 0:o.getItem(this.dn(n)));return v("IndexedDbPersistence",`Client '${n}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return R("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(n){R("Failed to set zombie client id.",n)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(n){}}dn(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function Ac(a){return Mi(a,Ho.store)}function dp(a){return Mi(a,Ht.store)}function Fh(a,n){let o=a.projectId;return a.isDefaultDatabase||(o+="."+a.database),"firestore/"+n+"/"+o+"/"}class b_{constructor(n,o){this.progress=n,this.Tn=o}}class hp{constructor(n,o,u){this.He=n,this.In=o,this.Ht=u}An(n,o){return this.In.getAllMutationBatchesAffectingDocumentKey(n,o).next(u=>this.Rn(n,o,u))}Rn(n,o,u){return this.He.getEntry(n,o).next(d=>{for(const w of u)w.applyToLocalView(d);return d})}bn(n,o){n.forEach((u,d)=>{for(const w of o)w.applyToLocalView(d)})}Pn(n,o){return this.He.getEntries(n,o).next(u=>this.vn(n,u).next(()=>u))}vn(n,o){return this.In.getAllMutationBatchesAffectingDocumentKeys(n,o).next(u=>this.bn(o,u))}getDocumentsMatchingQuery(n,o,u){return gn.isDocumentKey((d=o).path)&&null===d.collectionGroup&&0===d.filters.length?this.Vn(n,o.path):ql(o)?this.Sn(n,o,u):this.Dn(n,o,u);var d}Vn(n,o){return this.An(n,new gn(o)).next(u=>{let d=wl();return u.isFoundDocument()&&(d=d.insert(u.key,u)),d})}Sn(n,o,u){const d=o.collectionGroup;let w=wl();return this.Ht.getCollectionParents(n,d).next(D=>Mt.forEach(D,B=>{const J=(le=o,Ee=B.child(d),new fa(Ee,null,le.explicitOrderBy.slice(),le.filters.slice(),le.limit,le.limitType,le.startAt,le.endAt));var le,Ee;return this.Dn(n,J,u).next(le=>{le.forEach((Ee,ze)=>{w=w.insert(Ee,ze)})})}).next(()=>w))}Dn(n,o,u){let d,w;return this.He.getDocumentsMatchingQuery(n,o,u).next(D=>(d=D,this.In.getAllMutationBatchesAffectingQuery(n,o))).next(D=>(w=D,this.Cn(n,w,d).next(B=>{d=B;for(const J of w)for(const le of J.mutations){const Ee=le.key;let ze=d.get(Ee);null==ze&&(ze=Gr.newInvalidDocument(Ee),d=d.insert(Ee,ze)),fc(le,ze,J.localWriteTime),ze.isFoundDocument()||(d=d.remove(Ee))}}))).next(()=>(d.forEach((D,B)=>{Gl(o,B)||(d=d.remove(D))}),d))}Cn(n,o,u){let d=zr();for(const D of o)for(const B of D.mutations)B instanceof Ja&&null===u.get(B.key)&&(d=d.add(B.key));let w=u;return this.He.getEntries(n,d).next(D=>(D.forEach((B,J)=>{J.isFoundDocument()&&(w=w.insert(B,J))}),w))}}class fp{constructor(n,o,u,d){this.targetId=n,this.fromCache=o,this.Nn=u,this.xn=d}static kn(n,o){let u=zr(),d=zr();for(const w of o.docChanges)switch(w.type){case 0:u=u.add(w.doc.key);break;case 1:d=d.add(w.doc.key)}return new fp(n,o.fromCache,u,d)}}class mm{$n(n){this.On=n}getDocumentsMatchingQuery(n,o,u,d){return 0===(w=o).filters.length&&null===w.limit&&null==w.startAt&&null==w.endAt&&(0===w.explicitOrderBy.length||1===w.explicitOrderBy.length&&w.explicitOrderBy[0].field.isKeyField())||u.isEqual(sn.min())?this.Fn(n,o):this.On.Pn(n,d).next(w=>{const D=this.Mn(o,w);return(cc(o)||pa(o))&&this.Ln(o.limitType,D,d,u)?this.Fn(n,o):(F()<=st.in.DEBUG&&v("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Da(o)),this.On.getDocumentsMatchingQuery(n,o,u).next(B=>(D.forEach(J=>{B=B.insert(J.key,J)}),B)))});var w}Mn(n,o){let u=new Bi(rd(n));return o.forEach((d,w)=>{Gl(n,w)&&(u=u.add(w))}),u}Ln(n,o,u,d){if(u.size!==o.size)return!0;const w="F"===n?o.last():o.first();return!!w&&(w.hasPendingWrites||w.version.compareTo(d)>0)}Fn(n,o){return F()<=st.in.DEBUG&&v("QueryEngine","Using full collection scan to execute query:",Da(o)),this.On.getDocumentsMatchingQuery(n,o,sn.min())}}class La{constructor(n,o,u,d){this.persistence=n,this.Bn=o,this.N=d,this.Un=new ls(zt),this.qn=new Gu(w=>dl(w),Bl),this.Kn=sn.min(),this.In=n.getMutationQueue(u),this.jn=n.getRemoteDocumentCache(),this.ze=n.getTargetCache(),this.Qn=new hp(this.jn,this.In,this.persistence.getIndexManager()),this.Je=n.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",o=>n.collect(o,this.Un))}}function ym(a,n,o,u){return new La(a,n,o,u)}function pp(a,n){return gp.apply(this,arguments)}function gp(){return(gp=(0,_.Z)(function*(a,n){const o=Ue(a);let u=o.In,d=o.Qn;const w=yield o.persistence.runTransaction("Handle user change","readonly",D=>{let B;return o.In.getAllMutationBatches(D).next(J=>(B=J,u=o.persistence.getMutationQueue(n),d=new hp(o.jn,u,o.persistence.getIndexManager()),u.getAllMutationBatches(D))).next(J=>{const le=[],Ee=[];let ze=zr();for(const bt of B){le.push(bt.batchId);for(const Dt of bt.mutations)ze=ze.add(Dt.key)}for(const bt of J){Ee.push(bt.batchId);for(const Dt of bt.mutations)ze=ze.add(Dt.key)}return d.Pn(D,ze).next(bt=>({Wn:bt,removedBatchIds:le,addedBatchIds:Ee}))})});return o.In=u,o.Qn=d,o.Bn.$n(o.Qn),w})).apply(this,arguments)}function E_(a,n){const o=Ue(a);return o.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const d=n.batch.keys(),w=o.jn.newChangeBuffer({trackRemovals:!0});return function(D,B,J,le){const Ee=J.batch,ze=Ee.keys();let bt=Mt.resolve();return ze.forEach(Dt=>{bt=bt.next(()=>le.getEntry(B,Dt)).next(Kt=>{const Pn=J.docVersions.get(Dt);ge(null!==Pn),Kt.version.compareTo(Pn)<0&&(Ee.applyToRemoteDocument(Kt,J),Kt.isValidDocument()&&le.addEntry(Kt,J.commitVersion))})}),bt.next(()=>D.In.removeMutationBatch(B,Ee))}(o,u,n,w).next(()=>w.apply(u)).next(()=>o.In.performConsistencyCheck(u)).next(()=>o.Qn.Pn(u,d))})}function _m(a){const n=Ue(a);return n.persistence.runTransaction("Get last remote snapshot version","readonly",o=>n.ze.getLastRemoteSnapshotVersion(o))}function C_(a,n){const o=Ue(a),u=n.snapshotVersion;let d=o.Un;return o.persistence.runTransaction("Apply remote event","readwrite-primary",w=>{const D=o.jn.newChangeBuffer({trackRemovals:!0});d=o.Un;const B=[];n.targetChanges.forEach((le,Ee)=>{const ze=d.get(Ee);if(!ze)return;B.push(o.ze.removeMatchingKeys(w,le.removedDocuments,Ee).next(()=>o.ze.addMatchingKeys(w,le.addedDocuments,Ee)));const bt=le.resumeToken;if(bt.approximateByteSize()>0){const Dt=ze.withResumeToken(bt,u).withSequenceNumber(w.currentSequenceNumber);d=d.insert(Ee,Dt),Kt=ze,vr=le,ge((Pn=Dt).resumeToken.approximateByteSize()>0),(0===Kt.resumeToken.approximateByteSize()||Pn.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||vr.addedDocuments.size+vr.modifiedDocuments.size+vr.removedDocuments.size>0)&&B.push(o.ze.updateTargetData(w,Dt))}var Kt,Pn,vr});let J=Uo();if(n.documentUpdates.forEach((le,Ee)=>{n.resolvedLimboDocuments.has(le)&&B.push(o.persistence.referenceDelegate.updateLimboDocument(w,le))}),B.push(mp(w,D,n.documentUpdates,u,void 0).next(le=>{J=le})),!u.isEqual(sn.min())){const le=o.ze.getLastRemoteSnapshotVersion(w).next(Ee=>o.ze.setTargetsMetadata(w,w.currentSequenceNumber,u));B.push(le)}return Mt.waitFor(B).next(()=>D.apply(w)).next(()=>o.Qn.vn(w,J)).next(()=>J)}).then(w=>(o.Un=d,w))}function mp(a,n,o,u,d){let w=zr();return o.forEach(D=>w=w.add(D)),n.getEntries(a,w).next(D=>{let B=Uo();return o.forEach((J,le)=>{const Ee=D.get(J),ze=(null==d?void 0:d.get(J))||u;le.isNoDocument()&&le.version.isEqual(sn.min())?(n.removeEntry(J,ze),B=B.insert(J,le)):!Ee.isValidDocument()||le.version.compareTo(Ee.version)>0||0===le.version.compareTo(Ee.version)&&Ee.hasPendingWrites?(n.addEntry(le,ze),B=B.insert(J,le)):v("LocalStore","Ignoring outdated watch update for ",J,". Current version:",Ee.version," Watch version:",le.version)}),B})}function A_(a,n){const o=Ue(a);return o.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===n&&(n=-1),o.In.getNextMutationBatchAfterBatchId(u,n)))}function Ic(a,n){const o=Ue(a);return o.persistence.runTransaction("Allocate target","readwrite",u=>{let d;return o.ze.getTargetData(u,n).next(w=>w?(d=w,Mt.resolve(d)):o.ze.allocateTargetId(u).next(D=>(d=new iu(n,D,0,u.currentSequenceNumber),o.ze.addTargetData(u,d).next(()=>d))))}).then(u=>{const d=o.Un.get(u.targetId);return(null===d||u.snapshotVersion.compareTo(d.snapshotVersion)>0)&&(o.Un=o.Un.insert(u.targetId,u),o.qn.set(n,u.targetId)),u})}function Tc(a,n,o){return dr.apply(this,arguments)}function dr(){return(dr=(0,_.Z)(function*(a,n,o){const u=Ue(a),d=u.Un.get(n),w=o?"readwrite":"readwrite-primary";try{o||(yield u.persistence.runTransaction("Release target",w,D=>u.persistence.referenceDelegate.removeTarget(D,d)))}catch(D){if(!Do(D))throw D;v("LocalStore",`Failed to update sequence numbers for target ${n}: ${D}`)}u.Un=u.Un.remove(n),u.qn.delete(d.target)})).apply(this,arguments)}function Ed(a,n,o){const u=Ue(a);let d=sn.min(),w=zr();return u.persistence.runTransaction("Execute query","readonly",D=>function(B,J,le){const Ee=Ue(B),ze=Ee.qn.get(le);return void 0!==ze?Mt.resolve(Ee.Un.get(ze)):Ee.ze.getTargetData(J,le)}(u,D,ga(n)).next(B=>{if(B)return d=B.lastLimboFreeSnapshotVersion,u.ze.getMatchingKeysForTargetId(D,B.targetId).next(J=>{w=J})}).next(()=>u.Bn.getDocumentsMatchingQuery(D,n,o?d:sn.min(),o?w:zr())).next(B=>({documents:B,Gn:w})))}function yp(a,n){const o=Ue(a),u=Ue(o.ze),d=o.Un.get(n);return d?Promise.resolve(d.target):o.persistence.runTransaction("Get target data","readonly",w=>u.Et(w,n).next(D=>D?D.target:null))}function Cd(a){const n=Ue(a);return n.persistence.runTransaction("Get new document changes","readonly",o=>function(u,d,w){const D=Ue(u);let B=Uo(),J=Th(w);const le=au(d),Ee=IDBKeyRange.lowerBound(J,!0);return le.Kt({index:m.readTimeIndex,range:Ee},(ze,bt)=>{const Dt=Bu(D.N,bt);B=B.insert(Dt.key,Dt),J=bt.readTime}).next(()=>({Tn:B,readTime:Dh(J)}))}(n.jn,o,n.Kn)).then(({Tn:o,readTime:u})=>(n.Kn=u,o))}function Lh(){return(Lh=(0,_.Z)(function*(a){const n=Ue(a);return n.persistence.runTransaction("Synchronize last document change read time","readonly",o=>function(u){const d=au(u);let w=sn.min();return d.Kt({index:m.readTimeIndex,reverse:!0},(D,B,J)=>{B.readTime&&(w=Dh(B.readTime)),J.done()}).next(()=>w)}(o)).then(o=>{n.Kn=o})})).apply(this,arguments)}function Ad(){return(Ad=(0,_.Z)(function*(a,n,o,u){const d=Ue(a);let w=zr(),D=Uo(),B=ma();for(const Ee of o){const ze=n.zn(Ee.metadata.name);Ee.document&&(w=w.add(ze)),D=D.insert(ze,n.Hn(Ee)),B=B.insert(ze,n.Jn(Ee.metadata.readTime))}const J=d.jn.newChangeBuffer({trackRemovals:!0}),le=yield Ic(d,(Ee=u,ga(Qa(Gn.fromString(`__bundle__/docs/${Ee}`)))));var Ee;return d.persistence.runTransaction("Apply bundle documents","readwrite",Ee=>mp(Ee,J,D,sn.min(),B).next(ze=>(J.apply(Ee),ze)).next(ze=>d.ze.removeMatchingKeysForTargetId(Ee,le.targetId).next(()=>d.ze.addMatchingKeys(Ee,w,le.targetId)).next(()=>d.Qn.vn(Ee,ze)).next(()=>ze)))})).apply(this,arguments)}function Sl(a,n){return Id.apply(this,arguments)}function Id(){return(Id=(0,_.Z)(function*(a,n,o=zr()){const u=yield Ic(a,ga(xh(n.bundledQuery))),d=Ue(a);return d.persistence.runTransaction("Save named query","readwrite",w=>{const D=Ps(n.readTime);if(u.snapshotVersion.compareTo(D)>=0)return d.Je.saveNamedQuery(w,n);const B=u.withResumeToken(br.EMPTY_BYTE_STRING,D);return d.Un=d.Un.insert(B.targetId,B),d.ze.updateTargetData(w,B).next(()=>d.ze.removeMatchingKeysForTargetId(w,u.targetId)).next(()=>d.ze.addMatchingKeys(w,o,u.targetId)).next(()=>d.Je.saveNamedQuery(w,n))})})).apply(this,arguments)}class vm{constructor(n){this.N=n,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(n,o){return Mt.resolve(this.Yn.get(o))}saveBundleMetadata(n,o){var u;return this.Yn.set(o.id,{id:(u=o).id,version:u.version,createTime:Ps(u.createTime)}),Mt.resolve()}getNamedQuery(n,o){return Mt.resolve(this.Xn.get(o))}saveNamedQuery(n,o){return this.Xn.set(o.name,{name:(u=o).name,query:xh(u.bundledQuery),readTime:Ps(u.readTime)}),Mt.resolve();var u}}class Td{constructor(){this.Zn=new Bi(bo.ts),this.es=new Bi(bo.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(n,o){const u=new bo(n,o);this.Zn=this.Zn.add(u),this.es=this.es.add(u)}ss(n,o){n.forEach(u=>this.addReference(u,o))}removeReference(n,o){this.rs(new bo(n,o))}os(n,o){n.forEach(u=>this.removeReference(u,o))}cs(n){const o=new gn(new Gn([])),u=new bo(o,n),d=new bo(o,n+1),w=[];return this.es.forEachInRange([u,d],D=>{this.rs(D),w.push(D.key)}),w}us(){this.Zn.forEach(n=>this.rs(n))}rs(n){this.Zn=this.Zn.delete(n),this.es=this.es.delete(n)}hs(n){const o=new gn(new Gn([])),u=new bo(o,n),d=new bo(o,n+1);let w=zr();return this.es.forEachInRange([u,d],D=>{w=w.add(D.key)}),w}containsKey(n){const o=new bo(n,0),u=this.Zn.firstAfterOrEqual(o);return null!==u&&n.isEqual(u.key)}}class bo{constructor(n,o){this.key=n,this.ls=o}static ts(n,o){return gn.comparator(n.key,o.key)||zt(n.ls,o.ls)}static ns(n,o){return zt(n.ls,o.ls)||gn.comparator(n.key,o.key)}}class wm{constructor(n,o){this.Ht=n,this.referenceDelegate=o,this.In=[],this.fs=1,this.ds=new Bi(bo.ts)}checkEmpty(n){return Mt.resolve(0===this.In.length)}addMutationBatch(n,o,u,d){const w=this.fs;this.fs++;const D=new Uu(w,o,u,d);this.In.push(D);for(const B of d)this.ds=this.ds.add(new bo(B.key,w)),this.Ht.addToCollectionParentIndex(n,B.key.path.popLast());return Mt.resolve(D)}lookupMutationBatch(n,o){return Mt.resolve(this.ws(o))}getNextMutationBatchAfterBatchId(n,o){const d=this._s(o+1),w=d<0?0:d;return Mt.resolve(this.In.length>w?this.In[w]:null)}getHighestUnacknowledgedBatchId(){return Mt.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(n){return Mt.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(n,o){const u=new bo(o,0),d=new bo(o,Number.POSITIVE_INFINITY),w=[];return this.ds.forEachInRange([u,d],D=>{const B=this.ws(D.ls);w.push(B)}),Mt.resolve(w)}getAllMutationBatchesAffectingDocumentKeys(n,o){let u=new Bi(zt);return o.forEach(d=>{const w=new bo(d,0),D=new bo(d,Number.POSITIVE_INFINITY);this.ds.forEachInRange([w,D],B=>{u=u.add(B.ls)})}),Mt.resolve(this.gs(u))}getAllMutationBatchesAffectingQuery(n,o){const u=o.path,d=u.length+1;let w=u;gn.isDocumentKey(w)||(w=w.child(""));const D=new bo(new gn(w),0);let B=new Bi(zt);return this.ds.forEachWhile(J=>{const le=J.key.path;return!!u.isPrefixOf(le)&&(le.length===d&&(B=B.add(J.ls)),!0)},D),Mt.resolve(this.gs(B))}gs(n){const o=[];return n.forEach(u=>{const d=this.ws(u);null!==d&&o.push(d)}),o}removeMutationBatch(n,o){ge(0===this.ys(o.batchId,"removed")),this.In.shift();let u=this.ds;return Mt.forEach(o.mutations,d=>{const w=new bo(d.key,o.batchId);return u=u.delete(w),this.referenceDelegate.markPotentiallyOrphaned(n,d.key)}).next(()=>{this.ds=u})}te(n){}containsKey(n,o){const u=new bo(o,0),d=this.ds.firstAfterOrEqual(u);return Mt.resolve(o.isEqual(d&&d.key))}performConsistencyCheck(n){return Mt.resolve()}ys(n,o){return this._s(n)}_s(n){return 0===this.In.length?0:n-this.In[0].batchId}ws(n){const o=this._s(n);return o<0||o>=this.In.length?null:this.In[o]}}class Pw{constructor(n,o){this.Ht=n,this.ps=o,this.docs=new ls(gn.comparator),this.size=0}addEntry(n,o,u){const d=o.key,w=this.docs.get(d),D=w?w.size:0,B=this.ps(o);return this.docs=this.docs.insert(d,{document:o.clone(),size:B,readTime:u}),this.size+=B-D,this.Ht.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const o=this.docs.get(n);o&&(this.docs=this.docs.remove(n),this.size-=o.size)}getEntry(n,o){const u=this.docs.get(o);return Mt.resolve(u?u.document.clone():Gr.newInvalidDocument(o))}getEntries(n,o){let u=Uo();return o.forEach(d=>{const w=this.docs.get(d);u=u.insert(d,w?w.document.clone():Gr.newInvalidDocument(d))}),Mt.resolve(u)}getDocumentsMatchingQuery(n,o,u){let d=Uo();const w=new gn(o.path.child("")),D=this.docs.getIteratorFrom(w);for(;D.hasNext();){const{key:B,value:{document:J,readTime:le}}=D.getNext();if(!o.path.isPrefixOf(B.path))break;le.compareTo(u)<=0||Gl(o,J)&&(d=d.insert(J.key,J.clone()))}return Mt.resolve(d)}Es(n,o){return Mt.forEach(this.docs,u=>o(u))}newChangeBuffer(n){return new xl(this)}getSize(n){return Mt.resolve(this.size)}}class xl extends Ph{constructor(n){super(),this.Se=n}applyChanges(n){const o=[];return this.changes.forEach((u,d)=>{d.document.isValidDocument()?o.push(this.Se.addEntry(n,d.document,this.getReadTime(u))):this.Se.removeEntry(u)}),Mt.waitFor(o)}getFromCache(n,o){return this.Se.getEntry(n,o)}getAllFromCache(n,o){return this.Se.getEntries(n,o)}}class Vh{constructor(n){this.persistence=n,this.Ts=new Gu(o=>dl(o),Bl),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.Is=0,this.As=new Td,this.targetCount=0,this.Rs=va.se()}forEachTarget(n,o){return this.Ts.forEach((u,d)=>o(d)),Mt.resolve()}getLastRemoteSnapshotVersion(n){return Mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Mt.resolve(this.Is)}allocateTargetId(n){return this.highestTargetId=this.Rs.next(),Mt.resolve(this.highestTargetId)}setTargetsMetadata(n,o,u){return u&&(this.lastRemoteSnapshotVersion=u),o>this.Is&&(this.Is=o),Mt.resolve()}ae(n){this.Ts.set(n.target,n);const o=n.targetId;o>this.highestTargetId&&(this.Rs=new va(o),this.highestTargetId=o),n.sequenceNumber>this.Is&&(this.Is=n.sequenceNumber)}addTargetData(n,o){return this.ae(o),this.targetCount+=1,Mt.resolve()}updateTargetData(n,o){return this.ae(o),Mt.resolve()}removeTargetData(n,o){return this.Ts.delete(o.target),this.As.cs(o.targetId),this.targetCount-=1,Mt.resolve()}removeTargets(n,o,u){let d=0;const w=[];return this.Ts.forEach((D,B)=>{B.sequenceNumber<=o&&null===u.get(B.targetId)&&(this.Ts.delete(D),w.push(this.removeMatchingKeysForTargetId(n,B.targetId)),d++)}),Mt.waitFor(w).next(()=>d)}getTargetCount(n){return Mt.resolve(this.targetCount)}getTargetData(n,o){const u=this.Ts.get(o)||null;return Mt.resolve(u)}addMatchingKeys(n,o,u){return this.As.ss(o,u),Mt.resolve()}removeMatchingKeys(n,o,u){this.As.os(o,u);const d=this.persistence.referenceDelegate,w=[];return d&&o.forEach(D=>{w.push(d.markPotentiallyOrphaned(n,D))}),Mt.waitFor(w)}removeMatchingKeysForTargetId(n,o){return this.As.cs(o),Mt.resolve()}getMatchingKeysForTargetId(n,o){const u=this.As.hs(o);return Mt.resolve(u)}containsKey(n,o){return Mt.resolve(this.As.containsKey(o))}}class Uh{constructor(n,o){this.bs={},this.Le=new Nt(0),this.Be=!1,this.Be=!0,this.referenceDelegate=n(this),this.ze=new Vh(this),this.Ht=new __,this.He=new Pw(this.Ht,u=>this.referenceDelegate.Ps(u)),this.N=new ip(o),this.Je=new vm(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(n){let o=this.bs[n.toKey()];return o||(o=new wm(this.Ht,this.referenceDelegate),this.bs[n.toKey()]=o),o}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(n,o,u){v("MemoryPersistence","Starting transaction:",n);const d=new _p(this.Le.next());return this.referenceDelegate.vs(),u(d).next(w=>this.referenceDelegate.Vs(d).next(()=>w)).toPromise().then(w=>(d.raiseOnCommittedEvent(),w))}Ss(n,o){return Mt.or(Object.values(this.bs).map(u=>()=>u.containsKey(n,o)))}}class _p extends $o{constructor(n){super(),this.currentSequenceNumber=n}}class bm{constructor(n){this.persistence=n,this.Ds=new Td,this.Cs=null}static Ns(n){return new bm(n)}get xs(){if(this.Cs)return this.Cs;throw ue()}addReference(n,o,u){return this.Ds.addReference(u,o),this.xs.delete(u.toString()),Mt.resolve()}removeReference(n,o,u){return this.Ds.removeReference(u,o),this.xs.add(u.toString()),Mt.resolve()}markPotentiallyOrphaned(n,o){return this.xs.add(o.toString()),Mt.resolve()}removeTarget(n,o){this.Ds.cs(o.targetId).forEach(d=>this.xs.add(d.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(n,o.targetId).next(d=>{d.forEach(w=>this.xs.add(w.toString()))}).next(()=>u.removeTargetData(n,o))}vs(){this.Cs=new Set}Vs(n){const o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mt.forEach(this.xs,u=>{const d=gn.fromPath(u);return this.ks(n,d).next(w=>{w||o.removeEntry(d)})}).next(()=>(this.Cs=null,o.apply(n)))}updateLimboDocument(n,o){return this.ks(n,o).next(u=>{u?this.xs.delete(o.toString()):this.xs.add(o.toString())})}Ps(n){return 0}ks(n,o){return Mt.or([()=>Mt.resolve(this.Ds.containsKey(o)),()=>this.persistence.getTargetCache().containsKey(n,o),()=>this.persistence.Ss(n,o)])}}function Em(a,n){return`firestore_clients_${a}_${n}`}function vp(a,n,o){let u=`firestore_mutations_${a}_${o}`;return n.isAuthenticated()&&(u+=`_${n.uid}`),u}function Cm(a,n){return`firestore_targets_${a}_${n}`}class Bh{constructor(n,o,u,d){this.user=n,this.batchId=o,this.state=u,this.error=d}static $s(n,o,u){const d=JSON.parse(u);let w,D="object"==typeof d&&-1!==["pending","acknowledged","rejected"].indexOf(d.state)&&(void 0===d.error||"object"==typeof d.error);return D&&d.error&&(D="string"==typeof d.error.message&&"string"==typeof d.error.code,D&&(w=new C(d.error.code,d.error.message))),D?new Bh(n,o,d.state,w):(R("SharedClientState",`Failed to parse mutation state for ID '${o}': ${u}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class jh{constructor(n,o,u){this.targetId=n,this.state=o,this.error=u}static $s(n,o){const u=JSON.parse(o);let d,w="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return w&&u.error&&(w="string"==typeof u.error.message&&"string"==typeof u.error.code,w&&(d=new C(u.error.code,u.error.message))),w?new jh(n,u.state,d):(R("SharedClientState",`Failed to parse target state for ID '${n}': ${o}`),null)}Os(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class Dd{constructor(n,o){this.clientId=n,this.activeTargetIds=o}static $s(n,o){const u=JSON.parse(o);let d="object"==typeof u&&u.activeTargetIds instanceof Array,w=Mu();for(let D=0;d&&D<u.activeTargetIds.length;++D)d=_i(u.activeTargetIds[D]),w=w.add(u.activeTargetIds[D]);return d?new Dd(n,w):(R("SharedClientState",`Failed to parse client data for instance '${n}': ${o}`),null)}}class Hh{constructor(n,o){this.clientId=n,this.onlineState=o}static $s(n){const o=JSON.parse(n);return"object"==typeof o&&-1!==["Unknown","Online","Offline"].indexOf(o.onlineState)&&"string"==typeof o.clientId?new Hh(o.clientId,o.onlineState):(R("SharedClientState",`Failed to parse online state: ${n}`),null)}}class wp{constructor(){this.activeTargetIds=Mu()}Fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}Ms(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Os(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Sd{constructor(n,o,u,d,w){this.window=n,this.Oe=o,this.persistenceKey=u,this.Ls=d,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new ls(zt),this.started=!1,this.Ks=[];const D=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=w,this.js=Em(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new wp),this.Ws=new RegExp(`^firestore_clients_${D}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${D}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${D}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(B){return`firestore_bundle_loaded_${B}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,_.Z)(function*(){const o=yield n.syncEngine.pn();for(const d of o){if(d===n.Ls)continue;const w=n.getItem(Em(n.persistenceKey,d));if(w){const D=Dd.$s(d,w);D&&(n.qs=n.qs.insert(D.clientId,D))}}n.Ys();const u=n.storage.getItem(n.Hs);if(u){const d=n.Xs(u);d&&n.Zs(d)}for(const d of n.Ks)n.Us(d);n.Ks=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.Qs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(n){let o=!1;return this.qs.forEach((u,d)=>{d.activeTargetIds.has(n)&&(o=!0)}),o}addPendingMutation(n){this.ei(n,"pending")}updateMutationState(n,o,u){this.ei(n,o,u),this.ni(n)}addLocalQueryTarget(n){let o="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(Cm(this.persistenceKey,n));if(u){const d=jh.$s(n,u);d&&(o=d.state)}}return this.si.Fs(n),this.Ys(),o}removeLocalQueryTarget(n){this.si.Ms(n),this.Ys()}isLocalQueryTarget(n){return this.si.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Cm(this.persistenceKey,n))}updateQueryState(n,o,u){this.ii(n,o,u)}handleUserChange(n,o,u){o.forEach(d=>{this.ni(d)}),this.currentUser=n,u.forEach(d=>{this.addPendingMutation(d)})}setOnlineState(n){this.ri(n)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(n){const o=this.storage.getItem(n);return v("SharedClientState","READ",n,o),o}setItem(n,o){v("SharedClientState","SET",n,o),this.storage.setItem(n,o)}removeItem(n){v("SharedClientState","REMOVE",n),this.storage.removeItem(n)}Us(n){var o=this;const u=n;if(u.storageArea===this.storage){if(v("SharedClientState","EVENT",u.key,u.newValue),u.key===this.js)return void R("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_.Z)(function*(){if(o.started){if(null!==u.key)if(o.Ws.test(u.key)){if(null==u.newValue){const d=o.ai(u.key);return o.ci(d,null)}{const d=o.ui(u.key,u.newValue);if(d)return o.ci(d.clientId,d)}}else if(o.Gs.test(u.key)){if(null!==u.newValue){const d=o.hi(u.key,u.newValue);if(d)return o.li(d)}}else if(o.zs.test(u.key)){if(null!==u.newValue){const d=o.fi(u.key,u.newValue);if(d)return o.di(d)}}else if(u.key===o.Hs){if(null!==u.newValue){const d=o.Xs(u.newValue);if(d)return o.Zs(d)}}else if(u.key===o.Qs){const d=function(w){let D=Nt.T;if(null!=w)try{const B=JSON.parse(w);ge("number"==typeof B),D=B}catch(B){R("SharedClientState","Failed to read sequence number from WebStorage",B)}return D}(u.newValue);d!==Nt.T&&o.sequenceNumberHandler(d)}else if(u.key===o.Js)return o.syncEngine.wi()}else o.Ks.push(u)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(n,o,u){const d=new Bh(this.currentUser,n,o,u),w=vp(this.persistenceKey,this.currentUser,n);this.setItem(w,d.Os())}ni(n){const o=vp(this.persistenceKey,this.currentUser,n);this.removeItem(o)}ri(n){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:n}))}ii(n,o,u){const d=Cm(this.persistenceKey,n),w=new jh(n,o,u);this.setItem(d,w.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(n){const o=this.Ws.exec(n);return o?o[1]:null}ui(n,o){const u=this.ai(n);return Dd.$s(u,o)}hi(n,o){const u=this.Gs.exec(n),d=Number(u[1]);return Bh.$s(new os(void 0!==u[2]?u[2]:null),d,o)}fi(n,o){const u=this.zs.exec(n),d=Number(u[1]);return jh.$s(d,o)}Xs(n){return Hh.$s(n)}li(n){var o=this;return(0,_.Z)(function*(){if(n.user.uid===o.currentUser.uid)return o.syncEngine._i(n.batchId,n.state,n.error);v("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}di(n){return this.syncEngine.mi(n.targetId,n.state,n.error)}ci(n,o){const u=o?this.qs.insert(n,o):this.qs.remove(n),d=this.ti(this.qs),w=this.ti(u),D=[],B=[];return w.forEach(J=>{d.has(J)||D.push(J)}),d.forEach(J=>{w.has(J)||B.push(J)}),this.syncEngine.gi(D,B).then(()=>{this.qs=u})}Zs(n){this.qs.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ti(n){let o=Mu();return n.forEach((u,d)=>{o=o.unionWith(d.activeTargetIds)}),o}}class T_{constructor(){this.yi=new wp,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,o,u){}addLocalQueryTarget(n){return this.yi.Fs(n),this.pi[n]||"not-current"}updateQueryState(n,o,u){this.pi[n]=o}removeLocalQueryTarget(n){this.yi.Ms(n)}isLocalQueryTarget(n){return this.yi.activeTargetIds.has(n)}clearQueryState(n){delete this.pi[n]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(n){return this.yi.activeTargetIds.has(n)}start(){return this.yi=new wp,Promise.resolve()}handleUserChange(n,o,u){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class kw{Ei(n){}shutdown(){}}class D_{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(n){this.bi.push(n)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){v("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.bi)n(0)}Ri(){v("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.bi)n(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Lw{constructor(n){this.vi=n.vi,this.Vi=n.Vi}Si(n){this.Di=n}Ci(n){this.Ni=n}onMessage(n){this.xi=n}close(){this.Vi()}send(n){this.vi(n)}ki(){this.Di()}$i(n){this.Ni(n)}Oi(n){this.xi(n)}}class Vw extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.Fi=(n.ssl?"https":"http")+"://"+n.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(n,o,u,d){const w=this.Bi(n,o);v("RestConnection","Sending: ",w,u);const D={};return this.Ui(D,d),this.qi(n,w,D,u).then(B=>(v("RestConnection","Received: ",B),B),B=>{throw W("RestConnection",`${n} failed with error: `,B,"url: ",w,"request:",u),B})}Ki(n,o,u,d){return this.Li(n,o,u,d)}Ui(n,o){if(n["X-Goog-Api-Client"]="gl-js/ fire/"+ko,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),o)for(const u in o.authHeaders)o.authHeaders.hasOwnProperty(u)&&(n[u]=o.authHeaders[u])}Bi(n,o){return`${this.Fi}/v1/${o}:${Fw[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}qi(n,o,u,d){return new Promise((w,D)=>{const B=new cl;B.listenOnce(Po.COMPLETE,()=>{try{switch(B.getLastErrorCode()){case oa.NO_ERROR:const le=B.getResponseJson();v("Connection","XHR received:",JSON.stringify(le)),w(le);break;case oa.TIMEOUT:v("Connection",'RPC "'+n+'" timed out'),D(new C(T.DEADLINE_EXCEEDED,"Request time out"));break;case oa.HTTP_ERROR:const Ee=B.getStatus();if(v("Connection",'RPC "'+n+'" failed with status:',Ee,"response text:",B.getResponseText()),Ee>0){const ze=B.getResponseJson().error;if(ze&&ze.status&&ze.message){const bt=function(Dt){const Kt=Dt.toLowerCase().replace(/_/g,"-");return Object.values(T).indexOf(Kt)>=0?Kt:T.UNKNOWN}(ze.status);D(new C(bt,ze.message))}else D(new C(T.UNKNOWN,"Server responded with status "+B.getStatus()))}else D(new C(T.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{v("Connection",'RPC "'+n+'" completed.')}});const J=JSON.stringify(d);B.send(o,"POST",J,u,15)})}ji(n,o){const u=[this.Fi,"/","google.firestore.v1.Firestore","/",n,"/channel"],d=sa(),w=yi(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new ka({})),this.Ui(D.initMessageHeaders,o),(0,Le.uI)()||(0,Le.b$)()||(0,Le.d)()||(0,Le.w1)()||(0,Le.Mn)()||(0,Le.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");const B=u.join("");v("Connection","Creating WebChannel: "+B,D);const J=d.createWebChannel(B,D);let le=!1,Ee=!1;const ze=new Lw({vi:Dt=>{Ee?v("Connection","Not sending because WebChannel is closed:",Dt):(le||(v("Connection","Opening WebChannel transport."),J.open(),le=!0),v("Connection","WebChannel sending:",Dt),J.send(Dt))},Vi:()=>J.close()}),bt=(Dt,Kt,Pn)=>{Dt.listen(Kt,vr=>{try{Pn(vr)}catch(us){setTimeout(()=>{throw us},0)}})};return bt(J,qa.EventType.OPEN,()=>{Ee||v("Connection","WebChannel transport opened.")}),bt(J,qa.EventType.CLOSE,()=>{Ee||(Ee=!0,v("Connection","WebChannel transport closed"),ze.$i())}),bt(J,qa.EventType.ERROR,Dt=>{Ee||(Ee=!0,W("Connection","WebChannel transport errored:",Dt),ze.$i(new C(T.UNAVAILABLE,"The operation could not be completed")))}),bt(J,qa.EventType.MESSAGE,Dt=>{var Kt;if(!Ee){const Pn=Dt.data[0];ge(!!Pn);const vr=Pn,us=vr.error||(null===(Kt=vr[0])||void 0===Kt?void 0:Kt.error);if(us){v("Connection","WebChannel received error:",us);const Ko=us.status;let Pl=function(eh){const Rf=As[eh];if(void 0!==Rf)return yh(Rf)}(Ko),$a=us.message;void 0===Pl&&(Pl=T.INTERNAL,$a="Unknown error status: "+Ko+" with message "+us.message),Ee=!0,ze.$i(new C(Pl,$a)),J.close()}else v("Connection","WebChannel received:",Pn),ze.Oi(Pn)}}),bt(w,Qo.STAT_EVENT,Dt=>{Dt.stat===aa.PROXY?v("Connection","Detected buffering proxy"):Dt.stat===aa.NOPROXY&&v("Connection","Detected no buffering proxy")}),setTimeout(()=>{ze.ki()},0),ze}}function S_(){return"undefined"!=typeof window?window:null}function bp(){return"undefined"!=typeof document?document:null}function $h(a){return new ep(a,!0)}class Am{constructor(n,o,u=1e3,d=1.5,w=6e4){this.Oe=n,this.timerId=o,this.Qi=u,this.Wi=d,this.Gi=w,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(n){this.cancel();const o=Math.floor(this.zi+this.Zi()),u=Math.max(0,Date.now()-this.Ji),d=Math.max(0,o-u);d>0&&v("ExponentialBackoff",`Backing off for ${d} ms (base delay: ${this.zi} ms, delay with jitter: ${o} ms, last attempt: ${u} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,d,()=>(this.Ji=Date.now(),n())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class x_{constructor(n,o,u,d,w,D){this.Oe=n,this.er=u,this.nr=d,this.credentialsProvider=w,this.listener=D,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Am(n,o)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var n=this;return(0,_.Z)(function*(){n.ar()&&(yield n.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(n){this._r(),this.stream.send(n)}dr(){var n=this;return(0,_.Z)(function*(){if(n.cr())return n.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(n,o){var u=this;return(0,_.Z)(function*(){u._r(),u.rr.cancel(),u.sr++,3!==n?u.rr.reset():o&&o.code===T.RESOURCE_EXHAUSTED?(R(o.toString()),R("Using maximum backoff delay to prevent overloading the backend."),u.rr.Yi()):o&&o.code===T.UNAUTHENTICATED&&u.credentialsProvider.invalidateToken(),null!==u.stream&&(u.mr(),u.stream.close(),u.stream=null),u.state=n,yield u.listener.Ci(o)})()}mr(){}auth(){this.state=1;const n=this.gr(this.sr),o=this.sr;this.credentialsProvider.getToken().then(u=>{this.sr===o&&this.yr(u)},u=>{n(()=>{const d=new C(T.UNKNOWN,"Fetching auth token failed: "+u.message);return this.pr(d)})})}yr(n){const o=this.gr(this.sr);this.stream=this.Er(n),this.stream.Si(()=>{o(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(u=>{o(()=>this.pr(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}ur(){var n=this;this.state=4,this.rr.Xi((0,_.Z)(function*(){n.state=0,n.start()}))}pr(n){return v("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(3,n)}gr(n){return o=>{this.Oe.enqueueAndForget(()=>this.sr===n?o():(v("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lu extends x_{constructor(n,o,u,d,w){super(n,"listen_stream_connection_backoff","listen_stream_idle",o,u,w),this.N=d}Er(n){return this.nr.ji("Listen",n)}onMessage(n){this.rr.reset();const o=function(a,n){let o;if("targetChange"in n){const u="NO_CHANGE"===(J=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===J?1:"REMOVE"===J?2:"CURRENT"===J?3:"RESET"===J?4:ue(),d=n.targetChange.targetIds||[],w=function(J,le){return J.D?(ge(void 0===le||"string"==typeof le),br.fromBase64String(le||"")):(ge(void 0===le||le instanceof Uint8Array),br.fromUint8Array(le||new Uint8Array))}(a,n.targetChange.resumeToken),D=n.targetChange.cause,B=D&&function(J){const le=void 0===J.code?T.UNKNOWN:yh(J.code);return new C(le,J.message||"")}(D);o=new _c(u,d,w,B||null)}else if("documentChange"in n){const u=n.documentChange,d=ya(a,u.document.name),w=Ps(u.document.updateTime),D=new Jr({mapValue:{fields:u.document.fields}}),B=Gr.newFoundDocument(d,w,D);o=new Nu(u.targetIds||[],u.removedTargetIds||[],B.key,B)}else if("documentDelete"in n){const u=n.documentDelete,d=ya(a,u.document),w=u.readTime?Ps(u.readTime):sn.min(),D=Gr.newNoDocument(d,w);o=new Nu([],u.removedTargetIds||[],D.key,D)}else if("documentRemove"in n){const u=n.documentRemove,d=ya(a,u.document);o=new Nu([],u.removedTargetIds||[],d,null)}else{if(!("filter"in n))return ue();{const u=n.filter,w=new Xa(u.count||0);o=new yc(u.targetId,w)}}var J;return o}(this.N,n),u=function(d){if(!("targetChange"in d))return sn.min();const w=d.targetChange;return w.targetIds&&w.targetIds.length?sn.min():w.readTime?Ps(w.readTime):sn.min()}(n);return this.listener.Tr(o,u)}Ir(n){const o={};o.database=el(this.N),o.addTarget=function(d,w){let D;const B=w.target;return D=lc(B)?{documents:zs(d,B)}:{query:tu(d,B)},D.targetId=w.targetId,w.resumeToken.approximateByteSize()>0?D.resumeToken=ld(d,w.resumeToken):w.snapshotVersion.compareTo(sn.min())>0&&(D.readTime=Ou(d,w.snapshotVersion.toTimestamp())),D}(this.N,n);const u=function(a,n){const o=function(u,d){switch(d){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ue()}}(0,n.purpose);return null==o?null:{"goog-listen-tags":o}}(0,n);u&&(o.labels=u),this.wr(o)}Ar(n){const o={};o.database=el(this.N),o.removeTarget=n,this.wr(o)}}class Ep extends x_{constructor(n,o,u,d,w){super(n,"write_stream_connection_backoff","write_stream_idle",o,u,w),this.N=d,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(n){return this.nr.ji("Write",n)}onMessage(n){if(ge(!!n.streamToken),this.lastStreamToken=n.streamToken,this.Rr){this.rr.reset();const o=function(a,n){return a&&a.length>0?(ge(void 0!==n),a.map(o=>function(u,d){let w=Ps(u.updateTime?u.updateTime:d);return w.isEqual(sn.min())&&(w=Ps(d)),new Kf(w,u.transformResults||[])}(o,n))):[]}(n.writeResults,n.commitTime),u=Ps(n.commitTime);return this.listener.vr(u,o)}return ge(!n.writeResults||0===n.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const n={};n.database=el(this.N),this.wr(n)}Pr(n){const o={streamToken:this.lastStreamToken,writes:n.map(u=>Cl(this.N,u))};this.wr(o)}}class R_ extends class{}{constructor(n,o,u){super(),this.credentials=n,this.nr=o,this.N=u,this.Dr=!1}Cr(){if(this.Dr)throw new C(T.FAILED_PRECONDITION,"The client has already been terminated.")}Li(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Li(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===T.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new C(T.UNKNOWN,d.toString())})}Ki(n,o,u){return this.Cr(),this.credentials.getToken().then(d=>this.nr.Ki(n,o,u,d)).catch(d=>{throw"FirebaseError"===d.name?(d.code===T.UNAUTHENTICATED&&this.credentials.invalidateToken(),d):new C(T.UNKNOWN,d.toString())})}terminate(){this.Dr=!0}}class Im{constructor(n,o){this.asyncQueue=n,this.onlineStateHandler=o,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(n){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.Fr("Offline")))}set(n){this.Br(),this.Nr=0,"Online"===n&&(this.$r=!1),this.Fr(n)}Fr(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}Mr(n){const o=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(R(o),this.$r=!1):v("OnlineStateTracker",o)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class Cp{constructor(n,o,u,d,w){var D=this;this.localStore=n,this.datastore=o,this.asyncQueue=u,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=w,this.Qr.Ei(B=>{u.enqueueAndForget((0,_.Z)(function*(){var J;uu(D)&&(v("RemoteStore","Restarting streams for network reachability change."),yield(J=(0,_.Z)(function*(le){const Ee=Ue(le);Ee.Kr.add(4),yield Sc(Ee),Ee.Wr.set("Unknown"),Ee.Kr.delete(4),yield Dc(Ee)}),function(le){return J.apply(this,arguments)})(D))}))}),this.Wr=new Im(u,d)}}function Dc(a){return xd.apply(this,arguments)}function xd(){return(xd=(0,_.Z)(function*(a){if(uu(a))for(const n of a.jr)yield n(!0)})).apply(this,arguments)}function Sc(a){return nl.apply(this,arguments)}function nl(){return(nl=(0,_.Z)(function*(a){for(const n of a.jr)yield n(!1)})).apply(this,arguments)}function Rd(a,n){const o=Ue(a);o.qr.has(n.targetId)||(o.qr.set(n.targetId,n),qh(o)?Ap(o):kd(o).cr()&&Tm(o,n))}function Md(a,n){const o=Ue(a),u=kd(o);o.qr.delete(n),u.cr()&&Zh(o,n),0===o.qr.size&&(u.cr()?u.lr():uu(o)&&o.Wr.set("Unknown"))}function Tm(a,n){a.Gr.Y(n.targetId),kd(a).Ir(n)}function Zh(a,n){a.Gr.Y(n),kd(a).Ar(n)}function Ap(a){a.Gr=new sm({getRemoteKeysForTarget:n=>a.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>a.qr.get(n)||null}),kd(a).start(),a.Wr.Or()}function qh(a){return uu(a)&&!kd(a).ar()&&a.qr.size>0}function uu(a){return 0===Ue(a).Kr.size}function Dm(a){a.Gr=void 0}function Nd(a){return cu.apply(this,arguments)}function cu(){return(cu=(0,_.Z)(function*(a){a.qr.forEach((n,o)=>{Tm(a,n)})})).apply(this,arguments)}function Ip(a,n){return du.apply(this,arguments)}function du(){return(du=(0,_.Z)(function*(a,n){Dm(a),qh(a)?(a.Wr.Lr(n),Ap(a)):a.Wr.set("Unknown")})).apply(this,arguments)}function Od(a,n,o){return hu.apply(this,arguments)}function hu(){return(hu=(0,_.Z)(function*(a,n,o){if(a.Wr.set("Online"),n instanceof _c&&2===n.state&&n.cause)try{yield(u=(0,_.Z)(function*(d,w){const D=w.cause;for(const B of w.targetIds)d.qr.has(B)&&(yield d.remoteSyncer.rejectListen(B,D),d.qr.delete(B),d.Gr.removeTarget(B))}),function(d,w){return u.apply(this,arguments)})(a,n)}catch(u){v("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),u),yield Gh(a,u)}else if(n instanceof Nu?a.Gr.rt(n):n instanceof yc?a.Gr.ft(n):a.Gr.ct(n),!o.isEqual(sn.min()))try{const u=yield _m(a.localStore);o.compareTo(u)>=0&&(yield function(d,w){const D=d.Gr._t(w);return D.targetChanges.forEach((B,J)=>{if(B.resumeToken.approximateByteSize()>0){const le=d.qr.get(J);le&&d.qr.set(J,le.withResumeToken(B.resumeToken,w))}}),D.targetMismatches.forEach(B=>{const J=d.qr.get(B);if(!J)return;d.qr.set(B,J.withResumeToken(br.EMPTY_BYTE_STRING,J.snapshotVersion)),Zh(d,B);const le=new iu(J.target,B,1,J.sequenceNumber);Tm(d,le)}),d.remoteSyncer.applyRemoteEvent(D)}(a,o))}catch(u){v("RemoteStore","Failed to raise snapshot:",u),yield Gh(a,u)}var u})).apply(this,arguments)}function Gh(a,n,o){return zh.apply(this,arguments)}function zh(){return(zh=(0,_.Z)(function*(a,n,o){if(!Do(n))throw n;a.Kr.add(1),yield Sc(a),a.Wr.set("Offline"),o||(o=()=>_m(a.localStore)),a.asyncQueue.enqueueRetryable((0,_.Z)(function*(){v("RemoteStore","Retrying IndexedDB access"),yield o(),a.Kr.delete(1),yield Dc(a)}))})).apply(this,arguments)}function Tp(a,n){return n().catch(o=>Gh(a,o,n))}function fu(a){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,_.Z)(function*(a){const n=Ue(a),o=zu(n);let u=n.Ur.length>0?n.Ur[n.Ur.length-1].batchId:-1;for(;Sm(n);)try{const d=yield A_(n.localStore,u);if(null===d){0===n.Ur.length&&o.lr();break}u=d.batchId,Wh(n,d)}catch(d){yield Gh(n,d)}xm(n)&&Dp(n)})).apply(this,arguments)}function Sm(a){return uu(a)&&a.Ur.length<10}function Wh(a,n){a.Ur.push(n);const o=zu(a);o.cr()&&o.br&&o.Pr(n.mutations)}function xm(a){return uu(a)&&!zu(a).ar()&&a.Ur.length>0}function Dp(a){zu(a).start()}function Uw(a){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,_.Z)(function*(a){zu(a).Sr()})).apply(this,arguments)}function Rm(a){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,_.Z)(function*(a){const n=zu(a);for(const o of a.Ur)n.Pr(o.mutations)})).apply(this,arguments)}function Mm(a,n,o){return xp.apply(this,arguments)}function xp(){return(xp=(0,_.Z)(function*(a,n,o){const u=a.Ur.shift(),d=md.from(u,n,o);yield Tp(a,()=>a.remoteSyncer.applySuccessfulWrite(d)),yield fu(a)})).apply(this,arguments)}function M_(a,n){return Go.apply(this,arguments)}function Go(){return(Go=(0,_.Z)(function*(a,n){var o;n&&zu(a).br&&(yield(o=(0,_.Z)(function*(u,d){if(pc(w=d.code)&&w!==T.ABORTED){const D=u.Ur.shift();zu(u).hr(),yield Tp(u,()=>u.remoteSyncer.rejectFailedWrite(D.batchId,d)),yield fu(u)}var w}),function(u,d){return o.apply(this,arguments)})(a,n)),xm(a)&&Dp(a)})).apply(this,arguments)}function Rp(a,n){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,_.Z)(function*(a,n){const o=Ue(a);n?(o.Kr.delete(2),yield Dc(o)):n||(o.Kr.add(2),yield Sc(o),o.Wr.set("Unknown"))})).apply(this,arguments)}function kd(a){return a.zr||(a.zr=function(n,o,u){const d=Ue(n);return d.Cr(),new lu(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:Nd.bind(null,a),Ci:Ip.bind(null,a),Tr:Od.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.zr.hr(),qh(a)?Ap(a):a.Wr.set("Unknown")):(yield a.zr.stop(),Dm(a))});return function(o){return n.apply(this,arguments)}}())),a.zr}function zu(a){return a.Hr||(a.Hr=function(n,o,u){const d=Ue(n);return d.Cr(),new Ep(o,d.nr,d.credentials,d.N,u)}(a.datastore,a.asyncQueue,{Si:Uw.bind(null,a),Ci:M_.bind(null,a),Vr:Rm.bind(null,a),vr:Mm.bind(null,a)}),a.jr.push(function(){var n=(0,_.Z)(function*(o){o?(a.Hr.hr(),yield fu(a)):(yield a.Hr.stop(),a.Ur.length>0&&(v("RemoteStore",`Stopping write stream with ${a.Ur.length} pending writes`),a.Ur=[]))});return function(o){return n.apply(this,arguments)}}())),a.Hr}class Yh{constructor(n,o,u,d,w){this.asyncQueue=n,this.timerId=o,this.targetTimeMs=u,this.op=d,this.removalCallback=w,this.deferred=new A,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(n,o,u,d,w){const D=Date.now()+u,B=new Yh(n,o,D,d,w);return B.start(u),B}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(T.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(a,n){if(R("AsyncQueue",`${n}: ${a}`),Do(a))return new C(T.UNAVAILABLE,`${n}: ${a}`);throw a}class xc{constructor(n){this.comparator=n?(o,u)=>n(o,u)||gn.comparator(o.key,u.key):(o,u)=>gn.comparator(o.key,u.key),this.keyedMap=wl(),this.sortedSet=new ls(this.comparator)}static emptySet(n){return new xc(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const o=this.keyedMap.get(n);return o?this.sortedSet.indexOf(o):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((o,u)=>(n(o),!1))}add(n){const o=this.delete(n.key);return o.copy(o.keyedMap.insert(n.key,n),o.sortedSet.insert(n,null))}delete(n){const o=this.get(n);return o?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(o)):this}isEqual(n){if(!(n instanceof xc)||this.size!==n.size)return!1;const o=this.sortedSet.getIterator(),u=n.sortedSet.getIterator();for(;o.hasNext();){const d=o.getNext().key,w=u.getNext().key;if(!d.isEqual(w))return!1}return!0}toString(){const n=[];return this.forEach(o=>{n.push(o.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,o){const u=new xc;return u.comparator=this.comparator,u.keyedMap=n,u.sortedSet=o,u}}class Qh{constructor(){this.Jr=new ls(gn.comparator)}track(n){const o=n.doc.key,u=this.Jr.get(o);u?0!==n.type&&3===u.type?this.Jr=this.Jr.insert(o,n):3===n.type&&1!==u.type?this.Jr=this.Jr.insert(o,{type:u.type,doc:n.doc}):2===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):2===n.type&&0===u.type?this.Jr=this.Jr.insert(o,{type:0,doc:n.doc}):1===n.type&&0===u.type?this.Jr=this.Jr.remove(o):1===n.type&&2===u.type?this.Jr=this.Jr.insert(o,{type:1,doc:u.doc}):0===n.type&&1===u.type?this.Jr=this.Jr.insert(o,{type:2,doc:n.doc}):ue():this.Jr=this.Jr.insert(o,n)}Yr(){const n=[];return this.Jr.inorderTraversal((o,u)=>{n.push(u)}),n}}class Wu{constructor(n,o,u,d,w,D,B,J){this.query=n,this.docs=o,this.oldDocs=u,this.docChanges=d,this.mutatedKeys=w,this.fromCache=D,this.syncStateChanged=B,this.excludesMetadataChanges=J}static fromInitialDocuments(n,o,u,d){const w=[];return o.forEach(D=>{w.push({type:0,doc:D})}),new Wu(n,o,xc.emptySet(o),w,u,d,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&vo(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const o=this.docChanges,u=n.docChanges;if(o.length!==u.length)return!1;for(let d=0;d<o.length;d++)if(o[d].type!==u[d].type||!o[d].doc.isEqual(u[d].doc))return!1;return!0}}class N_{constructor(){this.Xr=void 0,this.listeners=[]}}class O_{constructor(){this.queries=new Gu(n=>Eu(n),vo),this.onlineState="Unknown",this.Zr=new Set}}function Np(a,n){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,_.Z)(function*(a,n){const o=Ue(a),u=n.query;let d=!1,w=o.queries.get(u);if(w||(d=!0,w=new N_),d)try{w.Xr=yield o.onListen(u)}catch(D){const B=Fd(D,`Initialization of query '${Da(n.query)}' failed`);return void n.onError(B)}o.queries.set(u,w),w.listeners.push(n),n.eo(o.onlineState),w.Xr&&n.no(w.Xr)&&ef(o)})).apply(this,arguments)}function Op(a,n){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,_.Z)(function*(a,n){const o=Ue(a),u=n.query;let d=!1;const w=o.queries.get(u);if(w){const D=w.listeners.indexOf(n);D>=0&&(w.listeners.splice(D,1),d=0===w.listeners.length)}if(d)return o.queries.delete(u),o.onUnlisten(u)})).apply(this,arguments)}function P_(a,n){const o=Ue(a);let u=!1;for(const d of n){const D=o.queries.get(d.query);if(D){for(const B of D.listeners)B.no(d)&&(u=!0);D.Xr=d}}u&&ef(o)}function k_(a,n,o){const u=Ue(a),d=u.queries.get(n);if(d)for(const w of d.listeners)w.onError(o);u.queries.delete(n)}function ef(a){a.Zr.forEach(n=>{n.next()})}class tf{constructor(n,o,u){this.query=n,this.so=o,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=u||{}}no(n){if(!this.options.includeMetadataChanges){const u=[];for(const d of n.docChanges)3!==d.type&&u.push(d);n=new Wu(n.query,n.docs,n.oldDocs,u,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let o=!1;return this.io?this.oo(n)&&(this.so.next(n),o=!0):this.ao(n,this.onlineState)&&(this.co(n),o=!0),this.ro=n,o}onError(n){this.so.error(n)}eo(n){this.onlineState=n;let o=!1;return this.ro&&!this.io&&this.ao(this.ro,n)&&(this.co(this.ro),o=!0),o}ao(n,o){return!n.fromCache||!(this.options.uo&&"Offline"!==o||n.docs.isEmpty()&&"Offline"!==o)}oo(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(n){n=Wu.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.io=!0,this.so.next(n)}}class F_{constructor(n,o){this.payload=n,this.byteLength=o}ho(){return"metadata"in this.payload}}class Ua{constructor(n){this.N=n}zn(n){return ya(this.N,n)}Hn(n){return n.metadata.exists?Eh(this.N,n.document,!1):Gr.newNoDocument(this.zn(n.metadata.name),this.Jn(n.metadata.readTime))}Jn(n){return Ps(n)}}class Pp{constructor(n,o,u){this.lo=n,this.localStore=o,this.N=u,this.queries=[],this.documents=[],this.progress=Nm(n)}fo(n){this.progress.bytesLoaded+=n.byteLength;let o=this.progress.documentsLoaded;return n.payload.namedQuery?this.queries.push(n.payload.namedQuery):n.payload.documentMetadata?(this.documents.push({metadata:n.payload.documentMetadata}),n.payload.documentMetadata.exists||++o):n.payload.document&&(this.documents[this.documents.length-1].document=n.payload.document,++o),o!==this.progress.documentsLoaded?(this.progress.documentsLoaded=o,Object.assign({},this.progress)):null}wo(n){const o=new Map,u=new Ua(this.N);for(const d of n)if(d.metadata.queries){const w=u.zn(d.metadata.name);for(const D of d.metadata.queries){const B=(o.get(D)||zr()).add(w);o.set(D,B)}}return o}complete(){var n=this;return(0,_.Z)(function*(){const o=yield function(a,n,o,u){return Ad.apply(this,arguments)}(n.localStore,new Ua(n.N),n.documents,n.lo.id),u=n.wo(n.documents);for(const d of n.queries)yield Sl(n.localStore,d,u.get(d.name));return n.progress.taskState="Success",new b_(Object.assign({},n.progress),o)})()}}function Nm(a){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:a.totalDocuments,totalBytes:a.totalBytes}}class Om{constructor(n){this.key=n}}class L_{constructor(n){this.key=n}}class kp{constructor(n,o){this.query=n,this._o=o,this.mo=null,this.current=!1,this.yo=zr(),this.mutatedKeys=zr(),this.po=rd(n),this.Eo=new xc(this.po)}get To(){return this._o}Io(n,o){const u=o?o.Ao:new Qh,d=o?o.Eo:this.Eo;let w=o?o.mutatedKeys:this.mutatedKeys,D=d,B=!1;const J=cc(this.query)&&d.size===this.query.limit?d.last():null,le=pa(this.query)&&d.size===this.query.limit?d.first():null;if(n.inorderTraversal((Ee,ze)=>{const bt=d.get(Ee),Dt=Gl(this.query,ze)?ze:null,Kt=!!bt&&this.mutatedKeys.has(bt.key),Pn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let vr=!1;bt&&Dt?bt.data.isEqual(Dt.data)?Kt!==Pn&&(u.track({type:3,doc:Dt}),vr=!0):this.Ro(bt,Dt)||(u.track({type:2,doc:Dt}),vr=!0,(J&&this.po(Dt,J)>0||le&&this.po(Dt,le)<0)&&(B=!0)):!bt&&Dt?(u.track({type:0,doc:Dt}),vr=!0):bt&&!Dt&&(u.track({type:1,doc:bt}),vr=!0,(J||le)&&(B=!0)),vr&&(Dt?(D=D.add(Dt),w=Pn?w.add(Ee):w.delete(Ee)):(D=D.delete(Ee),w=w.delete(Ee)))}),cc(this.query)||pa(this.query))for(;D.size>this.query.limit;){const Ee=cc(this.query)?D.last():D.first();D=D.delete(Ee.key),w=w.delete(Ee.key),u.track({type:1,doc:Ee})}return{Eo:D,Ao:u,Ln:B,mutatedKeys:w}}Ro(n,o){return n.hasLocalMutations&&o.hasCommittedMutations&&!o.hasLocalMutations}applyChanges(n,o,u){const d=this.Eo;this.Eo=n.Eo,this.mutatedKeys=n.mutatedKeys;const w=n.Ao.Yr();w.sort((le,Ee)=>function(ze,bt){const Dt=Kt=>{switch(Kt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return Dt(ze)-Dt(bt)}(le.type,Ee.type)||this.po(le.doc,Ee.doc)),this.bo(u);const D=o?this.Po():[],B=0===this.yo.size&&this.current?1:0,J=B!==this.mo;return this.mo=B,0!==w.length||J?{snapshot:new Wu(this.query,n.Eo,d,w,n.mutatedKeys,0===B,J,!1),vo:D}:{vo:D}}eo(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new Qh,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(n){return!this._o.has(n)&&!!this.Eo.has(n)&&!this.Eo.get(n).hasLocalMutations}bo(n){n&&(n.addedDocuments.forEach(o=>this._o=this._o.add(o)),n.modifiedDocuments.forEach(o=>{}),n.removedDocuments.forEach(o=>this._o=this._o.delete(o)),this.current=n.current)}Po(){if(!this.current)return[];const n=this.yo;this.yo=zr(),this.Eo.forEach(u=>{this.Vo(u.key)&&(this.yo=this.yo.add(u.key))});const o=[];return n.forEach(u=>{this.yo.has(u)||o.push(new L_(u))}),this.yo.forEach(u=>{n.has(u)||o.push(new Om(u))}),o}So(n){this._o=n.Gn,this.yo=zr();const o=this.Io(n.documents);return this.applyChanges(o,!0)}Do(){return Wu.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class V_{constructor(n,o,u){this.query=n,this.targetId=o,this.view=u}}class U_{constructor(n){this.key=n,this.Co=!1}}class B_{constructor(n,o,u,d,w,D){this.localStore=n,this.remoteStore=o,this.eventManager=u,this.sharedClientState=d,this.currentUser=w,this.maxConcurrentLimboResolutions=D,this.No={},this.xo=new Gu(B=>Eu(B),vo),this.ko=new Map,this.$o=new Set,this.Oo=new ls(gn.comparator),this.Fo=new Map,this.Mo=new Td,this.Lo={},this.Bo=new Map,this.Uo=va.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Fp(a,n){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,_.Z)(function*(a,n){const o=$m(a);let u,d;const w=o.xo.get(n);if(w)u=w.targetId,o.sharedClientState.addLocalQueryTarget(u),d=w.view.Do();else{const D=yield Ic(o.localStore,ga(n)),B=o.sharedClientState.addLocalQueryTarget(D.targetId);u=D.targetId,d=yield Vp(o,n,u,"current"===B),o.isPrimaryClient&&Rd(o.remoteStore,D)}return d})).apply(this,arguments)}function Vp(a,n,o,u){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,_.Z)(function*(a,n,o,u){a.Ko=(Ee,ze,bt)=>{return(Dt=(0,_.Z)(function*(Kt,Pn,vr,us){let Ko=Pn.view.Io(vr);Ko.Ln&&(Ko=yield Ed(Kt.localStore,Pn.query,!1).then(({documents:eh})=>Pn.view.Io(eh,Ko)));const Pl=us&&us.targetChanges.get(Pn.targetId),$a=Pn.view.applyChanges(Ko,Kt.isPrimaryClient,Pl);return Um(Kt,Pn.targetId,$a.vo),$a.snapshot}),function(Kt,Pn,vr,us){return Dt.apply(this,arguments)})(a,Ee,ze,bt);var Dt};const d=yield Ed(a.localStore,n,!0),w=new kp(n,d.Gn),D=w.Io(d.documents),B=Xl.createSynthesizedTargetChangeForCurrentChange(o,u&&"Offline"!==a.onlineState),J=w.applyChanges(D,a.isPrimaryClient,B);Um(a,o,J.vo);const le=new V_(n,o,w);return a.xo.set(n,le),a.ko.has(o)?a.ko.get(o).push(n):a.ko.set(o,[n]),J.snapshot})).apply(this,arguments)}function Up(a,n){return Bp.apply(this,arguments)}function Bp(){return(Bp=(0,_.Z)(function*(a,n){const o=Ue(a),u=o.xo.get(n),d=o.ko.get(u.targetId);if(d.length>1)return o.ko.set(u.targetId,d.filter(w=>!vo(w,n))),void o.xo.delete(n);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Tc(o.localStore,u.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(u.targetId),Md(o.remoteStore,u.targetId),Nc(o,u.targetId)}).catch(Zu))):(Nc(o,u.targetId),yield Tc(o.localStore,u.targetId,!0))})).apply(this,arguments)}function Ld(){return(Ld=(0,_.Z)(function*(a,n,o){const u=Yp(a);try{const d=yield function(w,D){const B=Ue(w),J=fr.now(),le=D.reduce((ze,bt)=>ze.add(bt.key),zr());let Ee;return B.persistence.runTransaction("Locally write mutations","readwrite",ze=>B.Qn.Pn(ze,le).next(bt=>{Ee=bt;const Dt=[];for(const Kt of D){const Pn=sd(Kt,Ee.get(Kt.key));null!=Pn&&Dt.push(new Ja(Kt.key,Pn,ac(Pn.value.mapValue),Cs.exists(!0)))}return B.In.addMutationBatch(ze,J,Dt,D)})).then(ze=>(ze.applyToLocalDocumentSet(Ee),{batchId:ze.batchId,changes:Ee}))}(u.localStore,n);u.sharedClientState.addPendingMutation(d.batchId),function(w,D,B){let J=w.Lo[w.currentUser.toKey()];J||(J=new ls(zt)),J=J.insert(D,B),w.Lo[w.currentUser.toKey()]=J}(u,d.batchId,o),yield wa(u,d.changes),yield fu(u.remoteStore)}catch(d){const w=Fd(d,"Failed to persist write");o.reject(w)}})).apply(this,arguments)}function Hp(a,n){return $p.apply(this,arguments)}function $p(){return($p=(0,_.Z)(function*(a,n){const o=Ue(a);try{const u=yield C_(o.localStore,n);n.targetChanges.forEach((d,w)=>{const D=o.Fo.get(w);D&&(ge(d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size<=1),d.addedDocuments.size>0?D.Co=!0:d.modifiedDocuments.size>0?ge(D.Co):d.removedDocuments.size>0&&(ge(D.Co),D.Co=!1))}),yield wa(o,u,n)}catch(u){yield Zu(u)}})).apply(this,arguments)}function Pm(a,n,o){const u=Ue(a);if(u.isPrimaryClient&&0===o||!u.isPrimaryClient&&1===o){const d=[];u.xo.forEach((w,D)=>{const B=D.view.eo(n);B.snapshot&&d.push(B.snapshot)}),function(w,D){const B=Ue(w);B.onlineState=D;let J=!1;B.queries.forEach((le,Ee)=>{for(const ze of Ee.listeners)ze.eo(D)&&(J=!0)}),J&&ef(B)}(u.eventManager,n),d.length&&u.No.Tr(d),u.onlineState=n,u.isPrimaryClient&&u.sharedClientState.setOnlineState(n)}}function Zp(a,n,o){return km.apply(this,arguments)}function km(){return(km=(0,_.Z)(function*(a,n,o){const u=Ue(a);u.sharedClientState.updateQueryState(n,"rejected",o);const d=u.Fo.get(n),w=d&&d.key;if(w){let D=new ls(gn.comparator);D=D.insert(w,Gr.newNoDocument(w,sn.min()));const B=zr().add(w),J=new mc(sn.min(),new Map,new Bi(zt),D,B);yield Hp(u,J),u.Oo=u.Oo.remove(w),u.Fo.delete(n),of(u)}else yield Tc(u.localStore,n,!1).then(()=>Nc(u,n,o)).catch(Zu)})).apply(this,arguments)}function j_(a,n){return nf.apply(this,arguments)}function nf(){return(nf=(0,_.Z)(function*(a,n){const o=Ue(a),u=n.batch.batchId;try{const d=yield E_(o.localStore,n);Mc(o,u,null),Ba(o,u),o.sharedClientState.updateMutationState(u,"acknowledged"),yield wa(o,d)}catch(d){yield Zu(d)}})).apply(this,arguments)}function Fm(a,n,o){return rf.apply(this,arguments)}function rf(){return(rf=(0,_.Z)(function*(a,n,o){const u=Ue(a);try{const d=yield function(w,D){const B=Ue(w);return B.persistence.runTransaction("Reject batch","readwrite-primary",J=>{let le;return B.In.lookupMutationBatch(J,D).next(Ee=>(ge(null!==Ee),le=Ee.keys(),B.In.removeMutationBatch(J,Ee))).next(()=>B.In.performConsistencyCheck(J)).next(()=>B.Qn.Pn(J,le))})}(u.localStore,n);Mc(u,n,o),Ba(u,n),u.sharedClientState.updateMutationState(n,"rejected",o),yield wa(u,d)}catch(d){yield Zu(d)}})).apply(this,arguments)}function sf(){return(sf=(0,_.Z)(function*(a,n){const o=Ue(a);uu(o.remoteStore)||v("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(w){const D=Ue(w);return D.persistence.runTransaction("Get highest unacknowledged batch id","readonly",B=>D.In.getHighestUnacknowledgedBatchId(B))}(o.localStore);if(-1===u)return void n.resolve();const d=o.Bo.get(u)||[];d.push(n),o.Bo.set(u,d)}catch(u){const d=Fd(u,"Initialization of waitForPendingWrites() operation failed");n.reject(d)}})).apply(this,arguments)}function Ba(a,n){(a.Bo.get(n)||[]).forEach(o=>{o.resolve()}),a.Bo.delete(n)}function Mc(a,n,o){const u=Ue(a);let d=u.Lo[u.currentUser.toKey()];if(d){const w=d.get(n);w&&(o?w.reject(o):w.resolve(),d=d.remove(n)),u.Lo[u.currentUser.toKey()]=d}}function Nc(a,n,o=null){a.sharedClientState.removeLocalQueryTarget(n);for(const u of a.ko.get(n))a.xo.delete(u),o&&a.No.jo(u,o);a.ko.delete(n),a.isPrimaryClient&&a.Mo.cs(n).forEach(u=>{a.Mo.containsKey(u)||Vm(a,u)})}function Vm(a,n){a.$o.delete(n.path.canonicalString());const o=a.Oo.get(n);null!==o&&(Md(a.remoteStore,o),a.Oo=a.Oo.remove(n),a.Fo.delete(o),of(a))}function Um(a,n,o){for(const u of o)u instanceof Om?(a.Mo.addReference(u.key,n),Oc(a,u)):u instanceof L_?(v("SyncEngine","Document no longer in limbo: "+u.key),a.Mo.removeReference(u.key,n),a.Mo.containsKey(u.key)||Vm(a,u.key)):ue()}function Oc(a,n){const o=n.key,u=o.path.canonicalString();a.Oo.get(o)||a.$o.has(u)||(v("SyncEngine","New document in limbo: "+o),a.$o.add(u),of(a))}function of(a){for(;a.$o.size>0&&a.Oo.size<a.maxConcurrentLimboResolutions;){const n=a.$o.values().next().value;a.$o.delete(n);const o=new gn(Gn.fromString(n)),u=a.Uo.next();a.Fo.set(u,new U_(o)),a.Oo=a.Oo.insert(o,u),Rd(a.remoteStore,new iu(ga(Qa(o.path)),u,2,Nt.T))}}function wa(a,n,o){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,_.Z)(function*(a,n,o){const u=Ue(a),d=[],w=[],D=[];var B;u.xo.isEmpty()||(u.xo.forEach((B,J)=>{D.push(u.Ko(J,n,o).then(le=>{if(le){u.isPrimaryClient&&u.sharedClientState.updateQueryState(J.targetId,le.fromCache?"not-current":"current"),d.push(le);const Ee=fp.kn(J.targetId,le);w.push(Ee)}}))}),yield Promise.all(D),u.No.Tr(d),yield(B=(0,_.Z)(function*(J,le){const Ee=Ue(J);try{yield Ee.persistence.runTransaction("notifyLocalViewChanges","readwrite",ze=>Mt.forEach(le,bt=>Mt.forEach(bt.Nn,Dt=>Ee.persistence.referenceDelegate.addReference(ze,bt.targetId,Dt)).next(()=>Mt.forEach(bt.xn,Dt=>Ee.persistence.referenceDelegate.removeReference(ze,bt.targetId,Dt)))))}catch(ze){if(!Do(ze))throw ze;v("LocalStore","Failed to update sequence numbers: "+ze)}for(const ze of le){const bt=ze.targetId;if(!ze.fromCache){const Dt=Ee.Un.get(bt),Pn=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);Ee.Un=Ee.Un.insert(bt,Pn)}}}),function(J,le){return B.apply(this,arguments)})(u.localStore,w))})).apply(this,arguments)}function H_(a,n){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,_.Z)(function*(a,n){const o=Ue(a);if(!o.currentUser.isEqual(n)){v("SyncEngine","User change. New user:",n.toKey());const u=yield pp(o.localStore,n);o.currentUser=n,(d=o).Bo.forEach(D=>{D.forEach(B=>{B.reject(new C(T.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.Bo.clear(),o.sharedClientState.handleUserChange(n,u.removedBatchIds,u.addedBatchIds),yield wa(o,u.Wn)}var d})).apply(this,arguments)}function Bm(a,n){const o=Ue(a),u=o.Fo.get(n);if(u&&u.Co)return zr().add(u.key);{let d=zr();const w=o.ko.get(n);if(!w)return d;for(const D of w){const B=o.xo.get(D);d=d.unionWith(B.view.To)}return d}}function $_(a,n){return af.apply(this,arguments)}function af(){return(af=(0,_.Z)(function*(a,n){const o=Ue(a),u=yield Ed(o.localStore,n.query,!0),d=n.view.So(u);return o.isPrimaryClient&&Um(o,n.targetId,d.vo),d})).apply(this,arguments)}function Z_(a){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,_.Z)(function*(a){const n=Ue(a);return Cd(n.localStore).then(o=>wa(n,o))})).apply(this,arguments)}function q_(a,n,o,u){return qp.apply(this,arguments)}function qp(){return(qp=(0,_.Z)(function*(a,n,o,u){const d=Ue(a),w=yield function(D,B){const J=Ue(D),le=Ue(J.In);return J.persistence.runTransaction("Lookup mutation documents","readonly",Ee=>le.Xt(Ee,B).next(ze=>ze?J.Qn.Pn(Ee,ze):Mt.resolve(null)))}(d.localStore,n);var B;null!==w?("pending"===o?yield fu(d.remoteStore):"acknowledged"===o||"rejected"===o?(Mc(d,n,u||null),Ba(d,n),B=n,Ue(Ue(d.localStore).In).te(B)):ue(),yield wa(d,w)):v("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function pu(){return(pu=(0,_.Z)(function*(a,n){const o=Ue(a);if($m(o),Yp(o),!0===n&&!0!==o.qo){const u=o.sharedClientState.getAllActiveQueryTargets(),d=yield Gp(o,u.toArray());o.qo=!0,yield Rp(o.remoteStore,!0);for(const w of d)Rd(o.remoteStore,w)}else if(!1===n&&!1!==o.qo){const u=[];let d=Promise.resolve();o.ko.forEach((w,D)=>{o.sharedClientState.isLocalQueryTarget(D)?u.push(D):d=d.then(()=>(Nc(o,D),Tc(o.localStore,D,!0))),Md(o.remoteStore,D)}),yield d,yield Gp(o,u),function(w){const D=Ue(w);D.Fo.forEach((B,J)=>{Md(D.remoteStore,J)}),D.Mo.us(),D.Fo=new Map,D.Oo=new ls(gn.comparator)}(o),o.qo=!1,yield Rp(o.remoteStore,!1)}})).apply(this,arguments)}function Gp(a,n,o){return zp.apply(this,arguments)}function zp(){return(zp=(0,_.Z)(function*(a,n,o){const u=Ue(a),d=[],w=[];for(const D of n){let B;const J=u.ko.get(D);if(J&&0!==J.length){B=yield Ic(u.localStore,ga(J[0]));for(const le of J){const Ee=u.xo.get(le),ze=yield $_(u,Ee);ze.snapshot&&w.push(ze.snapshot)}}else{const le=yield yp(u.localStore,D);B=yield Ic(u.localStore,le),yield Vp(u,Hm(le),D,!1)}d.push(B)}return u.No.Tr(w),d})).apply(this,arguments)}function Hm(a){return as(a.path,a.collectionGroup,a.orderBy,a.filters,a.limit,"F",a.startAt,a.endAt)}function Pc(a){const n=Ue(a);return Ue(Ue(n.localStore).persistence).pn()}function G_(a,n,o,u){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,_.Z)(function*(a,n,o,u){const d=Ue(a);if(d.qo)v("SyncEngine","Ignoring unexpected query state notification.");else if(d.ko.has(n))switch(o){case"current":case"not-current":{const w=yield Cd(d.localStore),D=mc.createSynthesizedRemoteEventForCurrentChange(n,"current"===o);yield wa(d,w,D);break}case"rejected":yield Tc(d.localStore,n,!0),Nc(d,n,u);break;default:ue()}})).apply(this,arguments)}function z_(a,n,o){return Kp.apply(this,arguments)}function Kp(){return(Kp=(0,_.Z)(function*(a,n,o){const u=$m(a);if(u.qo){for(const d of n){if(u.ko.has(d)){v("SyncEngine","Adding an already active target "+d);continue}const w=yield yp(u.localStore,d),D=yield Ic(u.localStore,w);yield Vp(u,Hm(w),D.targetId,!1),Rd(u.remoteStore,D)}for(const d of o)u.ko.has(d)&&(yield Tc(u.localStore,d,!1).then(()=>{Md(u.remoteStore,d),Nc(u,d)}).catch(Zu))}})).apply(this,arguments)}function $m(a){const n=Ue(a);return n.remoteStore.remoteSyncer.applyRemoteEvent=Hp.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bm.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Zp.bind(null,n),n.No.Tr=P_.bind(null,n.eventManager),n.No.jo=k_.bind(null,n.eventManager),n}function Yp(a){const n=Ue(a);return n.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Fm.bind(null,n),n}class zi{constructor(){this.synchronizeTabs=!1}initialize(n){var o=this;return(0,_.Z)(function*(){o.N=$h(n.databaseInfo.databaseId),o.sharedClientState=o.Wo(n),o.persistence=o.Go(n),yield o.persistence.start(),o.gcScheduler=o.zo(n),o.localStore=o.Ho(n)})()}zo(n){return null}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}Go(n){return new Uh(bm.Ns,this.N)}Wo(n){return new T_}terminate(){var n=this;return(0,_.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class lf extends zi{constructor(n,o,u){super(),this.Jo=n,this.cacheSizeBytes=o,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n),yield function(a){return Lh.apply(this,arguments)}(u.localStore),yield u.Jo.initialize(u,n),yield Yp(u.Jo.syncEngine),yield fu(u.Jo.remoteStore),yield u.persistence.nn(()=>(u.gcScheduler&&!u.gcScheduler.started&&u.gcScheduler.start(u.localStore),Promise.resolve()))})()}Ho(n){return ym(this.persistence,new mm,n.initialUser,this.N)}zo(n){return new up(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue)}Go(n){const o=Fh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?qo.withCacheSize(this.cacheSizeBytes):qo.DEFAULT;return new bd(this.synchronizeTabs,o,n.clientId,u,n.asyncQueue,S_(),bp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(n){return new T_}}class Bw extends lf{constructor(n,o){super(n,o,!1),this.Jo=n,this.cacheSizeBytes=o,this.synchronizeTabs=!0}initialize(n){var o=()=>super.initialize,u=this;return(0,_.Z)(function*(){yield o().call(u,n);const d=u.Jo.syncEngine;u.sharedClientState instanceof Sd&&(u.sharedClientState.syncEngine={_i:q_.bind(null,d),mi:G_.bind(null,d),gi:z_.bind(null,d),pn:Pc.bind(null,d),wi:Z_.bind(null,d)},yield u.sharedClientState.start()),yield u.persistence.nn(function(){var w=(0,_.Z)(function*(D){yield function(a,n){return pu.apply(this,arguments)}(u.Jo.syncEngine,D),u.gcScheduler&&(D&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):D||u.gcScheduler.stop())});return function(D){return w.apply(this,arguments)}}())})()}Wo(n){const o=S_();if(!Sd.bt(o))throw new C(T.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=Fh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new Sd(o,n.asyncQueue,u,n.clientId,n.initialUser)}}class ja{initialize(n,o){var u=this;return(0,_.Z)(function*(){u.localStore||(u.localStore=n.localStore,u.sharedClientState=n.sharedClientState,u.datastore=u.createDatastore(o),u.remoteStore=u.createRemoteStore(o),u.eventManager=u.createEventManager(o),u.syncEngine=u.createSyncEngine(o,!n.synchronizeTabs),u.sharedClientState.onlineStateHandler=d=>Pm(u.syncEngine,d,1),u.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,u.syncEngine),yield Rp(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(n){return new O_}createDatastore(n){const o=$h(n.databaseInfo.databaseId),u=new Vw(n.databaseInfo);return new R_(n.credentials,u,o)}createRemoteStore(n){return o=this.localStore,u=this.datastore,d=n.asyncQueue,w=B=>Pm(this.syncEngine,B,0),D=D_.bt()?new D_:new kw,new Cp(o,u,d,w,D);var o,u,d,w,D}createSyncEngine(n,o){return function(u,d,w,D,B,J,le){const Ee=new B_(u,d,w,D,B,J);return le&&(Ee.qo=!0),Ee}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,o)}terminate(){return(n=(0,_.Z)(function*(o){const u=Ue(o);v("RemoteStore","RemoteStore shutting down."),u.Kr.add(5),yield Sc(u),u.Qr.shutdown(),u.Wr.set("Unknown")}),function(o){return n.apply(this,arguments)})(this.remoteStore);var n}}function uf(a,n=10240){let o=0;return{read:()=>(0,_.Z)(function*(){if(o<a.byteLength){const u={value:a.slice(o,o+n),done:!1};return o+=n,u}return{done:!0}})(),cancel:()=>(0,_.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kc{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Yo(this.observer.next,n)}error(n){this.observer.error?this.Yo(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}Xo(){this.muted=!0}Yo(n,o){this.muted||setTimeout(()=>{this.muted||n(o)},0)}}class jw{constructor(n,o){this.Zo=n,this.N=o,this.metadata=new A,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(u=>{u&&u.ho()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Zo.cancel()}getMetadata(){var n=this;return(0,_.Z)(function*(){return n.metadata.promise})()}Qo(){var n=this;return(0,_.Z)(function*(){return yield n.getMetadata(),n.ea()})()}ea(){var n=this;return(0,_.Z)(function*(){const o=yield n.na();if(null===o)return null;const u=n.ta.decode(o),d=Number(u);isNaN(d)&&n.sa(`length string (${u}) is not valid number`);const w=yield n.ia(d);return new F_(JSON.parse(w),o.length+d)})()}ra(){return this.buffer.findIndex(n=>n==="{".charCodeAt(0))}na(){var n=this;return(0,_.Z)(function*(){for(;n.ra()<0&&!(yield n.oa()););if(0===n.buffer.length)return null;const o=n.ra();o<0&&n.sa("Reached the end of bundle when a length string is expected.");const u=n.buffer.slice(0,o);return n.buffer=n.buffer.slice(o),u})()}ia(n){var o=this;return(0,_.Z)(function*(){for(;o.buffer.length<n;)(yield o.oa())&&o.sa("Reached the end of bundle when more is expected.");const u=o.ta.decode(o.buffer.slice(0,n));return o.buffer=o.buffer.slice(n),u})()}sa(n){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${n}`)}oa(){var n=this;return(0,_.Z)(function*(){const o=yield n.Zo.read();if(!o.done){const u=new Uint8Array(n.buffer.length+o.value.length);u.set(n.buffer),u.set(o.value,n.buffer.length),n.buffer=u}return o.done})()}}class W_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(n){var o=this;return(0,_.Z)(function*(){if(o.ensureCommitNotCalled(),o.mutations.length>0)throw new C(T.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(d=(0,_.Z)(function*(w,D){const B=Ue(w),J=el(B.N)+"/documents",le={documents:D.map(Dt=>vi(B.N,Dt))},Ee=yield B.Ki("BatchGetDocuments",J,le),ze=new Map;Ee.forEach(Dt=>{const Kt=function(a,n){return"found"in n?function(o,u){ge(!!u.found);const d=ya(o,u.found.name),w=Ps(u.found.updateTime),D=new Jr({mapValue:{fields:u.found.fields}});return Gr.newFoundDocument(d,w,D)}(a,n):"missing"in n?function(o,u){ge(!!u.missing),ge(!!u.readTime);const d=ya(o,u.missing),w=Ps(u.readTime);return Gr.newNoDocument(d,w)}(a,n):ue()}(B.N,Dt);ze.set(Kt.key.toString(),Kt)});const bt=[];return D.forEach(Dt=>{const Kt=ze.get(Dt.toString());ge(!!Kt),bt.push(Kt)}),bt}),function(w,D){return d.apply(this,arguments)})(o.datastore,n);var d;return u.forEach(d=>o.recordVersion(d)),u})()}set(n,o){this.write(o.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,o){try{this.write(o.toMutation(n,this.preconditionForUpdate(n)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(n.toString())}delete(n){this.write(new Vo(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,_.Z)(function*(){if(n.ensureCommitNotCalled(),n.lastWriteError)throw n.lastWriteError;const o=n.readVersions;var u;n.mutations.forEach(u=>{o.delete(u.key.toString())}),o.forEach((u,d)=>{const w=gn.fromPath(d);n.mutations.push(new vl(w,n.precondition(w)))}),yield(u=(0,_.Z)(function*(d,w){const D=Ue(d),B=el(D.N)+"/documents",J={writes:w.map(le=>Cl(D.N,le))};yield D.Li("Commit",B,J)}),function(d,w){return u.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let o;if(n.isFoundDocument())o=n.version;else{if(!n.isNoDocument())throw ue();o=sn.min()}const u=this.readVersions.get(n.key.toString());if(u){if(!o.isEqual(u))throw new C(T.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),o)}precondition(n){const o=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&o?Cs.updateTime(o):Cs.none()}preconditionForUpdate(n){const o=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&o){if(o.isEqual(sn.min()))throw new C(T.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Cs.updateTime(o)}return Cs.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class K_{constructor(n,o,u,d){this.asyncQueue=n,this.datastore=o,this.updateFunction=u,this.deferred=d,this.aa=5,this.rr=new Am(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var n=this;this.rr.Xi((0,_.Z)(function*(){const o=new W_(n.datastore),u=n.ua(o);u&&u.then(d=>{n.asyncQueue.enqueueAndForget(()=>o.commit().then(()=>{n.deferred.resolve(d)}).catch(w=>{n.ha(w)}))}).catch(d=>{n.ha(d)})}))}ua(n){try{const o=this.updateFunction(n);return!Gs(o)&&o.catch&&o.then?o:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}}ha(n){this.aa>0&&this.la(n)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(n)}la(n){if("FirebaseError"===n.name){const o=n.code;return"aborted"===o||"failed-precondition"===o||!pc(o)}return!1}}class qm{constructor(n,o,u){var d=this;this.credentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=os.UNAUTHENTICATED,this.clientId=dn.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(o,function(){var w=(0,_.Z)(function*(D){v("FirestoreClient","Received user=",D.uid),yield d.credentialListener(D),d.user=D});return function(D){return w.apply(this,arguments)}}())}getConfiguration(){var n=this;return(0,_.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,credentials:n.credentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.credentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new C(T.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const o=new A;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.credentials.shutdown(),o.resolve()}catch(u){const d=Fd(u,"Failed to shutdown persistence");o.reject(d)}})),o.promise}}function Qp(a,n){return cf.apply(this,arguments)}function cf(){return(cf=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress(),v("FirestoreClient","Initializing OfflineComponentProvider");const o=yield a.getConfiguration();yield n.initialize(o);let u=o.initialUser;a.setCredentialChangeListener(function(){var d=(0,_.Z)(function*(w){u.isEqual(w)||(yield pp(n.localStore,w),u=w)});return function(w){return d.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>a.terminate()),a.offlineComponents=n})).apply(this,arguments)}function Jp(a,n){return Xp.apply(this,arguments)}function Xp(){return(Xp=(0,_.Z)(function*(a,n){a.asyncQueue.verifyOperationInProgress();const o=yield eg(a);v("FirestoreClient","Initializing OnlineComponentProvider");const u=yield a.getConfiguration();yield n.initialize(o,u),a.setCredentialChangeListener(d=>{return(w=(0,_.Z)(function*(D,B){const J=Ue(D);J.asyncQueue.verifyOperationInProgress(),v("RemoteStore","RemoteStore received new credentials");const le=uu(J);J.Kr.add(3),yield Sc(J),le&&J.Wr.set("Unknown"),yield J.remoteSyncer.handleCredentialChange(B),J.Kr.delete(3),yield Dc(J)}),function(D,B){return w.apply(this,arguments)})(n.remoteStore,d);var w}),a.onlineComponents=n})).apply(this,arguments)}function eg(a){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,_.Z)(function*(a){return a.offlineComponents||(v("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(a,new zi)),a.offlineComponents})).apply(this,arguments)}function Fc(a){return df.apply(this,arguments)}function df(){return(df=(0,_.Z)(function*(a){return a.onlineComponents||(v("FirestoreClient","Using default OnlineComponentProvider"),yield Jp(a,new ja)),a.onlineComponents})).apply(this,arguments)}function tg(a){return eg(a).then(n=>n.persistence)}function hf(a){return eg(a).then(n=>n.localStore)}function ng(a){return Fc(a).then(n=>n.remoteStore)}function rg(a){return Fc(a).then(n=>n.syncEngine)}function Lc(a){return ig.apply(this,arguments)}function ig(){return(ig=(0,_.Z)(function*(a){const n=yield Fc(a),o=n.eventManager;return o.onListen=Fp.bind(null,n.syncEngine),o.onUnlisten=Up.bind(null,n.syncEngine),o})).apply(this,arguments)}function sg(a,n,o={}){const u=new A;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,w,D,B,J){const le=new kc({next:ze=>{w.enqueueAndForget(()=>Op(d,Ee));const bt=ze.docs.has(D);!bt&&ze.fromCache?J.reject(new C(T.UNAVAILABLE,"Failed to get document because the client is offline.")):bt&&ze.fromCache&&B&&"server"===B.source?J.reject(new C(T.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):J.resolve(ze)},error:ze=>J.reject(ze)}),Ee=new tf(Qa(D.path),le,{includeMetadataChanges:!0,uo:!0});return Np(d,Ee)}(yield Lc(a),a.asyncQueue,n,o,u)})),u.promise}function zm(a,n,o={}){const u=new A;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(d,w,D,B,J){const le=new kc({next:ze=>{w.enqueueAndForget(()=>Op(d,Ee)),ze.fromCache&&"server"===B.source?J.reject(new C(T.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):J.resolve(ze)},error:ze=>J.reject(ze)}),Ee=new tf(D,le,{includeMetadataChanges:!0,uo:!0});return Np(d,Ee)}(yield Lc(a),a.asyncQueue,n,o,u)})),u.promise}class Wm{constructor(n,o,u,d,w,D,B,J){this.databaseId=n,this.appId=o,this.persistenceKey=u,this.host=d,this.ssl=w,this.forceLongPolling=D,this.autoDetectLongPolling=B,this.useFetchStreams=J}}class Qu{constructor(n,o){this.projectId=n,this.database=o||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Qu&&n.projectId===this.projectId&&n.database===this.database}}const X_=new Map;function ba(a,n,o){if(!o)throw new C(T.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${n}.`)}function ev(a,n,o,u){if(!0===n&&!0===u)throw new C(T.INVALID_ARGUMENT,`${a} and ${o} cannot be used together.`)}function tv(a){if(!gn.isDocumentKey(a))throw new C(T.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function nv(a){if(gn.isDocumentKey(a))throw new C(T.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Bd(a){if(void 0===a)return"undefined";if(null===a)return"null";if("string"==typeof a)return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if("number"==typeof a||"boolean"==typeof a)return""+a;if("object"==typeof a){if(a instanceof Array)return"an array";{const n=(o=a).constructor?o.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var o;return"function"==typeof a?"a function":ue()}function Br(a,n){if("_delegate"in a&&(a=a._delegate),!(a instanceof n)){if(n.name===a.constructor.name)throw new C(T.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const o=Bd(a);throw new C(T.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${o}`)}}return a}function ag(a,n){if(n<=0)throw new C(T.INVALID_ARGUMENT,`Function ${a}() requires a positive number, but it was: ${n}.`)}class Km{constructor(n){var o;if(void 0===n.host){if(void 0!==n.ssl)throw new C(T.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(o=n.ssl)||void 0===o||o;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new C(T.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,ev("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class ff{constructor(n,o){this._credentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Km({}),this._settingsFrozen=!1,n instanceof Qu?this._databaseId=n:(this._app=n,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new C(T.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(u.options.projectId)}(n))}get app(){if(!this._app)throw new C(T.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new C(T.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Km(n),void 0!==n.credentials&&(this._credentials=function(o){if(!o)return new $;switch(o.type){case"gapi":const u=o.client;return ge(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new dt(u,o.sessionIndex||"0",o.iamToken||null);case"provider":return o.client;default:throw new C(T.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=X_.get(n);o&&(v("ComponentProvider","Removing Datastore"),X_.delete(n),o.terminate())}(this),Promise.resolve()}}class Ni{constructor(n,o,u){this.converter=o,this._key=u,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Ni(this.firestore,n,this._key)}}class So{constructor(n,o,u){this.converter=o,this._query=u,this.type="query",this.firestore=n}withConverter(n){return new So(this.firestore,n,this._query)}}class Ra extends So{constructor(n,o,u){super(n,o,Qa(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Ni(this.firestore,null,new gn(n))}withConverter(n){return new Ra(this.firestore,n,this._path)}}function Qm(a,n,...o){if(a=(0,Le.m9)(a),ba("collection","path",n),a instanceof ff){const u=Gn.fromString(n,...o);return nv(u),new Ra(a,null,u)}{if(!(a instanceof Ni||a instanceof Ra))throw new C(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Gn.fromString(n,...o));return nv(u),new Ra(a.firestore,null,u)}}function pf(a,n,...o){if(a=(0,Le.m9)(a),1===arguments.length&&(n=dn.I()),ba("doc","path",n),a instanceof ff){const u=Gn.fromString(n,...o);return tv(u),new Ni(a,null,new gn(u))}{if(!(a instanceof Ni||a instanceof Ra))throw new C(T.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=a._path.child(Gn.fromString(n,...o));return tv(u),new Ni(a.firestore,a instanceof Ra?a.converter:null,new gn(u))}}function Jm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),(a instanceof Ni||a instanceof Ra)&&(n instanceof Ni||n instanceof Ra)&&a.firestore===n.firestore&&a.path===n.path&&a.converter===n.converter}function Xm(a,n){return a=(0,Le.m9)(a),n=(0,Le.m9)(n),a instanceof So&&n instanceof So&&a.firestore===n.firestore&&vo(a._query,n._query)&&a.converter===n.converter}class iv{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Am(this,"async_queue_retry"),this.Ea=()=>{const o=bp();o&&v("AsyncQueue","Visibility state changed to "+o.visibilityState),this.rr.tr()};const n=bp();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Ta(),this.Ia(n)}enterRestrictedMode(n){if(!this.wa){this.wa=!0,this.ya=n||!1;const o=bp();o&&"function"==typeof o.removeEventListener&&o.removeEventListener("visibilitychange",this.Ea)}}enqueue(n){if(this.Ta(),this.wa)return new Promise(()=>{});const o=new A;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(n().then(o.resolve,o.reject),o.promise)).then(()=>o.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.da.push(n),this.Aa()))}Aa(){var n=this;return(0,_.Z)(function*(){if(0!==n.da.length){try{yield n.da[0](),n.da.shift(),n.rr.reset()}catch(o){if(!Do(o))throw o;v("AsyncQueue","Operation failed with retryable error: "+o)}n.da.length>0&&n.rr.Xi(()=>n.Aa())}})()}Ia(n){const o=this.fa.then(()=>(this.ga=!0,n().catch(u=>{throw this.ma=u,this.ga=!1,R("INTERNAL UNHANDLED ERROR: ",function(d){let w=d.message||"";return d.stack&&(w=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),w}(u)),u}).then(u=>(this.ga=!1,u))));return this.fa=o,o}enqueueAfterDelay(n,o,u){this.Ta(),this.pa.indexOf(n)>-1&&(o=0);const d=Yh.createAndSchedule(this,n,o,u,w=>this.Ra(w));return this._a.push(d),d}Ta(){this.ma&&ue()}verifyOperationInProgress(){}ba(){var n=this;return(0,_.Z)(function*(){let o;do{o=n.fa,yield o}while(o!==n.fa)})()}Pa(n){for(const o of this._a)if(o.timerId===n)return!0;return!1}va(n){return this.ba().then(()=>{this._a.sort((o,u)=>o.targetTimeMs-u.targetTimeMs);for(const o of this._a)if(o.skipDelay(),"all"!==n&&o.timerId===n)break;return this.ba()})}Va(n){this.pa.push(n)}Ra(n){const o=this._a.indexOf(n);this._a.splice(o,1)}}function Vc(a){return function(n,o){if("object"!=typeof n||null===n)return!1;const u=n;for(const d of["next","error","complete"])if(d in u&&"function"==typeof u[d])return!0;return!1}(a)}class Uc{constructor(){this._progressObserver={},this._taskCompletionResolver=new A,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,o,u){this._progressObserver={next:n,error:o,complete:u}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,o){return this._taskCompletionResolver.promise.then(n,o)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class Xr extends ff{constructor(n,o){super(n,o),this.type="firestore",this._queue=new iv,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||mf(this),this._firestoreClient.terminate()}}function io(a){return a._firestoreClient||mf(a),a._firestoreClient.verifyNotTerminated(),a._firestoreClient}function mf(a){var n;const o=a._freezeSettings(),u=(w=(null===(n=a._app)||void 0===n?void 0:n.options.appId)||"",new Wm(a._databaseId,w,a._persistenceKey,(B=o).host,B.ssl,B.experimentalForceLongPolling,B.experimentalAutoDetectLongPolling,B.useFetchStreams));var w,B;a._firestoreClient=new qm(a._credentials,a._queue,u)}function Eo(a,n,o){const u=new A;return a.asyncQueue.enqueue((0,_.Z)(function*(){try{yield Qp(a,o),yield Jp(a,n),u.resolve()}catch(d){if(!("FirebaseError"===(w=d).name?w.code===T.FAILED_PRECONDITION||w.code===T.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&w instanceof DOMException)||22===w.code||20===w.code||11===w.code))throw d;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+d),u.reject(d)}var w})).then(()=>u.promise)}function Xu(a){if(a._initialized||a._terminated)throw new C(T.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Xo{constructor(...n){for(let o=0;o<n.length;++o)if(0===n[o].length)throw new C(T.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class zo{constructor(n){this._byteString=n}static fromBase64String(n){try{return new zo(br.fromBase64String(n))}catch(o){throw new C(T.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+o)}}static fromUint8Array(n){return new zo(br.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class Na{constructor(n){this._methodName=n}}class Rl{constructor(n,o){if(!isFinite(n)||n<-90||n>90)throw new C(T.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(o)||o<-180||o>180)throw new C(T.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+o);this._lat=n,this._long=o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return zt(this._lat,n._lat)||zt(this._long,n._long)}}const ty=/^__.*__$/;class ny{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return null!==this.fieldMask?new Ja(n,this.data,this.fieldMask,o,this.fieldTransforms):new Su(n,this.data,o,this.fieldTransforms)}}class ug{constructor(n,o,u){this.data=n,this.fieldMask=o,this.fieldTransforms=u}toMutation(n,o){return new Ja(n,this.data,this.fieldMask,o,this.fieldTransforms)}}function cg(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}class Zd{constructor(n,o,u,d,w,D){this.settings=n,this.databaseId=o,this.N=u,this.ignoreUndefinedProperties=d,void 0===w&&this.Sa(),this.fieldTransforms=w||[],this.fieldMask=D||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(n){return new Zd(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.ka(n),d}$a(n){var o;const u=null===(o=this.path)||void 0===o?void 0:o.child(n),d=this.Ca({path:u,xa:!1});return d.Sa(),d}Oa(n){return this.Ca({path:void 0,xa:!0})}Fa(n){return Gd(n,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(n){return void 0!==this.fieldMask.find(o=>n.isPrefixOf(o))||void 0!==this.fieldTransforms.find(o=>n.isPrefixOf(o.field))}Sa(){if(this.path)for(let n=0;n<this.path.length;n++)this.ka(this.path.get(n))}ka(n){if(0===n.length)throw this.Fa("Document fields must not be empty");if(cg(this.Da)&&ty.test(n))throw this.Fa('Document fields cannot begin and end with "__"')}}class ry{constructor(n,o,u){this.databaseId=n,this.ignoreUndefinedProperties=o,this.N=u||$h(n)}Ba(n,o,u,d=!1){return new Zd({Da:n,methodName:o,La:u,path:un.emptyPath(),xa:!1,Ma:d},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function gu(a){const n=a._freezeSettings(),o=$h(a._databaseId);return new ry(a._databaseId,!!n.ignoreUndefinedProperties,o)}function qd(a,n,o,u,d,w={}){const D=a.Ba(w.merge||w.mergeFields?2:0,n,o,d);fg("Data must be an object, but it was:",D,u);const B=uy(u,D);let J,le;if(w.merge)J=new $n(D.fieldMask),le=D.fieldTransforms;else if(w.mergeFields){const Ee=[];for(const ze of w.mergeFields){const bt=pg(n,ze,o);if(!D.contains(bt))throw new C(T.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);ov(Ee,bt)||Ee.push(bt)}J=new $n(Ee),le=D.fieldTransforms.filter(ze=>J.covers(ze.field))}else J=null,le=D.fieldTransforms;return new ny(new Jr(B),J,le)}class Hc extends Na{_toFieldTransform(n){if(2!==n.Da)throw n.Fa(1===n.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Hc}}function iy(a,n,o){return new Zd({Da:3,La:n.settings.La,methodName:a._methodName,xa:o},n.databaseId,n.N,n.ignoreUndefinedProperties)}class _f extends Na{_toFieldTransform(n){return new yl(n.path,new Iu)}isEqual(n){return n instanceof _f}}class sv extends Na{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(w=>mu(w,o)),d=new Sa(u);return new yl(n.path,d)}isEqual(n){return this===n}}class sy extends Na{constructor(n,o){super(n),this.Ua=o}_toFieldTransform(n){const o=iy(this,n,!0),u=this.Ua.map(w=>mu(w,o)),d=new Kl(u);return new yl(n.path,d)}isEqual(n){return this===n}}class oy extends Na{constructor(n,o){super(n),this.qa=o}_toFieldTransform(n){const o=new Yl(n.N,uh(n.N,this.qa));return new yl(n.path,o)}isEqual(n){return this===n}}function dg(a,n,o,u){const d=a.Ba(1,n,o);fg("Data must be an object, but it was:",d,u);const w=[],D=Jr.empty();Ri(u,(J,le)=>{const Ee=gg(n,J,o);le=(0,Le.m9)(le);const ze=d.$a(Ee);if(le instanceof Hc)w.push(Ee);else{const bt=mu(le,ze);null!=bt&&(w.push(Ee),D.set(Ee,bt))}});const B=new $n(w);return new ug(D,B,d.fieldTransforms)}function ay(a,n,o,u,d,w){const D=a.Ba(1,n,o),B=[pg(n,u,o)],J=[d];if(w.length%2!=0)throw new C(T.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<w.length;bt+=2)B.push(pg(n,w[bt])),J.push(w[bt+1]);const le=[],Ee=Jr.empty();for(let bt=B.length-1;bt>=0;--bt)if(!ov(le,B[bt])){const Dt=B[bt];let Kt=J[bt];Kt=(0,Le.m9)(Kt);const Pn=D.$a(Dt);if(Kt instanceof Hc)le.push(Dt);else{const vr=mu(Kt,Pn);null!=vr&&(le.push(Dt),Ee.set(Dt,vr))}}const ze=new $n(le);return new ug(Ee,ze,D.fieldTransforms)}function ly(a,n,o,u=!1){return mu(o,a.Ba(u?4:3,n))}function mu(a,n){if(hg(a=(0,Le.m9)(a)))return fg("Unsupported field value:",n,a),uy(a,n);if(a instanceof Na)return function(o,u){if(!cg(u.Da))throw u.Fa(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Fa(`${o._methodName}() is not currently supported inside arrays`);const d=o._toFieldTransform(u);d&&u.fieldTransforms.push(d)}(a,n),null;if(void 0===a&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),a instanceof Array){if(n.settings.xa&&4!==n.Da)throw n.Fa("Nested arrays are not supported");return function(o,u){const d=[];let w=0;for(const D of o){let B=mu(D,u.Oa(w));null==B&&(B={nullValue:"NULL_VALUE"}),d.push(B),w++}return{arrayValue:{values:d}}}(a,n)}return function(o,u){if(null===(o=(0,Le.m9)(o)))return{nullValue:"NULL_VALUE"};if("number"==typeof o)return uh(u.N,o);if("boolean"==typeof o)return{booleanValue:o};if("string"==typeof o)return{stringValue:o};if(o instanceof Date){const d=fr.fromDate(o);return{timestampValue:Ou(u.N,d)}}if(o instanceof fr){const d=new fr(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Ou(u.N,d)}}if(o instanceof Rl)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof zo)return{bytesValue:ld(u.N,o._byteString)};if(o instanceof Ni){const d=u.databaseId,w=o.firestore._databaseId;if(!w.isEqual(d))throw u.Fa(`Document reference is for database ${w.projectId}/${w.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:eu(o.firestore._databaseId||u.databaseId,o._key.path)}}throw u.Fa(`Unsupported field value: ${Bd(o)}`)}(a,n)}function uy(a,n){const o={};return qi(a)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Ri(a,(u,d)=>{const w=mu(d,n.Na(u));null!=w&&(o[u]=w)}),{mapValue:{fields:o}}}function hg(a){return!("object"!=typeof a||null===a||a instanceof Array||a instanceof Date||a instanceof fr||a instanceof Rl||a instanceof zo||a instanceof Ni||a instanceof Na)}function fg(a,n,o){if(!hg(o)||"object"!=typeof(u=o)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=Bd(o);throw n.Fa("an object"===u?a+" a custom object":a+" "+u)}var u}function pg(a,n,o){if((n=(0,Le.m9)(n))instanceof Xo)return n._internalPath;if("string"==typeof n)return gg(a,n);throw Gd("Field path arguments must be of type string or FieldPath.",a,!1,void 0,o)}const Gw=new RegExp("[~\\*/\\[\\]]");function gg(a,n,o){if(n.search(Gw)>=0)throw Gd(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,o);try{return new Xo(...n.split("."))._internalPath}catch(u){throw Gd(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,o)}}function Gd(a,n,o,u,d){const w=u&&!u.isEmpty(),D=void 0!==d;let B=`Function ${n}() called with invalid data`;o&&(B+=" (via `toFirestore()`)"),B+=". ";let J="";return(w||D)&&(J+=" (found",w&&(J+=` in field ${u}`),D&&(J+=` in document ${d}`),J+=")"),new C(T.INVALID_ARGUMENT,B+a+J)}function ov(a,n){return a.some(o=>o.isEqual(n))}class vf{constructor(n,o,u,d,w){this._firestore=n,this._userDataWriter=o,this._key=u,this._document=d,this._converter=w}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const o=this._document.data.field(wf("DocumentSnapshot.get",n));if(null!==o)return this._userDataWriter.convertValue(o)}}}class zw extends vf{data(){return super.data()}}function wf(a,n){return"string"==typeof n?gg(a,n):n instanceof Xo?n._internalPath:n._delegate._internalPath}class $c{constructor(n,o){this.hasPendingWrites=n,this.fromCache=o}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ml extends vf{constructor(n,o,u,d,w,D){super(n,o,u,d,D),this._firestore=n,this._firestoreImpl=n,this.metadata=w}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const o=new zd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,o={}){if(this._document){const u=this._document.data.field(wf("DocumentSnapshot.get",n));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}}}class zd extends Ml{data(n={}){return super.data(n)}}class il{constructor(n,o,u,d){this._firestore=n,this._userDataWriter=o,this._snapshot=d,this.metadata=new $c(d.hasPendingWrites,d.fromCache),this.query=u}get docs(){const n=[];return this.forEach(o=>n.push(o)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,o){this._snapshot.docs.forEach(u=>{n.call(o,new zd(this._firestore,this._userDataWriter,u.key,u,new $c(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const o=!!n.includeMetadataChanges;if(o&&this._snapshot.excludesMetadataChanges)throw new C(T.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===o||(this._cachedChanges=function(u,d){if(u._snapshot.oldDocs.isEmpty()){let w=0;return u._snapshot.docChanges.map(D=>({type:"added",doc:new zd(u._firestore,u._userDataWriter,D.doc.key,D.doc,new $c(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:w++}))}{let w=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(D=>d||3!==D.type).map(D=>{const B=new zd(u._firestore,u._userDataWriter,D.doc.key,D.doc,new $c(u._snapshot.mutatedKeys.has(D.doc.key),u._snapshot.fromCache),u.query.converter);let J=-1,le=-1;return 0!==D.type&&(J=w.indexOf(D.doc.key),w=w.delete(D.doc.key)),1!==D.type&&(w=w.add(D.doc),le=w.indexOf(D.doc.key)),{type:mg(D.type),doc:B,oldIndex:J,newIndex:le}})}}(this,o),this._cachedChangesIncludeMetadataChanges=o),this._cachedChanges}}function mg(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}function cy(a,n){return a instanceof Ml&&n instanceof Ml?a._firestore===n._firestore&&a._key.isEqual(n._key)&&(null===a._document?null===n._document:a._document.isEqual(n._document))&&a._converter===n._converter:a instanceof il&&n instanceof il&&a._firestore===n._firestore&&Xm(a.query,n.query)&&a.metadata.isEqual(n.metadata)&&a._snapshot.isEqual(n._snapshot)}function av(a){if(pa(a)&&0===a.explicitOrderBy.length)throw new C(T.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}function ec(a,...n){for(const o of n)a=o._apply(a);return a}class lv extends bf{constructor(n,o,u){super(),this.Ka=n,this.ja=o,this.Qa=u,this.type="where"}_apply(n){const o=gu(n.firestore),u=function(d,w,D,B,J,le,Ee){let ze;if(J.isKeyField()){if("array-contains"===le||"array-contains-any"===le)throw new C(T.INVALID_ARGUMENT,`Invalid Query. You can't perform '${le}' queries on FieldPath.documentId().`);if("in"===le||"not-in"===le){vy(Ee,le);const Dt=[];for(const Kt of Ee)Dt.push(_y(B,d,Kt));ze={arrayValue:{values:Dt}}}else ze=_y(B,d,Ee)}else"in"!==le&&"not-in"!==le&&"array-contains-any"!==le||vy(Ee,le),ze=ly(D,"where",Ee,"in"===le||"not-in"===le);const bt=to.create(J,le,ze);return function(Dt,Kt){if(Kt.v()){const vr=dc(Dt);if(null!==vr&&!vr.isEqual(Kt.field))throw new C(T.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${vr.toString()}' and '${Kt.field.toString()}'`);const us=pl(Dt);null!==us&&wy(0,Kt.field,us)}const Pn=function(vr,us){for(const Ko of vr.filters)if(us.indexOf(Ko.op)>=0)return Ko.op;return null}(Dt,function(vr){switch(vr){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Kt.op));if(null!==Pn)throw new C(T.INVALID_ARGUMENT,Pn===Kt.op?`Invalid query. You cannot use more than one '${Kt.op.toString()}' filter.`:`Invalid query. You cannot use '${Kt.op.toString()}' filters with '${Pn.toString()}' filters.`)}(d,bt),bt}(n._query,0,o,n.firestore._databaseId,this.Ka,this.ja,this.Qa);return new So(n.firestore,n.converter,function(d,w){const D=d.filters.concat([w]);return new fa(d.path,d.collectionGroup,d.explicitOrderBy.slice(),D,d.limit,d.limitType,d.startAt,d.endAt)}(n._query,u))}}class Ww extends bf{constructor(n,o){super(),this.Ka=n,this.Wa=o,this.type="orderBy"}_apply(n){const o=function(u,d,w){if(null!==u.startAt)throw new C(T.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new C(T.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const D=new fl(d,w);return function(B,J){if(null===pl(B)){const le=dc(B);null!==le&&wy(0,le,J.field)}}(u,D),D}(n._query,this.Ka,this.Wa);return new So(n.firestore,n.converter,function(u,d){const w=u.explicitOrderBy.concat([d]);return new fa(u.path,u.collectionGroup,w,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,o))}}class tc extends bf{constructor(n,o,u){super(),this.type=n,this.Ga=o,this.za=u}_apply(n){return new So(n.firestore,n.converter,ml(n._query,this.Ga,this.za))}}class fy extends bf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new So(n.firestore,n.converter,(d=o,new fa((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,d,u.endAt)));var u,d}}class gy extends bf{constructor(n,o,u){super(),this.type=n,this.Ha=o,this.Ja=u}_apply(n){const o=yy(n,this.type,this.Ha,this.Ja);return new So(n.firestore,n.converter,(d=o,new fa((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,d)));var u,d}}function yy(a,n,o,u){if(o[0]=(0,Le.m9)(o[0]),o[0]instanceof vf)return function(d,w,D,B,J){if(!B)throw new C(T.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${D}().`);const le=[];for(const Ee of gl(d))if(Ee.field.isKeyField())le.push(ha(w,B.key));else{const ze=B.data.field(Ee.field);if(sc(ze))throw new C(T.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ee.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ze){const bt=Ee.field.canonicalString();throw new C(T.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${bt}' (used as the orderBy) does not exist.`)}le.push(ze)}return new hl(le,J)}(a._query,a.firestore._databaseId,n,o[0]._document,u);{const d=gu(a.firestore);return function(w,D,B,J,le,Ee){const ze=w.explicitOrderBy;if(le.length>ze.length)throw new C(T.INVALID_ARGUMENT,`Too many arguments provided to ${J}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const bt=[];for(let Dt=0;Dt<le.length;Dt++){const Kt=le[Dt];if(ze[Dt].field.isKeyField()){if("string"!=typeof Kt)throw new C(T.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${J}(), but got a ${typeof Kt}`);if(!ql(w)&&-1!==Kt.indexOf("/"))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${J}() must be a plain document ID, but '${Kt}' contains a slash.`);const Pn=w.path.child(Gn.fromString(Kt));if(!gn.isDocumentKey(Pn))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${J}() must result in a valid document path, but '${Pn}' is not because it contains an odd number of segments.`);const vr=new gn(Pn);bt.push(ha(D,vr))}else{const Pn=ly(B,J,Kt);bt.push(Pn)}}return new hl(bt,Ee)}(a._query,a.firestore._databaseId,d,n,o,u)}}function _y(a,n,o){if("string"==typeof(o=(0,Le.m9)(o))){if(""===o)throw new C(T.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!ql(n)&&-1!==o.indexOf("/"))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${o}' contains a '/' character.`);const u=n.path.child(Gn.fromString(o));if(!gn.isDocumentKey(u))throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return ha(a,new gn(u))}if(o instanceof Ni)return ha(a,o._key);throw new C(T.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(o)}.`)}function vy(a,n){if(!Array.isArray(a)||0===a.length)throw new C(T.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`);if(a.length>10)throw new C(T.INVALID_ARGUMENT,`Invalid Query. '${n.toString()}' filters support a maximum of 10 elements in the value array.`)}function wy(a,n,o){if(!o.isEqual(n))throw new C(T.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${n.toString()}' and so you must also use '${n.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${o.toString()}' instead.`)}class Cf{convertValue(n,o="none"){switch(ho(n)){case 0:return null;case 1:return n.booleanValue;case 2:return li(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,o);case 5:return n.stringValue;case 6:return this.convertBytes(Qr(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,o);case 10:return this.convertObject(n.mapValue,o);default:throw ue()}}convertObject(n,o){const u={};return Ri(n.fields,(d,w)=>{u[d]=this.convertValue(w,o)}),u}convertGeoPoint(n){return new Rl(li(n.latitude),li(n.longitude))}convertArray(n,o){return(n.values||[]).map(u=>this.convertValue(u,o))}convertServerTimestamp(n,o){switch(o){case"previous":const u=To(n);return null==u?null:this.convertValue(u,o);case"estimate":return this.convertTimestamp(Lo(n));default:return null}}convertTimestamp(n){const o=Gi(n);return new fr(o.seconds,o.nanos)}convertDocumentKey(n,o){const u=Gn.fromString(n);ge(Ah(u));const d=new Qu(u.get(1),u.get(3)),w=new gn(u.popFirst(5));return d.isEqual(o)||R(`Document ${w} contains a document reference within a different database (${d.projectId}/${d.database}) which is not supported. It will be treated as a reference in the current database (${o.projectId}/${o.database}) instead.`),w}}function Af(a,n,o){let u;return u=a?o&&(o.merge||o.mergeFields)?a.toFirestore(n,o):a.toFirestore(n):n,u}class by extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new zo(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ni(this.firestore,null,o)}}class yg{constructor(n,o){this._firestore=n,this._commitHandler=o,this._mutations=[],this._committed=!1,this._dataReader=gu(n)}set(n,o,u){this._verifyNotCommitted();const d=sl(n,this._firestore),w=Af(d.converter,o,u),D=qd(this._dataReader,"WriteBatch.set",d._key,w,null!==d.converter,u);return this._mutations.push(D.toMutation(d._key,Cs.none())),this}update(n,o,u,...d){this._verifyNotCommitted();const w=sl(n,this._firestore);let D;return D="string"==typeof(o=(0,Le.m9)(o))||o instanceof Xo?ay(this._dataReader,"WriteBatch.update",w._key,o,u,d):dg(this._dataReader,"WriteBatch.update",w._key,o),this._mutations.push(D.toMutation(w._key,Cs.exists(!0))),this}delete(n){this._verifyNotCommitted();const o=sl(n,this._firestore);return this._mutations=this._mutations.concat(new Vo(o._key,Cs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new C(T.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sl(a,n){if((a=(0,Le.m9)(a)).firestore!==n)throw new C(T.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}class Nl extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new zo(n)}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return new Ni(this.firestore,null,o)}}function If(a,n,o){a=Br(a,Ni);const u=Br(a.firestore,Xr),d=Af(a.converter,n,o);return Zc(u,[qd(gu(u),"setDoc",a._key,d,null!==a.converter,o).toMutation(a._key,Cs.none())])}function Ey(a,n,o,...u){a=Br(a,Ni);const d=Br(a.firestore,Xr),w=gu(d);let D;return D="string"==typeof(n=(0,Le.m9)(n))||n instanceof Xo?ay(w,"updateDoc",a._key,n,o,u):dg(w,"updateDoc",a._key,n),Zc(d,[D.toMutation(a._key,Cs.exists(!0))])}function bg(a,...n){var o,u,d;a=(0,Le.m9)(a);let w={includeMetadataChanges:!1},D=0;"object"!=typeof n[D]||Vc(n[D])||(w=n[D],D++);const B={includeMetadataChanges:w.includeMetadataChanges};if(Vc(n[D])){const ze=n[D];n[D]=null===(o=ze.next)||void 0===o?void 0:o.bind(ze),n[D+1]=null===(u=ze.error)||void 0===u?void 0:u.bind(ze),n[D+2]=null===(d=ze.complete)||void 0===d?void 0:d.bind(ze)}let J,le,Ee;if(a instanceof Ni)le=Br(a.firestore,Xr),Ee=Qa(a._key.path),J={next:ze=>{n[D]&&n[D](Kd(le,a,ze))},error:n[D+1],complete:n[D+2]};else{const ze=Br(a,So);le=Br(ze.firestore,Xr),Ee=ze._query;const bt=new Nl(le);J={next:Dt=>{n[D]&&n[D](new il(le,bt,ze,Dt))},error:n[D+1],complete:n[D+2]},av(a._query)}return function(ze,bt,Dt,Kt){const Pn=new kc(Kt),vr=new tf(bt,Pn,Dt);return ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Np(yield Lc(ze),vr)})),()=>{Pn.Xo(),ze.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return Op(yield Lc(ze),vr)}))}}(io(le),Ee,B,J)}function Zc(a,n){return function(o,u){const d=new A;return o.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n,o){return Ld.apply(this,arguments)}(yield rg(o),u,d)})),d.promise}(io(a),n)}function Kd(a,n,o){const u=o.docs.get(n._key),d=new Nl(a);return new Ml(a,d,n._key,u,new $c(o.hasPendingWrites,o.fromCache),n.converter)}class Eg extends class{constructor(n,o){this._firestore=n,this._transaction=o,this._dataReader=gu(n)}get(n){const o=sl(n,this._firestore),u=new by(this._firestore);return this._transaction.lookup([o._key]).then(d=>{if(!d||1!==d.length)return ue();const w=d[0];if(w.isFoundDocument())return new vf(this._firestore,u,w.key,w,o.converter);if(w.isNoDocument())return new vf(this._firestore,u,o._key,null,o.converter);throw ue()})}set(n,o,u){const d=sl(n,this._firestore),w=Af(d.converter,o,u),D=qd(this._dataReader,"Transaction.set",d._key,w,null!==d.converter,u);return this._transaction.set(d._key,D),this}update(n,o,u,...d){const w=sl(n,this._firestore);let D;return D="string"==typeof(o=(0,Le.m9)(o))||o instanceof Xo?ay(this._dataReader,"Transaction.update",w._key,o,u,d):dg(this._dataReader,"Transaction.update",w._key,o),this._transaction.update(w._key,D),this}delete(n){const o=sl(n,this._firestore);return this._transaction.delete(o._key),this}}{constructor(n,o){super(n,o),this._firestore=n}get(n){const o=sl(n,this._firestore),u=new Nl(this._firestore);return super.get(n).then(d=>new Ml(this._firestore,u,o._key,d._document,new $c(!1,!1),o.converter))}}function Yd(a,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new C("invalid-argument",`Invalid options passed to function ${a}(): You cannot specify both "merge" and "mergeFields".`);return n}function Tg(){if("undefined"==typeof Uint8Array)throw new C("unimplemented","Uint8Arrays are not available in this environment.")}function Dy(){if("undefined"==typeof atob)throw new C("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(a){ko=a})(jt.SDK_VERSION),(0,jt._registerComponent)(new Jt.wA("firestore",(a,{options:n})=>{const o=a.getProvider("app").getImmediate(),u=new Xr(o,new fe(a.getProvider("auth-internal")));return n=Object.assign({useFetchStreams:!0},n),u._setSettings(n),u},"PUBLIC")),(0,jt.registerVersion)("@firebase/firestore","3.1.0",void 0);class Qd{constructor(n){this._delegate=n}static fromBase64String(n){return Dy(),new Qd(zo.fromBase64String(n))}static fromUint8Array(n){return Tg(),new Qd(zo.fromUint8Array(n))}toBase64(){return Dy(),this._delegate.toBase64()}toUint8Array(){return Tg(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Dg(a){return function(a,n){if("object"!=typeof a||null===a)return!1;const o=a;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(a)}class Sg{enableIndexedDbPersistence(n,o){return function(a,n){Xu(a=Br(a,Xr));const o=io(a),u=a._freezeSettings(),d=new ja;return Eo(o,d,new lf(d,u.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:o})}enableMultiTabIndexedDbPersistence(n){return function(a){Xu(a=Br(a,Xr));const n=io(a),o=a._freezeSettings(),u=new ja;return Eo(n,u,new Bw(u,o.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function(a){if(a._initialized&&!a._terminated)throw new C(T.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new A;return a._queue.enqueueAndForgetEvenWhileRestricted((0,_.Z)(function*(){try{yield(o=(0,_.Z)(function*(u){if(!Zo.bt())return Promise.resolve();const d=u+"main";yield Zo.delete(d)}),function(u){return o.apply(this,arguments)})(Fh(a._databaseId,a._persistenceKey)),n.resolve()}catch(o){n.reject(o)}var o})),n.promise}(n._delegate)}}class xg{constructor(n,o,u){this._delegate=o,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},n instanceof Qu||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const o=this._delegate._getSettings();!n.merge&&o.host!==n.host&&W("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},o),n)).merge,this._delegate._setSettings(n)}useEmulator(n,o,u={}){!function(a,n,o,u={}){var d;const w=(a=Br(a,ff))._getSettings();if("firestore.googleapis.com"!==w.host&&w.host!==n&&W("Host has been set in both settings() and useEmulator(), emulator host will be used"),a._setSettings(Object.assign(Object.assign({},w),{host:`${n}:${o}`,ssl:!1})),u.mockUserToken){let D,B;if("string"==typeof u.mockUserToken)D=u.mockUserToken,B=os.MOCK_USER;else{D=(0,Le.Sg)(u.mockUserToken,null===(d=a._app)||void 0===d?void 0:d.options.projectId);const J=u.mockUserToken.sub||u.mockUserToken.user_id;if(!J)throw new C(T.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");B=new os(J)}a._credentials=new Q(new P(D,B))}}(this._delegate,n,o,u)}enableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield tg(a),o=yield ng(a);return n.setNetworkEnabled(!0),function(u){const d=Ue(u);return d.Kr.delete(0),Dc(d)}(o)}))}(io(a=Br(a,Xr)))}(this._delegate)}disableNetwork(){return function(a){return function(a){return a.asyncQueue.enqueue((0,_.Z)(function*(){const n=yield tg(a),o=yield ng(a);return n.setNetworkEnabled(!1),(u=(0,_.Z)(function*(d){const w=Ue(d);w.Kr.add(0),yield Sc(w),w.Wr.set("Offline")}),function(d){return u.apply(this,arguments)})(o);var u}))}(io(a=Br(a,Xr)))}(this._delegate)}enablePersistence(n){let o=!1,u=!1;return n&&(o=!!n.synchronizeTabs,u=!!n.experimentalForceOwningTab,ev("synchronizeTabs",o,"experimentalForceOwningTab",u)),o?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(a){return function(n){const o=new A;return n.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return function(a,n){return sf.apply(this,arguments)}(yield rg(n),o)})),o.promise}(io(a=Br(a,Xr)))}(this._delegate)}onSnapshotsInSync(n){return function(a,n){return function(a,n){const o=new kc(n);return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Lc(a),d=o,Ue(u).Zr.add(d),void d.next();var u,d})),()=>{o.Xo(),a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return u=yield Lc(a),d=o,void Ue(u).Zr.delete(d);var u,d}))}}(io(a=Br(a,Xr)),Vc(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new C("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new Gc(this,Qm(this._delegate,n))}catch(o){throw xo(o,"collection()","Firestore.collection()")}}doc(n){try{return new Ea(this,pf(this._delegate,n))}catch(o){throw xo(o,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new Wo(this,function(a,n){if(a=Br(a,ff),ba("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new C(T.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new So(a,null,(o=n,new fa(Gn.emptyPath(),o)));var o}(this._delegate,n))}catch(o){throw xo(o,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function(a,n){return function(a,n){const o=new A;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){const u=yield(d=a,Fc(d).then(w=>w.datastore));var d;new K_(a.asyncQueue,u,n,o).run()})),o.promise}(io(a),o=>n(new Eg(a,o)))}(this._delegate,o=>n(new Rg(this,o)))}batch(){return io(this._delegate),new Mg(new yg(this._delegate,n=>Zc(this._delegate,n)))}loadBundle(n){return function(a,n){const o=io(a=Br(a,Xr)),u=new Uc;return function(a,n,o,u){const d=function(w,D){let B;return B="string"==typeof w?(new TextEncoder).encode(w):w,J=function(J,le){if(J instanceof Uint8Array)return uf(J,void 0);if(J instanceof ArrayBuffer)return uf(new Uint8Array(J),void 0);if(J instanceof ReadableStream)return J.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(B),new jw(J,D);var J}(o,$h(n));a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){!function(a,n,o){const u=Ue(a);var d;(d=(0,_.Z)(function*(w,D,B){try{const J=yield D.getMetadata();if(yield function(bt,Dt){const Kt=Ue(bt),Pn=Ps(Dt.createTime);return Kt.persistence.runTransaction("hasNewerBundle","readonly",vr=>Kt.Je.getBundleMetadata(vr,Dt.id)).then(vr=>!!vr&&vr.createTime.compareTo(Pn)>=0)}(w.localStore,J))return yield D.close(),void B._completeWith((bt=J,{taskState:"Success",documentsLoaded:bt.totalDocuments,bytesLoaded:bt.totalBytes,totalDocuments:bt.totalDocuments,totalBytes:bt.totalBytes}));B._updateProgress(Nm(J));const le=new Pp(J,w.localStore,D.N);let Ee=yield D.Qo();for(;Ee;){const bt=yield le.fo(Ee);bt&&B._updateProgress(bt),Ee=yield D.Qo()}const ze=yield le.complete();yield wa(w,ze.Tn,void 0),yield function(bt,Dt){const Kt=Ue(bt);return Kt.persistence.runTransaction("Save bundle","readwrite",Pn=>Kt.Je.saveBundleMetadata(Pn,Dt))}(w.localStore,J),B._completeWith(ze.progress)}catch(J){W("SyncEngine",`Loading bundle failed with ${J}`),B._failWith(J)}var bt}),function(w,D,B){return d.apply(this,arguments)})(u,n,o).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield rg(a),d,u)}))}(o,a._databaseId,n,u),u}(this._delegate,n)}namedQuery(n){return function(a,n){return function(a,n){return a.asyncQueue.enqueue((0,_.Z)(function*(){return function(o,u){const d=Ue(o);return d.persistence.runTransaction("Get named query","readonly",w=>d.Je.getNamedQuery(w,u))}(yield hf(a),n)}))}(io(a=Br(a,Xr)),n).then(o=>o?new So(a,null,o.query):null)}(this._delegate,n).then(o=>o?new Wo(this,o):null)}}class Jd extends Cf{constructor(n){super(),this.firestore=n}convertBytes(n){return new Qd(new zo(n))}convertReference(n){const o=this.convertDocumentKey(n,this.firestore._databaseId);return Ea.forKey(o,this.firestore,null)}}class Rg{constructor(n,o){this._firestore=n,this._delegate=o,this._userDataWriter=new Jd(n)}get(n){const o=nc(n);return this._delegate.get(o).then(u=>new Xd(this._firestore,new Ml(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,o.converter)))}set(n,o,u){const d=nc(n);return u?(Yd("Transaction.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const w=nc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...d),this}delete(n){const o=nc(n);return this._delegate.delete(o),this}}class Mg{constructor(n){this._delegate=n}set(n,o,u){const d=nc(n);return u?(Yd("WriteBatch.set",u),this._delegate.set(d,o,u)):this._delegate.set(d,o),this}update(n,o,u,...d){const w=nc(n);return 2===arguments.length?this._delegate.update(w,o):this._delegate.update(w,o,u,...d),this}delete(n){const o=nc(n);return this._delegate.delete(o),this}commit(){return this._delegate.commit()}}class yu{constructor(n,o,u){this._firestore=n,this._userDataWriter=o,this._delegate=u}fromFirestore(n,o){const u=new zd(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new qc(this._firestore,u),null!=o?o:{})}toFirestore(n,o){return o?this._delegate.toFirestore(n,o):this._delegate.toFirestore(n)}static getInstance(n,o){const u=yu.INSTANCES;let d=u.get(n);d||(d=new WeakMap,u.set(n,d));let w=d.get(o);return w||(w=new yu(n,new Jd(n),o),d.set(o,w)),w}}yu.INSTANCES=new WeakMap;class Ea{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Jd(n)}static forPath(n,o,u){if(n.length%2!=0)throw new C("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Ea(o,new Ni(o._delegate,u,new gn(n)))}static forKey(n,o,u){return new Ea(o,new Ni(o._delegate,u,n))}get id(){return this._delegate.id}get parent(){return new Gc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new Gc(this.firestore,Qm(this._delegate,n))}catch(o){throw xo(o,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,Le.m9)(n))instanceof Ni&&Jm(this._delegate,n)}set(n,o){o=Yd("DocumentReference.set",o);try{return o?If(this._delegate,n,o):If(this._delegate,n)}catch(u){throw xo(u,"setDoc()","DocumentReference.set()")}}update(n,o,...u){try{return 1===arguments.length?Ey(this._delegate,n):Ey(this._delegate,n,o,...u)}catch(d){throw xo(d,"updateDoc()","DocumentReference.update()")}}delete(){return function(a){return Zc(Br(a.firestore,Xr),[new Vo(a._key,Cs.none())])}(this._delegate)}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new Xd(this.firestore,new Ml(this.firestore._delegate,this._userDataWriter,d._key,d._document,d.metadata,this._delegate.converter)));return bg(this._delegate,o,u)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=Br(a,Ni);const n=Br(a.firestore,Xr),o=io(n),u=new Nl(n);return function(a,n){const o=new A;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,w,D){try{const B=yield function(J,le){const Ee=Ue(J);return Ee.persistence.runTransaction("read document","readonly",ze=>Ee.Qn.An(ze,le))}(d,w);B.isFoundDocument()?D.resolve(B):B.isNoDocument()?D.resolve(null):D.reject(new C(T.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(B){const J=Fd(B,`Failed to get document '${w} from cache`);D.reject(J)}}),function(d,w,D){return u.apply(this,arguments)})(yield hf(a),n,o);var u})),o.promise}(o,a._key).then(d=>new Ml(n,u,a._key,d,new $c(null!==d&&d.hasLocalMutations,!0),a.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=Br(a,Ni);const n=Br(a.firestore,Xr);return sg(io(n),a._key,{source:"server"}).then(o=>Kd(n,a,o))}(this._delegate):function(a){a=Br(a,Ni);const n=Br(a.firestore,Xr);return sg(io(n),a._key).then(o=>Kd(n,a,o))}(this._delegate),o.then(u=>new Xd(this.firestore,new Ml(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(n){return new Ea(this.firestore,this._delegate.withConverter(n?yu.getInstance(this.firestore,n):null))}}function xo(a,n,o){return a.message=a.message.replace(n,o),a}function yv(a){for(const n of a)if("object"==typeof n&&!Dg(n))return n;return{}}function Ry(a,n){var o,u;let d;return d=Dg(a[0])?a[0]:Dg(a[1])?a[1]:"function"==typeof a[0]?{next:a[0],error:a[1],complete:a[2]}:{next:a[1],error:a[2],complete:a[3]},{next:w=>{d.next&&d.next(n(w))},error:null===(o=d.error)||void 0===o?void 0:o.bind(d),complete:null===(u=d.complete)||void 0===u?void 0:u.bind(d)}}class Xd{constructor(n,o){this._firestore=n,this._delegate=o}get ref(){return new Ea(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,o){return this._delegate.get(n,o)}isEqual(n){return cy(this._delegate,n._delegate)}}class qc extends Xd{data(n){const o=this._delegate.data(n);return function(a,n){a||ue()}(void 0!==o),o}}class Wo{constructor(n,o){this.firestore=n,this._delegate=o,this._userDataWriter=new Jd(n)}where(n,o,u){try{return new Wo(this.firestore,ec(this._delegate,function(a,n,o){const u=n,d=wf("where",a);return new lv(d,u,o)}(n,o,u)))}catch(d){throw xo(d,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,o){try{return new Wo(this.firestore,ec(this._delegate,function(a,n="asc"){const o=n,u=wf("orderBy",a);return new Ww(u,o)}(n,o)))}catch(u){throw xo(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new Wo(this.firestore,ec(this._delegate,function(a){return ag("limit",a),new tc("limit",a,"F")}(n)))}catch(o){throw xo(o,"limit()","Query.limit()")}}limitToLast(n){try{return new Wo(this.firestore,ec(this._delegate,function(a){return ag("limitToLast",a),new tc("limitToLast",a,"L")}(n)))}catch(o){throw xo(o,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new Wo(this.firestore,ec(this._delegate,function(...a){return new fy("startAt",a,!0)}(...n)))}catch(o){throw xo(o,"startAt()","Query.startAt()")}}startAfter(...n){try{return new Wo(this.firestore,ec(this._delegate,function(...a){return new fy("startAfter",a,!1)}(...n)))}catch(o){throw xo(o,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new Wo(this.firestore,ec(this._delegate,function(...a){return new gy("endBefore",a,!0)}(...n)))}catch(o){throw xo(o,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new Wo(this.firestore,ec(this._delegate,function(...a){return new gy("endAt",a,!1)}(...n)))}catch(o){throw xo(o,"endAt()","Query.endAt()")}}isEqual(n){return Xm(this._delegate,n._delegate)}get(n){let o;return o="cache"===(null==n?void 0:n.source)?function(a){a=Br(a,So);const n=Br(a.firestore,Xr),o=io(n),u=new Nl(n);return function(a,n){const o=new A;return a.asyncQueue.enqueueAndForget((0,_.Z)(function*(){return(u=(0,_.Z)(function*(d,w,D){try{const B=yield Ed(d,w,!0),J=new kp(w,B.Gn),le=J.Io(B.documents),Ee=J.applyChanges(le,!1);D.resolve(Ee.snapshot)}catch(B){const J=Fd(B,`Failed to execute query '${w} against cache`);D.reject(J)}}),function(d,w,D){return u.apply(this,arguments)})(yield hf(a),n,o);var u})),o.promise}(o,a._query).then(d=>new il(n,u,a,d))}(this._delegate):"server"===(null==n?void 0:n.source)?function(a){a=Br(a,So);const n=Br(a.firestore,Xr),o=io(n),u=new Nl(n);return zm(o,a._query,{source:"server"}).then(d=>new il(n,u,a,d))}(this._delegate):function(a){a=Br(a,So);const n=Br(a.firestore,Xr),o=io(n),u=new Nl(n);return av(a._query),zm(o,a._query).then(d=>new il(n,u,a,d))}(this._delegate),o.then(u=>new Tf(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...n){const o=yv(n),u=Ry(n,d=>new Tf(this.firestore,new il(this.firestore._delegate,this._userDataWriter,this._delegate,d._snapshot)));return bg(this._delegate,o,u)}withConverter(n){return new Wo(this.firestore,this._delegate.withConverter(n?yu.getInstance(this.firestore,n):null))}}class so{constructor(n,o){this._firestore=n,this._delegate=o}get type(){return this._delegate.type}get doc(){return new qc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tf{constructor(n,o){this._firestore=n,this._delegate=o}get query(){return new Wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new qc(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(o=>new so(this._firestore,o))}forEach(n,o){this._delegate.forEach(u=>{n.call(o,new qc(this._firestore,u))})}isEqual(n){return cy(this._delegate,n._delegate)}}class Gc extends Wo{constructor(n,o){super(n,o),this.firestore=n,this._delegate=o}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Ea(this.firestore,n):null}doc(n){try{return new Ea(this.firestore,void 0===n?pf(this._delegate):pf(this._delegate,n))}catch(o){throw xo(o,"doc()","CollectionReference.doc()")}}add(n){return function(a,n){const o=Br(a.firestore,Xr),u=pf(a),d=Af(a.converter,n);return Zc(o,[qd(gu(a.firestore),"addDoc",u._key,d,null!==a.converter,{}).toMutation(u._key,Cs.exists(!1))]).then(()=>u)}(this._delegate,n).then(o=>new Ea(this.firestore,o))}isEqual(n){return Jm(this._delegate,n._delegate)}withConverter(n){return new Gc(this.firestore,this._delegate.withConverter(n?yu.getInstance(this.firestore,n):null))}}function nc(a){return Br(a,Ni)}class Df{constructor(...n){this._delegate=new Xo(...n)}static documentId(){return new Df(un.keyField().canonicalString())}isEqual(n){return(n=(0,Le.m9)(n))instanceof Xo&&this._delegate._internalPath.isEqual(n._internalPath)}}class rc{constructor(n){this._delegate=n}static serverTimestamp(){const n=new _f("serverTimestamp");return n._methodName="FieldValue.serverTimestamp",new rc(n)}static delete(){const n=new Hc("deleteField");return n._methodName="FieldValue.delete",new rc(n)}static arrayUnion(...n){const o=function(...a){return new sv("arrayUnion",a)}(...n);return o._methodName="FieldValue.arrayUnion",new rc(o)}static arrayRemove(...n){const o=function(...a){return new sy("arrayRemove",a)}(...n);return o._methodName="FieldValue.arrayRemove",new rc(o)}static increment(n){const o=function(a){return new oy("increment",a)}(n);return o._methodName="FieldValue.increment",new rc(o)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const My={Firestore:xg,GeoPoint:Rl,Timestamp:fr,Blob:Qd,Transaction:Rg,WriteBatch:Mg,DocumentReference:Ea,DocumentSnapshot:Xd,Query:Wo,QueryDocumentSnapshot:qc,QuerySnapshot:Tf,CollectionReference:Gc,FieldPath:Df,FieldValue:rc,setLogLevel:function(a){!function(a){Fo.setLogLevel(a)}(a)},CACHE_SIZE_UNLIMITED:-1};!function(a){(function(a,n){a.INTERNAL.registerComponent(new Jt.wA("firestore-compat",o=>((n,o)=>new xg(n,o,new Sg))(o.getProvider("app-compat").getImmediate(),o.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},My)))})(a),a.registerVersion("@firebase/firestore-compat","0.1.3")}(St.Z);var Ol=Z(7057);function Py(a,n){return function(a,n=Ve.z){return new Me.y(o=>{let u;return null!=n?n.schedule(()=>{u=a.onSnapshot({includeMetadataChanges:!0},o)}):u=a.onSnapshot({includeMetadataChanges:!0},o),()=>{null!=u&&u()}})}(a,n)}function Fy(a,n){return Py(a,n).pipe((0,Fe.U)(o=>({payload:o,type:"query"})))}function Wc(a,n){return Fy(a,n).pipe((0,_e.O)(void 0),de(),(0,Fe.U)(([o,u])=>{const d=u.payload.docChanges(),w=d.map(D=>({type:D.type,payload:D}));return o&&JSON.stringify(o.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((D,B)=>{const J=d.find(Ee=>Ee.doc.ref.isEqual(D.ref)),le=null==o?void 0:o.payload.docs.find(Ee=>Ee.ref.isEqual(D.ref));J&&JSON.stringify(J.doc.metadata)===JSON.stringify(D.metadata)||!J&&le&&JSON.stringify(le.metadata)===JSON.stringify(D.metadata)||w.push({type:"modified",payload:{oldIndex:B,newIndex:B,type:"modified",doc:D}})}),w}))}function Sf(a,n,o){return Wc(a,o).pipe((0,Ye.R)((u,d)=>function(a,n,o){return n.forEach(u=>{o.indexOf(u.type)>-1&&(a=function(a,n){switch(n.type){case"added":if(!a[n.newIndex]||!a[n.newIndex].doc.ref.isEqual(n.doc.ref))return Ng(a,n.newIndex,0,n);break;case"modified":if(null==a[n.oldIndex]||a[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const o=a.slice();return o.splice(n.oldIndex,1),o.splice(n.newIndex,0,n),o}return Ng(a,n.newIndex,1,n)}break;case"removed":if(a[n.oldIndex]&&a[n.oldIndex].doc.ref.isEqual(n.doc.ref))return Ng(a,n.oldIndex,1)}return a}(a,u))}),a}(u,d.map(w=>w.payload),n),[]),o=>o.lift(new yt(void 0,void 0)),(0,Fe.U)(u=>u.map(d=>({type:d.type,payload:d}))))}function Ng(a,n,o,...u){const d=a.slice();return d.splice(n,o,...u),d}function Ha(a){return(!a||0===a.length)&&(a=["added","removed","modified"]),a}Z(7841);class Oa{constructor(n,o,u){this.ref=n,this.query=o,this.afs=u}stateChanges(n){let o=Wc(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(o=o.pipe((0,Fe.U)(u=>u.filter(d=>n.indexOf(d.type)>-1)))),o.pipe((0,_e.O)(void 0),de(),(0,ft.h)(([u,d])=>d.length>0||!u),(0,Fe.U)(([u,d])=>d),pe.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ye.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Ha(n);return Sf(this.query,o,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(o=>o.payload.docs.map(u=>n.idField?Object.assign(Object.assign({},u.data()),{[n.idField]:u.id}):u.data())),pe.iC)}get(n){return(0,ve.D)(this.query.get(n)).pipe(pe.iC)}add(n){return this.ref.add(n)}doc(n){return new Pa(this.ref.doc(n),this.afs)}}class Pa{constructor(n,o){this.ref=n,this.afs=o}set(n,o){return this.ref.set(n,o)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,o){const u=this.ref.collection(n),{ref:d,query:w}=By(u,o);return new Oa(d,w,this.afs)}snapshotChanges(){return function(a,n){return Py(a,n).pipe((0,_e.O)(void 0),de(),(0,Fe.U)(([o,u])=>u.exists?(null==o?void 0:o.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Fe.U)(({payload:o})=>n.idField?Object.assign(Object.assign({},o.data()),{[n.idField]:o.id}):o.data()))}get(n){return(0,ve.D)(this.ref.get(n)).pipe(pe.iC)}}class Vy{constructor(n,o){this.query=n,this.afs=o}stateChanges(n){return n&&0!==n.length?Wc(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(o=>o.filter(u=>n.indexOf(u.type)>-1)),(0,ft.h)(o=>o.length>0),pe.iC):Wc(this.query,this.afs.schedulers.outsideAngular).pipe(pe.iC)}auditTrail(n){return this.stateChanges(n).pipe((0,Ye.R)((o,u)=>[...o,...u],[]))}snapshotChanges(n){const o=Ha(n);return Sf(this.query,o,this.afs.schedulers.outsideAngular).pipe(pe.iC)}valueChanges(n={}){return Fy(this.query,this.afs.schedulers.outsideAngular).pipe((0,Fe.U)(u=>u.payload.docs.map(d=>n.idField?Object.assign({[n.idField]:d.id},d.data()):d.data())),pe.iC)}get(n){return(0,ve.D)(this.query.get(n)).pipe(pe.iC)}}const Uy=new te.OlP("angularfire2.enableFirestorePersistence"),_v=new te.OlP("angularfire2.firestore.persistenceSettings"),vv=new te.OlP("angularfire2.firestore.settings"),wv=new te.OlP("angularfire2.firestore.use-emulator");function By(a,n=(o=>o)){return{query:n(a),ref:a}}let Og=(()=>{class a{constructor(o,u,d,w,D,B,J,le,Ee,ze,bt,Dt,Kt,Pn,vr,us){this.schedulers=J;const Ko=(0,wt.on)(o,B,u),Pl=Ee;ze&&(0,Ol.nw)(Ko,B,bt,Kt,Pn,vr,Dt,us),[this.firestore,this.persistenceEnabled$]=(0,pe.cc)(`${Ko.name}.firestore`,"AngularFirestore",Ko.name,()=>{const $a=B.runOutsideAngular(()=>Ko.firestore());if(w&&$a.settings(w),Pl&&$a.useEmulator(...Pl),d&&!(0,ct.PM)(D)){const eh=()=>{try{return(0,ve.D)($a.enablePersistence(le||void 0).then(()=>!0,()=>!1))}catch(Rf){return"undefined"!=typeof console&&console.warn(Rf),(0,He.of)(!1)}};return[$a,B.runOutsideAngular(eh)]}return[$a,(0,He.of)(!1)]},[w,Pl,d])}collection(o,u){let d;d="string"==typeof o?this.firestore.collection(o):o;const{ref:w,query:D}=By(d,u),B=this.schedulers.ngZone.run(()=>w);return new Oa(B,D,this)}collectionGroup(o,u){const d=u||(D=>D),w=this.firestore.collectionGroup(o);return new Vy(d(w),this)}doc(o){let u;u="string"==typeof o?this.firestore.doc(o):o;const d=this.schedulers.ngZone.run(()=>u);return new Pa(d,this)}createId(){return this.firestore.collection("_").doc().id}}return a.\u0275fac=function(o){return new(o||a)(te.LFG(wt.Dh),te.LFG(wt.xv,8),te.LFG(Uy,8),te.LFG(vv,8),te.LFG(te.Lbi),te.LFG(te.R0b),te.LFG(pe.HU),te.LFG(_v,8),te.LFG(wv,8),te.LFG(Ol.zQ,8),te.LFG(Ol.Qv,8),te.LFG(Ol.L6,8),te.LFG(Ol._Q,8),te.LFG(Ol.rT,8),te.LFG(Ol.lh,8),te.LFG(Ol.f7,8))},a.\u0275prov=te.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})(),bv=(()=>{class a{constructor(o,u){var d=this;this.af=o,this.auth=u,this.auth.authState.subscribe(function(){var w=(0,_.Z)(function*(D){(null==D?void 0:D.uid)&&(yield d.getUser(null==D?void 0:D.email))});return function(D){return w.apply(this,arguments)}}()),this.pacienteCollectionReference=this.af.collection("pacientes"),this.pacientesObs=this.pacienteCollectionReference.valueChanges({idField:"id"}),this.especialistaCollectionReference=this.af.collection("especialistas"),this.especialistasObs=this.especialistaCollectionReference.valueChanges({idField:"id"}),this.adminCollectionReference=this.af.collection("administradores"),this.adminObs=this.adminCollectionReference.valueChanges({idField:"id"}),this.especialidadesCollectionReference=this.af.collection("especialidades"),this.especialidadesObs=this.especialidadesCollectionReference.valueChanges({idField:"id"}),this.turnosCollectionReference=this.af.collection("turnos"),this.turnosObs=this.turnosCollectionReference.valueChanges({idField:"id"})}getPacientes(){return this.pacientesObs}getEspecialistas(){return this.especialistasObs}getAdmins(){return this.adminObs}addPaciente(o){this.pacienteCollectionReference.add(Object.assign({},o))}addEspecialidad(o){this.especialidadesCollectionReference.add({especialidad:o})}updateEspecialista(o,u){this.af.collection("especialistas").doc(u).update({horarios:o})}addTurnoPaciente(o,u){this.af.collection("pacientes").doc(u).update({turno:o})}addTurnoEspecialista(o){this.af.collection("especialistas").doc(o.id).update(o)}addAdmin(o){this.adminCollectionReference.add(Object.assign({},o))}addTurno(o){this.turnosCollectionReference.add(o)}addEspecialista(o){this.especialistaCollectionReference.add(Object.assign({},o))}modificarEstadoTurno(o){o.razon?this.turnosCollectionReference.doc(o.id).update({estado:o.estado,razon:o.razon}):o.comentario&&this.turnosCollectionReference.doc(o.id).update({estado:o.estado,comentario:o.comentario})}getUser(o){var u=this;return(0,_.Z)(function*(){let d=yield u.af.collection("administradores",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise();return 0===d.length&&(d=yield u.af.collection("pacientes",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise()),0===d.length&&(d=yield u.af.collection("especialistas",w=>w.where("email","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise()),u.usuarioActual=d[0],d[0]})()}getPaciente(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("pacientes",w=>w.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise())[0]})()}getEspecialista(o){var u=this;return(0,_.Z)(function*(){return(yield u.af.collection("especialistas",w=>w.where("dni","==",o).limit(1)).valueChanges({idField:"id"}).pipe((0,f.q)(1)).toPromise())[0]})()}}return a.\u0275fac=function(o){return new(o||a)(te.LFG(Og),te.LFG(Ol.zQ))},a.\u0275prov=te.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},5803:($t,et,Z)=>{"use strict";var _=Z(9075),f=Z(7716);const te_firebaseConfig={apiKey:"AIzaSyB71LrO5NbBWRHi_rsIxIYvnaO_eQgUrjI",authDomain:"clinicaonline-ee233.firebaseapp.com",projectId:"clinicaonline-ee233",storageBucket:"clinicaonline-ee233.appspot.com",messagingSenderId:"420028550231",appId:"1:420028550231:web:c4ec3baf3185efe7126712"};var Ve=Z(5160),Me=Z(611);let ve=(()=>{class F{constructor(v,R){this.firestore=v,this.router=R}canActivate(v,R){var W;return"admin"===(null===(W=this.firestore.usuarioActual)||void 0===W?void 0:W.perfil)||(this.router.navigate(["/sin-permisos"]),!1)}}return F.\u0275fac=function(v){return new(v||F)(f.LFG(Ve.C),f.LFG(Me.F0))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();var He=Z(8583),pe=Z(164);function _e(F,b){if(1&F){const v=f.EpF();f.TgZ(0,"div",2),f.TgZ(1,"button",3),f.NdJ("click",function(){return f.CHM(v),f.oxw().tipo="paciente"}),f._uU(2," Paciente "),f.qZA(),f.TgZ(3,"button",3),f.NdJ("click",function(){return f.CHM(v),f.oxw().tipo="especialista"}),f._uU(4," Especialista "),f.qZA(),f.qZA()}}function ne(F,b){if(1&F&&f._UZ(0,"app-registro",4),2&F){const v=f.oxw();f.Q6J("tipo",v.tipo)}}let de=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-page-registro"]],decls:2,vars:2,consts:[["class","row justify-content-center my-5 gap-3 p-0 mx-0",4,"ngIf"],[3,"tipo",4,"ngIf"],[1,"row","justify-content-center","my-5","gap-3","p-0","mx-0"],[1,"col-5","btn","btn-danger",3,"click"],[3,"tipo"]],template:function(v,R){1&v&&(f.YNc(0,_e,5,0,"div",0),f.YNc(1,ne,1,1,"app-registro",1)),2&v&&(f.Q6J("ngIf",!R.tipo),f.xp6(1),f.Q6J("ngIf",R.tipo))},directives:[He.O5,pe.J],styles:[""]}),F})(),he=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-home"]],decls:1,vars:0,consts:[[1,"container"]],template:function(v,R){1&v&&f._UZ(0,"div",0)},styles:[""]}),F})();var De=Z(665),Fe=Z(7556),Ye=Z(4132);function qe(F,b){1&F&&(f.TgZ(0,"div"),f._UZ(1,"app-spinner"),f.qZA())}function yt(F,b){1&F&&(f.TgZ(0,"div",15),f._uU(1," Ingrese su email "),f.qZA())}function me(F,b){1&F&&(f.TgZ(0,"div",15),f._uU(1," Ingrese un email valido "),f.qZA())}function ft(F,b){1&F&&(f.TgZ(0,"div",16),f._uU(1," Ingrese su contrase\xf1a "),f.qZA())}function wt(F,b){1&F&&(f.TgZ(0,"div",16),f._uU(1," La contrase\xf1a debe tener 8 caracteres o mas "),f.qZA())}let ct=(()=>{class F{constructor(v,R,W){this.auth=v,this.formBuilder=R,this.router=W,this.form=this.formBuilder.group({email:["",[De.kI.required,De.kI.email]],password:["",[De.kI.required,De.kI.minLength(8)]]})}ngOnInit(){}signIn(){this.auth.signIn(this.form.value)}loginEspecialista(){var v,R;null===(v=this.form.get("email"))||void 0===v||v.setValue("especialista@especialista.com"),null===(R=this.form.get("password"))||void 0===R||R.setValue("especialista"),this.signIn()}loginPaciente(){var v,R;null===(v=this.form.get("email"))||void 0===v||v.setValue("paciente@paciente.com"),null===(R=this.form.get("password"))||void 0===R||R.setValue("paciente"),this.signIn()}loginAdmin(){var v,R;null===(v=this.form.get("email"))||void 0===v||v.setValue("admin@admin.com"),null===(R=this.form.get("password"))||void 0===R||R.setValue("adminadmin"),this.signIn()}}return F.\u0275fac=function(v){return new(v||F)(f.Y36(Fe.e),f.Y36(De.qu),f.Y36(Me.F0))},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-login"]],decls:36,vars:7,consts:[[1,"container",2,"max-height","100vh !important"],[4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"containerForm","bg-dark","text-white"],[1,"row"],[1,"col-12"],["for","email"],["type","text","formControlName","email","name","email","required",""],["class","text-danger p-1 m-0",4,"ngIf"],["for","password"],["type","password","formControlName","password","name","password","required",""],["class","text-danger p-1",4,"ngIf"],["type","submit",1,"btn",3,"disabled"],[1,"col-md-4","col-12"],["type","button",1,"btn",3,"click"],[1,"text-danger","p-1","m-0"],[1,"text-danger","p-1"]],template:function(v,R){if(1&v&&(f.TgZ(0,"div",0),f.YNc(1,qe,2,0,"div",1),f.TgZ(2,"form",2),f.NdJ("ngSubmit",function(){return R.signIn()}),f.TgZ(3,"div",3),f.TgZ(4,"h1"),f._uU(5,"Login"),f.qZA(),f.TgZ(6,"h3"),f._uU(7,"Ingrese sus datos:"),f.qZA(),f.TgZ(8,"div",4),f.TgZ(9,"div",5),f.TgZ(10,"label",6),f.TgZ(11,"b"),f._uU(12,"Email"),f.qZA(),f.qZA(),f._UZ(13,"input",7),f.YNc(14,yt,2,0,"div",8),f.YNc(15,me,2,0,"div",8),f.qZA(),f.TgZ(16,"div",5),f.TgZ(17,"label",9),f.TgZ(18,"b"),f._uU(19,"Contrase\xf1a"),f.qZA(),f.qZA(),f._UZ(20,"input",10),f.YNc(21,ft,2,0,"div",11),f.YNc(22,wt,2,0,"div",11),f.qZA(),f.qZA(),f.TgZ(23,"div",4),f.TgZ(24,"div",5),f.TgZ(25,"button",12),f._uU(26,"Ingresar"),f.qZA(),f.qZA(),f.TgZ(27,"div",13),f.TgZ(28,"button",14),f.NdJ("click",function(){return R.loginEspecialista()}),f._uU(29,"Ingreso especialista"),f.qZA(),f.qZA(),f.TgZ(30,"div",13),f.TgZ(31,"button",14),f.NdJ("click",function(){return R.loginPaciente()}),f._uU(32,"Ingreso paciente"),f.qZA(),f.qZA(),f.TgZ(33,"div",13),f.TgZ(34,"button",14),f.NdJ("click",function(){return R.loginAdmin()}),f._uU(35,"Ingreso admin"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&v){let W,oe,ue,ge;f.xp6(1),f.Q6J("ngIf",R.auth.loading),f.xp6(1),f.Q6J("formGroup",R.form),f.xp6(12),f.Q6J("ngIf",(null==(W=R.form.get("email"))?null:W.touched)&&(null==(W=R.form.get("email"))||null==W.errors?null:W.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(oe=R.form.get("email"))?null:oe.touched)&&(null==(oe=R.form.get("email"))||null==oe.errors?null:oe.errors.email)),f.xp6(6),f.Q6J("ngIf",(null==(ue=R.form.get("password"))?null:ue.touched)&&(null==(ue=R.form.get("password"))||null==ue.errors?null:ue.errors.required)),f.xp6(1),f.Q6J("ngIf",(null==(ge=R.form.get("password"))?null:ge.touched)&&(null==(ge=R.form.get("password"))||null==ge.errors?null:ge.errors.minlength)),f.xp6(3),f.Q6J("disabled",R.form.invalid)}},directives:[He.O5,De._Y,De.JL,De.sg,De.Fj,De.JJ,De.u,De.Q7,Ye.O],styles:['@import"https://fonts.googleapis.com/css?family=Montserrat:400,500&display=swap";body[_ngcontent-%COMP%]{font-family:Montserrat,Arial,Helvetica,sans-serif;background-color:#f7f7f7}*[_ngcontent-%COMP%]{box-sizing:border-box}.containerForm[_ngcontent-%COMP%]{padding:20px;width:800px;min-width:300px;left:50%;top:120%;margin:1% auto;border:1px solid #ccc;border-radius:10px;background:white;box-shadow:2px 1px 21px -9px #00000061}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=number][_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;color:#fff;background:#232323;font-family:Montserrat,Arial,Helvetica,sans-serif}select[_ngcontent-%COMP%]{width:100%;padding:15px;margin-top:5px;display:inline-block;border:none;background:#f7f7f7;font-family:Montserrat,Arial,Helvetica,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, input[type=password][_ngcontent-%COMP%]:focus, input[type=number][_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{background-color:#6565bf;outline:none}button[_ngcontent-%COMP%]{background-color:#0eb7f4;color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer;width:100%;opacity:.9;font-size:16px;font-family:Montserrat,Arial,Helvetica,sans-serif;border-radius:10px}button[_ngcontent-%COMP%]:hover{opacity:1}@media screen and (max-width: 910px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:500px}}@media screen and (max-width: 510px){.signupbtn[_ngcontent-%COMP%]{width:100%}.containerForm[_ngcontent-%COMP%]{width:250px}}']}),F})();const Se=function(){return["/home"]};let St=(()=>{class F{constructor(){}ngOnInit(){}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-sin-permisos"]],decls:10,vars:2,consts:[[1,"container"],[1,"row","justify-content-center","p-0","m-0","align-items-center",2,"height","100px"],[1,"card","border-danger","mb-3","text-center",2,"max-width","20rem","max-height","12rem","margin-top","200px"],[1,"card-body","text-danger"],[1,"card-title"],[1,"card-text"],[1,"btn","btn-primary","m-auto","d-block",3,"routerLink"]],template:function(v,R){1&v&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"div",2),f.TgZ(3,"div",3),f.TgZ(4,"h5",4),f._uU(5,"Error"),f.qZA(),f.TgZ(6,"p",5),f._uU(7,"No tiene permisos para acceder a esta pagina. Vuelva al inicio"),f.qZA(),f.TgZ(8,"button",6),f._uU(9,"Inicio"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&v&&(f.xp6(8),f.Q6J("routerLink",f.DdM(1,Se)))},directives:[Me.rH],styles:[""]}),F})();var jt=Z(916),Jt=Z(8259),st=Z.n(Jt);function Le(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",15),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function tt(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",16),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function Qe(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",17),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function Te(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",18),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function We(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",19),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function Ce(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",20),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function Et(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",21),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function Pt(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",22),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function Wt(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",23),f.TgZ(2,"label",6),f._uU(3,"08:00 a 13:00"),f.qZA(),f.qZA())}function Gt(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",22),f.TgZ(2,"label",6),f._uU(3,"13:00 a 19:00"),f.qZA(),f.qZA())}function Ft(F,b){1&F&&(f.TgZ(0,"div",14),f._UZ(1,"input",24),f.TgZ(2,"label",6),f._uU(3,"08:00 a 14:00"),f.qZA(),f.qZA())}let Yt=(()=>{class F{constructor(v,R){this.formBuilder=v,this.firestore=R,this.form=this.formBuilder.group({lunes:["",[]],lunesM:["",[]],lunesT:["",[]],martes:["",[]],martesM:["",[]],martesT:["",[]],miercoles:["",[]],miercolesM:["",[]],miercolesT:["",[]],jueves:["",[]],juevesM:["",[]],juevesT:["",[]],viernes:["",[]],viernesM:["",[]],viernesT:["",[]],sabado:["",[]],sabadoM:["",[]]})}ngOnInit(){}actualizarHorarios(){var v,R,W,oe,ue,ge,nt,Ue,T,C,A,P,$,Q,fe,Ie,dt,Nt,Mn,dn,zt,yn,si,fr,sn,Io,Ri,qi;let Es=[],Gn={};(null===(v=this.form.controls)||void 0===v?void 0:v.lunes.value)&&(Gn=(null===(W=null===(R=this.form.controls)||void 0===R?void 0:R.lunesM)||void 0===W?void 0:W.value)&&(null===(oe=this.form.controls)||void 0===oe?void 0:oe.lunesT.value)?{dia:1,turno:"T-M"}:{dia:1,turno:(null===(ue=this.form.controls.lunesM)||void 0===ue?void 0:ue.value)?"M":"T"},Es.push(Gn)),(null===(ge=this.form.controls)||void 0===ge?void 0:ge.martes.value)&&(Gn=(null===(Ue=null===(nt=this.form.controls)||void 0===nt?void 0:nt.martesM)||void 0===Ue?void 0:Ue.value)&&(null===(T=this.form.controls)||void 0===T?void 0:T.martesT.value)?{dia:2,turno:"T-M"}:{dia:2,turno:(null===(C=this.form.controls.martesM)||void 0===C?void 0:C.value)?"M":"T"},Es.push(Gn)),(null===(A=this.form.controls)||void 0===A?void 0:A.miercoles.value)&&(Gn=(null===($=null===(P=this.form.controls)||void 0===P?void 0:P.miercolesM)||void 0===$?void 0:$.value)&&(null===(Q=this.form.controls)||void 0===Q?void 0:Q.miercolesT.value)?{dia:3,turno:"T-M"}:{dia:3,turno:(null===(fe=this.form.controls.miercolesM)||void 0===fe?void 0:fe.value)?"M":"T"},Es.push(Gn)),(null===(Ie=this.form.controls)||void 0===Ie?void 0:Ie.jueves.value)&&(Gn=(null===(Nt=null===(dt=this.form.controls)||void 0===dt?void 0:dt.juevesM)||void 0===Nt?void 0:Nt.value)&&(null===(Mn=this.form.controls)||void 0===Mn?void 0:Mn.juevesT.value)?{dia:4,turno:"T-M"}:{dia:4,turno:(null===(dn=this.form.controls.juevesM)||void 0===dn?void 0:dn.value)?"M":"T"},Es.push(Gn)),(null===(zt=this.form.controls)||void 0===zt?void 0:zt.viernes.value)&&(Gn=(null===(si=null===(yn=this.form.controls)||void 0===yn?void 0:yn.viernesM)||void 0===si?void 0:si.value)&&(null===(fr=this.form.controls)||void 0===fr?void 0:fr.viernesT.value)?{dia:5,turno:"T-M"}:{dia:5,turno:(null===(sn=this.form.controls.viernesM)||void 0===sn?void 0:sn.value)?"M":"T"},Es.push(Gn)),(null===(Io=this.form.controls)||void 0===Io?void 0:Io.sabado.value)&&(null===(Ri=this.form.controls)||void 0===Ri?void 0:Ri.sabadoM.value)&&(Gn={dia:6,turno:"M"},Es.push(Gn)),console.log(Es),this.firestore.updateEspecialista(Es,null===(qi=this.firestore.usuarioActual)||void 0===qi?void 0:qi.id),st().fire({text:"Horarios actualizados con exito",timer:2e3,timerProgressBar:!0,icon:"success",toast:!0,position:"bottom"})}}return F.\u0275fac=function(v){return new(v||F)(f.Y36(De.qu),f.Y36(Ve.C))},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-mis-horarios"]],decls:48,vars:12,consts:[[1,"container","text-white"],[1,"row"],[3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-check","form-switch"],["formControlName","lunes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["for","flexSwitchCheckDefault",1,"form-check-label","noselect"],["class","form-check form-switch ms-3",4,"ngIf"],["formControlName","martes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercoles","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","jueves","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","viernes","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","sabado","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"form-check","form-switch","ms-3"],["formControlName","lunesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","lunesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","martesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","martesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercolesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","miercolesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","juevesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","juevesT","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","viernesM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"],["formControlName","sabadoM","type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input"]],template:function(v,R){1&v&&(f.TgZ(0,"div",0),f._uU(1," Seleccione los horarios disponibles "),f.TgZ(2,"div",1),f.TgZ(3,"form",2),f.NdJ("ngSubmit",function(){return R.actualizarHorarios()}),f.TgZ(4,"div",3),f.TgZ(5,"div",4),f._UZ(6,"input",5),f.TgZ(7,"label",6),f._uU(8,"Lunes"),f.qZA(),f.qZA(),f.YNc(9,Le,4,0,"div",7),f.YNc(10,tt,4,0,"div",7),f.qZA(),f.TgZ(11,"div",3),f.TgZ(12,"div",4),f._UZ(13,"input",8),f.TgZ(14,"label",6),f._uU(15,"Martes"),f.qZA(),f.qZA(),f.YNc(16,Qe,4,0,"div",7),f.YNc(17,Te,4,0,"div",7),f.qZA(),f.TgZ(18,"div",3),f.TgZ(19,"div",4),f._UZ(20,"input",9),f.TgZ(21,"label",6),f._uU(22,"Miercoles"),f.qZA(),f.qZA(),f.YNc(23,We,4,0,"div",7),f.YNc(24,Ce,4,0,"div",7),f.qZA(),f.TgZ(25,"div",3),f.TgZ(26,"div",4),f._UZ(27,"input",10),f.TgZ(28,"label",6),f._uU(29,"Jueves"),f.qZA(),f.qZA(),f.YNc(30,Et,4,0,"div",7),f.YNc(31,Pt,4,0,"div",7),f.qZA(),f.TgZ(32,"div",3),f.TgZ(33,"div",4),f._UZ(34,"input",11),f.TgZ(35,"label",6),f._uU(36,"Viernes"),f.qZA(),f.qZA(),f.YNc(37,Wt,4,0,"div",7),f.YNc(38,Gt,4,0,"div",7),f.qZA(),f.TgZ(39,"div",3),f.TgZ(40,"div",4),f._UZ(41,"input",12),f.TgZ(42,"label",6),f._uU(43,"Sabado"),f.qZA(),f.qZA(),f.YNc(44,Ft,4,0,"div",7),f.qZA(),f.TgZ(45,"div",3),f.TgZ(46,"button",13),f._uU(47,"Actualizar horarios"),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&v&&(f.xp6(3),f.Q6J("formGroup",R.form),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.lunes?null:R.form.controls.lunes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==R.form.controls.lunes?null:R.form.controls.lunes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.martes?null:R.form.controls.martes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==R.form.controls.martes?null:R.form.controls.martes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.miercoles?null:R.form.controls.miercoles.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==R.form.controls.miercoles?null:R.form.controls.miercoles.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.jueves?null:R.form.controls.jueves.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==R.form.controls.jueves?null:R.form.controls.jueves.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.viernes?null:R.form.controls.viernes.value)),f.xp6(1),f.Q6J("ngIf",!0===(null==R.form.controls.viernes?null:R.form.controls.viernes.value)),f.xp6(6),f.Q6J("ngIf",!0===(null==R.form.controls.sabado?null:R.form.controls.sabado.value)))},directives:[De._Y,De.JL,De.sg,De.Wl,De.JJ,De.u,He.O5],styles:[""]}),F})();function Rn(F,b){if(1&F){const v=f.EpF();f.TgZ(0,"button",21),f.NdJ("click",function(){return f.CHM(v),f.oxw(2).verHorarios()}),f._uU(1),f.qZA()}if(2&F){const v=f.oxw(2);f.xp6(1),f.Oqu(v.verHorariosBtn)}}function ht(F,b){if(1&F&&(f.TgZ(0,"div"),f.TgZ(1,"div",22),f.TgZ(2,"div",23),f.TgZ(3,"div",24),f._UZ(4,"img",25),f.qZA(),f.TgZ(5,"div",26),f._UZ(6,"img",27),f.qZA(),f.qZA(),f.TgZ(7,"button",28),f._UZ(8,"span",29),f.TgZ(9,"span",30),f._uU(10,"Previous"),f.qZA(),f.qZA(),f.TgZ(11,"button",31),f._UZ(12,"span",32),f.TgZ(13,"span",30),f._uU(14,"Next"),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&F){const v=f.oxw(2);f.xp6(4),f.Q6J("defaultImage",v.defaultImage)("lazyLoad",v.usuario.imagenes[0]),f.xp6(2),f.Q6J("src",v.usuario.imagenes[1],f.LSH)}}function ut(F,b){if(1&F&&(f.TgZ(0,"div"),f._UZ(1,"img",33),f.qZA()),2&F){const v=f.oxw(2);f.xp6(1),f.Q6J("defaultImage",v.defaultImage)("lazyLoad",null==v.usuario?null:v.usuario.imagen)}}function Re(F,b){if(1&F&&(f.TgZ(0,"div"),f.TgZ(1,"div",16),f._uU(2," Obra social: "),f.qZA(),f.TgZ(3,"div",19),f._uU(4),f.qZA(),f._UZ(5,"div",14),f._UZ(6,"div",18),f.qZA()),2&F){const v=f.oxw(2);f.xp6(4),f.hij(" ",null==v.usuario?null:v.usuario.obraSocial," ")}}function Ge(F,b){if(1&F&&(f.TgZ(0,"div"),f.TgZ(1,"div",16),f._uU(2," Especialidad: "),f.qZA(),f.TgZ(3,"div",19),f._uU(4),f.qZA(),f._UZ(5,"div",14),f._UZ(6,"div",18),f.qZA()),2&F){const v=f.oxw(2);f.xp6(4),f.hij(" ",null==v.usuario?null:v.usuario.especialidad," ")}}function Ct(F,b){1&F&&(f.TgZ(0,"div",34),f._UZ(1,"app-mis-horarios"),f.qZA())}function Ut(F,b){if(1&F&&(f.TgZ(0,"div"),f.TgZ(1,"div",3),f.TgZ(2,"div",4),f.YNc(3,Rn,2,1,"button",5),f.TgZ(4,"div"),f.TgZ(5,"div",6),f.TgZ(6,"div",7),f._uU(7),f.qZA(),f.TgZ(8,"div",8),f.TgZ(9,"div",9),f.TgZ(10,"div",10),f.TgZ(11,"div",11),f.TgZ(12,"div",12),f.YNc(13,ht,15,3,"div",13),f.qZA(),f.YNc(14,ut,2,2,"div",13),f.qZA(),f.qZA(),f._UZ(15,"br"),f.qZA(),f._UZ(16,"div",14),f._UZ(17,"hr",15),f.TgZ(18,"div",16),f._uU(19," Nombre: "),f.qZA(),f.TgZ(20,"div",17),f._uU(21),f.qZA(),f._UZ(22,"div",14),f._UZ(23,"div",18),f.TgZ(24,"div",16),f._uU(25," Apellido: "),f.qZA(),f.TgZ(26,"div",19),f._uU(27),f.qZA(),f._UZ(28,"div",14),f._UZ(29,"div",18),f.TgZ(30,"div"),f.TgZ(31,"div",16),f._uU(32," Edad: "),f.qZA(),f.TgZ(33,"div",19),f._uU(34),f.qZA(),f._UZ(35,"div",14),f._UZ(36,"div",18),f.qZA(),f.YNc(37,Re,7,1,"div",13),f.YNc(38,Ge,7,1,"div",13),f.TgZ(39,"div",16),f._uU(40," Correo electronico: "),f.qZA(),f.TgZ(41,"div",19),f._uU(42),f.qZA(),f._UZ(43,"div",14),f._UZ(44,"div",18),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.YNc(45,Ct,2,0,"div",20),f.qZA(),f.qZA()),2&F){const v=f.oxw();f.xp6(3),f.Q6J("ngIf","especialista"===(null==v.firestore||null==v.firestore.usuarioActual?null:v.firestore.usuarioActual.perfil)),f.xp6(4),f.AsE("",null==v.usuario?null:v.usuario.nombre," ",null==v.usuario?null:v.usuario.apellido,""),f.xp6(6),f.Q6J("ngIf","paciente"===(null==v.usuario?null:v.usuario.perfil)),f.xp6(1),f.Q6J("ngIf","paciente"!==(null==v.usuario?null:v.usuario.perfil)),f.xp6(7),f.hij(" ",null==v.usuario?null:v.usuario.nombre," "),f.xp6(6),f.hij(" ",null==v.usuario?null:v.usuario.apellido," "),f.xp6(7),f.hij(" ",null==v.usuario?null:v.usuario.edad," "),f.xp6(3),f.Q6J("ngIf","paciente"===(null==v.usuario?null:v.usuario.perfil)),f.xp6(1),f.Q6J("ngIf","especialista"===(null==v.usuario?null:v.usuario.perfil)),f.xp6(4),f.hij(" ",null==v.usuario?null:v.usuario.email," "),f.xp6(3),f.Q6J("ngIf",v.horarios)}}function Dn(F,b){1&F&&f._UZ(0,"app-spinner")}const mn=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:he},{path:"login",component:ct},{path:"registro",component:de},{path:"usuarios",loadChildren:()=>Z.e(433).then(Z.bind(Z,9433)).then(F=>F.UsuariosModule),canActivate:[ve]},{path:"turnos",loadChildren:()=>Promise.all([Z.e(433),Z.e(776)]).then(Z.bind(Z,6776)).then(F=>F.TurnosModule)},{path:"sin-permisos",component:St},{path:"mi-perfil",component:(()=>{class F{constructor(v){this.firestore=v,this.horarios=!1,this.verHorariosBtn="Ver horarios",this.defaultImage="../../../assets/spinnerImage.gif"}ngOnInit(){}ngAfterViewChecked(){setTimeout(()=>{this.usuario=this.firestore.usuarioActual},1e3)}verHorarios(){this.horarios=!this.horarios,this.verHorariosBtn=this.horarios?"Ocultar horarios":"Ver horarios"}}return F.\u0275fac=function(v){return new(v||F)(f.Y36(Ve.C))},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-mi-perfil"]],decls:4,vars:2,consts:[[1,"container","text-white"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"row","justify-content-center"],[1,"col-12","col-sm-10","col-md-8"],["class","btn btn-primary mt-2",3,"click",4,"ngIf"],[1,"panel","panel-default"],[1,"panel-heading"],[1,"panel-body"],[1,"box","box-info"],[1,"box-body"],[1,"col-sm-6"],["align","center"],[4,"ngIf"],[1,"clearfix"],[2,"margin","5px 0 5px 0"],[1,"col-sm-5","col-xs-6","title"],[1,"col-sm-7","col-xs-6"],[1,"bot-border"],[1,"col-sm-7"],["class","col-12 col-sm-6 col-md-4 mt-5",4,"ngIf"],[1,"btn","btn-primary","mt-2",3,"click"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","",1,"img-circle","img-responsive","profile-image",3,"defaultImage","lazyLoad"],[1,"carousel-item"],["alt","",1,"img-circle","img-responsive","profile-image","noselect",3,"src"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"fas","fa-chevron-left",2,"color","white"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"fas","fa-chevron-right",2,"color","white"],["alt","",1,"img-circle","img-responsive","profile-image","d-block","m-auto","noselect",3,"defaultImage","lazyLoad"],[1,"col-12","col-sm-6","col-md-4","mt-5"]],template:function(v,R){if(1&v&&(f.TgZ(0,"div",0),f.YNc(1,Ut,46,12,"div",1),f.YNc(2,Dn,1,0,"ng-template",null,2,f.W1O),f.qZA()),2&v){const W=f.MAs(3);f.xp6(1),f.Q6J("ngIf",void 0!==R.usuario)("ngIfElse",W)}},directives:[He.O5,jt.z1,Yt,Ye.O],styles:["input.hidden[_ngcontent-%COMP%]{position:absolute;left:-9999px}.profile-image[_ngcontent-%COMP%]{cursor:pointer;width:100px;height:100px;border-radius:50%}.title[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.bot-border[_ngcontent-%COMP%]{border-bottom:1px #f8f8f8 solid;margin:5px 0}"]}),F})()}];let Yn=(()=>{class F{}return F.\u0275fac=function(v){return new(v||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({imports:[[Me.Bz.forRoot(mn)],Me.Bz]}),F})();const kn=function(){return["/login"]};function Rt(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Login"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,kn))}const $e=function(){return["/registro"]};function at(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Registrarse"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,$e))}const lt=function(){return["/mi-perfil"]};function Xt(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Mi perfil"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,lt))}const nn=function(){return["/usuarios"]};function _n(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Usuarios"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,nn))}const on=function(){return["/turnos/solicitar-turno"]};function Qt(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Solicitar turno"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,on))}const vn=function(){return["/turnos/mis-turnos/paciente"]};function Wn(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Mis turnos"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,vn))}const Dr=function(){return["/turnos/mis-turnos/especialista"]};function Qn(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Mis turnos"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,Dr))}const kt=function(){return["/turnos"]};function wn(F,b){1&F&&(f.TgZ(0,"a",14),f._uU(1,"Turnos"),f.qZA()),2&F&&f.Q6J("routerLink",f.DdM(1,kt))}function jr(F,b){if(1&F){const v=f.EpF();f.TgZ(0,"a",15),f.NdJ("click",function(){return f.CHM(v),f.oxw().auth.logOut()}),f._uU(1,"Cerrar sesi\xf3n"),f.qZA()}}const di=function(){return["/"]};let Sn=(()=>{class F{constructor(v,R){this.firestore=v,this.auth=R}ngOnInit(){}}return F.\u0275fac=function(v){return new(v||F)(f.Y36(Ve.C),f.Y36(Fe.e))},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-navbar"]],decls:33,vars:14,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","noselect",3,"routerLink"],["src","../../../assets/favicon.ico","alt","","width","30","height","30",1,"d-inline-block","align-text-top"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page",1,"nav-link","active","text-white","noselect",3,"routerLink"],["class","nav-link text-white noselect",3,"routerLink",4,"ngIf"],[1,"navbar-nav","ms-auto"],[1,"nav-link","text-white","noselect"],["class","nav-link text-white noselect",3,"click",4,"ngIf"],[1,"nav-link","text-white","noselect",3,"routerLink"],[1,"nav-link","text-white","noselect",3,"click"]],template:function(v,R){1&v&&(f.TgZ(0,"nav",0),f.TgZ(1,"div",1),f.TgZ(2,"a",2),f._UZ(3,"img",3),f.qZA(),f.TgZ(4,"button",4),f._UZ(5,"span",5),f.qZA(),f.TgZ(6,"div",6),f.TgZ(7,"ul",7),f.TgZ(8,"li",8),f.TgZ(9,"a",9),f._uU(10,"Bienvenido"),f.qZA(),f.qZA(),f.TgZ(11,"li",8),f.YNc(12,Rt,2,2,"a",10),f.qZA(),f.TgZ(13,"li",8),f.YNc(14,at,2,2,"a",10),f.qZA(),f.TgZ(15,"li",8),f.YNc(16,Xt,2,2,"a",10),f.qZA(),f.TgZ(17,"li",8),f.YNc(18,_n,2,2,"a",10),f.qZA(),f.TgZ(19,"li",8),f.YNc(20,Qt,2,2,"a",10),f.qZA(),f.TgZ(21,"li",8),f.YNc(22,Wn,2,2,"a",10),f.qZA(),f.TgZ(23,"li",8),f.YNc(24,Qn,2,2,"a",10),f.qZA(),f.TgZ(25,"li",8),f.YNc(26,wn,2,2,"a",10),f.qZA(),f.qZA(),f.TgZ(27,"ul",11),f.TgZ(28,"li",8),f.TgZ(29,"a",12),f._uU(30),f.qZA(),f.qZA(),f.TgZ(31,"li",8),f.YNc(32,jr,2,0,"a",13),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA()),2&v&&(f.xp6(2),f.Q6J("routerLink",f.DdM(12,di)),f.xp6(7),f.Q6J("routerLink",f.DdM(13,di)),f.xp6(3),f.Q6J("ngIf",!R.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf",!R.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf",R.firestore.usuarioActual),f.xp6(2),f.Q6J("ngIf","admin"===(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==R.firestore?null:R.firestore.usuarioActual)&&"especialista"!==(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==R.firestore?null:R.firestore.usuarioActual)&&"paciente"===(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==R.firestore?null:R.firestore.usuarioActual)&&"especialista"===(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.perfil)),f.xp6(2),f.Q6J("ngIf",(null==R.firestore?null:R.firestore.usuarioActual)&&"admin"===(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.perfil)),f.xp6(4),f.Oqu(null==R.firestore.usuarioActual?null:R.firestore.usuarioActual.email),f.xp6(2),f.Q6J("ngIf",null==R.firestore?null:R.firestore.usuarioActual))},directives:[Me.yS,He.O5],styles:[""]}),F})(),ur=(()=>{class F{constructor(){this.title="ClinicaOnline"}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275cmp=f.Xpm({type:F,selectors:[["app-root"]],decls:2,vars:0,template:function(v,R){1&v&&(f._UZ(0,"app-navbar"),f._UZ(1,"router-outlet"))},directives:[Sn,Me.lC],styles:[""]}),F})();var Hr=Z(8939),Ei=Z(9344),we=Z(7238);function Ae(){return"undefined"!=typeof window&&void 0!==window.document}function Pe(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function gt(F){switch(F.length){case 0:return new we.ZN;case 1:return F[0];default:return new we.ZE(F)}}function Xe(F,b,v,R,W={},oe={}){const ue=[],ge=[];let nt=-1,Ue=null;if(R.forEach(T=>{const C=T.offset,A=C==nt,P=A&&Ue||{};Object.keys(T).forEach($=>{let Q=$,fe=T[$];if("offset"!==$)switch(Q=b.normalizePropertyName(Q,ue),fe){case we.k1:fe=W[$];break;case we.l3:fe=oe[$];break;default:fe=b.normalizeStyleValue($,Q,fe,ue)}P[Q]=fe}),A||ge.push(P),Ue=P,nt=C}),ue.length){const T="\n - ";throw new Error(`Unable to animate due to the following errors:${T}${ue.join(T)}`)}return ge}function Lt(F,b,v,R){switch(b){case"start":F.onStart(()=>R(v&&cn(v,"start",F)));break;case"done":F.onDone(()=>R(v&&cn(v,"done",F)));break;case"destroy":F.onDestroy(()=>R(v&&cn(v,"destroy",F)))}}function cn(F,b,v){const R=v.totalTime,oe=Ln(F.element,F.triggerName,F.fromState,F.toState,b||F.phaseName,null==R?F.totalTime:R,!!v.disabled),ue=F._data;return null!=ue&&(oe._data=ue),oe}function Ln(F,b,v,R,W="",oe=0,ue){return{element:F,triggerName:b,fromState:v,toState:R,phaseName:W,totalTime:oe,disabled:!!ue}}function Zn(F,b,v){let R;return F instanceof Map?(R=F.get(b),R||F.set(b,R=v)):(R=F[b],R||(R=F[b]=v)),R}function Un(F){const b=F.indexOf(":");return[F.substring(1,b),F.substr(b+1)]}let On=(F,b)=>!1,kr=(F,b)=>!1,ji=(F,b,v)=>[];const Ci=Pe();(Ci||"undefined"!=typeof Element)&&(On=Ae()?(F,b)=>{for(;b&&b!==document.documentElement;){if(b===F)return!0;b=b.parentNode||b.host}return!1}:(F,b)=>F.contains(b),kr=(()=>{if(Ci||Element.prototype.matches)return(F,b)=>F.matches(b);{const F=Element.prototype,b=F.matchesSelector||F.mozMatchesSelector||F.msMatchesSelector||F.oMatchesSelector||F.webkitMatchesSelector;return b?(v,R)=>b.apply(v,[R]):kr}})(),ji=(F,b,v)=>{let R=[];if(v){const W=F.querySelectorAll(b);for(let oe=0;oe<W.length;oe++)R.push(W[oe])}else{const W=F.querySelector(b);W&&R.push(W)}return R});let ei=null,Hi=!1;function gr(F){ei||(ei=("undefined"!=typeof document?document.body:null)||{},Hi=!!ei.style&&"WebkitAppearance"in ei.style);let b=!0;return ei.style&&!function(F){return"ebkit"==F.substring(1,6)}(F)&&(b=F in ei.style,!b&&Hi&&(b="Webkit"+F.charAt(0).toUpperCase()+F.substr(1)in ei.style)),b}const en=kr,_r=On,Oi=ji;function qn(F){const b={};return Object.keys(F).forEach(v=>{const R=v.replace(/([a-z])([A-Z])/g,"$1-$2");b[R]=F[v]}),b}let Bt=(()=>{class F{validateStyleProperty(v){return gr(v)}matchesElement(v,R){return en(v,R)}containsElement(v,R){return _r(v,R)}query(v,R,W){return Oi(v,R,W)}computeStyle(v,R,W){return W||""}animate(v,R,W,oe,ue,ge=[],nt){return new we.ZN(W,oe)}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),F})(),xn=(()=>{class F{}return F.NOOP=new Bt,F})();const tr="ng-enter",Fr="ng-leave",Er="ng-trigger",ln=".ng-trigger",Ze="ng-animating",ke=".ng-animating";function ye(F){if("number"==typeof F)return F;const b=F.match(/^(-?[\.\d]+)(m?s)/);return!b||b.length<2?0:Je(parseFloat(b[1]),b[2])}function Je(F,b){switch(b){case"s":return 1e3*F;default:return F}}function mt(F,b,v){return F.hasOwnProperty("duration")?F:function(F,b,v){let W,oe=0,ue="";if("string"==typeof F){const ge=F.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ge)return b.push(`The provided timing value "${F}" is invalid.`),{duration:0,delay:0,easing:""};W=Je(parseFloat(ge[1]),ge[2]);const nt=ge[3];null!=nt&&(oe=Je(parseFloat(nt),ge[4]));const Ue=ge[5];Ue&&(ue=Ue)}else W=F;if(!v){let ge=!1,nt=b.length;W<0&&(b.push("Duration values below 0 are not allowed for this animation step."),ge=!0),oe<0&&(b.push("Delay values below 0 are not allowed for this animation step."),ge=!0),ge&&b.splice(nt,0,`The provided timing value "${F}" is invalid.`)}return{duration:W,delay:oe,easing:ue}}(F,b,v)}function En(F,b={}){return Object.keys(F).forEach(v=>{b[v]=F[v]}),b}function In(F,b,v={}){if(b)for(let R in F)v[R]=F[R];else En(F,v);return v}function rs(F,b,v){return v?b+":"+v+";":""}function Vs(F){let b="";for(let v=0;v<F.style.length;v++){const R=F.style.item(v);b+=rs(0,R,F.style.getPropertyValue(R))}for(const v in F.style)F.style.hasOwnProperty(v)&&!v.startsWith("_")&&(b+=rs(0,Ks(v),F.style[v]));F.setAttribute("style",b)}function Ur(F,b,v){F.style&&(Object.keys(b).forEach(R=>{const W=hi(R);v&&!v.hasOwnProperty(R)&&(v[R]=F.style[W]),F.style[W]=b[R]}),Pe()&&Vs(F))}function Ar(F,b){F.style&&(Object.keys(b).forEach(v=>{const R=hi(v);F.style[R]=""}),Pe()&&Vs(F))}function oi(F){return Array.isArray(F)?1==F.length?F[0]:(0,we.vP)(F):F}const hn=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ir(F){let b=[];if("string"==typeof F){let v;for(;v=hn.exec(F);)b.push(v[1]);hn.lastIndex=0}return b}function Ts(F,b,v){const R=F.toString(),W=R.replace(hn,(oe,ue)=>{let ge=b[ue];return b.hasOwnProperty(ue)||(v.push(`Please provide a value for the animation param ${ue}`),ge=""),ge.toString()});return W==R?F:W}function ui(F){const b=[];let v=F.next();for(;!v.done;)b.push(v.value),v=F.next();return b}const lr=/-+([a-z0-9])/g;function hi(F){return F.replace(lr,(...b)=>b[1].toUpperCase())}function Ks(F){return F.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ti(F,b){return 0===F||0===b}function xr(F,b,v){const R=Object.keys(v);if(R.length&&b.length){let oe=b[0],ue=[];if(R.forEach(ge=>{oe.hasOwnProperty(ge)||ue.push(ge),oe[ge]=v[ge]}),ue.length)for(var W=1;W<b.length;W++){let ge=b[W];ue.forEach(function(nt){ge[nt]=cs(F,nt)})}}return b}function Hn(F,b,v){switch(b.type){case 7:return F.visitTrigger(b,v);case 0:return F.visitState(b,v);case 1:return F.visitTransition(b,v);case 2:return F.visitSequence(b,v);case 3:return F.visitGroup(b,v);case 4:return F.visitAnimate(b,v);case 5:return F.visitKeyframes(b,v);case 6:return F.visitStyle(b,v);case 8:return F.visitReference(b,v);case 9:return F.visitAnimateChild(b,v);case 10:return F.visitAnimateRef(b,v);case 11:return F.visitQuery(b,v);case 12:return F.visitStagger(b,v);default:throw new Error(`Unable to resolve animation metadata node #${b.type}`)}}function cs(F,b){return window.getComputedStyle(F)[b]}function Ai(F,b){const v=[];return"string"==typeof F?F.split(/\s*,\s*/).forEach(R=>function(F,b,v){if(":"==F[0]){const nt=function(F,b){switch(F){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(v,R)=>parseFloat(R)>parseFloat(v);case":decrement":return(v,R)=>parseFloat(R)<parseFloat(v);default:return b.push(`The transition alias value "${F}" is not supported`),"* => *"}}(F,v);if("function"==typeof nt)return void b.push(nt);F=nt}const R=F.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return v.push(`The provided transition expression "${F}" is not supported`),b;const W=R[1],oe=R[2],ue=R[3];b.push(Wr(W,ue));"<"==oe[0]&&!("*"==W&&"*"==ue)&&b.push(Wr(ue,W))}(R,v,b)):v.push(F),v}const Pi=new Set(["true","1"]),ds=new Set(["false","0"]);function Wr(F,b){const v=Pi.has(F)||ds.has(F),R=Pi.has(b)||ds.has(b);return(W,oe)=>{let ue="*"==F||F==W,ge="*"==b||b==oe;return!ue&&v&&"boolean"==typeof W&&(ue=W?Pi.has(F):ds.has(F)),!ge&&R&&"boolean"==typeof oe&&(ge=oe?Pi.has(b):ds.has(b)),ue&&ge}}const ki=new RegExp("s*:selfs*,?","g");function Yi(F,b,v){return new $i(F).build(b,v)}class $i{constructor(b){this._driver=b}build(b,v){const R=new fi(v);return this._resetContextStyleTimingState(R),Hn(this,oi(b),R)}_resetContextStyleTimingState(b){b.currentQuerySelector="",b.collectedStyles={},b.collectedStyles[""]={},b.currentTime=0}visitTrigger(b,v){let R=v.queryCount=0,W=v.depCount=0;const oe=[],ue=[];return"@"==b.name.charAt(0)&&v.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),b.definitions.forEach(ge=>{if(this._resetContextStyleTimingState(v),0==ge.type){const nt=ge,Ue=nt.name;Ue.toString().split(/\s*,\s*/).forEach(T=>{nt.name=T,oe.push(this.visitState(nt,v))}),nt.name=Ue}else if(1==ge.type){const nt=this.visitTransition(ge,v);R+=nt.queryCount,W+=nt.depCount,ue.push(nt)}else v.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:b.name,states:oe,transitions:ue,queryCount:R,depCount:W,options:null}}visitState(b,v){const R=this.visitStyle(b.styles,v),W=b.options&&b.options.params||null;if(R.containsDynamicStyles){const oe=new Set,ue=W||{};if(R.styles.forEach(ge=>{if(fs(ge)){const nt=ge;Object.keys(nt).forEach(Ue=>{Ir(nt[Ue]).forEach(T=>{ue.hasOwnProperty(T)||oe.add(T)})})}}),oe.size){const ge=ui(oe.values());v.errors.push(`state("${b.name}", ...) must define default values for all the following style substitutions: ${ge.join(", ")}`)}}return{type:0,name:b.name,style:R,options:W?{params:W}:null}}visitTransition(b,v){v.queryCount=0,v.depCount=0;const R=Hn(this,oi(b.animation),v);return{type:1,matchers:Ai(b.expr,v.errors),animation:R,queryCount:v.queryCount,depCount:v.depCount,options:ai(b.options)}}visitSequence(b,v){return{type:2,steps:b.steps.map(R=>Hn(this,R,v)),options:ai(b.options)}}visitGroup(b,v){const R=v.currentTime;let W=0;const oe=b.steps.map(ue=>{v.currentTime=R;const ge=Hn(this,ue,v);return W=Math.max(W,v.currentTime),ge});return v.currentTime=W,{type:3,steps:oe,options:ai(b.options)}}visitAnimate(b,v){const R=function(F,b){let v=null;if(F.hasOwnProperty("duration"))v=F;else if("number"==typeof F)return ni(mt(F,b).duration,0,"");const R=F;if(R.split(/\s+/).some(oe=>"{"==oe.charAt(0)&&"{"==oe.charAt(1))){const oe=ni(0,0,"");return oe.dynamic=!0,oe.strValue=R,oe}return v=v||mt(R,b),ni(v.duration,v.delay,v.easing)}(b.timings,v.errors);v.currentAnimateTimings=R;let W,oe=b.styles?b.styles:(0,we.oB)({});if(5==oe.type)W=this.visitKeyframes(oe,v);else{let ue=b.styles,ge=!1;if(!ue){ge=!0;const Ue={};R.easing&&(Ue.easing=R.easing),ue=(0,we.oB)(Ue)}v.currentTime+=R.duration+R.delay;const nt=this.visitStyle(ue,v);nt.isEmptyStep=ge,W=nt}return v.currentAnimateTimings=null,{type:4,timings:R,style:W,options:null}}visitStyle(b,v){const R=this._makeStyleAst(b,v);return this._validateStyleAst(R,v),R}_makeStyleAst(b,v){const R=[];Array.isArray(b.styles)?b.styles.forEach(ue=>{"string"==typeof ue?ue==we.l3?R.push(ue):v.errors.push(`The provided style string value ${ue} is not allowed.`):R.push(ue)}):R.push(b.styles);let W=!1,oe=null;return R.forEach(ue=>{if(fs(ue)){const ge=ue,nt=ge.easing;if(nt&&(oe=nt,delete ge.easing),!W)for(let Ue in ge)if(ge[Ue].toString().indexOf("{{")>=0){W=!0;break}}}),{type:6,styles:R,easing:oe,offset:b.offset,containsDynamicStyles:W,options:null}}_validateStyleAst(b,v){const R=v.currentAnimateTimings;let W=v.currentTime,oe=v.currentTime;R&&oe>0&&(oe-=R.duration+R.delay),b.styles.forEach(ue=>{"string"!=typeof ue&&Object.keys(ue).forEach(ge=>{if(!this._driver.validateStyleProperty(ge))return void v.errors.push(`The provided animation property "${ge}" is not a supported CSS property for animations`);const nt=v.collectedStyles[v.currentQuerySelector],Ue=nt[ge];let T=!0;Ue&&(oe!=W&&oe>=Ue.startTime&&W<=Ue.endTime&&(v.errors.push(`The CSS property "${ge}" that exists between the times of "${Ue.startTime}ms" and "${Ue.endTime}ms" is also being animated in a parallel animation between the times of "${oe}ms" and "${W}ms"`),T=!1),oe=Ue.startTime),T&&(nt[ge]={startTime:oe,endTime:W}),v.options&&function(F,b,v){const R=b.params||{},W=Ir(F);W.length&&W.forEach(oe=>{R.hasOwnProperty(oe)||v.push(`Unable to resolve the local animation param ${oe} in the given list of values`)})}(ue[ge],v.options,v.errors)})})}visitKeyframes(b,v){const R={type:5,styles:[],options:null};if(!v.currentAnimateTimings)return v.errors.push("keyframes() must be placed inside of a call to animate()"),R;let oe=0;const ue=[];let ge=!1,nt=!1,Ue=0;const T=b.steps.map(Ie=>{const dt=this._makeStyleAst(Ie,v);let Nt=null!=dt.offset?dt.offset:function(F){if("string"==typeof F)return null;let b=null;if(Array.isArray(F))F.forEach(v=>{if(fs(v)&&v.hasOwnProperty("offset")){const R=v;b=parseFloat(R.offset),delete R.offset}});else if(fs(F)&&F.hasOwnProperty("offset")){const v=F;b=parseFloat(v.offset),delete v.offset}return b}(dt.styles),Mn=0;return null!=Nt&&(oe++,Mn=dt.offset=Nt),nt=nt||Mn<0||Mn>1,ge=ge||Mn<Ue,Ue=Mn,ue.push(Mn),dt});nt&&v.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),ge&&v.errors.push("Please ensure that all keyframe offsets are in order");const C=b.steps.length;let A=0;oe>0&&oe<C?v.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==oe&&(A=1/(C-1));const P=C-1,$=v.currentTime,Q=v.currentAnimateTimings,fe=Q.duration;return T.forEach((Ie,dt)=>{const Nt=A>0?dt==P?1:A*dt:ue[dt],Mn=Nt*fe;v.currentTime=$+Q.delay+Mn,Q.duration=Mn,this._validateStyleAst(Ie,v),Ie.offset=Nt,R.styles.push(Ie)}),R}visitReference(b,v){return{type:8,animation:Hn(this,oi(b.animation),v),options:ai(b.options)}}visitAnimateChild(b,v){return v.depCount++,{type:9,options:ai(b.options)}}visitAnimateRef(b,v){return{type:10,animation:this.visitReference(b.animation,v),options:ai(b.options)}}visitQuery(b,v){const R=v.currentQuerySelector,W=b.options||{};v.queryCount++,v.currentQuery=b;const[oe,ue]=function(F){const b=!!F.split(/\s*,\s*/).find(v=>":self"==v);return b&&(F=F.replace(ki,"")),[F=F.replace(/@\*/g,ln).replace(/@\w+/g,v=>ln+"-"+v.substr(1)).replace(/:animating/g,ke),b]}(b.selector);v.currentQuerySelector=R.length?R+" "+oe:oe,Zn(v.collectedStyles,v.currentQuerySelector,{});const ge=Hn(this,oi(b.animation),v);return v.currentQuery=null,v.currentQuerySelector=R,{type:11,selector:oe,limit:W.limit||0,optional:!!W.optional,includeSelf:ue,animation:ge,originalSelector:b.selector,options:ai(b.options)}}visitStagger(b,v){v.currentQuery||v.errors.push("stagger() can only be used inside of query()");const R="full"===b.timings?{duration:0,delay:0,easing:"full"}:mt(b.timings,v.errors,!0);return{type:12,animation:Hn(this,oi(b.animation),v),timings:R,options:null}}}class fi{constructor(b){this.errors=b,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function fs(F){return!Array.isArray(F)&&"object"==typeof F}function ai(F){return F?(F=En(F)).params&&(F.params=function(F){return F?En(F):null}(F.params)):F={},F}function ni(F,b,v){return{duration:F,delay:b,easing:v}}function ps(F,b,v,R,W,oe,ue=null,ge=!1){return{type:1,element:F,keyframes:b,preStyleProps:v,postStyleProps:R,duration:W,delay:oe,totalTime:W+oe,easing:ue,subTimeline:ge}}class Ii{constructor(){this._map=new Map}consume(b){let v=this._map.get(b);return v?this._map.delete(b):v=[],v}append(b,v){let R=this._map.get(b);R||this._map.set(b,R=[]),R.push(...v)}has(b){return this._map.has(b)}clear(){this._map.clear()}}const Fi=new RegExp(":enter","g"),go=new RegExp(":leave","g");function Qi(F,b,v,R,W,oe={},ue={},ge,nt,Ue=[]){return(new Ms).buildKeyframes(F,b,v,R,W,oe,ue,ge,nt,Ue)}class Ms{buildKeyframes(b,v,R,W,oe,ue,ge,nt,Ue,T=[]){Ue=Ue||new Ii;const C=new Tr(b,v,Ue,W,oe,T,[]);C.options=nt,C.currentTimeline.setStyles([ue],null,C.errors,nt),Hn(this,R,C);const A=C.timelines.filter(P=>P.containsAnimation());if(A.length&&Object.keys(ge).length){const P=A[A.length-1];P.allowOnlyTimelineStyles()||P.setStyles([ge],null,C.errors,nt)}return A.length?A.map(P=>P.buildKeyframes()):[ps(v,[],[],[],0,0,"",!1)]}visitTrigger(b,v){}visitState(b,v){}visitTransition(b,v){}visitAnimateChild(b,v){const R=v.subInstructions.consume(v.element);if(R){const W=v.createSubContext(b.options),oe=v.currentTimeline.currentTime,ue=this._visitSubInstructions(R,W,W.options);oe!=ue&&v.transformIntoNewTimeline(ue)}v.previousNode=b}visitAnimateRef(b,v){const R=v.createSubContext(b.options);R.transformIntoNewTimeline(),this.visitReference(b.animation,R),v.transformIntoNewTimeline(R.currentTimeline.currentTime),v.previousNode=b}_visitSubInstructions(b,v,R){let oe=v.currentTimeline.currentTime;const ue=null!=R.duration?ye(R.duration):null,ge=null!=R.delay?ye(R.delay):null;return 0!==ue&&b.forEach(nt=>{const Ue=v.appendInstructionToTimeline(nt,ue,ge);oe=Math.max(oe,Ue.duration+Ue.delay)}),oe}visitReference(b,v){v.updateOptions(b.options,!0),Hn(this,b.animation,v),v.previousNode=b}visitSequence(b,v){const R=v.subContextCount;let W=v;const oe=b.options;if(oe&&(oe.params||oe.delay)&&(W=v.createSubContext(oe),W.transformIntoNewTimeline(),null!=oe.delay)){6==W.previousNode.type&&(W.currentTimeline.snapshotCurrentStyles(),W.previousNode=Ti);const ue=ye(oe.delay);W.delayNextStep(ue)}b.steps.length&&(b.steps.forEach(ue=>Hn(this,ue,W)),W.currentTimeline.applyStylesToKeyframe(),W.subContextCount>R&&W.transformIntoNewTimeline()),v.previousNode=b}visitGroup(b,v){const R=[];let W=v.currentTimeline.currentTime;const oe=b.options&&b.options.delay?ye(b.options.delay):0;b.steps.forEach(ue=>{const ge=v.createSubContext(b.options);oe&&ge.delayNextStep(oe),Hn(this,ue,ge),W=Math.max(W,ge.currentTimeline.currentTime),R.push(ge.currentTimeline)}),R.forEach(ue=>v.currentTimeline.mergeTimelineCollectedStyles(ue)),v.transformIntoNewTimeline(W),v.previousNode=b}_visitTiming(b,v){if(b.dynamic){const R=b.strValue;return mt(v.params?Ts(R,v.params,v.errors):R,v.errors)}return{duration:b.duration,delay:b.delay,easing:b.easing}}visitAnimate(b,v){const R=v.currentAnimateTimings=this._visitTiming(b.timings,v),W=v.currentTimeline;R.delay&&(v.incrementTime(R.delay),W.snapshotCurrentStyles());const oe=b.style;5==oe.type?this.visitKeyframes(oe,v):(v.incrementTime(R.duration),this.visitStyle(oe,v),W.applyStylesToKeyframe()),v.currentAnimateTimings=null,v.previousNode=b}visitStyle(b,v){const R=v.currentTimeline,W=v.currentAnimateTimings;!W&&R.getCurrentStyleProperties().length&&R.forwardFrame();const oe=W&&W.easing||b.easing;b.isEmptyStep?R.applyEmptyStep(oe):R.setStyles(b.styles,oe,v.errors,v.options),v.previousNode=b}visitKeyframes(b,v){const R=v.currentAnimateTimings,W=v.currentTimeline.duration,oe=R.duration,ge=v.createSubContext().currentTimeline;ge.easing=R.easing,b.styles.forEach(nt=>{ge.forwardTime((nt.offset||0)*oe),ge.setStyles(nt.styles,nt.easing,v.errors,v.options),ge.applyStylesToKeyframe()}),v.currentTimeline.mergeTimelineCollectedStyles(ge),v.transformIntoNewTimeline(W+oe),v.previousNode=b}visitQuery(b,v){const R=v.currentTimeline.currentTime,W=b.options||{},oe=W.delay?ye(W.delay):0;oe&&(6===v.previousNode.type||0==R&&v.currentTimeline.getCurrentStyleProperties().length)&&(v.currentTimeline.snapshotCurrentStyles(),v.previousNode=Ti);let ue=R;const ge=v.invokeQuery(b.selector,b.originalSelector,b.limit,b.includeSelf,!!W.optional,v.errors);v.currentQueryTotal=ge.length;let nt=null;ge.forEach((Ue,T)=>{v.currentQueryIndex=T;const C=v.createSubContext(b.options,Ue);oe&&C.delayNextStep(oe),Ue===v.element&&(nt=C.currentTimeline),Hn(this,b.animation,C),C.currentTimeline.applyStylesToKeyframe(),ue=Math.max(ue,C.currentTimeline.currentTime)}),v.currentQueryIndex=0,v.currentQueryTotal=0,v.transformIntoNewTimeline(ue),nt&&(v.currentTimeline.mergeTimelineCollectedStyles(nt),v.currentTimeline.snapshotCurrentStyles()),v.previousNode=b}visitStagger(b,v){const R=v.parentContext,W=v.currentTimeline,oe=b.timings,ue=Math.abs(oe.duration),ge=ue*(v.currentQueryTotal-1);let nt=ue*v.currentQueryIndex;switch(oe.duration<0?"reverse":oe.easing){case"reverse":nt=ge-nt;break;case"full":nt=R.currentStaggerTime}const T=v.currentTimeline;nt&&T.delayNextStep(nt);const C=T.currentTime;Hn(this,b.animation,v),v.previousNode=b,R.currentStaggerTime=W.currentTime-C+(W.startTime-R.currentTimeline.startTime)}}const Ti={};class Tr{constructor(b,v,R,W,oe,ue,ge,nt){this._driver=b,this.element=v,this.subInstructions=R,this._enterClassName=W,this._leaveClassName=oe,this.errors=ue,this.timelines=ge,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ti,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=nt||new Ji(this._driver,v,0),ge.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(b,v){if(!b)return;const R=b;let W=this.options;null!=R.duration&&(W.duration=ye(R.duration)),null!=R.delay&&(W.delay=ye(R.delay));const oe=R.params;if(oe){let ue=W.params;ue||(ue=this.options.params={}),Object.keys(oe).forEach(ge=>{(!v||!ue.hasOwnProperty(ge))&&(ue[ge]=Ts(oe[ge],ue,this.errors))})}}_copyOptions(){const b={};if(this.options){const v=this.options.params;if(v){const R=b.params={};Object.keys(v).forEach(W=>{R[W]=v[W]})}}return b}createSubContext(b=null,v,R){const W=v||this.element,oe=new Tr(this._driver,W,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(W,R||0));return oe.previousNode=this.previousNode,oe.currentAnimateTimings=this.currentAnimateTimings,oe.options=this._copyOptions(),oe.updateOptions(b),oe.currentQueryIndex=this.currentQueryIndex,oe.currentQueryTotal=this.currentQueryTotal,oe.parentContext=this,this.subContextCount++,oe}transformIntoNewTimeline(b){return this.previousNode=Ti,this.currentTimeline=this.currentTimeline.fork(this.element,b),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(b,v,R){const W={duration:null!=v?v:b.duration,delay:this.currentTimeline.currentTime+(null!=R?R:0)+b.delay,easing:""},oe=new Rr(this._driver,b.element,b.keyframes,b.preStyleProps,b.postStyleProps,W,b.stretchStartingKeyframe);return this.timelines.push(oe),W}incrementTime(b){this.currentTimeline.forwardTime(this.currentTimeline.duration+b)}delayNextStep(b){b>0&&this.currentTimeline.delayNextStep(b)}invokeQuery(b,v,R,W,oe,ue){let ge=[];if(W&&ge.push(this.element),b.length>0){b=(b=b.replace(Fi,"."+this._enterClassName)).replace(go,"."+this._leaveClassName);let Ue=this._driver.query(this.element,b,1!=R);0!==R&&(Ue=R<0?Ue.slice(Ue.length+R,Ue.length):Ue.slice(0,R)),ge.push(...Ue)}return!oe&&0==ge.length&&ue.push(`\`query("${v}")\` returned zero elements. (Use \`query("${v}", { optional: true })\` if you wish to allow this.)`),ge}}class Ji{constructor(b,v,R,W){this._driver=b,this.element=v,this.startTime=R,this._elementTimelineStylesLookup=W,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(v),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(v,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(b){const v=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||v?(this.forwardTime(this.currentTime+b),v&&this.snapshotCurrentStyles()):this.startTime+=b}fork(b,v){return this.applyStylesToKeyframe(),new Ji(this._driver,b,v||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(b){this.applyStylesToKeyframe(),this.duration=b,this._loadKeyframe()}_updateStyle(b,v){this._localTimelineStyles[b]=v,this._globalTimelineStyles[b]=v,this._styleSummary[b]={time:this.currentTime,value:v}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(b){b&&(this._previousKeyframe.easing=b),Object.keys(this._globalTimelineStyles).forEach(v=>{this._backFill[v]=this._globalTimelineStyles[v]||we.l3,this._currentKeyframe[v]=we.l3}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(b,v,R,W){v&&(this._previousKeyframe.easing=v);const oe=W&&W.params||{},ue=function(F,b){const v={};let R;return F.forEach(W=>{"*"===W?(R=R||Object.keys(b),R.forEach(oe=>{v[oe]=we.l3})):In(W,!1,v)}),v}(b,this._globalTimelineStyles);Object.keys(ue).forEach(ge=>{const nt=Ts(ue[ge],oe,R);this._pendingStyles[ge]=nt,this._localTimelineStyles.hasOwnProperty(ge)||(this._backFill[ge]=this._globalTimelineStyles.hasOwnProperty(ge)?this._globalTimelineStyles[ge]:we.l3),this._updateStyle(ge,nt)})}applyStylesToKeyframe(){const b=this._pendingStyles,v=Object.keys(b);0!=v.length&&(this._pendingStyles={},v.forEach(R=>{this._currentKeyframe[R]=b[R]}),Object.keys(this._localTimelineStyles).forEach(R=>{this._currentKeyframe.hasOwnProperty(R)||(this._currentKeyframe[R]=this._localTimelineStyles[R])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(b=>{const v=this._localTimelineStyles[b];this._pendingStyles[b]=v,this._updateStyle(b,v)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const b=[];for(let v in this._currentKeyframe)b.push(v);return b}mergeTimelineCollectedStyles(b){Object.keys(b._styleSummary).forEach(v=>{const R=this._styleSummary[v],W=b._styleSummary[v];(!R||W.time>R.time)&&this._updateStyle(v,W.value)})}buildKeyframes(){this.applyStylesToKeyframe();const b=new Set,v=new Set,R=1===this._keyframes.size&&0===this.duration;let W=[];this._keyframes.forEach((ge,nt)=>{const Ue=In(ge,!0);Object.keys(Ue).forEach(T=>{const C=Ue[T];C==we.k1?b.add(T):C==we.l3&&v.add(T)}),R||(Ue.offset=nt/this.duration),W.push(Ue)});const oe=b.size?ui(b.values()):[],ue=v.size?ui(v.values()):[];if(R){const ge=W[0],nt=En(ge);ge.offset=0,nt.offset=1,W=[ge,nt]}return ps(this.element,W,oe,ue,this.duration,this.startTime,this.easing,!1)}}class Rr extends Ji{constructor(b,v,R,W,oe,ue,ge=!1){super(b,v,ue.delay),this.keyframes=R,this.preStyleProps=W,this.postStyleProps=oe,this._stretchStartingKeyframe=ge,this.timings={duration:ue.duration,delay:ue.delay,easing:ue.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let b=this.keyframes,{delay:v,duration:R,easing:W}=this.timings;if(this._stretchStartingKeyframe&&v){const oe=[],ue=R+v,ge=v/ue,nt=In(b[0],!1);nt.offset=0,oe.push(nt);const Ue=In(b[0],!1);Ue.offset=Zi(ge),oe.push(Ue);const T=b.length-1;for(let C=1;C<=T;C++){let A=In(b[C],!1);A.offset=Zi((v+A.offset*R)/ue),oe.push(A)}R=ue,v=0,W="",b=oe}return ps(this.element,b,this.preStyleProps,this.postStyleProps,R,v,W,!0)}}function Zi(F,b=3){const v=Math.pow(10,b-1);return Math.round(F*v)/v}class Ns{}class Os extends Ns{normalizePropertyName(b,v){return hi(b)}normalizeStyleValue(b,v,R,W){let oe="";const ue=R.toString().trim();if(ee[v]&&0!==R&&"0"!==R)if("number"==typeof R)oe="px";else{const ge=R.match(/^[+-]?[\d\.]+([a-z]*)$/);ge&&0==ge[1].length&&W.push(`Please provide a CSS unit value for ${b}:${R}`)}return ue+oe}}const ee=(()=>function(F){const b={};return F.forEach(v=>b[v]=!0),b}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function re(F,b,v,R,W,oe,ue,ge,nt,Ue,T,C,A){return{type:0,element:F,triggerName:b,isRemovalTransition:W,fromState:v,fromStyles:oe,toState:R,toStyles:ue,timelines:ge,queriedElements:nt,preStyleProps:Ue,postStyleProps:T,totalTime:C,errors:A}}const be={};class it{constructor(b,v,R){this._triggerName=b,this.ast=v,this._stateStyles=R}match(b,v,R,W){return function(F,b,v,R,W){return F.some(oe=>oe(b,v,R,W))}(this.ast.matchers,b,v,R,W)}buildStyles(b,v,R){const W=this._stateStyles["*"],oe=this._stateStyles[b],ue=W?W.buildStyles(v,R):{};return oe?oe.buildStyles(v,R):ue}build(b,v,R,W,oe,ue,ge,nt,Ue,T){const C=[],A=this.ast.options&&this.ast.options.params||be,$=this.buildStyles(R,ge&&ge.params||be,C),Q=nt&&nt.params||be,fe=this.buildStyles(W,Q,C),Ie=new Set,dt=new Map,Nt=new Map,Mn="void"===W,dn={params:Object.assign(Object.assign({},A),Q)},zt=T?[]:Qi(b,v,this.ast.animation,oe,ue,$,fe,dn,Ue,C);let yn=0;if(zt.forEach(fr=>{yn=Math.max(fr.duration+fr.delay,yn)}),C.length)return re(v,this._triggerName,R,W,Mn,$,fe,[],[],dt,Nt,yn,C);zt.forEach(fr=>{const sn=fr.element,Io=Zn(dt,sn,{});fr.preStyleProps.forEach(qi=>Io[qi]=!0);const Ri=Zn(Nt,sn,{});fr.postStyleProps.forEach(qi=>Ri[qi]=!0),sn!==v&&Ie.add(sn)});const si=ui(Ie.values());return re(v,this._triggerName,R,W,Mn,$,fe,zt,si,dt,Nt,yn)}}class V{constructor(b,v,R){this.styles=b,this.defaultParams=v,this.normalizer=R}buildStyles(b,v){const R={},W=En(this.defaultParams);return Object.keys(b).forEach(oe=>{const ue=b[oe];null!=ue&&(W[oe]=ue)}),this.styles.styles.forEach(oe=>{if("string"!=typeof oe){const ue=oe;Object.keys(ue).forEach(ge=>{let nt=ue[ge];nt.length>1&&(nt=Ts(nt,W,v));const Ue=this.normalizer.normalizePropertyName(ge,v);nt=this.normalizer.normalizeStyleValue(ge,Ue,nt,v),R[Ue]=nt})}}),R}}class M{constructor(b,v,R){this.name=b,this.ast=v,this._normalizer=R,this.transitionFactories=[],this.states={},v.states.forEach(W=>{this.states[W.name]=new V(W.style,W.options&&W.options.params||{},R)}),Ke(this.states,"true","1"),Ke(this.states,"false","0"),v.transitions.forEach(W=>{this.transitionFactories.push(new it(b,W,this.states))}),this.fallbackTransition=function(F,b,v){return new it(F,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ue,ge)=>!0],options:null,queryCount:0,depCount:0},b)}(b,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(b,v,R,W){return this.transitionFactories.find(ue=>ue.match(b,v,R,W))||null}matchStyles(b,v,R){return this.fallbackTransition.buildStyles(b,v,R)}}function Ke(F,b,v){F.hasOwnProperty(b)?F.hasOwnProperty(v)||(F[v]=F[b]):F.hasOwnProperty(v)&&(F[b]=F[v])}const Ot=new Ii;class Cn{constructor(b,v,R){this.bodyNode=b,this._driver=v,this._normalizer=R,this._animations={},this._playersById={},this.players=[]}register(b,v){const R=[],W=Yi(this._driver,v,R);if(R.length)throw new Error(`Unable to build the animation due to the following errors: ${R.join("\n")}`);this._animations[b]=W}_buildPlayer(b,v,R){const W=b.element,oe=Xe(0,this._normalizer,0,b.keyframes,v,R);return this._driver.animate(W,oe,b.duration,b.delay,b.easing,[],!0)}create(b,v,R={}){const W=[],oe=this._animations[b];let ue;const ge=new Map;if(oe?(ue=Qi(this._driver,v,oe,tr,Fr,{},{},R,Ot,W),ue.forEach(T=>{const C=Zn(ge,T.element,{});T.postStyleProps.forEach(A=>C[A]=null)})):(W.push("The requested animation doesn't exist or has already been destroyed"),ue=[]),W.length)throw new Error(`Unable to create the animation due to the following errors: ${W.join("\n")}`);ge.forEach((T,C)=>{Object.keys(T).forEach(A=>{T[A]=this._driver.computeStyle(C,A,we.l3)})});const Ue=gt(ue.map(T=>{const C=ge.get(T.element);return this._buildPlayer(T,{},C)}));return this._playersById[b]=Ue,Ue.onDestroy(()=>this.destroy(b)),this.players.push(Ue),Ue}destroy(b){const v=this._getPlayer(b);v.destroy(),delete this._playersById[b];const R=this.players.indexOf(v);R>=0&&this.players.splice(R,1)}_getPlayer(b){const v=this._playersById[b];if(!v)throw new Error(`Unable to find the timeline player referenced by ${b}`);return v}listen(b,v,R,W){const oe=Ln(v,"","","");return Lt(this._getPlayer(b),R,oe,W),()=>{}}command(b,v,R,W){if("register"==R)return void this.register(b,W[0]);if("create"==R)return void this.create(b,v,W[0]||{});const oe=this._getPlayer(b);switch(R){case"play":oe.play();break;case"pause":oe.pause();break;case"reset":oe.reset();break;case"restart":oe.restart();break;case"finish":oe.finish();break;case"init":oe.init();break;case"setPosition":oe.setPosition(parseFloat(W[0]));break;case"destroy":this.destroy(b)}}}const Jn="ng-animate-queued",Mr="ng-animate-disabled",ri=".ng-animate-disabled",ao=[],Ys={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qs={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ys="__ng_removed";class _s{constructor(b,v=""){this.namespaceId=v;const R=b&&b.hasOwnProperty("value");if(this.value=null!=(F=R?b.value:b)?F:null,R){const oe=En(b);delete oe.value,this.options=oe}else this.options={};var F;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(b){const v=b.params;if(v){const R=this.options.params;Object.keys(v).forEach(W=>{null==R[W]&&(R[W]=v[W])})}}}const mo="void",vs=new _s(mo);class Tt{constructor(b,v,R){this.id=b,this.hostElement=v,this._engine=R,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+b,Di(v,this._hostClassName)}listen(b,v,R,W){if(!this._triggers.hasOwnProperty(v))throw new Error(`Unable to listen on the animation trigger event "${R}" because the animation trigger "${v}" doesn't exist!`);if(null==R||0==R.length)throw new Error(`Unable to listen on the animation trigger "${v}" because the provided event is undefined!`);if("start"!=(F=R)&&"done"!=F)throw new Error(`The provided animation trigger event "${R}" for the animation trigger "${v}" is not supported!`);var F;const oe=Zn(this._elementListeners,b,[]),ue={name:v,phase:R,callback:W};oe.push(ue);const ge=Zn(this._engine.statesByElement,b,{});return ge.hasOwnProperty(v)||(Di(b,Er),Di(b,Er+"-"+v),ge[v]=vs),()=>{this._engine.afterFlush(()=>{const nt=oe.indexOf(ue);nt>=0&&oe.splice(nt,1),this._triggers[v]||delete ge[v]})}}register(b,v){return!this._triggers[b]&&(this._triggers[b]=v,!0)}_getTrigger(b){const v=this._triggers[b];if(!v)throw new Error(`The provided animation trigger "${b}" has not been registered!`);return v}trigger(b,v,R,W=!0){const oe=this._getTrigger(v),ue=new lo(this.id,v,b);let ge=this._engine.statesByElement.get(b);ge||(Di(b,Er),Di(b,Er+"-"+v),this._engine.statesByElement.set(b,ge={}));let nt=ge[v];const Ue=new _s(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&nt&&Ue.absorbOptions(nt.options),ge[v]=Ue,nt||(nt=vs),Ue.value!==mo&&nt.value===Ue.value){if(!function(F,b){const v=Object.keys(F),R=Object.keys(b);if(v.length!=R.length)return!1;for(let W=0;W<v.length;W++){const oe=v[W];if(!b.hasOwnProperty(oe)||F[oe]!==b[oe])return!1}return!0}(nt.params,Ue.params)){const Q=[],fe=oe.matchStyles(nt.value,nt.params,Q),Ie=oe.matchStyles(Ue.value,Ue.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{Ar(b,fe),Ur(b,Ie)})}return}const A=Zn(this._engine.playersByElement,b,[]);A.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==v&&Q.queued&&Q.destroy()});let P=oe.matchTransition(nt.value,Ue.value,b,Ue.params),$=!1;if(!P){if(!W)return;P=oe.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:v,transition:P,fromState:nt,toState:Ue,player:ue,isFallbackTransition:$}),$||(Di(b,Jn),ue.onStart(()=>{qr(b,Jn)})),ue.onDone(()=>{let Q=this.players.indexOf(ue);Q>=0&&this.players.splice(Q,1);const fe=this._engine.playersByElement.get(b);if(fe){let Ie=fe.indexOf(ue);Ie>=0&&fe.splice(Ie,1)}}),this.players.push(ue),A.push(ue),ue}deregister(b){delete this._triggers[b],this._engine.statesByElement.forEach((v,R)=>{delete v[b]}),this._elementListeners.forEach((v,R)=>{this._elementListeners.set(R,v.filter(W=>W.name!=b))})}clearElementCache(b){this._engine.statesByElement.delete(b),this._elementListeners.delete(b);const v=this._engine.playersByElement.get(b);v&&(v.forEach(R=>R.destroy()),this._engine.playersByElement.delete(b))}_signalRemovalForInnerTriggers(b,v){const R=this._engine.driver.query(b,ln,!0);R.forEach(W=>{if(W[ys])return;const oe=this._engine.fetchNamespacesByElement(W);oe.size?oe.forEach(ue=>ue.triggerLeaveAnimation(W,v,!1,!0)):this.clearElementCache(W)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(W=>this.clearElementCache(W)))}triggerLeaveAnimation(b,v,R,W){const oe=this._engine.statesByElement.get(b);if(oe){const ue=[];if(Object.keys(oe).forEach(ge=>{if(this._triggers[ge]){const nt=this.trigger(b,ge,mo,W);nt&&ue.push(nt)}}),ue.length)return this._engine.markElementAsRemoved(this.id,b,!0,v),R&&gt(ue).onDone(()=>this._engine.processLeaveNode(b)),!0}return!1}prepareLeaveAnimationListeners(b){const v=this._elementListeners.get(b),R=this._engine.statesByElement.get(b);if(v&&R){const W=new Set;v.forEach(oe=>{const ue=oe.name;if(W.has(ue))return;W.add(ue);const nt=this._triggers[ue].fallbackTransition,Ue=R[ue]||vs,T=new _s(mo),C=new lo(this.id,ue,b);this._engine.totalQueuedPlayers++,this._queue.push({element:b,triggerName:ue,transition:nt,fromState:Ue,toState:T,player:C,isFallbackTransition:!0})})}}removeNode(b,v){const R=this._engine;if(b.childElementCount&&this._signalRemovalForInnerTriggers(b,v),this.triggerLeaveAnimation(b,v,!0))return;let W=!1;if(R.totalAnimations){const oe=R.players.length?R.playersByQueriedElement.get(b):[];if(oe&&oe.length)W=!0;else{let ue=b;for(;ue=ue.parentNode;)if(R.statesByElement.get(ue)){W=!0;break}}}if(this.prepareLeaveAnimationListeners(b),W)R.markElementAsRemoved(this.id,b,!1,v);else{const oe=b[ys];(!oe||oe===Ys)&&(R.afterFlush(()=>this.clearElementCache(b)),R.destroyInnerAnimations(b),R._onRemovalComplete(b,v))}}insertNode(b,v){Di(b,this._hostClassName)}drainQueuedTransitions(b){const v=[];return this._queue.forEach(R=>{const W=R.player;if(W.destroyed)return;const oe=R.element,ue=this._elementListeners.get(oe);ue&&ue.forEach(ge=>{if(ge.name==R.triggerName){const nt=Ln(oe,R.triggerName,R.fromState.value,R.toState.value);nt._data=b,Lt(R.player,ge.phase,nt,ge.callback)}}),W.markedForDestroy?this._engine.afterFlush(()=>{W.destroy()}):v.push(R)}),this._queue=[],v.sort((R,W)=>{const oe=R.transition.ast.depCount,ue=W.transition.ast.depCount;return 0==oe||0==ue?oe-ue:this._engine.driver.containsElement(R.element,W.element)?1:-1})}destroy(b){this.players.forEach(v=>v.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,b)}elementContainsData(b){let v=!1;return this._elementListeners.has(b)&&(v=!0),v=!!this._queue.find(R=>R.element===b)||v,v}}class nr{constructor(b,v,R){this.bodyNode=b,this.driver=v,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(W,oe)=>{}}_onRemovalComplete(b,v){this.onRemovalComplete(b,v)}get queuedPlayers(){const b=[];return this._namespaceList.forEach(v=>{v.players.forEach(R=>{R.queued&&b.push(R)})}),b}createNamespace(b,v){const R=new Tt(b,v,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,v)?this._balanceNamespaceList(R,v):(this.newHostElements.set(v,R),this.collectEnterElement(v)),this._namespaceLookup[b]=R}_balanceNamespaceList(b,v){const R=this._namespaceList.length-1;if(R>=0){let W=!1;for(let oe=R;oe>=0;oe--)if(this.driver.containsElement(this._namespaceList[oe].hostElement,v)){this._namespaceList.splice(oe+1,0,b),W=!0;break}W||this._namespaceList.splice(0,0,b)}else this._namespaceList.push(b);return this.namespacesByHostElement.set(v,b),b}register(b,v){let R=this._namespaceLookup[b];return R||(R=this.createNamespace(b,v)),R}registerTrigger(b,v,R){let W=this._namespaceLookup[b];W&&W.register(v,R)&&this.totalAnimations++}destroy(b,v){if(!b)return;const R=this._fetchNamespace(b);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[b];const W=this._namespaceList.indexOf(R);W>=0&&this._namespaceList.splice(W,1)}),this.afterFlushAnimationsDone(()=>R.destroy(v))}_fetchNamespace(b){return this._namespaceLookup[b]}fetchNamespacesByElement(b){const v=new Set,R=this.statesByElement.get(b);if(R){const W=Object.keys(R);for(let oe=0;oe<W.length;oe++){const ue=R[W[oe]].namespaceId;if(ue){const ge=this._fetchNamespace(ue);ge&&v.add(ge)}}}return v}trigger(b,v,R,W){if(Xi(v)){const oe=this._fetchNamespace(b);if(oe)return oe.trigger(v,R,W),!0}return!1}insertNode(b,v,R,W){if(!Xi(v))return;const oe=v[ys];if(oe&&oe.setForRemoval){oe.setForRemoval=!1,oe.setForMove=!0;const ue=this.collectedLeaveElements.indexOf(v);ue>=0&&this.collectedLeaveElements.splice(ue,1)}if(b){const ue=this._fetchNamespace(b);ue&&ue.insertNode(v,R)}W&&this.collectEnterElement(v)}collectEnterElement(b){this.collectedEnterElements.push(b)}markElementAsDisabled(b,v){v?this.disabledNodes.has(b)||(this.disabledNodes.add(b),Di(b,Mr)):this.disabledNodes.has(b)&&(this.disabledNodes.delete(b),qr(b,Mr))}removeNode(b,v,R,W){if(Xi(v)){const oe=b?this._fetchNamespace(b):null;if(oe?oe.removeNode(v,W):this.markElementAsRemoved(b,v,!1,W),R){const ue=this.namespacesByHostElement.get(v);ue&&ue.id!==b&&ue.removeNode(v,W)}}else this._onRemovalComplete(v,W)}markElementAsRemoved(b,v,R,W){this.collectedLeaveElements.push(v),v[ys]={namespaceId:b,setForRemoval:W,hasAnimation:R,removedBeforeQueried:!1}}listen(b,v,R,W,oe){return Xi(v)?this._fetchNamespace(b).listen(v,R,W,oe):()=>{}}_buildInstruction(b,v,R,W,oe){return b.transition.build(this.driver,b.element,b.fromState.value,b.toState.value,R,W,b.fromState.options,b.toState.options,v,oe)}destroyInnerAnimations(b){let v=this.driver.query(b,ln,!0);v.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(v=this.driver.query(b,ke,!0),v.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(b){const v=this.playersByElement.get(b);v&&v.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(b){const v=this.playersByQueriedElement.get(b);v&&v.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(b=>{if(this.players.length)return gt(this.players).onDone(()=>b());b()})}processLeaveNode(b){const v=b[ys];if(v&&v.setForRemoval){if(b[ys]=Ys,v.namespaceId){this.destroyInnerAnimations(b);const R=this._fetchNamespace(v.namespaceId);R&&R.clearElementCache(b)}this._onRemovalComplete(b,v.setForRemoval)}this.driver.matchesElement(b,ri)&&this.markElementAsDisabled(b,!1),this.driver.query(b,ri,!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(b=-1){let v=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,W)=>this._balanceNamespaceList(R,W)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)Di(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{v=this._flushAnimations(R,b)}finally{for(let W=0;W<R.length;W++)R[W]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],v.length?gt(v).onDone(()=>{R.forEach(W=>W())}):R.forEach(W=>W())}}reportError(b){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${b.join("\n")}`)}_flushAnimations(b,v){const R=new Ii,W=[],oe=new Map,ue=[],ge=new Map,nt=new Map,Ue=new Map,T=new Set;this.disabledNodes.forEach(qt=>{T.add(qt);const un=this.driver.query(qt,".ng-animate-queued",!0);for(let $n=0;$n<un.length;$n++)T.add(un[$n])});const C=this.bodyNode,A=Array.from(this.statesByElement.keys()),P=Ia(A,this.collectedEnterElements),$=new Map;let Q=0;P.forEach((qt,un)=>{const $n=tr+Q++;$.set(un,$n),qt.forEach(Or=>Di(Or,$n))});const fe=[],Ie=new Set,dt=new Set;for(let qt=0;qt<this.collectedLeaveElements.length;qt++){const un=this.collectedLeaveElements[qt],$n=un[ys];$n&&$n.setForRemoval&&(fe.push(un),Ie.add(un),$n.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(Or=>Ie.add(Or)):dt.add(un))}const Nt=new Map,Mn=Ia(A,Array.from(Ie));Mn.forEach((qt,un)=>{const $n=Fr+Q++;Nt.set(un,$n),qt.forEach(Or=>Di(Or,$n))}),b.push(()=>{P.forEach((qt,un)=>{const $n=$.get(un);qt.forEach(Or=>qr(Or,$n))}),Mn.forEach((qt,un)=>{const $n=Nt.get(un);qt.forEach(Or=>qr(Or,$n))}),fe.forEach(qt=>{this.processLeaveNode(qt)})});const dn=[],zt=[];for(let qt=this._namespaceList.length-1;qt>=0;qt--)this._namespaceList[qt].drainQueuedTransitions(v).forEach($n=>{const Or=$n.player,br=$n.element;if(dn.push(Or),this.collectedEnterElements.length){const To=br[ys];if(To&&To.setForMove)return void Or.destroy()}const la=!C||!this.driver.containsElement(C,br),Gi=Nt.get(br),li=$.get(br),Qr=this._buildInstruction($n,R,li,Gi,la);if(Qr.errors&&Qr.errors.length)zt.push(Qr);else{if(la)return Or.onStart(()=>Ar(br,Qr.fromStyles)),Or.onDestroy(()=>Ur(br,Qr.toStyles)),void W.push(Or);if($n.isFallbackTransition)return Or.onStart(()=>Ar(br,Qr.fromStyles)),Or.onDestroy(()=>Ur(br,Qr.toStyles)),void W.push(Or);Qr.timelines.forEach(To=>To.stretchStartingKeyframe=!0),R.append(br,Qr.timelines),ue.push({instruction:Qr,player:Or,element:br}),Qr.queriedElements.forEach(To=>Zn(ge,To,[]).push(Or)),Qr.preStyleProps.forEach((To,Lo)=>{const Gs=Object.keys(To);if(Gs.length){let ua=nt.get(Lo);ua||nt.set(Lo,ua=new Set),Gs.forEach(_i=>ua.add(_i))}}),Qr.postStyleProps.forEach((To,Lo)=>{const Gs=Object.keys(To);let ua=Ue.get(Lo);ua||Ue.set(Lo,ua=new Set),Gs.forEach(_i=>ua.add(_i))})}});if(zt.length){const qt=[];zt.forEach(un=>{qt.push(`@${un.triggerName} has failed due to:\n`),un.errors.forEach($n=>qt.push(`- ${$n}\n`))}),dn.forEach(un=>un.destroy()),this.reportError(qt)}const yn=new Map,si=new Map;ue.forEach(qt=>{const un=qt.element;R.has(un)&&(si.set(un,un),this._beforeAnimationBuild(qt.player.namespaceId,qt.instruction,yn))}),W.forEach(qt=>{const un=qt.element;this._getPreviousPlayers(un,!1,qt.namespaceId,qt.triggerName,null).forEach(Or=>{Zn(yn,un,[]).push(Or),Or.destroy()})});const fr=fe.filter(qt=>ra(qt,nt,Ue)),sn=new Map;yo(sn,this.driver,dt,Ue,we.l3).forEach(qt=>{ra(qt,nt,Ue)&&fr.push(qt)});const Ri=new Map;P.forEach((qt,un)=>{yo(Ri,this.driver,new Set(qt),nt,we.k1)}),fr.forEach(qt=>{const un=sn.get(qt),$n=Ri.get(qt);sn.set(qt,Object.assign(Object.assign({},un),$n))});const qi=[],Es=[],Gn={};ue.forEach(qt=>{const{element:un,player:$n,instruction:Or}=qt;if(R.has(un)){if(T.has(un))return $n.onDestroy(()=>Ur(un,Or.toStyles)),$n.disabled=!0,$n.overrideTotalTime(Or.totalTime),void W.push($n);let br=Gn;if(si.size>1){let Gi=un;const li=[];for(;Gi=Gi.parentNode;){const Qr=si.get(Gi);if(Qr){br=Qr;break}li.push(Gi)}li.forEach(Qr=>si.set(Qr,br))}const la=this._buildAnimation($n.namespaceId,Or,yn,oe,Ri,sn);if($n.setRealPlayer(la),br===Gn)qi.push($n);else{const Gi=this.playersByElement.get(br);Gi&&Gi.length&&($n.parentPlayer=gt(Gi)),W.push($n)}}else Ar(un,Or.fromStyles),$n.onDestroy(()=>Ur(un,Or.toStyles)),Es.push($n),T.has(un)&&W.push($n)}),Es.forEach(qt=>{const un=oe.get(qt.element);if(un&&un.length){const $n=gt(un);qt.setRealPlayer($n)}}),W.forEach(qt=>{qt.parentPlayer?qt.syncPlayerEvents(qt.parentPlayer):qt.destroy()});for(let qt=0;qt<fe.length;qt++){const un=fe[qt],$n=un[ys];if(qr(un,Fr),$n&&$n.hasAnimation)continue;let Or=[];if(ge.size){let la=ge.get(un);la&&la.length&&Or.push(...la);let Gi=this.driver.query(un,ke,!0);for(let li=0;li<Gi.length;li++){let Qr=ge.get(Gi[li]);Qr&&Qr.length&&Or.push(...Qr)}}const br=Or.filter(la=>!la.destroyed);br.length?is(this,un,br):this.processLeaveNode(un)}return fe.length=0,qi.forEach(qt=>{this.players.push(qt),qt.onDone(()=>{qt.destroy();const un=this.players.indexOf(qt);this.players.splice(un,1)}),qt.play()}),qi}elementContainsData(b,v){let R=!1;const W=v[ys];return W&&W.setForRemoval&&(R=!0),this.playersByElement.has(v)&&(R=!0),this.playersByQueriedElement.has(v)&&(R=!0),this.statesByElement.has(v)&&(R=!0),this._fetchNamespace(b).elementContainsData(v)||R}afterFlush(b){this._flushFns.push(b)}afterFlushAnimationsDone(b){this._whenQuietFns.push(b)}_getPreviousPlayers(b,v,R,W,oe){let ue=[];if(v){const ge=this.playersByQueriedElement.get(b);ge&&(ue=ge)}else{const ge=this.playersByElement.get(b);if(ge){const nt=!oe||oe==mo;ge.forEach(Ue=>{Ue.queued||!nt&&Ue.triggerName!=W||ue.push(Ue)})}}return(R||W)&&(ue=ue.filter(ge=>!(R&&R!=ge.namespaceId||W&&W!=ge.triggerName))),ue}_beforeAnimationBuild(b,v,R){const oe=v.element,ue=v.isRemovalTransition?void 0:b,ge=v.isRemovalTransition?void 0:v.triggerName;for(const nt of v.timelines){const Ue=nt.element,T=Ue!==oe,C=Zn(R,Ue,[]);this._getPreviousPlayers(Ue,T,ue,ge,v.toState).forEach(P=>{const $=P.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),P.destroy(),C.push(P)})}Ar(oe,v.fromStyles)}_buildAnimation(b,v,R,W,oe,ue){const ge=v.triggerName,nt=v.element,Ue=[],T=new Set,C=new Set,A=v.timelines.map($=>{const Q=$.element;T.add(Q);const fe=Q[ys];if(fe&&fe.removedBeforeQueried)return new we.ZN($.duration,$.delay);const Ie=Q!==nt,dt=function(F){const b=[];return Hs(F,b),b}((R.get(Q)||ao).map(yn=>yn.getRealPlayer())).filter(yn=>!!yn.element&&yn.element===Q),Nt=oe.get(Q),Mn=ue.get(Q),dn=Xe(0,this._normalizer,0,$.keyframes,Nt,Mn),zt=this._buildPlayer($,dn,dt);if($.subTimeline&&W&&C.add(Q),Ie){const yn=new lo(b,ge,Q);yn.setRealPlayer(zt),Ue.push(yn)}return zt});Ue.forEach($=>{Zn(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function(F,b,v){let R;if(F instanceof Map){if(R=F.get(b),R){if(R.length){const W=R.indexOf(v);R.splice(W,1)}0==R.length&&F.delete(b)}}else if(R=F[b],R){if(R.length){const W=R.indexOf(v);R.splice(W,1)}0==R.length&&delete F[b]}return R}(this.playersByQueriedElement,$.element,$))}),T.forEach($=>Di($,Ze));const P=gt(A);return P.onDestroy(()=>{T.forEach($=>qr($,Ze)),Ur(nt,v.toStyles)}),C.forEach($=>{Zn(W,$,[]).push(P)}),P}_buildPlayer(b,v,R){return v.length>0?this.driver.animate(b.element,v,b.duration,b.delay,b.easing,R):new we.ZN(b.duration,b.delay)}}class lo{constructor(b,v,R){this.namespaceId=b,this.triggerName=v,this.element=R,this._player=new we.ZN,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(b){this._containsRealPlayer||(this._player=b,Object.keys(this._queuedCallbacks).forEach(v=>{this._queuedCallbacks[v].forEach(R=>Lt(b,v,void 0,R))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(b.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(b){this.totalTime=b}syncPlayerEvents(b){const v=this._player;v.triggerCallback&&b.onStart(()=>v.triggerCallback("start")),b.onDone(()=>this.finish()),b.onDestroy(()=>this.destroy())}_queueEvent(b,v){Zn(this._queuedCallbacks,b,[]).push(v)}onDone(b){this.queued&&this._queueEvent("done",b),this._player.onDone(b)}onStart(b){this.queued&&this._queueEvent("start",b),this._player.onStart(b)}onDestroy(b){this.queued&&this._queueEvent("destroy",b),this._player.onDestroy(b)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(b){this.queued||this._player.setPosition(b)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(b){const v=this._player;v.triggerCallback&&v.triggerCallback(b)}}function Xi(F){return F&&1===F.nodeType}function Bs(F,b){const v=F.style.display;return F.style.display=null!=b?b:"none",v}function yo(F,b,v,R,W){const oe=[];v.forEach(nt=>oe.push(Bs(nt)));const ue=[];R.forEach((nt,Ue)=>{const T={};nt.forEach(C=>{const A=T[C]=b.computeStyle(Ue,C,W);(!A||0==A.length)&&(Ue[ys]=Qs,ue.push(Ue))}),F.set(Ue,T)});let ge=0;return v.forEach(nt=>Bs(nt,oe[ge++])),ue}function Ia(F,b){const v=new Map;if(F.forEach(ge=>v.set(ge,[])),0==b.length)return v;const W=new Set(b),oe=new Map;function ue(ge){if(!ge)return 1;let nt=oe.get(ge);if(nt)return nt;const Ue=ge.parentNode;return nt=v.has(Ue)?Ue:W.has(Ue)?1:ue(Ue),oe.set(ge,nt),nt}return b.forEach(ge=>{const nt=ue(ge);1!==nt&&v.get(nt).push(ge)}),v}const js="$$classes";function Di(F,b){if(F.classList)F.classList.add(b);else{let v=F[js];v||(v=F[js]={}),v[b]=!0}}function qr(F,b){if(F.classList)F.classList.remove(b);else{let v=F[js];v&&delete v[b]}}function is(F,b,v){gt(v).onDone(()=>F.processLeaveNode(b))}function Hs(F,b){for(let v=0;v<F.length;v++){const R=F[v];R instanceof we.ZE?Hs(R.players,b):b.push(R)}}function ra(F,b,v){const R=v.get(F);if(!R)return!1;let W=b.get(F);return W?R.forEach(oe=>W.add(oe)):b.set(F,R),v.delete(F),!0}class ss{constructor(b,v,R){this.bodyNode=b,this._driver=v,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(W,oe)=>{},this._transitionEngine=new nr(b,v,R),this._timelineEngine=new Cn(b,v,R),this._transitionEngine.onRemovalComplete=(W,oe)=>this.onRemovalComplete(W,oe)}registerTrigger(b,v,R,W,oe){const ue=b+"-"+W;let ge=this._triggerCache[ue];if(!ge){const nt=[],Ue=Yi(this._driver,oe,nt);if(nt.length)throw new Error(`The animation trigger "${W}" has failed to build due to the following errors:\n - ${nt.join("\n - ")}`);ge=function(F,b,v){return new M(F,b,v)}(W,Ue,this._normalizer),this._triggerCache[ue]=ge}this._transitionEngine.registerTrigger(v,W,ge)}register(b,v){this._transitionEngine.register(b,v)}destroy(b,v){this._transitionEngine.destroy(b,v)}onInsert(b,v,R,W){this._transitionEngine.insertNode(b,v,R,W)}onRemove(b,v,R,W){this._transitionEngine.removeNode(b,v,W||!1,R)}disableAnimations(b,v){this._transitionEngine.markElementAsDisabled(b,v)}process(b,v,R,W){if("@"==R.charAt(0)){const[oe,ue]=Un(R);this._timelineEngine.command(oe,v,ue,W)}else this._transitionEngine.trigger(b,v,R,W)}listen(b,v,R,W,oe){if("@"==R.charAt(0)){const[ue,ge]=Un(R);return this._timelineEngine.listen(ue,v,ge,oe)}return this._transitionEngine.listen(b,v,R,W,oe)}flush(b=-1){this._transitionEngine.flush(b)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function co(F,b){let v=null,R=null;return Array.isArray(b)&&b.length?(v=Nr(b[0]),b.length>1&&(R=Nr(b[b.length-1]))):b&&(v=Nr(b)),v||R?new Yo(F,v,R):null}let Yo=(()=>{class F{constructor(v,R,W){this._element=v,this._startStyles=R,this._endStyles=W,this._state=0;let oe=F.initialStylesByElement.get(v);oe||F.initialStylesByElement.set(v,oe={}),this._initialStyles=oe}start(){this._state<1&&(this._startStyles&&Ur(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ur(this._element,this._initialStyles),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(F.initialStylesByElement.delete(this._element),this._startStyles&&(Ar(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ar(this._element,this._endStyles),this._endStyles=null),Ur(this._element,this._initialStyles),this._state=3)}}return F.initialStylesByElement=new WeakMap,F})();function Nr(F){let b=null;const v=Object.keys(F);for(let R=0;R<v.length;R++){const W=v[R];q(W)&&(b=b||{},b[W]=F[W])}return b}function q(F){return"display"===F||"position"===F}const K="animation",ae="animationend";class ot{constructor(b,v,R,W,oe,ue,ge){this._element=b,this._name=v,this._duration=R,this._delay=W,this._easing=oe,this._fillMode=ue,this._onDoneFn=ge,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=nt=>this._handleCallback(nt)}apply(){(function(F,b){const v=ir(F,"").trim();let R=0;v.length&&(function(F,b){let v=0;for(let R=0;R<F.length;R++)","===F.charAt(R)&&v++;return v}(v)+1,b=`${v}, ${b}`),Cr(F,"",b)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),rr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){_t(this._element,this._name,"paused")}resume(){_t(this._element,this._name,"running")}setPosition(b){const v=fn(this._element,this._name);this._position=b*this._duration,Cr(this._element,"Delay",`-${this._position}ms`,v)}getPosition(){return this._position}_handleCallback(b){const v=b._ngTestManualTimestamp||Date.now(),R=1e3*parseFloat(b.elapsedTime.toFixed(3));b.animationName==this._name&&Math.max(v-this._startTime,0)>=this._delay&&R>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),rr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(F,b){const R=ir(F,"").split(","),W=pn(R,b);W>=0&&(R.splice(W,1),Cr(F,"",R.join(",")))}(this._element,this._name))}}function _t(F,b,v){Cr(F,"PlayState",v,fn(F,b))}function fn(F,b){const v=ir(F,"");return v.indexOf(",")>0?pn(v.split(","),b):pn([v],b)}function pn(F,b){for(let v=0;v<F.length;v++)if(F[v].indexOf(b)>=0)return v;return-1}function rr(F,b,v){v?F.removeEventListener(ae,b):F.addEventListener(ae,b)}function Cr(F,b,v,R){const W=K+b;if(null!=R){const oe=F.style[W];if(oe.length){const ue=oe.split(",");ue[R]=v,v=ue.join(",")}}F.style[W]=v}function ir(F,b){return F.style[K+b]||""}class Si{constructor(b,v,R,W,oe,ue,ge,nt){this.element=b,this.keyframes=v,this.animationName=R,this._duration=W,this._delay=oe,this._finalStyles=ge,this._specialStyles=nt,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=ue||"linear",this.totalTime=W+oe,this._buildStyler()}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(b=>b()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(b=>b()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(b){this._styler.setPosition(b)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ot(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(b){const v="start"==b?this._onStartFns:this._onDoneFns;v.forEach(R=>R()),v.length=0}beforeDestroy(){this.init();const b={};if(this.hasStarted()){const v=this._state>=3;Object.keys(this._finalStyles).forEach(R=>{"offset"!=R&&(b[R]=v?this._finalStyles[R]:cs(this.element,R))})}this.currentSnapshot=b}}class ts extends we.ZN{constructor(b,v){super(),this.element=b,this._startingStyles={},this.__initialized=!1,this._styles=qn(v)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(b=>{this._startingStyles[b]=this.element.style[b]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(b=>this.element.style.setProperty(b,this._styles[b])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(b=>{const v=this._startingStyles[b];v?this.element.style.setProperty(b,v):this.element.style.removeProperty(b)}),this._startingStyles=null,super.destroy())}}class Kr{constructor(){this._count=0}validateStyleProperty(b){return gr(b)}matchesElement(b,v){return en(b,v)}containsElement(b,v){return _r(b,v)}query(b,v,R){return Oi(b,v,R)}computeStyle(b,v,R){return window.getComputedStyle(b)[v]}buildKeyframeElement(b,v,R){R=R.map(ge=>qn(ge));let W=`@keyframes ${v} {\n`,oe="";R.forEach(ge=>{oe=" ";const nt=parseFloat(ge.offset);W+=`${oe}${100*nt}% {\n`,oe+=" ",Object.keys(ge).forEach(Ue=>{const T=ge[Ue];switch(Ue){case"offset":return;case"easing":return void(T&&(W+=`${oe}animation-timing-function: ${T};\n`));default:return void(W+=`${oe}${Ue}: ${T};\n`)}}),W+=`${oe}}\n`}),W+="}\n";const ue=document.createElement("style");return ue.textContent=W,ue}animate(b,v,R,W,oe,ue=[],ge){const nt=ue.filter(fe=>fe instanceof Si),Ue={};ti(R,W)&&nt.forEach(fe=>{let Ie=fe.currentSnapshot;Object.keys(Ie).forEach(dt=>Ue[dt]=Ie[dt])});const T=function(F){let b={};return F&&(Array.isArray(F)?F:[F]).forEach(R=>{Object.keys(R).forEach(W=>{"offset"==W||"easing"==W||(b[W]=R[W])})}),b}(v=xr(b,v,Ue));if(0==R)return new ts(b,T);const C="gen_css_kf_"+this._count++,A=this.buildKeyframeElement(b,C,v);(function(F){var b;const v=null===(b=F.getRootNode)||void 0===b?void 0:b.call(F);return"undefined"!=typeof ShadowRoot&&v instanceof ShadowRoot?v:document.head})(b).appendChild(A);const $=co(b,v),Q=new Si(b,v,C,R,W,oe,T,$);return Q.onDestroy(()=>{var F;(F=A).parentNode.removeChild(F)}),Q}}class Ao{constructor(b,v,R,W){this.element=b,this.keyframes=v,this.options=R,this._specialStyles=W,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(b=>b()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const b=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,b,this.options),this._finalKeyframe=b.length?b[b.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(b,v,R){return b.animate(v,R)}onStart(b){this._onStartFns.push(b)}onDone(b){this._onDoneFns.push(b)}onDestroy(b){this._onDestroyFns.push(b)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(b=>b()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(b=>b()),this._onDestroyFns=[])}setPosition(b){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=b*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const b={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(v=>{"offset"!=v&&(b[v]=this._finished?this._finalKeyframe[v]:cs(this.element,v))}),this.currentSnapshot=b}triggerCallback(b){const v="start"==b?this._onStartFns:this._onDoneFns;v.forEach(R=>R()),v.length=0}}class Zs{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xs().toString()),this._cssKeyframesDriver=new Kr}validateStyleProperty(b){return gr(b)}matchesElement(b,v){return en(b,v)}containsElement(b,v){return _r(b,v)}query(b,v,R){return Oi(b,v,R)}computeStyle(b,v,R){return window.getComputedStyle(b)[v]}overrideWebAnimationsSupport(b){this._isNativeImpl=b}animate(b,v,R,W,oe,ue=[],ge){if(!ge&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(b,v,R,W,oe,ue);const T={duration:R,delay:W,fill:0==W?"both":"forwards"};oe&&(T.easing=oe);const C={},A=ue.filter($=>$ instanceof Ao);ti(R,W)&&A.forEach($=>{let Q=$.currentSnapshot;Object.keys(Q).forEach(fe=>C[fe]=Q[fe])});const P=co(b,v=xr(b,v=v.map($=>In($,!1)),C));return new Ao(b,v,T,P)}}function Xs(){return Ae()&&Element.prototype.animate||{}}let qs=(()=>{class F extends we._j{constructor(v,R){super(),this._nextAnimationId=0,this._renderer=v.createRenderer(R.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(v){const R=this._nextAnimationId.toString();this._nextAnimationId++;const W=Array.isArray(v)?(0,we.vP)(v):v;return Y(this._renderer,null,R,"register",[W]),new N(R,this._renderer)}}return F.\u0275fac=function(v){return new(v||F)(f.LFG(f.FYo),f.LFG(He.K0))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),F})();class N extends we.LC{constructor(b,v){super(),this._id=b,this._renderer=v}create(b,v){return new O(this._id,b,v||{},this._renderer)}}class O{constructor(b,v,R,W){this.id=b,this.element=v,this._renderer=W,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(b,v){return this._renderer.listen(this.element,`@@${this.id}:${b}`,v)}_command(b,...v){return Y(this._renderer,this.element,this.id,b,v)}onDone(b){this._listen("done",b)}onStart(b){this._listen("start",b)}onDestroy(b){this._listen("destroy",b)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(b){this._command("setPosition",b)}getPosition(){var b,v;return null!==(v=null===(b=this._renderer.engine.players[+this.id])||void 0===b?void 0:b.getPosition())&&void 0!==v?v:0}}function Y(F,b,v,R,W){return F.setProperty(b,`@@${v}:${R}`,W)}const xt="@.disabled";let Tn=(()=>{class F{constructor(v,R,W){this.delegate=v,this.engine=R,this._zone=W,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(oe,ue)=>{ue&&ue.parentNode(oe)&&ue.removeChild(oe.parentNode,oe)}}createRenderer(v,R){const oe=this.delegate.createRenderer(v,R);if(!(v&&R&&R.data&&R.data.animation)){let T=this._rendererCache.get(oe);return T||(T=new Kn("",oe,this.engine),this._rendererCache.set(oe,T)),T}const ue=R.id,ge=R.id+"-"+this._currentId;this._currentId++,this.engine.register(ge,v);const nt=T=>{Array.isArray(T)?T.forEach(nt):this.engine.registerTrigger(ue,ge,v,T.name,T)};return R.data.animation.forEach(nt),new ns(this,ge,oe,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(v,R,W){v>=0&&v<this._microtaskId?this._zone.run(()=>R(W)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(oe=>{const[ue,ge]=oe;ue(ge)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,W]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return F.\u0275fac=function(v){return new(v||F)(f.LFG(f.FYo),f.LFG(ss),f.LFG(f.R0b))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),F})();class Kn{constructor(b,v,R){this.namespaceId=b,this.delegate=v,this.engine=R,this.destroyNode=this.delegate.destroyNode?W=>v.destroyNode(W):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(b,v){return this.delegate.createElement(b,v)}createComment(b){return this.delegate.createComment(b)}createText(b){return this.delegate.createText(b)}appendChild(b,v){this.delegate.appendChild(b,v),this.engine.onInsert(this.namespaceId,v,b,!1)}insertBefore(b,v,R,W=!0){this.delegate.insertBefore(b,v,R),this.engine.onInsert(this.namespaceId,v,b,W)}removeChild(b,v,R){this.engine.onRemove(this.namespaceId,v,this.delegate,R)}selectRootElement(b,v){return this.delegate.selectRootElement(b,v)}parentNode(b){return this.delegate.parentNode(b)}nextSibling(b){return this.delegate.nextSibling(b)}setAttribute(b,v,R,W){this.delegate.setAttribute(b,v,R,W)}removeAttribute(b,v,R){this.delegate.removeAttribute(b,v,R)}addClass(b,v){this.delegate.addClass(b,v)}removeClass(b,v){this.delegate.removeClass(b,v)}setStyle(b,v,R,W){this.delegate.setStyle(b,v,R,W)}removeStyle(b,v,R){this.delegate.removeStyle(b,v,R)}setProperty(b,v,R){"@"==v.charAt(0)&&v==xt?this.disableAnimations(b,!!R):this.delegate.setProperty(b,v,R)}setValue(b,v){this.delegate.setValue(b,v)}listen(b,v,R){return this.delegate.listen(b,v,R)}disableAnimations(b,v){this.engine.disableAnimations(b,v)}}class ns extends Kn{constructor(b,v,R,W){super(v,R,W),this.factory=b,this.namespaceId=v}setProperty(b,v,R){"@"==v.charAt(0)?"."==v.charAt(1)&&v==xt?this.disableAnimations(b,R=void 0===R||!!R):this.engine.process(this.namespaceId,b,v.substr(1),R):this.delegate.setProperty(b,v,R)}listen(b,v,R){if("@"==v.charAt(0)){const W=function(F){switch(F){case"body":return document.body;case"document":return document;case"window":return window;default:return F}}(b);let oe=v.substr(1),ue="";return"@"!=oe.charAt(0)&&([oe,ue]=function(F){const b=F.indexOf(".");return[F.substring(0,b),F.substr(b+1)]}(oe)),this.engine.listen(this.namespaceId,W,oe,ue,ge=>{this.factory.scheduleListenerCallback(ge._data||-1,R,ge)})}return this.delegate.listen(b,v,R)}}let sa=(()=>{class F extends ss{constructor(v,R,W){super(v.body,R,W)}ngOnDestroy(){this.flush()}}return F.\u0275fac=function(v){return new(v||F)(f.LFG(He.K0),f.LFG(xn),f.LFG(Ns))},F.\u0275prov=f.Yz7({token:F,factory:F.\u0275fac}),F})();const Qo=new f.OlP("AnimationModuleType"),aa=[{provide:we._j,useClass:qs},{provide:Ns,useFactory:function(){return new Os}},{provide:ss,useClass:sa},{provide:f.FYo,useFactory:function(F,b,v){return new Tn(F,b,v)},deps:[_.se,ss,f.R0b]}],ka=[{provide:xn,useFactory:function(){return"function"==typeof Xs()?new Zs:new Kr}},{provide:Qo,useValue:"BrowserAnimations"},...aa],qa=[{provide:xn,useClass:Bt},{provide:Qo,useValue:"NoopAnimations"},...aa];let cl=(()=>{class F{static withConfig(v){return{ngModule:F,providers:v.disableAnimations?qa:ka}}}return F.\u0275fac=function(v){return new(v||F)},F.\u0275mod=f.oAB({type:F}),F.\u0275inj=f.cJS({providers:ka,imports:[_.b2]}),F})();var ko=Z(2271);let Fo=(()=>{class F{}return F.\u0275fac=function(v){return new(v||F)},F.\u0275mod=f.oAB({type:F,bootstrap:[ur]}),F.\u0275inj=f.cJS({providers:[{provide:jt.sN,useClass:jt.TD}],imports:[[_.b2,Yn,De.UX,De.u5,Hr.hO.initializeApp(te_firebaseConfig),cl,Ei.Rh.forRoot({timeOut:1500,positionClass:"toast-bottom-center",preventDuplicates:!0}),jt.mZ,ko.m]]}),F})();(0,f.G48)(),_.q6().bootstrapModule(Fo).catch(F=>console.error(F))},4762:($t,et,Z)=>{"use strict";function Ve(Le,tt){var Qe={};for(var Te in Le)Object.prototype.hasOwnProperty.call(Le,Te)&&tt.indexOf(Te)<0&&(Qe[Te]=Le[Te]);if(null!=Le&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Te=Object.getOwnPropertySymbols(Le);We<Te.length;We++)tt.indexOf(Te[We])<0&&Object.prototype.propertyIsEnumerable.call(Le,Te[We])&&(Qe[Te[We]]=Le[Te[We]])}return Qe}function pe(Le,tt,Qe,Te){return new(Qe||(Qe=Promise))(function(Ce,Et){function Pt(Ft){try{Gt(Te.next(Ft))}catch(Yt){Et(Yt)}}function Wt(Ft){try{Gt(Te.throw(Ft))}catch(Yt){Et(Yt)}}function Gt(Ft){Ft.done?Ce(Ft.value):function(Ce){return Ce instanceof Qe?Ce:new Qe(function(Et){Et(Ce)})}(Ft.value).then(Pt,Wt)}Gt((Te=Te.apply(Le,tt||[])).next())})}function _e(Le,tt){var Te,We,Ce,Et,Qe={label:0,sent:function(){if(1&Ce[0])throw Ce[1];return Ce[1]},trys:[],ops:[]};return Et={next:Pt(0),throw:Pt(1),return:Pt(2)},"function"==typeof Symbol&&(Et[Symbol.iterator]=function(){return this}),Et;function Pt(Gt){return function(Ft){return function(Gt){if(Te)throw new TypeError("Generator is already executing.");for(;Qe;)try{if(Te=1,We&&(Ce=2&Gt[0]?We.return:Gt[0]?We.throw||((Ce=We.return)&&Ce.call(We),0):We.next)&&!(Ce=Ce.call(We,Gt[1])).done)return Ce;switch(We=0,Ce&&(Gt=[2&Gt[0],Ce.value]),Gt[0]){case 0:case 1:Ce=Gt;break;case 4:return Qe.label++,{value:Gt[1],done:!1};case 5:Qe.label++,We=Gt[1],Gt=[0];continue;case 7:Gt=Qe.ops.pop(),Qe.trys.pop();continue;default:if(!(Ce=(Ce=Qe.trys).length>0&&Ce[Ce.length-1])&&(6===Gt[0]||2===Gt[0])){Qe=0;continue}if(3===Gt[0]&&(!Ce||Gt[1]>Ce[0]&&Gt[1]<Ce[3])){Qe.label=Gt[1];break}if(6===Gt[0]&&Qe.label<Ce[1]){Qe.label=Ce[1],Ce=Gt;break}if(Ce&&Qe.label<Ce[2]){Qe.label=Ce[2],Qe.ops.push(Gt);break}Ce[2]&&Qe.ops.pop(),Qe.trys.pop();continue}Gt=tt.call(Le,Qe)}catch(Ft){Gt=[6,Ft],We=0}finally{Te=Ce=0}if(5&Gt[0])throw Gt[1];return{value:Gt[0]?Gt[1]:void 0,done:!0}}([Gt,Ft])}}}function he(Le){var tt="function"==typeof Symbol&&Symbol.iterator,Qe=tt&&Le[tt],Te=0;if(Qe)return Qe.call(Le);if(Le&&"number"==typeof Le.length)return{next:function(){return Le&&Te>=Le.length&&(Le=void 0),{value:Le&&Le[Te++],done:!Le}}};throw new TypeError(tt?"Object is not iterable.":"Symbol.iterator is not defined.")}function De(Le,tt){var Qe="function"==typeof Symbol&&Le[Symbol.iterator];if(!Qe)return Le;var We,Et,Te=Qe.call(Le),Ce=[];try{for(;(void 0===tt||tt-- >0)&&!(We=Te.next()).done;)Ce.push(We.value)}catch(Pt){Et={error:Pt}}finally{try{We&&!We.done&&(Qe=Te.return)&&Qe.call(Te)}finally{if(Et)throw Et.error}}return Ce}function qe(Le,tt,Qe){if(Qe||2===arguments.length)for(var Ce,Te=0,We=tt.length;Te<We;Te++)(Ce||!(Te in tt))&&(Ce||(Ce=Array.prototype.slice.call(tt,0,Te)),Ce[Te]=tt[Te]);return Le.concat(Ce||Array.prototype.slice.call(tt))}Z.d(et,{_T:()=>Ve,mG:()=>pe,Jh:()=>_e,XA:()=>he,CR:()=>De,ev:()=>qe})},8239:($t,et,Z)=>{"use strict";function _(te,Ve,Me,ve,He,pe,_e){try{var ne=te[pe](_e),de=ne.value}catch(he){return void Me(he)}ne.done?Ve(de):Promise.resolve(de).then(ve,He)}function f(te){return function(){var Ve=this,Me=arguments;return new Promise(function(ve,He){var pe=te.apply(Ve,Me);function _e(de){_(pe,ve,He,_e,ne,"next",de)}function ne(de){_(pe,ve,He,_e,ne,"throw",de)}_e(void 0)})}}Z.d(et,{Z:()=>f})}},$t=>{$t($t.s=5803)}]);